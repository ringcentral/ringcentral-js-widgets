{"version":3,"file":"RcModule.js","names":["_redux","require","_usmRedux","_excluded","_class","_descriptor","_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","_defineProperty","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","_regenerator","toStringTag","i","c","prototype","Generator","create","_regeneratorDefine2","p","y","G","v","d","bind","l","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","initializer","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","hasOwnProperty","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_applyDecoratedDescriptor","keys","forEach","reverse","reduce","_initializerWarningHelper","Error","setAutoFreeze","setPatchesToggle","process","env","DISABLE_PATCHES","enablePatches","ModuleStatus","exports","onceKey","onInitOnceKey","notReadyModulesKey","checkStatusChangeKey","enableCacheKey","enableGlobalCacheKey","storageKey","storageStateKey","globalStorageStateKey","spawnReducersKey","spawnStorageReducersKey","ignoreReadyModulesKey","RcModuleV2","_ref2","_this","_ref","undefined","deps","_ref$enableCache","enableCache","_ref$enableGlobalCach","enableGlobalCache","options","_transport","Set","_deps","_modulePath","_initialized","_suppressInit","_reducers","_getStateV2","state","subscribe","onStateChange","storage","stateKey","globalStorage","_setStatus","status","_value","_callee","_context","onInitOnce","_value2","_callee2","_context2","_shouldInit","Initializing","onInit","Ready","onInitSuccess","_shouldReset","Resetting","onReset","Pending","_ignoreModuleReadiness","dep","add","get","_this2","modules","values","filter","module","ready","has","_getLastState","_this$_deps$storage","_this3","_this$_deps$globalSto","lastState","__state","storeKey","getState","identifierKey","__identifier","data","storageReducerKey","concat","_handleState","assign","areAllReady","pending","areNotReady","_depsCheck","_this$_deps","checkedModules","pickedModules","_module$_deps","notReadyModules","item","includes","push","_changeState","callback","_this4","descriptors","descriptor","getOwnPropertyDescriptor","initialState","registerReducer","reducer","action","_usm","usmAction","type","_state","stagedState","getStagedState","set","defineProperties","_setStore","_initModule","store","_this$stateKey","_this5","_this$storeKey","serviceReducersMapObject","stateDescriptor","combineReducers","_initModule2","_callee3","_this$subscriptionsKe","_iterator","_step","_subscribe","subModule","subRcModule","_context3","parentModule","subscriptionsKey","err","addModule","modulePath","actionTypes"],"sources":["lib/RcModule/RcModule.ts"],"sourcesContent":["import type { Reducer, ReducersMapObject } from 'redux';\nimport { combineReducers } from 'redux';\n\nimport type { Action, Service, Store, Subscription } from '../usm-redux';\nimport {\n  action,\n  applyPatches,\n  computed,\n  createStore,\n  enableES5,\n  enablePatches,\n  getStagedState,\n  identifierKey,\n  setAutoFreeze,\n  setPatchesToggle,\n  state,\n  stateKey,\n  storeKey,\n  subscribe,\n  subscriptionsKey,\n  usm as usmAction,\n  watch,\n} from '../usm-redux';\n\nsetAutoFreeze(false);\n\nsetPatchesToggle(!process.env.DISABLE_PATCHES);\nif (!process.env.DISABLE_PATCHES) {\n  enablePatches();\n}\n\nexport const enum ModuleStatus {\n  Pending = 'PENDING',\n  Initializing = 'INITIALIZING',\n  Ready = 'READY',\n  Resetting = 'RESETTING',\n}\n\nexport const onceKey: unique symbol = Symbol('once');\nexport const onInitOnceKey: unique symbol = Symbol('onInitOnce');\nexport const notReadyModulesKey: unique symbol = Symbol('notReadyModules');\nexport const checkStatusChangeKey: unique symbol = Symbol('checkStatusChange');\nexport const enableCacheKey: unique symbol = Symbol('enableCache');\nexport const enableGlobalCacheKey: unique symbol = Symbol('enableGlobalCache');\nexport const storageKey: unique symbol = Symbol('storage');\nexport const storageStateKey: unique symbol = Symbol('storageState');\nexport const globalStorageStateKey: unique symbol =\n  Symbol('globalStorageState');\nexport const spawnReducersKey: unique symbol = Symbol('spawnReducers');\nexport const spawnStorageReducersKey: unique symbol = Symbol(\n  'spawnStorageReducers',\n);\nexport const ignoreReadyModulesKey: unique symbol =\n  Symbol('ignoreReadyModules');\n\nexport interface RcModuleOptions<T> {\n  deps?: T & {\n    storage?: any;\n    globalStorage?: any;\n  };\n  enableCache?: boolean;\n  enableGlobalCache?: boolean;\n  storageKey?: string;\n}\n\ninterface RcModuleV2 {\n  parentModule: RcModuleV2;\n  [storageStateKey]: string[];\n  [globalStorageStateKey]: string[];\n  [stateKey]: Record<string, any>;\n  [identifierKey]: string;\n  [subscriptionsKey]: Subscription[];\n  [storeKey]: Store;\n}\n\ninterface IStorage extends RcModuleV2 {\n  registerReducer(options: {\n    key: string;\n    reducer: Reducer<any, Action>;\n  }): void;\n  data: Record<string, any>;\n}\n\n/**\n * Module system based on Dependency Injection and Redux\n *\n * life cycle:\n * - `constructor`\n * - `onInitOnce`: when deps are ready, only run once in whole life cycle\n * - `onInit`: when module init, module status will be set to `ready` after that event.\n * - `onInitSuccess`: when onInit be passed successfully, this event will be triggered.\n * - `onReset`: when one of deps be reset, this event will be triggered.\n */\nabstract class RcModuleV2<\n  T extends Record<string, any> & {\n    storage?: IStorage;\n    globalStorage?: IStorage;\n  } = {},\n> {\n  private [onceKey] = false;\n\n  private [storageKey]?: string;\n\n  private [enableCacheKey]: boolean;\n\n  private [enableGlobalCacheKey]: boolean;\n\n  /**\n   * background/client transport for browser extension\n   */\n  protected _transport?: any; // TODO: add transport type\n  private [ignoreReadyModulesKey] = new Set<RcModuleV2>();\n\n  protected initializeProxy?(): Promise<void> | void;\n  /**\n   * `onInit` life cycle for current initialization before all deps modules are all ready.\n   */\n  protected onInit?(): Promise<void> | void;\n  /**\n   * `onInitOnce` once life cycle for current initialization before all deps modules are all ready.\n   */\n  protected onInitOnce?(): Promise<void> | void;\n  /**\n   * `onInitSuccess` life cycle for current initialization after this module is ready.\n   */\n  protected onInitSuccess?(): Promise<void> | void;\n  /**\n   * `onReset` life cycle for current reset before one of deps modules is not ready.\n   */\n  protected onReset?(): Promise<void> | void;\n  /**\n   * Each Redux dispatch action will trigger `onStateChange` once.\n   */\n  protected onStateChange?(): Promise<void> | void;\n\n  protected _deps: T;\n\n  constructor({\n    deps,\n    enableCache = false,\n    enableGlobalCache = false,\n    ...options\n  }: RcModuleOptions<T> = {}) {\n    this._deps = deps! ?? {};\n    this[storageKey] = options.storageKey;\n    this[enableCacheKey] = enableCache;\n    this[enableGlobalCacheKey] = enableGlobalCache;\n    subscribe(this, () => {\n      if (typeof this.onStateChange === 'function') {\n        this.onStateChange();\n      }\n      this[checkStatusChangeKey]();\n    });\n    if (\n      !this[storageStateKey] ||\n      !this[enableCacheKey] ||\n      !this._deps.storage\n    ) {\n      this[storageStateKey] = [];\n    }\n    this[storageStateKey].forEach((key) => delete this[stateKey][key]);\n    if (\n      !this[globalStorageStateKey] ||\n      !this[enableGlobalCacheKey] ||\n      !this._deps.globalStorage\n    ) {\n      this[globalStorageStateKey] = [];\n    }\n    this[globalStorageStateKey].forEach((key) => delete this[stateKey][key]);\n  }\n\n  @state\n  status = ModuleStatus.Pending;\n\n  @action\n  private _setStatus(status: ModuleStatus) {\n    this.status = status;\n  }\n\n  private async [onInitOnceKey]() {\n    if (!this[onceKey]) {\n      this[onceKey] = true;\n      if (typeof this.onInitOnce === 'function') {\n        await this.onInitOnce();\n      }\n    }\n  }\n\n  private async [checkStatusChangeKey]() {\n    if (this._shouldInit()) {\n      this._setStatus(ModuleStatus.Initializing);\n      await this[onInitOnceKey]();\n      if (typeof this.onInit === 'function') {\n        await this.onInit();\n      }\n      this._setStatus(ModuleStatus.Ready);\n      if (typeof this.onInitSuccess === 'function') {\n        await this.onInitSuccess();\n      }\n    } else if (this._shouldReset()) {\n      this._setStatus(ModuleStatus.Resetting);\n      if (typeof this.onReset === 'function') {\n        await this.onReset();\n      }\n      this._setStatus(ModuleStatus.Pending);\n    }\n  }\n\n  protected _ignoreModuleReadiness(dep: RcModuleV2) {\n    this[ignoreReadyModulesKey].add(dep);\n  }\n\n  private get [notReadyModulesKey](): RcModuleV2[] {\n    const modules = Object.values(this._deps || {}).filter(\n      // In order to be compatible with RcModuleV1\n      (module: RcModuleV2) => module && typeof module.ready !== 'undefined',\n    );\n    return modules.filter(\n      (module: RcModuleV2) =>\n        !module.ready && !this[ignoreReadyModulesKey].has(module),\n    );\n  }\n\n  private _getLastState() {\n    const lastState: Record<string, any> = {\n      // for combineReducers check state with reducers\n      __state: this._getStateV2(this[storeKey].getState(), this[identifierKey]),\n      __identifier: this[identifierKey],\n    };\n    if (this._deps.storage?.data) {\n      this[storageStateKey].forEach((key: string) => {\n        const storageReducerKey = `${this[storageKey]}-${key}`;\n        lastState[key] = this._deps.storage!.data[storageReducerKey];\n      });\n    }\n    if (this._deps.globalStorage?.data) {\n      this[globalStorageStateKey].forEach((key: string) => {\n        const storageReducerKey = `${this[storageKey]}-${key}`;\n        lastState[key] = this._deps.globalStorage!.data[storageReducerKey];\n      });\n    }\n    return lastState;\n  }\n\n  private _handleState(state: {\n    __state?: Record<string, any>;\n    __identifier?: string;\n    [key: string]: any;\n  }) {\n    Object.assign(state, state.__state);\n    delete state.__state;\n    delete state.__identifier;\n  }\n\n  _shouldInit() {\n    const areAllReady = this[notReadyModulesKey].length === 0;\n    return areAllReady && this.pending;\n  }\n\n  _shouldReset() {\n    const areNotReady = this[notReadyModulesKey].length > 0;\n    return areNotReady && this.ready;\n  }\n\n  _depsCheck(\n    checkedModules: RcModuleV2[] = [this],\n    pickedModules: RcModuleV2[] = [],\n  ) {\n    Object.values(this._deps ?? {}).forEach((module) => {\n      if (module instanceof RcModuleV2 && !module.ready) {\n        const notReadyModules = Object.values(module._deps ?? {}).filter(\n          (item) => item instanceof RcModuleV2 && !item.ready,\n        );\n        if (notReadyModules.length > 0 && !checkedModules.includes(module)) {\n          checkedModules.push(module);\n          module._depsCheck(checkedModules, pickedModules);\n        } else if (\n          !pickedModules.includes(module) &&\n          notReadyModules.length === 0\n        ) {\n          pickedModules.push(module);\n        }\n      }\n    });\n    // please check `_shouldInit()` or `onInit()`.\n    return pickedModules;\n  }\n\n  @action\n  _changeState(callback: () => void) {\n    callback();\n  }\n\n  get pending() {\n    return this.status === ModuleStatus.Pending;\n  }\n\n  get ready() {\n    return this.status === ModuleStatus.Ready;\n  }\n\n  get resetting() {\n    return this.status === ModuleStatus.Resetting;\n  }\n\n  get initializing() {\n    return this.status === ModuleStatus.Initializing;\n  }\n\n  get store() {\n    return this[storeKey];\n  }\n\n  private [spawnStorageReducersKey]() {\n    const descriptors: PropertyDescriptorMap = {};\n    /**\n     * make storage reducer and state\n     */\n    this[storageStateKey].forEach((key) => {\n      const descriptor = Object.getOwnPropertyDescriptor(this, key);\n      if (typeof descriptor === 'undefined') return;\n      const initialState = descriptor.value;\n      const storageReducerKey = `${this[storageKey]}-${key}`;\n      this._deps.storage!.registerReducer({\n        key: storageReducerKey,\n        reducer: (state = initialState, action: Action) =>\n          action._usm === usmAction &&\n          action.type === this[identifierKey] &&\n          Object.hasOwnProperty.call(action._state, key)\n            ? action._state[key]\n            : state,\n      });\n      Object.assign(descriptors, {\n        [key]: {\n          enumerable: true,\n          configurable: false,\n          get(this: Service) {\n            const stagedState: any = getStagedState();\n            return stagedState?.__identifier === this[identifierKey]\n              ? stagedState[key]\n              : this._deps.storage.data![storageReducerKey];\n          },\n          set(this: Service, value: unknown) {\n            const stagedState = getStagedState();\n            if (\n              stagedState &&\n              stagedState.__identifier !== this[identifierKey]\n            ) {\n              throw new Error(\n                `RcModule does not support cross-module execution of the methods decorated by action`,\n              );\n            }\n            if (stagedState) {\n              stagedState[key] = value;\n              return;\n            }\n            this._deps.storage.data![storageReducerKey] = value;\n          },\n        },\n      });\n    });\n\n    /**\n     * make global storage reducer and state\n     */\n    this[globalStorageStateKey].forEach((key) => {\n      const descriptor = Object.getOwnPropertyDescriptor(this, key);\n      if (typeof descriptor === 'undefined') return;\n      const initialState = descriptor.value;\n      const storageReducerKey = `${this[storageKey]}-${key}`;\n      this._deps.globalStorage!.registerReducer({\n        key: storageReducerKey,\n        reducer: (state = initialState, action: Action) =>\n          action._usm === usmAction &&\n          action.type === this[identifierKey] &&\n          Object.hasOwnProperty.call(action._state, key)\n            ? action._state[key]\n            : state,\n      });\n      Object.assign(descriptors, {\n        [key]: {\n          enumerable: true,\n          configurable: false,\n          get(this: Service) {\n            const stagedState = getStagedState();\n            return stagedState?.__identifier === this[identifierKey]\n              ? stagedState[key]\n              : this._deps.globalStorage.data![storageReducerKey];\n          },\n          set(this: Service, value: unknown) {\n            const stagedState = getStagedState();\n            if (\n              stagedState &&\n              stagedState.__identifier !== this[identifierKey]\n            ) {\n              throw new Error(\n                `RcModule does not support cross-module execution of the methods decorated by action`,\n              );\n            }\n            if (stagedState) {\n              stagedState[key] = value;\n              return;\n            }\n            this._deps.globalStorage.data![storageReducerKey] = value;\n          },\n        },\n      });\n    });\n\n    Object.defineProperties(this, descriptors);\n  }\n\n  // TODO: Refactor without RcModuleV1\n  // harmony with RcModule V1 for modules initialization\n\n  private _modulePath = 'root';\n\n  private _initialized = false;\n\n  private _suppressInit?: boolean;\n\n  protected _reducers?: ReducersMapObject;\n\n  protected _getStateV2 = (state: Record<string, any>, key: string) =>\n    state[key];\n\n  private _setStore() {\n    return this._initModule();\n  }\n\n  get _store() {\n    return this.store;\n  }\n\n  private [spawnReducersKey]() {\n    const descriptors: PropertyDescriptorMap = {\n      [stateKey]: {\n        enumerable: false,\n        configurable: false,\n        get(this: Service) {\n          const stagedState = getStagedState();\n          return stagedState?.__identifier === this[identifierKey]\n            ? stagedState.__state\n            : this._getStateV2(this[storeKey]?.getState(), this[identifierKey]);\n        },\n      },\n    };\n    this._reducers = Object.keys(this[stateKey] ?? {}).reduce(\n      (serviceReducersMapObject: ReducersMapObject, key) => {\n        const descriptor = Object.getOwnPropertyDescriptor(this, key);\n        if (typeof descriptor === 'undefined') return serviceReducersMapObject;\n        const initialState = descriptor.value;\n        Object.assign(descriptors, {\n          [key]: {\n            enumerable: true,\n            configurable: false,\n            get(this: Service) {\n              return this[stateKey][key];\n            },\n            set(this: Service, value: unknown) {\n              this[stateKey][key] = value;\n            },\n          },\n        });\n        return Object.assign(serviceReducersMapObject, {\n          [key]: (state = initialState, action: Action) =>\n            action._usm === usmAction &&\n            this[identifierKey] === action.type &&\n            Object.hasOwnProperty.call(action._state, key)\n              ? action._state[key]\n              : state,\n        });\n      },\n      {},\n    );\n    const stateDescriptor = Object.getOwnPropertyDescriptor(this, stateKey);\n    if (stateDescriptor && typeof stateDescriptor.get === 'function') return;\n    Object.defineProperties(this, descriptors);\n  }\n\n  get reducer(): Reducer<any, Action<any>> {\n    if (this._reducers) return combineReducers(this._reducers);\n    this[spawnStorageReducersKey]();\n    this[spawnReducersKey]();\n    if (!this._reducers) {\n      throw new Error(`Combine reducers error`);\n    }\n    return combineReducers(this._reducers!);\n  }\n\n  async _initModule() {\n    this._initialized = true;\n    if (\n      (this.parentModule && !(this.parentModule instanceof RcModuleV2)) ||\n      (!this.parentModule && !(this instanceof RcModuleV2))\n    ) {\n      for (const subscribe of this[subscriptionsKey] ?? []) {\n        subscribe();\n      }\n      this[subscriptionsKey] = [];\n    }\n    await this[checkStatusChangeKey]();\n    // eslint-disable-next-line guard-for-in\n    for (const subModule in this) {\n      const subRcModule = this[subModule] as any;\n      if (\n        subRcModule &&\n        typeof subRcModule._initModule === 'function' &&\n        !subRcModule._initialized &&\n        !subRcModule._suppressInit\n      ) {\n        subRcModule._initModule();\n      }\n    }\n  }\n\n  private get proxyReady() {\n    return this.ready;\n  }\n\n  private get modulePath() {\n    return this._modulePath;\n  }\n\n  private addModule(name: string, module: unknown) {\n    if (Object.prototype.hasOwnProperty.call(this, name)) {\n      throw new Error(`Property '${name}' already exists...`);\n    }\n    Object.defineProperty(this, name, {\n      get() {\n        return module;\n      },\n      enumerable: true,\n    });\n    if ((this as any)[name]._modulePath === 'root') {\n      (this as any)[name]._modulePath = `${this.modulePath}.${name}`;\n    }\n  }\n\n  private get state() {\n    return this[stateKey];\n  }\n\n  private actionTypes() {\n    return {};\n  }\n}\n\nexport {\n  RcModuleV2,\n  state,\n  action,\n  subscribe,\n  computed,\n  createStore,\n  watch,\n  stateKey,\n  storeKey,\n  identifierKey,\n  applyPatches,\n  usmAction,\n  enableES5,\n  setAutoFreeze,\n};\n"],"mappings":"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","ignoreList":[]}