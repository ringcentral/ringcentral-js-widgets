{"version":3,"file":"index.js","names":["_core","require","_ObjectMap","_moduleStatuses","_interopRequireDefault","_proxyStatuses","_di","_once","_required","_dec","_dec2","_class","_class2","e","__esModule","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","_classCallCheck","a","n","TypeError","_defineProperties","length","o","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_applyDecoratedDescriptor","l","keys","forEach","initializer","slice","reverse","reduce","defaultReducer","defaultGetState","store","getState","defaultGetProxyState","RcModule","Library","deps","dep","optional","required","warn","options","arguments","undefined","_getState","_getProxyState","_prefix","_prefixedActionTypes","_reducer","_proxyReducer","_modulePath","_store","_suppressInit","_initialized","_options$getState","_options$getProxyStat","getProxyState","prefix","actionTypes","_actionTypes","Error","ObjectMap","prefixValues","addModule","name","module","hasOwnProperty","concat","get","subRcModule","modulePath","setStore","_setStore","_initModule","subModule","initialize","_this","subscribe","_onStateChange","RcModuleV2","storeKey","status","moduleStatuses","ready","pending","proxyStatuses","proxyStatus","create","instance","Injector","bootstrap","_Object$definePropert","defineProperties","identifierKey","parentModule","once","getOwnPropertyDescriptor","exports"],"sources":["lib/RcModule/index.ts"],"sourcesContent":["// @ts-nocheck\nimport {\n  identifierKey,\n  RcModuleV2,\n  storeKey,\n} from '@ringcentral-integration/core';\nimport { ObjectMap } from '@ringcentral-integration/core/lib/ObjectMap';\nimport type { Store } from 'redux';\n\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport proxyStatuses from '../../enums/proxyStatuses';\nimport { Injector, Library } from '../di';\nimport once from '../once';\nimport required from '../required';\n\n/**\n * @function\n * @param {Object} state\n * @return {Object}\n * @description Default reducer if module does not has its own reducer.\n */\nfunction defaultReducer(): null {\n  return null;\n}\n\n/**\n * @function\n * @return any\n * @description Default getState function\n */\nfunction defaultGetState<S extends Record<string, any>>(this: RcModule): S {\n  return this.store.getState();\n}\n\nfunction defaultGetProxyState<S extends Record<string, any>>(): S {\n  return {} as any;\n}\n\nexport interface RcModuleOptions<S, T> {\n  prefix?: string;\n  getState?(): S;\n  getProxyState?(): S;\n  actionTypes?: T;\n  [P: string]: any;\n}\n\n/**\n * @class\n * @default\n * @description Base module class.\n */\n@Library({\n  deps: [{ dep: 'Prefix', optional: true }],\n})\nexport default abstract class RcModule<\n  S extends Record<string, any> = Record<string, any>,\n  T extends object = Record<string, string>,\n> {\n  private _getState: () => S;\n  private _getProxyState: () => S;\n  private _prefix: string;\n  private _prefixedActionTypes: any; // TODO: refactor with usm\n  public _reducer: any; // TODO: refactor with usm\n  public _proxyReducer: any; // TODO: refactor with usm\n  private _modulePath = 'root';\n  private _store?: Store;\n  public _suppressInit: boolean;\n  public _initialized: boolean;\n  /**\n   * @constructor\n   * @param {Function} options.getState\n   * @param {String} options.prefix\n   * @param {Enum} options.actionTypes\n   */\n  constructor(options: RcModuleOptions<S, T> = {}) {\n    const {\n      getState = defaultGetState,\n      getProxyState = defaultGetProxyState,\n      prefix,\n      actionTypes,\n    } = options;\n    const _actionTypes =\n      typeof actionTypes === 'undefined' ? this._actionTypes : actionTypes;\n    if (typeof getState !== 'function') {\n      throw new Error(\n        'The `getState` options property must be of type function',\n      );\n    }\n    this._getState = getState;\n    this._getProxyState = getProxyState;\n    if (prefix && typeof prefix !== 'string') {\n      throw new Error(\n        'The `prefix` options property must be null, undefined, or a string',\n      );\n    }\n    this._prefix = prefix;\n    this._prefixedActionTypes =\n      _actionTypes && ObjectMap.prefixValues(_actionTypes, prefix);\n    this._reducer = defaultReducer;\n    this._proxyReducer = defaultReducer;\n  }\n\n  get _actionTypes(): any {\n    /* should be implemented by descendant */\n    return null;\n  }\n\n  /**\n   * @property\n   * @type any\n   * @description The state of the module\n   */\n  get state() {\n    return this._getState();\n  }\n\n  get proxyState() {\n    return this._getProxyState();\n  }\n\n  /**\n   * @property\n   * @type Function\n   * @description The reducer function of the module\n   */\n  get reducer() {\n    return this._reducer;\n  }\n\n  get proxyReducer() {\n    return this._proxyReducer;\n  }\n\n  /**\n   * @property\n   * @type Object\n   * @description The store object of the module\n   */\n  get store() {\n    if (!this._store) {\n      throw new Error('module has not been initialized...');\n    }\n    return this._store;\n  }\n\n  /**\n   * @property\n   * @type String\n   * @description The prefix string of this module\n   */\n  get prefix() {\n    return this._prefix;\n  }\n\n  /**\n   * @property\n   * @type Enum\n   * @description The actionTypes used by the module\n   */\n  get actionTypes(): { [V in keyof T]: string } {\n    return this._prefixedActionTypes;\n  }\n\n  /**\n   * @property\n   * @type String\n   * @description The canonical path of the module from the root module\n   */\n  get modulePath() {\n    return this._modulePath;\n  }\n\n  /**\n   * @function addModule\n   * @param {String} name - Name of the module. Also used for the property name.\n   * @param {any} module - The module to be attached, can be any type.\n   * @description Add the desired module to the\n   */\n  addModule<T extends RcModule, K extends keyof T>(\n    this: T,\n    name: K,\n    module: RcModule,\n  ) {\n    if (Object.prototype.hasOwnProperty.call(this, name)) {\n      throw new Error(`Property '${name}' already exists...`);\n    }\n    Object.defineProperty(this, name, {\n      get() {\n        return module;\n      },\n      enumerable: true,\n    });\n    // tag submodule with a modulePath for proxying function calls\n    // do nothing if module is already tagged\n    const subRcModule: RcModule = this[name] as any;\n    if (subRcModule._modulePath === 'root') {\n      subRcModule._modulePath = `${this.modulePath}.${name}`;\n    }\n  }\n\n  /**\n   * @function\n   * @param {Object} store\n   * @description Set the store to the modules and initialize the modules.\n   *   This should only be called once.\n   */\n  setStore(store: Store) {\n    if (this._modulePath !== 'root') {\n      throw new Error('setStore should only be called on root module');\n    }\n    if (!store) {\n      throw new Error('setStore must accept a store object');\n    }\n    if (this._store) {\n      throw new Error('setStore should only be called once');\n    }\n    this._setStore(store);\n    this._initModule();\n  }\n\n  _setStore(store: Store) {\n    this._store = store;\n    for (const subModule in this) {\n      if (\n        Object.prototype.hasOwnProperty.call(this, subModule) &&\n        this[subModule] instanceof RcModule\n      ) {\n        const subRcModule: RcModule = this[subModule] as any;\n        subRcModule._setStore(store);\n      }\n    }\n  }\n\n  initialize() {\n    this.store.subscribe(() => this._onStateChange());\n  }\n\n  @once\n  @required.warn\n  _onStateChange() {\n    //\n  }\n\n  _initModule() {\n    if (!this._suppressInit) {\n      if (!this._initialized) {\n        this._initialized = true;\n        this.initialize();\n      }\n      for (const subModule in this) {\n        if (\n          Object.prototype.hasOwnProperty.call(this, subModule) &&\n          this[subModule] instanceof RcModule\n        ) {\n          const subRcModule: RcModule = this[subModule] as any;\n          subRcModule._initModule();\n        } else if (\n          Object.prototype.hasOwnProperty.call(this, subModule) &&\n          this[subModule] instanceof RcModuleV2 &&\n          !(this[subModule] as any as RcModuleV2)._initialized &&\n          !(this[subModule] as any as RcModuleV2)._suppressInit\n        ) {\n          const subRcModule: RcModuleV2 = this[subModule] as any;\n          subRcModule._initialized = true;\n          subRcModule._initModule();\n        }\n      }\n    }\n  }\n\n  static create() {\n    const instance = Injector.bootstrap(this);\n    for (const key in instance) {\n      if (instance[key] instanceof RcModuleV2) {\n        Object.defineProperties(instance[key], {\n          [identifierKey]: {\n            configurable: false,\n            enumerable: false,\n            writable: false,\n            value: key,\n          },\n          [storeKey]: {\n            configurable: false,\n            enumerable: false,\n            get() {\n              return this.parentModule._store;\n            },\n          },\n        });\n      }\n    }\n    return instance;\n  }\n\n  get [storeKey]() {\n    return this._store;\n  }\n\n  private status(): string;\n\n  get ready() {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get pending() {\n    return this.status === moduleStatuses.pending;\n  }\n\n  get proxyStatus() {\n    return proxyStatuses.ready;\n  }\n\n  get proxyReady() {\n    return this.proxyStatus === proxyStatuses.ready;\n  }\n\n  get proxyPending() {\n    return this.proxyStatus === proxyStatuses.pending;\n  }\n}\n"],"mappings":"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","ignoreList":[]}