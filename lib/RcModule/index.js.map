{"version":3,"file":"index.js","names":["_core","require","_ObjectMap","_moduleStatuses","_interopRequireDefault","_proxyStatuses","_di","_once","_required","_dec","_dec2","_class","_class2","obj","__esModule","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","_createClass","protoProps","staticProps","prototype","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","Number","_applyDecoratedDescriptor","property","decorators","context","desc","keys","forEach","initializer","slice","reverse","reduce","decorator","defaultReducer","defaultGetState","store","getState","defaultGetProxyState","RcModule","Library","deps","dep","optional","required","warn","options","arguments","_getState","_getProxyState","_prefix","_prefixedActionTypes","_reducer","_proxyReducer","_modulePath","_store","_suppressInit","_initialized","_options$getState","_options$getProxyStat","getProxyState","prefix","actionTypes","_actionTypes","Error","ObjectMap","prefixValues","addModule","name","module","hasOwnProperty","concat","get","subRcModule","modulePath","setStore","_setStore","_initModule","subModule","initialize","_this","subscribe","_onStateChange","RcModuleV2","storeKey","status","moduleStatuses","ready","pending","proxyStatuses","proxyStatus","create","Injector","bootstrap","_Object$definePropert","defineProperties","identifierKey","parentModule","once","getOwnPropertyDescriptor","exports"],"sources":["lib/RcModule/index.ts"],"sourcesContent":["// @ts-nocheck\nimport type { Store } from 'redux';\n\nimport {\n  identifierKey,\n  RcModuleV2,\n  storeKey,\n} from '@ringcentral-integration/core';\nimport { ObjectMap } from '@ringcentral-integration/core/lib/ObjectMap';\n\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport proxyStatuses from '../../enums/proxyStatuses';\nimport { Injector, Library } from '../di';\nimport once from '../once';\nimport required from '../required';\n\n/**\n * @function\n * @param {Object} state\n * @return {Object}\n * @description Default reducer if module does not has its own reducer.\n */\nfunction defaultReducer(): null {\n  return null;\n}\n\n/**\n * @function\n * @return any\n * @description Default getState function\n */\nfunction defaultGetState<S extends Record<string, any>>(this: RcModule): S {\n  return this.store.getState();\n}\n\nfunction defaultGetProxyState<S extends Record<string, any>>(): S {\n  return {} as any;\n}\n\nexport interface RcModuleOptions<S, T> {\n  prefix?: string;\n  getState?(): S;\n  getProxyState?(): S;\n  actionTypes?: T;\n  [P: string]: any;\n}\n\n/**\n * @class\n * @default\n * @description Base module class.\n */\n@Library({\n  deps: [{ dep: 'Prefix', optional: true }],\n})\nexport default abstract class RcModule<\n  S extends Record<string, any> = Record<string, any>,\n  T extends object = Record<string, string>,\n> {\n  private _getState: () => S;\n  private _getProxyState: () => S;\n  private _prefix: string;\n  private _prefixedActionTypes: any; // TODO: refactor with usm\n  public _reducer: any; // TODO: refactor with usm\n  public _proxyReducer: any; // TODO: refactor with usm\n  private _modulePath = 'root';\n  private _store?: Store;\n  public _suppressInit: boolean;\n  public _initialized: boolean;\n  /**\n   * @constructor\n   * @param {Function} options.getState\n   * @param {String} options.prefix\n   * @param {Enum} options.actionTypes\n   */\n  constructor(options: RcModuleOptions<S, T> = {}) {\n    const {\n      getState = defaultGetState,\n      getProxyState = defaultGetProxyState,\n      prefix,\n      actionTypes,\n    } = options;\n    const _actionTypes =\n      typeof actionTypes === 'undefined' ? this._actionTypes : actionTypes;\n    if (typeof getState !== 'function') {\n      throw new Error(\n        'The `getState` options property must be of type function',\n      );\n    }\n    this._getState = getState;\n    this._getProxyState = getProxyState;\n    if (prefix && typeof prefix !== 'string') {\n      throw new Error(\n        'The `prefix` options property must be null, undefined, or a string',\n      );\n    }\n    this._prefix = prefix;\n    this._prefixedActionTypes =\n      _actionTypes && ObjectMap.prefixValues(_actionTypes, prefix);\n    this._reducer = defaultReducer;\n    this._proxyReducer = defaultReducer;\n  }\n\n  get _actionTypes(): any {\n    /* should be implemented by descendant */\n    return null;\n  }\n\n  /**\n   * @property\n   * @type any\n   * @description The state of the module\n   */\n  get state() {\n    return this._getState();\n  }\n\n  get proxyState() {\n    return this._getProxyState();\n  }\n\n  /**\n   * @property\n   * @type Function\n   * @description The reducer function of the module\n   */\n  get reducer() {\n    return this._reducer;\n  }\n\n  get proxyReducer() {\n    return this._proxyReducer;\n  }\n\n  /**\n   * @property\n   * @type Object\n   * @description The store object of the module\n   */\n  get store() {\n    if (!this._store) {\n      throw new Error('module has not been initialized...');\n    }\n    return this._store;\n  }\n\n  /**\n   * @property\n   * @type String\n   * @description The prefix string of this module\n   */\n  get prefix() {\n    return this._prefix;\n  }\n\n  /**\n   * @property\n   * @type Enum\n   * @description The actionTypes used by the module\n   */\n  get actionTypes(): { [V in keyof T]: string } {\n    return this._prefixedActionTypes;\n  }\n\n  /**\n   * @property\n   * @type String\n   * @description The canonical path of the module from the root module\n   */\n  get modulePath() {\n    return this._modulePath;\n  }\n\n  /**\n   * @function addModule\n   * @param {String} name - Name of the module. Also used for the property name.\n   * @param {any} module - The module to be attached, can be any type.\n   * @description Add the desired module to the\n   */\n  addModule<T extends RcModule, K extends keyof T>(\n    this: T,\n    name: K,\n    module: RcModule,\n  ) {\n    if (Object.prototype.hasOwnProperty.call(this, name)) {\n      throw new Error(`Property '${name}' already exists...`);\n    }\n    Object.defineProperty(this, name, {\n      get() {\n        return module;\n      },\n      enumerable: true,\n    });\n    // tag submodule with a modulePath for proxying function calls\n    // do nothing if module is already tagged\n    const subRcModule: RcModule = this[name] as any;\n    if (subRcModule._modulePath === 'root') {\n      subRcModule._modulePath = `${this.modulePath}.${name}`;\n    }\n  }\n\n  /**\n   * @function\n   * @param {Object} store\n   * @description Set the store to the modules and initialize the modules.\n   *   This should only be called once.\n   */\n  setStore(store: Store) {\n    if (this._modulePath !== 'root') {\n      throw new Error('setStore should only be called on root module');\n    }\n    if (!store) {\n      throw new Error('setStore must accept a store object');\n    }\n    if (this._store) {\n      throw new Error('setStore should only be called once');\n    }\n    this._setStore(store);\n    this._initModule();\n  }\n\n  _setStore(store: Store) {\n    this._store = store;\n    for (const subModule in this) {\n      if (\n        Object.prototype.hasOwnProperty.call(this, subModule) &&\n        this[subModule] instanceof RcModule\n      ) {\n        const subRcModule: RcModule = this[subModule] as any;\n        subRcModule._setStore(store);\n      }\n    }\n  }\n\n  initialize() {\n    this.store.subscribe(() => this._onStateChange());\n  }\n\n  @once\n  @required.warn\n  _onStateChange() {\n    //\n  }\n\n  _initModule() {\n    if (!this._suppressInit) {\n      if (!this._initialized) {\n        this._initialized = true;\n        this.initialize();\n      }\n      for (const subModule in this) {\n        if (\n          Object.prototype.hasOwnProperty.call(this, subModule) &&\n          this[subModule] instanceof RcModule\n        ) {\n          const subRcModule: RcModule = this[subModule] as any;\n          subRcModule._initModule();\n        } else if (\n          Object.prototype.hasOwnProperty.call(this, subModule) &&\n          this[subModule] instanceof RcModuleV2 &&\n          !(this[subModule] as any as RcModuleV2)._initialized &&\n          !(this[subModule] as any as RcModuleV2)._suppressInit\n        ) {\n          const subRcModule: RcModuleV2 = this[subModule] as any;\n          subRcModule._initialized = true;\n          subRcModule._initModule();\n        }\n      }\n    }\n  }\n\n  static create() {\n    const instance = Injector.bootstrap(this);\n    for (const key in instance) {\n      if (instance[key] instanceof RcModuleV2) {\n        Object.defineProperties(instance[key], {\n          [identifierKey]: {\n            configurable: false,\n            enumerable: false,\n            writable: false,\n            value: key,\n          },\n          [storeKey]: {\n            configurable: false,\n            enumerable: false,\n            get() {\n              return this.parentModule._store;\n            },\n          },\n        });\n      }\n    }\n    return instance;\n  }\n\n  get [storeKey]() {\n    return this._store;\n  }\n\n  private status(): string;\n\n  get ready() {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get pending() {\n    return this.status === moduleStatuses.pending;\n  }\n\n  get proxyStatus() {\n    return proxyStatuses.ready;\n  }\n\n  get proxyReady() {\n    return this.proxyStatus === proxyStatuses.ready;\n  }\n\n  get proxyPending() {\n    return this.proxyStatus === proxyStatuses.pending;\n  }\n}\n"],"mappings":"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"}