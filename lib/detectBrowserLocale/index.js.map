{"version":3,"file":"index.js","names":["_i18n","require","detectBrowserLocale","defaultLocale","arguments","length","undefined","DEFAULT_LOCALE","browserLocale","getBrowserLocale","formatLocale","navigator","languages","language"],"sources":["lib/detectBrowserLocale/index.ts"],"sourcesContent":["import { DEFAULT_LOCALE, formatLocale } from '@ringcentral-integration/i18n';\n\n/**\n * @function\n * @description Detects the default locale from browser if applicable and fall back to\n *   the specified defaultLocale.\n * @param {String} defaultLocale - (optional) The default locale for the application,\n *   default is 'en-US'.\n * @return {String}\n */\nexport default function detectBrowserLocale(\n  defaultLocale: string = DEFAULT_LOCALE,\n): string {\n  const browserLocale = getBrowserLocale();\n  if (browserLocale) {\n    return formatLocale(browserLocale);\n  }\n\n  return defaultLocale;\n}\n\n/**\n * get the current browser locale\n */\nexport function getBrowserLocale() {\n  if (typeof navigator !== 'undefined') {\n    if (navigator.languages && navigator.languages.length) {\n      return navigator.languages[0];\n    }\n    if (navigator.language) {\n      return navigator.language;\n    }\n  }\n}\n"],"mappings":";;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASC,mBAAmBA,CAAA,EAEjC;EAAA,IADRC,aAAqB,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGG,oBAAc;EAEtC,IAAMC,aAAa,GAAGC,gBAAgB,CAAC,CAAC;EACxC,IAAID,aAAa,EAAE;IACjB,OAAO,IAAAE,kBAAY,EAACF,aAAa,CAAC;EACpC;EAEA,OAAOL,aAAa;AACtB;;AAEA;AACA;AACA;AACO,SAASM,gBAAgBA,CAAA,EAAG;EACjC,IAAI,OAAOE,SAAS,KAAK,WAAW,EAAE;IACpC,IAAIA,SAAS,CAACC,SAAS,IAAID,SAAS,CAACC,SAAS,CAACP,MAAM,EAAE;MACrD,OAAOM,SAAS,CAACC,SAAS,CAAC,CAAC,CAAC;IAC/B;IACA,IAAID,SAAS,CAACE,QAAQ,EAAE;MACtB,OAAOF,SAAS,CAACE,QAAQ;IAC3B;EACF;AACF","ignoreList":[]}