{"version":3,"file":"index.js","names":["_reselect","require","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","SELECTORS","selector","property","_ref","initializer","configurable","enumerable","get","_this","Map","has","set","proto","targetSymbol","concat","createSelector","apply"],"sources":["lib/selector/index.ts"],"sourcesContent":["import { createSelector } from 'reselect';\n\nconst SELECTORS = Symbol('selectors');\n\n/**\n * @function\n * @description Decorator function that convert a class method to a getter\n */\nexport function selector(prototype, property, { initializer }) {\n  return {\n    configurable: true,\n    enumerable: true,\n    get() {\n      if (!this[SELECTORS]) {\n        this[SELECTORS] = new Map();\n      }\n      if (!this[SELECTORS].has(prototype)) {\n        this[SELECTORS].set(prototype, new Map());\n      }\n      const proto = this[SELECTORS].get(prototype);\n      if (!proto.has(property)) {\n        const targetSymbol = Symbol(`${property}-target`);\n        this[targetSymbol] = createSelector(...initializer.call(this));\n        proto.set(property, () => this[targetSymbol]());\n      }\n      return proto.get(property)();\n    },\n  };\n}\n"],"mappings":";;;;;;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAA0C,SAAAC,mBAAAC,GAAA,WAAAC,kBAAA,CAAAD,GAAA,KAAAE,gBAAA,CAAAF,GAAA,KAAAG,2BAAA,CAAAH,GAAA,KAAAI,kBAAA;AAAA,SAAAA,mBAAA,cAAAC,SAAA;AAAA,SAAAF,4BAAAG,CAAA,EAAAC,MAAA,SAAAD,CAAA,qBAAAA,CAAA,sBAAAE,iBAAA,CAAAF,CAAA,EAAAC,MAAA,OAAAE,CAAA,GAAAC,MAAA,CAAAC,SAAA,CAAAC,QAAA,CAAAC,IAAA,CAAAP,CAAA,EAAAQ,KAAA,aAAAL,CAAA,iBAAAH,CAAA,CAAAS,WAAA,EAAAN,CAAA,GAAAH,CAAA,CAAAS,WAAA,CAAAC,IAAA,MAAAP,CAAA,cAAAA,CAAA,mBAAAQ,KAAA,CAAAC,IAAA,CAAAZ,CAAA,OAAAG,CAAA,+DAAAU,IAAA,CAAAV,CAAA,UAAAD,iBAAA,CAAAF,CAAA,EAAAC,MAAA;AAAA,SAAAL,iBAAAkB,IAAA,eAAAC,MAAA,oBAAAD,IAAA,CAAAC,MAAA,CAAAC,QAAA,aAAAF,IAAA,+BAAAH,KAAA,CAAAC,IAAA,CAAAE,IAAA;AAAA,SAAAnB,mBAAAD,GAAA,QAAAiB,KAAA,CAAAM,OAAA,CAAAvB,GAAA,UAAAQ,iBAAA,CAAAR,GAAA;AAAA,SAAAQ,kBAAAR,GAAA,EAAAwB,GAAA,QAAAA,GAAA,YAAAA,GAAA,GAAAxB,GAAA,CAAAyB,MAAA,EAAAD,GAAA,GAAAxB,GAAA,CAAAyB,MAAA,WAAAC,CAAA,MAAAC,IAAA,OAAAV,KAAA,CAAAO,GAAA,GAAAE,CAAA,GAAAF,GAAA,EAAAE,CAAA,MAAAC,IAAA,CAAAD,CAAA,IAAA1B,GAAA,CAAA0B,CAAA,YAAAC,IAAA;AAE1C,IAAMC,SAAS,GAAGP,MAAM,CAAC,WAAW,CAAC;;AAErC;AACA;AACA;AACA;AACO,SAASQ,QAAQA,CAAClB,SAAS,EAAEmB,QAAQ,EAAAC,IAAA,EAAmB;EAAA,IAAfC,WAAW,GAAAD,IAAA,CAAXC,WAAW;EACzD,OAAO;IACLC,YAAY,EAAE,IAAI;IAClBC,UAAU,EAAE,IAAI;IAChBC,GAAG,WAAAA,IAAA,EAAG;MAAA,IAAAC,KAAA;MACJ,IAAI,CAAC,IAAI,CAACR,SAAS,CAAC,EAAE;QACpB,IAAI,CAACA,SAAS,CAAC,GAAG,IAAIS,GAAG,CAAC,CAAC;MAC7B;MACA,IAAI,CAAC,IAAI,CAACT,SAAS,CAAC,CAACU,GAAG,CAAC3B,SAAS,CAAC,EAAE;QACnC,IAAI,CAACiB,SAAS,CAAC,CAACW,GAAG,CAAC5B,SAAS,EAAE,IAAI0B,GAAG,CAAC,CAAC,CAAC;MAC3C;MACA,IAAMG,KAAK,GAAG,IAAI,CAACZ,SAAS,CAAC,CAACO,GAAG,CAACxB,SAAS,CAAC;MAC5C,IAAI,CAAC6B,KAAK,CAACF,GAAG,CAACR,QAAQ,CAAC,EAAE;QACxB,IAAMW,YAAY,GAAGpB,MAAM,IAAAqB,MAAA,CAAIZ,QAAQ,YAAS,CAAC;QACjD,IAAI,CAACW,YAAY,CAAC,GAAGE,wBAAc,CAAAC,KAAA,SAAA7C,kBAAA,CAAIiC,WAAW,CAACnB,IAAI,CAAC,IAAI,CAAC,EAAC;QAC9D2B,KAAK,CAACD,GAAG,CAACT,QAAQ,EAAE;UAAA,OAAMM,KAAI,CAACK,YAAY,CAAC,CAAC,CAAC;QAAA,EAAC;MACjD;MACA,OAAOD,KAAK,CAACL,GAAG,CAACL,QAAQ,CAAC,CAAC,CAAC;IAC9B;EACF,CAAC;AACH"}