{"version":3,"file":"checkShouldHidePhoneNumber.js","names":["_ramda","require","checkShouldHidePhoneNumber","phoneNumber","contactMatches","Array","isArray","length","filteredMatches","filter","item","hidden","filteredPhoneNumbers","reduce","acc","x","numbers","phoneNumbers","concat"],"sources":["lib/checkShouldHidePhoneNumber.ts"],"sourcesContent":["import type {\n  Entity,\n  EntityPhoneNumberItem,\n} from '@ringcentral-integration/commons/interfaces/Entity.interface';\nimport { filter, reduce } from 'ramda';\n\nexport function checkShouldHidePhoneNumber(\n  phoneNumber: string,\n  contactMatches: Entity[],\n) {\n  if (\n    !phoneNumber ||\n    phoneNumber === '' ||\n    !contactMatches ||\n    !Array.isArray(contactMatches) ||\n    contactMatches.length === 0\n  ) {\n    return false;\n  }\n\n  const filteredMatches = filter((item) => !item.hidden, contactMatches);\n  if (filteredMatches.length === 0) {\n    return true;\n  }\n\n  const filteredPhoneNumbers = reduce(\n    (acc, x) => {\n      const numbers = filter((item) => !item.hidden, x.phoneNumbers || []);\n      return acc.concat(numbers);\n    },\n    [] as EntityPhoneNumberItem[],\n    filteredMatches,\n  );\n\n  return filteredPhoneNumbers.length === 0;\n}\n"],"mappings":";;;;;;;;AAIA,IAAAA,MAAA,GAAAC,OAAA;AAEO,SAASC,0BAA0BA,CACxCC,WAAmB,EACnBC,cAAwB,EACxB;EACA,IACE,CAACD,WAAW,IACZA,WAAW,KAAK,EAAE,IAClB,CAACC,cAAc,IACf,CAACC,KAAK,CAACC,OAAO,CAACF,cAAc,CAAC,IAC9BA,cAAc,CAACG,MAAM,KAAK,CAAC,EAC3B;IACA,OAAO,KAAK;EACd;EAEA,IAAMC,eAAe,GAAG,IAAAC,aAAM,EAAC,UAACC,IAAI;IAAA,OAAK,CAACA,IAAI,CAACC,MAAM;EAAA,GAAEP,cAAc,CAAC;EACtE,IAAII,eAAe,CAACD,MAAM,KAAK,CAAC,EAAE;IAChC,OAAO,IAAI;EACb;EAEA,IAAMK,oBAAoB,GAAG,IAAAC,aAAM,EACjC,UAACC,GAAG,EAAEC,CAAC,EAAK;IACV,IAAMC,OAAO,GAAG,IAAAP,aAAM,EAAC,UAACC,IAAI;MAAA,OAAK,CAACA,IAAI,CAACC,MAAM;IAAA,GAAEI,CAAC,CAACE,YAAY,IAAI,EAAE,CAAC;IACpE,OAAOH,GAAG,CAACI,MAAM,CAACF,OAAO,CAAC;EAC5B,CAAC,EACD,EAAE,EACFR,eACF,CAAC;EAED,OAAOI,oBAAoB,CAACL,MAAM,KAAK,CAAC;AAC1C","ignoreList":[]}