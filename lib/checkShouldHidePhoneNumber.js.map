{"version":3,"sources":["lib/checkShouldHidePhoneNumber.ts"],"names":["checkShouldHidePhoneNumber","phoneNumber","contactMatches","Array","isArray","length","filteredMatches","item","hidden","filteredPhoneNumbers","acc","x","numbers","phoneNumbers","concat"],"mappings":";;;;;;;;;;;;;;;AAAA;;AAIO,SAASA,0BAAT,CACLC,WADK,EAELC,cAFK,EAGL;AACA,MACE,CAACD,WAAD,IACAA,WAAW,KAAK,EADhB,IAEA,CAACC,cAFD,IAGA,CAACC,KAAK,CAACC,OAAN,CAAcF,cAAd,CAHD,IAIAA,cAAc,CAACG,MAAf,KAA0B,CAL5B,EAME;AACA,WAAO,KAAP;AACD;;AAED,MAAMC,eAAe,GAAG,mBAAO,UAACC,IAAD;AAAA,WAAU,CAACA,IAAI,CAACC,MAAhB;AAAA,GAAP,EAA+BN,cAA/B,CAAxB;;AACA,MAAII,eAAe,CAACD,MAAhB,KAA2B,CAA/B,EAAkC;AAChC,WAAO,IAAP;AACD;;AAED,MAAMI,oBAAoB,GAAG,mBAC3B,UAACC,GAAD,EAAMC,CAAN,EAAY;AACV,QAAMC,OAAO,GAAG,mBAAO,UAACL,IAAD;AAAA,aAAU,CAACA,IAAI,CAACC,MAAhB;AAAA,KAAP,EAA+BG,CAAC,CAACE,YAAjC,CAAhB;AACA,WAAOH,GAAG,CAACI,MAAJ,CAAWF,OAAX,CAAP;AACD,GAJ0B,EAK3B,EAL2B,EAM3BN,eAN2B,CAA7B;AASA,SAAOG,oBAAoB,CAACJ,MAArB,KAAgC,CAAvC;AACD","sourcesContent":["import { filter, reduce } from 'ramda';\n\nimport { Entity } from '@ringcentral-integration/commons/interfaces/Entity.interface';\n\nexport function checkShouldHidePhoneNumber(\n  phoneNumber: string,\n  contactMatches: Entity[],\n) {\n  if (\n    !phoneNumber ||\n    phoneNumber === '' ||\n    !contactMatches ||\n    !Array.isArray(contactMatches) ||\n    contactMatches.length === 0\n  ) {\n    return false;\n  }\n\n  const filteredMatches = filter((item) => !item.hidden, contactMatches);\n  if (filteredMatches.length === 0) {\n    return true;\n  }\n\n  const filteredPhoneNumbers = reduce(\n    (acc, x) => {\n      const numbers = filter((item) => !item.hidden, x.phoneNumbers);\n      return acc.concat(numbers);\n    },\n    [],\n    filteredMatches,\n  );\n\n  return filteredPhoneNumbers.length === 0;\n}\n"],"file":"checkShouldHidePhoneNumber.js"}