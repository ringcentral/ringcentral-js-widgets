{"version":3,"sources":["lib/AdapterCore/index.js"],"names":["SANDBOX_ATTRIBUTE_VALUE","join","ALLOW_ATTRIBUTE_VALUE","ON_HOLD_CALLS","RINGING_CALLS","CURRENT_CALL","ROTATE_LENGTH","ROTATE_INTERVAL","AdapterCore","prefix","styles","container","root","messageTypes","baseMessageTypes","defaultDirection","defaultPadding","_onWindowResize","_dragging","_resizeTimeout","clearTimeout","setTimeout","_renderRestrictedPosition","_resizeTick","Date","now","_onWindowMouseMove","e","buttons","_renderMainClass","factor","_calculateFactor","delta","x","clientX","_dragStartPosition","y","clientY","_minimized","_minTranslateX","minTranslateX","_minTranslateY","minTranslateY","_translateX","translateX","_translateY","translateY","_isClick","_syncPosition","_debouncedPostMessage","_postMessage","_prefix","_messageTypes","enumMap","_container","ensureExist","_root","_styles","_defaultDirection","_padding","_appWidth","_appHeight","_closed","_hover","_hoverHeader","_loading","_userStatus","_dndStatus","_telephonyStatus","_presenceOption","currentState","_scrollale","_strings","msg","type","syncClosed","_onSyncClosed","closed","syncMinimized","_onSyncMinimized","minimized","syncSize","_onSyncSize","size","syncPresence","_onPushPresence","pushAdapterState","_onPushAdapterState","pushLocale","_onPushLocale","pushRingState","_onPushRingState","pushCalls","_onPushCallsInfo","pushOnCurrentCallPath","_onPushOnCurrentCallPath","pushOnAllCallsPath","_onPushOnAllCallsPath","sanboxAttributeValue","allowAttributeValue","header","presence","NoPresence","presenceBar","button","toggle","minimizeIcon","minimizeIconBar","close","closeIcon","logo","duration","ringingCalls","onHoldCalls","currentCallBtn","viewCallsBtn","dropdownPresence","line","presenceItem","statusIcon","Available","availableBtn","Busy","busyBtn","DoNotAcceptAnyCalls","doNotAcceptAnyCallsBtn","Offline","offlineBtn","frameContainer","contentFrame","innerHTML","_getContentDOM","_headerEl","querySelector","_logoEl","addEventListener","_contentFrameContainerEl","_toggleEl","evt","stopPropagation","toggleMinimized","_closeEl","setClosed","_presenceEl","togglePresenceDropdown","_presenceItemEls","querySelectorAll","forEach","itemEl","dataPresence","getAttribute","presenceItemClicked","presenceType","presenceStatus","dndStatus","_dropdownPresence","_contentFrameEl","_durationEl","navigateToCurrentCall","_currentCallEl","_viewCallsEl","navigateToViewCalls","_ringingCallsEl","_onHoldCallsEl","window","_currentStartTime","_hoverBar","_scrollable","_renderCallsBar","_onHeaderClicked","document","readyState","body","appendChild","_beforeRender","_render","classList","showDropdown","setMinimized","data","messageTransport","postMessage","logoUrl","_logoUrl","src","setAttribute","visible","appUrl","_appUrl","contentFrameEl","renderAdapterSize","remove","maximumX","innerWidth","clientWidth","maximumY","innerHeight","clientHeight","minimumX","minimumY","width","height","style","ringing","_ringing","ringingCallsLength","onHoldCallsLength","currentStartTime","_ringingCallsLength","_onHoldCallsLength","_hasActiveCalls","renderCallsBar","onCurrentCallPath","_onCurrentCallPath","onAllCallsPath","_onAllCallsPath","userStatus","telephonyStatus","presenceOption","renderPresence","locale","strings","_locale","_renderString","_renderCallBarBtn","_renderRingingCalls","_renderOnHoldCalls","_renderPresenceItem","call","syncPosition","position","_calculateMinMaxPosition","newMinTranslateX","Math","max","min","newMinTranslateY","newTranslateX","newTranslateY","renderPosition","dragging","hover","loading","selected","startTime","round","getTime","rotateInterval","clearInterval","durationInterval","_renderCallDuration","callInfoMap","rotateCallInfo","setInterval","lastState","increment","state","newState","_renderMinimizedBar","showDuration","centerDuration","center","moveOutDuration","moveOut","moveInDuration","moveIn","showRingingCalls","centerCallInfo","moveOutRingingInfo","moveInRingingInfo","showOnHoldCalls","moveOutOnHoldInfo","moveInOnHoldInfo","showCurrentCallBtn","moveOutCurrentCallBtn","moveInCurrentCallBtn","showViewCallsBtn","moveInViewCallsBtn","moveOutViewCallsBtn","calculateState","ringCallsInfo","title","onHoldCallsInfo","removeEventListener","_messageTransport"],"mappings":"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","sourcesContent":["import classnames from 'classnames';\nimport { prefixEnum } from 'ringcentral-integration/lib/Enum';\nimport ensureExist from 'ringcentral-integration/lib/ensureExist';\nimport debounce from 'ringcentral-integration/lib/debounce';\nimport presenceStatus from 'ringcentral-integration/modules/Presence/presenceStatus';\nimport dndStatus from 'ringcentral-integration/modules/Presence/dndStatus';\nimport formatDuration from '../formatDuration';\nimport baseMessageTypes from './baseMessageTypes';\n\nconst SANDBOX_ATTRIBUTE_VALUE = [\n  'allow-same-origin',\n  'allow-scripts',\n  'allow-forms',\n  'allow-popups',\n].join(' ');\n\n// chrome 63 mandate the declaration of this attribute for getUserMedia to work in iframes\nconst ALLOW_ATTRIBUTE_VALUE = [\n  'microphone',\n  // 'camera',\n].join(' ');\n\nconst ON_HOLD_CALLS = 0;\nconst RINGING_CALLS = 1;\nconst CURRENT_CALL = 2;\n\n\nconst ROTATE_LENGTH = 3;\nconst ROTATE_INTERVAL = 5000;\n\nexport default class AdapterCore {\n  constructor({\n    prefix,\n    styles,\n    container,\n    root = container,\n    messageTypes = baseMessageTypes,\n    defaultDirection = 'left',\n    defaultPadding = 15,\n  }) {\n    this._prefix = prefix;\n    this._messageTypes = prefixEnum({ enumMap: messageTypes, prefix });\n    this._container = this:: ensureExist(container, 'container');\n    this._root = root;\n    this._styles = styles;\n    this._defaultDirection = defaultDirection;\n\n    this._padding = defaultPadding;\n    this._minTranslateX = 0;\n    this._minTranslateY = 0;\n    this._translateX = 0;\n    this._translateY = 0;\n    this._appWidth = 0;\n    this._appHeight = 0;\n    this._dragStartPosition = null;\n\n    this._closed = true;\n    this._minimized = true;\n    this._dragging = false;\n    this._hover = false;\n    this._hoverHeader = false;\n    this._loading = true;\n    this._userStatus = null;\n    this._dndStatus = null;\n    this._telephonyStatus = null;\n    this._presenceOption = null;\n\n    this.currentState = -1;\n    this._scrollale = false;\n\n    this._strings = {};\n  }\n\n  _onMessage(msg) {\n    if (msg) {\n      switch (msg.type) {\n        case this._messageTypes.syncClosed:\n          this._onSyncClosed(msg.closed);\n          break;\n        case this._messageTypes.syncMinimized:\n          this._onSyncMinimized(msg.minimized);\n          break;\n        case this._messageTypes.syncSize:\n          this._onSyncSize(msg.size);\n          break;\n        case this._messageTypes.syncPresence:\n          this._onPushPresence(msg);\n          break;\n        case this._messageTypes.pushAdapterState:\n          this._onPushAdapterState(msg);\n          break;\n        case this._messageTypes.pushLocale:\n          this._onPushLocale(msg);\n          break;\n        case this._messageTypes.pushRingState:\n          this._onPushRingState(msg);\n          break;\n        case this._messageTypes.pushCalls:\n          this._onPushCallsInfo(msg);\n          break;\n        case this._messageTypes.pushOnCurrentCallPath:\n          this._onPushOnCurrentCallPath(msg);\n          break;\n        case this._messageTypes.pushOnAllCallsPath:\n          this._onPushOnAllCallsPath(msg);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  _getContentDOM(sanboxAttributeValue, allowAttributeValue) {\n    return `\n      <header class=\"${this._styles.header}\" draggable=\"false\">\n        <div class=\"${this._styles.presence} ${this._styles.NoPresence}\">\n          <div class=\"${this._styles.presenceBar}\">\n          </div>\n        </div>\n        <div class=\"${this._styles.button} ${this._styles.toggle}\">\n          <div class=\"${this._styles.minimizeIcon}\">\n            <div class=\"${this._styles.minimizeIconBar}\"></div>\n          </div>\n        </div>\n        <div class=\"${this._styles.button} ${this._styles.close}\">\n          <div class=\"${this._styles.closeIcon}\">\n            <div></div><div></div>\n          </div>\n        </div>\n        <img class=\"${this._styles.logo}\" draggable=\"false\"></img>\n        <div class=\"${this._styles.duration}\"></div>\n        <div class=\"${this._styles.ringingCalls}\"></div>\n        <div class=\"${this._styles.onHoldCalls}\"></div>\n        <div class=\"${this._styles.currentCallBtn}\">${this._strings.currentCallBtn}</div>\n        <div class=\"${this._styles.viewCallsBtn}\">${this._strings.viewCallsBtn}</div>\n      </header>\n      <div class=\"${this._styles.dropdownPresence}\">\n        <div class=\"${this._styles.line}\">\n          <a class=\"${this._styles.presenceItem}\" data-presence=\"available\">\n            <div class=\"${this._styles.presence} ${this._styles.statusIcon} ${this._styles.Available}\">\n            </div>\n            <span>${this._strings.availableBtn}</span>\n          </a>\n          <a class=\"${this._styles.presenceItem}\" data-presence=\"busy\">\n            <div class=\"${this._styles.presence} ${this._styles.statusIcon} ${this._styles.Busy}\">\n            </div>\n            <span>${this._strings.busyBtn}</span>\n          </a>\n          <a class=\"${this._styles.presenceItem}\" data-presence=\"doNotAcceptAnyCalls\">\n            <div class=\"${this._styles.presence} ${this._styles.statusIcon} ${this._styles.DoNotAcceptAnyCalls}\">\n              <div class=\"${this._styles.presenceBar}\"></div>\n            </div>\n            <span>${this._strings.doNotAcceptAnyCallsBtn}</span>\n          </a>\n          <a class=\"${this._styles.presenceItem}\" data-presence=\"offline\">\n            <div class=\"${this._styles.presence} ${this._styles.statusIcon} ${this._styles.Offline}\">\n            </div>\n            <span>${this._strings.offlineBtn}</span>\n          </a>\n        </div>\n      </div>\n      <div class=\"${this._styles.frameContainer}\">\n        <iframe class=\"${this._styles.contentFrame}\" sandbox=\"${sanboxAttributeValue}\" allow=\"${allowAttributeValue}\" >\n        </iframe>\n      </div>`;\n  }\n\n  _generateContentDOM() {\n    this._root.innerHTML = this._getContentDOM(SANDBOX_ATTRIBUTE_VALUE, ALLOW_ATTRIBUTE_VALUE);\n    this._headerEl = this._root.querySelector(\n      `.${this._styles.header}`\n    );\n    this._logoEl = this._root.querySelector(\n      `.${this._styles.logo}`\n    );\n    this._logoEl.addEventListener('dragstart', () => false);\n\n    this._contentFrameContainerEl = this._root.querySelector(\n      `.${this._styles.frameContainer}`\n    );\n\n    // toggle button\n    this._toggleEl = this._root.querySelector(\n      `.${this._styles.toggle}`\n    );\n    this._toggleEl.addEventListener('click', (evt) => {\n      evt.stopPropagation();\n      this.toggleMinimized();\n    });\n\n    // close button\n    this._closeEl = this._root.querySelector(\n      `.${this._styles.close}`\n    );\n\n    if (this._closeEl) {\n      this._closeEl.addEventListener('click', () => {\n        this.setClosed(true);\n      });\n    }\n\n    this._presenceEl = this._root.querySelector(\n      `.${this._styles.presence}`\n    );\n\n    this._presenceEl.addEventListener('click', (evt) => {\n      evt.stopPropagation();\n      this.togglePresenceDropdown();\n    });\n\n    this._presenceItemEls = this._root.querySelectorAll(\n      `.${this._styles.presenceItem}`\n    );\n\n    this._presenceItemEls.forEach((itemEl) => {\n      const dataPresence = itemEl.getAttribute('data-presence');\n      itemEl.addEventListener('click', (evt) => {\n        evt.stopPropagation();\n        this.togglePresenceDropdown();\n        this._postMessage({\n          type: this._messageTypes.presenceItemClicked,\n          presenceType: presenceStatus[dataPresence] || dndStatus[dataPresence]\n        });\n      });\n    });\n    if (this._dropdownPresence) {\n      this._dropdownPresence.addEventListener('click', (evt) => {\n        evt.stopPropagation();\n        this.togglePresenceDropdown();\n      });\n    }\n\n    this._contentFrameEl = this._root.querySelector(\n      `.${this._styles.contentFrame}`\n    );\n\n    this._durationEl = this._root.querySelector(\n      `.${this._styles.duration}`\n    );\n\n    this._durationEl.addEventListener('click', (evt) => {\n      evt.stopPropagation();\n      this._postMessage({\n        type: this._messageTypes.navigateToCurrentCall,\n      });\n    });\n\n    this._currentCallEl = this._root.querySelector(\n      `.${this._styles.currentCallBtn}`\n    );\n    this._currentCallEl.addEventListener('click', (evt) => {\n      evt.stopPropagation();\n      this._postMessage({\n        type: this._messageTypes.navigateToCurrentCall,\n      });\n    });\n\n    this._viewCallsEl = this._root.querySelector(\n      `.${this._styles.viewCallsBtn}`\n    );\n    this._viewCallsEl.addEventListener('click', (evt) => {\n      evt.stopPropagation();\n      this._postMessage({\n        type: this._messageTypes.navigateToViewCalls,\n      });\n    });\n\n    this._ringingCallsEl = this._root.querySelector(\n      `.${this._styles.ringingCalls}`\n    );\n\n    this._onHoldCallsEl = this._root.querySelector(\n      `.${this._styles.onHoldCalls}`\n    );\n\n    this._headerEl.addEventListener('mousedown', (e) => {\n      this._dragging = true;\n      this._isClick = true;\n      this._dragStartPosition = {\n        x: e.clientX,\n        y: e.clientY,\n        translateX: this._translateX,\n        translateY: this._translateY,\n        minTranslateX: this._minTranslateX,\n        minTranslateY: this._minTranslateY,\n      };\n      this._renderMainClass();\n    });\n    this._headerEl.addEventListener('mouseup', () => {\n      this._dragging = false;\n      this._renderMainClass();\n    });\n    window.addEventListener('mousemove', this._onWindowMouseMove);\n\n    this._headerEl.addEventListener('mouseenter', () => {\n      if (!this._minimized) {\n        if (this._currentStartTime > 0) {\n          this._hoverBar = true;\n          this._scrollable = false;\n          this._renderCallsBar();\n        }\n        return;\n      }\n      this._hoverHeader = true;\n      this._renderMainClass();\n    });\n    this._headerEl.addEventListener('mouseleave', () => {\n      this._hoverHeader = false;\n      this._hoverBar = false;\n      this._scrollable = false;\n      this._renderCallsBar();\n      this._renderMainClass();\n    });\n\n    this._isClick = true;\n    this._headerEl.addEventListener('click', (evt) => {\n      if (!this._isClick) return;\n      this._onHeaderClicked(evt);\n    });\n\n    this._resizeTimeout = null;\n    this._resizeTick = null;\n    window.addEventListener('resize', this._onWindowResize);\n\n    // hover detection for ie\n    this._container.addEventListener('mouseenter', () => {\n      this._hover = true;\n      this._renderMainClass();\n    });\n    this._container.addEventListener('mouseleave', () => {\n      this._hover = false;\n      this._renderMainClass();\n    });\n    if (document.readyState === 'loading') {\n      window.addEventListener('load', () => {\n        document.body.appendChild(this._container);\n      });\n    } else {\n      document.body.appendChild(this._container);\n    }\n\n    if (typeof this._beforeRender === 'function') {\n      this._beforeRender();\n    }\n    this._render();\n  }\n\n  _onWindowResize = () => {\n    if (this._dragging) { return; }\n    if (this._resizeTimeout) { clearTimeout(this._resizeTimeout); }\n    this._resizeTimeout = setTimeout(() => this._renderRestrictedPosition(), 100);\n    if (!this._resizeTick || Date.now() - this._resizeTick > 50) {\n      this._resizeTick = Date.now();\n      this._renderRestrictedPosition();\n    }\n  }\n\n  _onWindowMouseMove = (e) => {\n    if (this._dragging) {\n      if (e.buttons === 0) {\n        this._dragging = false;\n        this._renderMainClass();\n        return;\n      }\n      const factor = this._calculateFactor();\n      const delta = {\n        x: e.clientX - this._dragStartPosition.x,\n        y: e.clientY - this._dragStartPosition.y,\n      };\n      if (this._minimized) {\n        this._minTranslateX = this._dragStartPosition.minTranslateX + delta.x * factor;\n        this._minTranslateY = this._dragStartPosition.minTranslateY + delta.y;\n      } else {\n        this._translateX = this._dragStartPosition.translateX + delta.x * factor;\n        this._translateY = this._dragStartPosition.translateY + delta.y;\n      }\n      if (delta.x !== 0 || delta.y !== 0) this._isClick = false;\n      this._syncPosition();\n      this._renderRestrictedPosition();\n    }\n  }\n\n  togglePresenceDropdown() {\n    if (this.dropdownPresence) {\n      this.dropdownPresence.classList.toggle(`${this._styles.showDropdown}`);\n      this.setMinimized(false);\n    }\n  }\n\n  get messageTransport() {\n    return this._messageTransport;\n  }\n\n  _postMessage(data) {\n    this.messageTransport.postMessage(data);\n  }\n\n  _setLogoUrl(logoUrl) {\n    this._logoUrl = logoUrl;\n    this._logoEl.src = logoUrl;\n    this._logoEl.setAttribute('class', classnames(\n      this._styles.logo,\n      this._logoUrl && this._logoUrl !== '' && this._styles.visible,\n    ));\n  }\n\n  _setAppUrl(appUrl) {\n    this._appUrl = appUrl;\n    if (appUrl) {\n      this.contentFrameEl.src = appUrl;\n    }\n  }\n\n  _onSyncMinimized(minimized) {\n    this._minimized = !!minimized;\n    this._renderMainClass();\n    this.renderAdapterSize();\n    this._renderRestrictedPosition();\n  }\n\n  setMinimized(minimized) {\n    this._onSyncMinimized(minimized);\n    this._postMessage({\n      type: this._messageTypes.syncMinimized,\n      minimized: this._minimized,\n    });\n    if (minimized && this.dropdownPresence) {\n      this.dropdownPresence.classList.remove(`${this._styles.showDropdown}`);\n    }\n  }\n\n  toggleMinimized() {\n    this.setMinimized(!this._minimized);\n  }\n\n  _calculateMinMaxPosition() {\n    const maximumX = window.innerWidth -\n      (this._minimized ? this._headerEl.clientWidth : this._appWidth) - 2 * this._padding;\n    const maximumY = window.innerHeight -\n      (this._minimized ?\n        this._headerEl.clientHeight :\n        this._headerEl.clientHeight + this._appHeight) - this._padding;\n    return {\n      minimumX: this._padding,\n      minimumY: this._padding,\n      maximumX,\n      maximumY,\n    };\n  }\n\n  _onSyncClosed(closed) {\n    this._closed = !!closed;\n    this._renderMainClass();\n  }\n\n  setClosed(closed) {\n    this._onSyncClosed(closed);\n    this._postMessage({\n      type: this._messageTypes.syncClosed,\n      closed: this.closed,\n    });\n  }\n\n  toggleClosed() {\n    this.setClosed(!this.closed);\n  }\n\n  _onSyncSize({ width, height }) {\n    this._appWidth = width;\n    this._appHeight = height;\n    this._contentFrameEl.style.width = `${width}px`;\n    this._contentFrameEl.style.height = `${height}px`;\n    this.renderAdapterSize();\n  }\n\n  setSize(size) {\n    this._onSyncSize(size);\n    this._postMessage({\n      type: this._messageTypes.syncSize,\n      size,\n    });\n  }\n\n  _onPushRingState({ ringing }) {\n    this._ringing = ringing;\n    this._render();\n  }\n\n  _onPushCallsInfo({ ringingCallsLength, onHoldCallsLength, currentStartTime }) {\n    this._currentStartTime = currentStartTime;\n    this._ringingCallsLength = ringingCallsLength;\n    this._onHoldCallsLength = onHoldCallsLength;\n    this._hasActiveCalls = this._currentStartTime > 0 || this._ringingCallsLength > 0 || this._onHoldCallsLength > 0;\n    this.renderCallsBar();\n  }\n\n  _onPushOnCurrentCallPath({ onCurrentCallPath }) {\n    this._onCurrentCallPath = onCurrentCallPath;\n    this._render();\n  }\n\n  _onPushOnAllCallsPath({ onAllCallsPath }) {\n    this._onAllCallsPath = onAllCallsPath;\n    this._render();\n  }\n\n  _onPushPresence({\n    dndStatus,\n    userStatus,\n    telephonyStatus,\n    presenceOption\n  }) {\n    if (\n      dndStatus !== this._dndStatus ||\n      userStatus !== this._userStatus ||\n      telephonyStatus !== this._telephonyStatus\n    ) {\n      this._dndStatus = dndStatus;\n      this._userStatus = userStatus;\n      this._telephonyStatus = telephonyStatus;\n      this._presenceOption = presenceOption;\n      this.renderPresence();\n    }\n  }\n\n  _onPushLocale({\n    locale,\n    strings = {},\n  }) {\n    this._locale = locale;\n    this._strings = strings;\n    this._renderString();\n  }\n\n  _renderString() {\n    this._renderCallBarBtn();\n    this._renderRingingCalls();\n    this._renderOnHoldCalls();\n    this._renderPresenceItem();\n  }\n\n  _debouncedPostMessage = debounce(this._postMessage, 100)\n\n  _syncPosition() {\n    this._debouncedPostMessage.call(this, {\n      type: this._messageTypes.syncPosition,\n      position: {\n        translateX: this._translateX,\n        translateY: this._translateY,\n        minTranslateX: this._minTranslateX,\n        minTranslateY: this._minTranslateY,\n      },\n    });\n  }\n\n  _onPushAdapterState({\n    size: {\n      width,\n      height\n    },\n    minimized,\n    closed,\n    position: {\n      translateX, translateY, minTranslateX, minTranslateY\n    },\n    dndStatus,\n    userStatus,\n    telephonyStatus,\n  }) {\n    this._minimized = minimized;\n    this._closed = closed;\n    if (!this._dragging) {\n      this._translateX = translateX;\n      this._translateY = translateY;\n      this._minTranslateX = minTranslateX;\n      this._minTranslateY = minTranslateY;\n    }\n    this._appWidth = width;\n    this._appHeight = height;\n    this._dndStatus = dndStatus;\n    this._userStatus = userStatus;\n    this._telephonyStatus = telephonyStatus;\n    this._loading = false;\n    this._render();\n  }\n\n  _calculateFactor() {\n    return this._defaultDirection === 'right' ?\n      -1 :\n      1;\n  }\n\n  renderPosition() {\n    const factor = this._calculateFactor();\n    if (this._minimized) {\n      this._container.setAttribute(\n        'style',\n        `transform: translate( ${this._minTranslateX * factor}px, ${-this._padding}px)!important;`\n      );\n    } else {\n      this._container.setAttribute(\n        'style',\n        `transform: translate( ${this._translateX * factor}px, ${this._translateY}px)!important;`\n      );\n    }\n  }\n\n  _renderRestrictedPosition() {\n    const {\n      minimumX,\n      minimumY,\n      maximumX,\n      maximumY,\n    } = this._calculateMinMaxPosition();\n\n    if (this._minimized) {\n      const newMinTranslateX = Math.max(Math.min(this._minTranslateX, maximumX), minimumX);\n      if (newMinTranslateX !== this._minTranslateX) {\n        this._minTranslateX = newMinTranslateX;\n      }\n      const newMinTranslateY = Math.max(Math.min(this._minTranslateY, -minimumY), -maximumY);\n      if (newMinTranslateY !== this._minTranslateY) {\n        this._minTranslateY = newMinTranslateY;\n      }\n    } else {\n      const newTranslateX = Math.max(Math.min(this._translateX, maximumX), minimumX);\n      const newTranslateY = Math.max(Math.min(this._translateY, -minimumY), -maximumY);\n      if (this._translateX !== newTranslateX || this._translateY !== newTranslateY) {\n        this._translateX = newTranslateX;\n        this._translateY = newTranslateY;\n      }\n    }\n    this.renderPosition();\n  }\n\n  renderAdapterSize() {\n    if (this._minimized) {\n      this._contentFrameContainerEl.style.width = 0;\n      this._contentFrameContainerEl.style.height = 0;\n    } else {\n      this._contentFrameContainerEl.style.width = `${this._appWidth}px`;\n      this._contentFrameContainerEl.style.height = `${this._appHeight}px`;\n      this._contentFrameEl.style.width = `${this._appWidth}px`;\n      this._contentFrameEl.style.height = `${this._appHeight}px`;\n    }\n  }\n\n  _renderMainClass() {\n    this._container.setAttribute('class', classnames(\n      this._styles.root,\n      this._styles[this._defaultDirection],\n      this._closed && this._styles.closed,\n      this._minimized && this._styles.minimized,\n      this._dragging && this._styles.dragging,\n      this._hover && this._styles.hover,\n      this._loading && this._styles.loading,\n    ));\n    this._headerEl.setAttribute('class', classnames(\n      this._styles.header,\n      this._minimized && this._styles.minimized,\n      this._ringing && this._styles.ringing,\n    ));\n  }\n\n  renderPresence() {\n    this._presenceEl.setAttribute('class', classnames(\n      this._minimized && this._styles.minimized,\n      this._styles.presence,\n      this._userStatus && this._styles[this._userStatus],\n      this._dndStatus && this._styles[this._dndStatus],\n    ));\n\n    this._presenceItemEls.forEach((presenceItem) => {\n      const dataPresence = presenceItem.getAttribute('data-presence');\n      if (presenceStatus[dataPresence] === this._presenceOption ||\n          dndStatus[dataPresence] === this._presenceOption) {\n        presenceItem.setAttribute('class', classnames(\n          this._styles.presenceItem, this._styles.selected\n        ));\n      } else {\n        presenceItem.setAttribute('class', classnames(\n          this._styles.presenceItem\n        ));\n      }\n    });\n  }\n\n  calculateState() {\n    const startTime = this._currentStartTime;\n    return Math.round(((new Date()).getTime() - startTime) / 1000);\n  }\n\n  renderCallsBar() {\n    // should clean up rotate duration when call info changed\n    if (this.rotateInterval) {\n      clearInterval(this.rotateInterval);\n      this.rotateInterval = null;\n    }\n    // when there is no call\n    if (!this._hasActiveCalls) {\n      this.currentState = -1;\n      this._scrollable = false;\n      this._hoverBar = false;\n      if (this.durationInterval) {\n        clearInterval(this.durationInterval);\n        this.durationInterval = null;\n      }\n      this._renderCallsBar();\n      return;\n    }\n    // when there is only one active call, only need to display call duration\n    if (\n      this._currentStartTime > 0 &&\n      this._ringingCallsLength === 0 &&\n      this._onHoldCallsLength === 0\n    ) {\n      this.currentState = CURRENT_CALL;\n      this._scrollable = false;\n      this._renderCallDuration();\n      this._renderCallsBar();\n      return;\n    }\n    // when there are only ringing calls(no onhold or active calls)\n    // only need to display incoming call inco\n    if (this._currentStartTime === 0 && this._ringingCallsLength > 0) {\n      this.currentState = RINGING_CALLS;\n      this._scrollable = false;\n      this._hoverBar = false;\n      if (this.durationInterval) {\n        clearInterval(this.durationInterval);\n        this.durationInterval = null;\n      }\n      this._renderRingingCalls();\n      this._renderCallsBar();\n      return;\n    }\n    this.callInfoMap = {\n      [CURRENT_CALL]: this._currentStartTime > 0,\n      [RINGING_CALLS]: this._ringingCallsLength > 0,\n      [ON_HOLD_CALLS]: this._onHoldCallsLength > 0\n    };\n    // when multiple calls, should scroll with call info\n    this.rotateCallInfo();\n    this.rotateInterval = setInterval(() => {\n      this.rotateCallInfo();\n    }, ROTATE_INTERVAL);\n  }\n\n  rotateCallInfo() {\n    if (this._hoverBar && this.callInfoMap[this.currentState]) {\n      return;\n    }\n    this.lastState = this.currentState;\n    this.currentState = this.increment(this.currentState);\n    while (!this.callInfoMap[this.currentState]) {\n      this.currentState = this.increment(this.currentState);\n    }\n    switch (this.currentState) {\n      case ON_HOLD_CALLS:\n        this._renderOnHoldCalls();\n        break;\n      case RINGING_CALLS:\n        this._renderRingingCalls();\n        break;\n      case CURRENT_CALL:\n        this._renderCallDuration();\n        break;\n      default:\n        break;\n    }\n    this._scrollable = true;\n    this._renderCallsBar();\n    this._scrollable = false;\n  }\n\n  increment(state) {\n    const newState = state + 1;\n    if (state >= ROTATE_LENGTH - 1) {\n      return 0;\n    }\n    return newState;\n  }\n\n  _renderMinimizedBar() {\n    this._logoEl.setAttribute('class', classnames(\n      this._styles.logo,\n      this._logoUrl && this._logoUrl !== '' && this._styles.visible,\n    ));\n    this._durationEl.setAttribute('class', classnames(\n      this._styles.duration,\n    ));\n    this._ringingCallsEl.setAttribute('class', classnames(\n      this._styles.ringingCalls,\n    ));\n    this._onHoldCallsEl.setAttribute('class', classnames(\n      this._styles.onHoldCalls,\n    ));\n    this._currentCallEl.setAttribute('class', classnames(\n      this._styles.currentCallBtn,\n    ));\n    this._viewCallsEl.setAttribute('class', classnames(\n      this._styles.viewCallsBtn,\n    ));\n  }\n\n  _renderCallsBar() {\n    if (this._minimized) {\n      this._renderMinimizedBar();\n      return;\n    }\n    this._logoEl.setAttribute('class', classnames(\n      this._styles.logo,\n      !this._hasActiveCalls && this._logoUrl && this._logoUrl !== '' && this._styles.visible,\n    ));\n    this._durationEl.setAttribute('class', classnames(\n      this._styles.duration,\n      this.showDuration && this._styles.visible,\n      this.centerDuration && this._styles.center,\n      this.moveOutDuration && this._styles.moveOut,\n      this.moveInDuration && this._styles.moveIn,\n    ));\n    this._ringingCallsEl.setAttribute('class', classnames(\n      this._styles.ringingCalls,\n      this.showRingingCalls && this._styles.visible,\n      this.centerCallInfo && this._styles.center,\n      this.moveOutRingingInfo && this._styles.moveOut,\n      this.moveInRingingInfo && this._styles.moveIn,\n    ));\n    this._onHoldCallsEl.setAttribute('class', classnames(\n      this._styles.onHoldCalls,\n      this.showOnHoldCalls && this._styles.visible,\n      this.centerCallInfo && this._styles.center,\n      this.moveOutOnHoldInfo && this._styles.moveOut,\n      this.moveInOnHoldInfo && this._styles.moveIn,\n    ));\n    this._currentCallEl.setAttribute('class', classnames(\n      this._styles.currentCallBtn,\n      this.showCurrentCallBtn && this._styles.visible,\n      this.moveOutCurrentCallBtn && this._styles.moveOut,\n      this.moveInCurrentCallBtn && this._styles.moveIn,\n    ));\n    this._viewCallsEl.setAttribute('class', classnames(\n      this._styles.viewCallsBtn,\n      this.showViewCallsBtn && this._styles.visible,\n      !this.moveInViewCallsBtn && this.moveOutViewCallsBtn && this._styles.moveOut,\n      this.moveInViewCallsBtn && this._styles.moveIn,\n    ));\n  }\n\n  _renderCallDuration() {\n    if (this.durationInterval) {\n      clearInterval(this.durationInterval);\n      this.durationInterval = null;\n    }\n    const duration = formatDuration(this.calculateState());\n    this._durationEl.innerHTML = duration;\n    this.durationInterval = setInterval(() => {\n      const duration = formatDuration(this.calculateState());\n      this._durationEl.innerHTML = duration;\n    }, 1000);\n  }\n\n  _renderRingingCalls() {\n    if (!this._ringingCallsLength || !this._strings) {\n      return;\n    }\n    this._ringingCallsEl.innerHTML = this._strings.ringCallsInfo;\n    this._ringingCallsEl.title = this._strings.ringCallsInfo;\n  }\n\n  _renderOnHoldCalls() {\n    if (!this._onHoldCallsLength || !this._strings) {\n      return;\n    }\n    this._onHoldCallsEl.innerHTML = this._strings.onHoldCallsInfo;\n    this._onHoldCallsEl.title = this._strings.onHoldCallsInfo;\n  }\n\n  _renderCallBarBtn() {\n    if (!this._strings) {\n      return;\n    }\n    this._currentCallEl.innerHTML = this._strings.currentCallBtn;\n    this._viewCallsEl.innerHTML = this._strings.viewCallsBtn;\n  }\n\n  _renderPresenceItem() {\n    if (!this._strings) {\n      return;\n    }\n    this._presenceItemEls.forEach((presenceItem) => {\n      const dataPresence = presenceItem.getAttribute('data-presence');\n      presenceItem.querySelector('span').innerHTML = this._strings[`${dataPresence}Btn`];\n    });\n  }\n\n  _render() {\n    this.renderPresence();\n    this.renderAdapterSize();\n    this._renderRestrictedPosition();\n    this._renderMainClass();\n    this._renderCallsBar();\n  }\n\n  dispose() {\n    // TODO clean up\n    window.removeEventListener('mousemove', this._onWindowMouseMove);\n    window.removeEventListener('resize', this._onWindowResize);\n    if (this._resizeTimeout) {\n      clearTimeout(this._resizeTick);\n    }\n    this._container.remove();\n  }\n\n  get container() {\n    return this._container;\n  }\n\n  get root() {\n    return this._root;\n  }\n\n  get headerEl() {\n    return this._headerEl;\n  }\n\n  get contentFrameContainerEl() {\n    return this._contentFrameContainerEl;\n  }\n\n  get toggleEl() {\n    return this._toggleEl;\n  }\n\n  get closeEl() {\n    return this._closeEl;\n  }\n\n  get presenceEl() {\n    return this._presenceEl;\n  }\n\n  get contentFrameEl() {\n    return this._contentFrameEl;\n  }\n\n  get minTranslateX() {\n    return this._minTranslateX;\n  }\n\n  get minTranslateY() {\n    return this._minTranslateY;\n  }\n\n  get translateX() {\n    return this._translateX;\n  }\n\n  get translateY() {\n    return this._translateY;\n  }\n\n  get appWidth() {\n    return this._appWidth;\n  }\n\n  get appHeight() {\n    return this._appHeight;\n  }\n\n  get dragStartPosition() {\n    return this._dragStartPosition;\n  }\n\n  get closed() {\n    return this._closed;\n  }\n\n  get minimized() {\n    return this._minimized;\n  }\n\n  get dragging() {\n    return this._dragging;\n  }\n\n  get hover() {\n    return this._hover;\n  }\n\n  get loading() {\n    return this._loading;\n  }\n\n  get userStatus() {\n    return this._userStatus;\n  }\n\n  get dndStatus() {\n    return this._dndStatus;\n  }\n\n  get ringing() {\n    return this._ringing;\n  }\n\n  get showDuration() {\n    return !this._scrollable && this.currentState === CURRENT_CALL;\n  }\n\n  get showRingingCalls() {\n    return !this._scrollable && this.currentState === RINGING_CALLS;\n  }\n\n  get showOnHoldCalls() {\n    return !this._scrollable && this.currentState === ON_HOLD_CALLS;\n  }\n\n  get showCurrentCallBtn() {\n    return !this._onCurrentCallPath && this.showDuration;\n  }\n\n  get showViewCallsBtn() {\n    return !this._onAllCallsPath && (this.showOnHoldCalls || this.showRingingCalls);\n  }\n\n  get centerDuration() {\n    return this._onCurrentCallPath;\n  }\n\n  get centerCallInfo() {\n    return this._onAllCallsPath;\n  }\n\n  get moveInDuration() {\n    return !this._hoverBar && this.currentState === CURRENT_CALL && this._scrollable;\n  }\n\n  get moveOutDuration() {\n    return !this._hoverBar && this._scrollable && this.lastState === CURRENT_CALL;\n  }\n\n  get moveInRingingInfo() {\n    return !this._hoverBar && this.currentState === RINGING_CALLS && this._scrollable;\n  }\n\n  get moveOutRingingInfo() {\n    return !this._hoverBar && this._scrollable && this.lastState === RINGING_CALLS;\n  }\n\n  get moveInOnHoldInfo() {\n    return !this._hoverBar && this.currentState === ON_HOLD_CALLS && this._scrollable;\n  }\n\n  get moveOutOnHoldInfo() {\n    return !this._hoverBar && this._scrollable && this.lastState === ON_HOLD_CALLS;\n  }\n\n  get moveInCurrentCallBtn() {\n    return !this._onCurrentCallPath && this.moveInDuration;\n  }\n\n  get moveOutCurrentCallBtn() {\n    return !this._onCurrentCallPath && this.moveOutDuration;\n  }\n\n  get moveInViewCallsBtn() {\n    return !this._onAllCallsPath && (this.moveInRingingInfo || this.moveInOnHoldInfo);\n  }\n\n  get moveOutViewCallsBtn() {\n    return !this._onAllCallsPath && (this.moveOutRingingInfo || this.moveOutOnHoldInfo);\n  }\n\n  get dropdownPresence() {\n    return this._root.querySelector(`.${this._styles.dropdownPresence}`);\n  }\n}\n"],"file":"index.js"}