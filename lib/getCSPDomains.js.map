{"version":3,"sources":["lib/getCSPDomains.ts"],"names":["DYNAMIC_CONFIG_DOMAIN","getCSPDomains","loaderBaseUrl","url","parse","protocol","hostname","port","domains"],"mappings":";;;;;;;;;AAAA;;;;AAEA;AACA,IAAMA,qBAAqB,GAAG,8BAA9B;;AAEO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,aAAD,EAA2B;AAAA,mBACjBC,gBAAIC,KAAJ,CAAUF,aAAV,CADiB;AAAA,MAC9CG,QAD8C,cAC9CA,QAD8C;AAAA,MACpCC,QADoC,cACpCA,QADoC;AAAA,MAC1BC,IAD0B,cAC1BA,IAD0B;;AAEtD,MAAIC,OAAO,aAAMH,QAAN,eAAmBC,QAAnB,SAA8BC,IAAI,cAAOA,IAAP,IAAgB,EAAlD,CAAX;;AACA,MAAIC,OAAO,KAAKR,qBAAhB,EAAuC;AACrCQ,IAAAA,OAAO,aAAMA,OAAN,cAAiBR,qBAAjB,CAAP;AACD;;AACD,SAAOQ,OAAP;AACD,CAPM","sourcesContent":["import url from 'url';\n\n// remove this when dynamic configs has been phased out\nconst DYNAMIC_CONFIG_DOMAIN = 'https://apps.ringcentral.com';\n\nexport const getCSPDomains = (loaderBaseUrl: string) => {\n  const { protocol, hostname, port } = url.parse(loaderBaseUrl);\n  let domains = `${protocol}//${hostname}${port ? `:${port}` : ''}`;\n  if (domains !== DYNAMIC_CONFIG_DOMAIN) {\n    domains = `${domains} ${DYNAMIC_CONFIG_DOMAIN}`;\n  }\n  return domains;\n};\n"],"file":"getCSPDomains.js"}