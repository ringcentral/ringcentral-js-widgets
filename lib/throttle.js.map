{"version":3,"file":"throttle.js","names":["throttle","func","threshold","arguments","length","undefined","Error","timer","firstTime","throttled","_len","args","Array","_key","context","apply","setTimeout","clearTimeout"],"sources":["lib/throttle.ts"],"sourcesContent":["/**\n * Throttle the execution of the function,\n * if the frequently invoked function is being throttled,\n * then the function will only be called at threshold time.\n *\n * @param {Function} func - the target function\n * @param {Number} threshold - execution threshold\n * @return {Function}\n */\nexport default function throttle<T extends any[], P>(\n  func: (...args: T) => P,\n  threshold = 500,\n) {\n  if (typeof func !== 'function') {\n    throw new Error('First argument of throttle function should be a function');\n  }\n\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Timeout'.\n  let timer: NodeJS.Timeout = null;\n  let firstTime = true;\n\n  return function throttled(this: any, ...args: T) {\n    const context = this;\n\n    // It will be triggered at first time\n    if (firstTime) {\n      func.apply(context, args);\n      firstTime = false;\n      return;\n    }\n\n    if (timer) {\n      return;\n    }\n\n    timer = setTimeout(() => {\n      clearTimeout(timer);\n      // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Timeout'.\n      timer = null;\n      func.apply(context, args);\n    }, threshold);\n  };\n}\n"],"mappings":";;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASA,QAAQA,CAC9BC,IAAuB,EAEvB;EAAA,IADAC,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,GAAG;EAEf,IAAI,OAAOF,IAAI,KAAK,UAAU,EAAE;IAC9B,MAAM,IAAIK,KAAK,CAAC,0DAA0D,CAAC;EAC7E;;EAEA;EACA,IAAIC,KAAqB,GAAG,IAAI;EAChC,IAAIC,SAAS,GAAG,IAAI;EAEpB,OAAO,SAASC,SAASA,CAAA,EAAwB;IAAA,SAAAC,IAAA,GAAAP,SAAA,CAAAC,MAAA,EAATO,IAAI,OAAAC,KAAA,CAAAF,IAAA,GAAAG,IAAA,MAAAA,IAAA,GAAAH,IAAA,EAAAG,IAAA;MAAJF,IAAI,CAAAE,IAAA,IAAAV,SAAA,CAAAU,IAAA;IAAA;IAC1C,IAAMC,OAAO,GAAG,IAAI;;IAEpB;IACA,IAAIN,SAAS,EAAE;MACbP,IAAI,CAACc,KAAK,CAACD,OAAO,EAAEH,IAAI,CAAC;MACzBH,SAAS,GAAG,KAAK;MACjB;IACF;IAEA,IAAID,KAAK,EAAE;MACT;IACF;IAEAA,KAAK,GAAGS,UAAU,CAAC,YAAM;MACvBC,YAAY,CAACV,KAAK,CAAC;MACnB;MACAA,KAAK,GAAG,IAAI;MACZN,IAAI,CAACc,KAAK,CAACD,OAAO,EAAEH,IAAI,CAAC;IAC3B,CAAC,EAAET,SAAS,CAAC;EACf,CAAC;AACH","ignoreList":[]}