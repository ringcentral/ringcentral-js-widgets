{"version":3,"file":"formatDuration.js","names":["_dayjs","_interopRequireDefault","require","_duration","e","__esModule","dayjs","extend","duration","getDuration","undefined","Number","isNaN","dur","parseInt","formatDuration","invalidDisplay","arguments","length","hours","minutes","seconds","hourString","concat","toString","padStart","minuteString","secondString","formatDurationWithLocale","exports","_ref","day","hr","min","sec","totalDays","Math","floor","asDays","parts","push","join"],"sources":["lib/formatDuration/formatDuration.ts"],"sourcesContent":["import dayjs from 'dayjs';\nimport duration from 'dayjs/plugin/duration';\n\ndayjs.extend(duration);\n\ntype DurationInput = number | string | null | undefined;\n\nconst getDuration = (duration: DurationInput) => {\n  if (duration === null || duration === undefined || Number.isNaN(duration)) {\n    return null;\n  }\n\n  const dur = dayjs.duration(\n    typeof duration === 'number' ? duration : parseInt(duration, 10),\n    'seconds',\n  );\n\n  return dur;\n};\n\n/**\n * format duration to string, 'hh:mm:ss'\n *\n * if duration is NaN or undefined, return '--:--'\n *\n * when you need to format duration with locale, try use `formatDurationWithLocale` instead\n */\nexport function formatDuration(\n  duration: DurationInput,\n  invalidDisplay = '--:--',\n) {\n  const dur = getDuration(duration);\n\n  if (!dur) return invalidDisplay;\n\n  const hours = dur.hours();\n  const minutes = dur.minutes();\n  const seconds = dur.seconds();\n\n  const hourString = hours > 0 ? `${hours.toString().padStart(2, '0')}:` : '';\n  const minuteString = minutes.toString().padStart(2, '0');\n  const secondString = seconds.toString().padStart(2, '0');\n  return `${hourString}${minuteString}:${secondString}`;\n}\n\ntype LocaleMessages = {\n  day: string;\n  hr: string;\n  min: string;\n  sec: string;\n};\n\n/**\n * Formats a duration provided in seconds into a localized string representation.\n *\n * Trailing zero units are omitted from the output.\n *\n * like `1 hr 2 min 5 secs`\n *\n * @param duration - The duration in seconds. Can be null or undefined.\n * @returns A formatted duration string based on the provided duration and locale.\n *\n * @example\n * formatDurationWithLocale(3725, {\n *   day: 'days',\n *   hr: 'hr',\n *   min: 'min',\n *   sec: 'secs'\n * })\n * - // Returns: \"1 hr 2 min 5 secs\"\n *\n * @example\n * formatDurationWithLocale(3720, {\n *   day: 'days',\n *   hr: 'hr',\n *   min: 'min',\n *   sec: 'secs'\n * })\n * - // Returns: \"1 hr 2 min\" (trailing 0 secs omitted)\n */\nexport const formatDurationWithLocale = (\n  /**\n   * duration in seconds\n   */\n  duration: DurationInput,\n  /**\n   * locale text for render\n   */\n  { day, hr, min, sec }: LocaleMessages,\n) => {\n  const dur = getDuration(duration);\n\n  if (!dur) return '';\n\n  const totalDays = Math.floor(dur.asDays());\n  const hours = dur.hours();\n  const minutes = dur.minutes();\n  const seconds = dur.seconds();\n\n  const parts: string[] = [];\n\n  if (totalDays > 0) {\n    parts.push(`${totalDays} ${day}`);\n  }\n  if (hours > 0) {\n    parts.push(`${hours} ${hr}`);\n  }\n  if (minutes > 0) {\n    parts.push(`${minutes} ${min}`);\n  }\n  if (seconds > 0) {\n    parts.push(`${seconds} ${sec}`);\n  }\n\n  return parts.join(' ');\n};\n"],"mappings":"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","ignoreList":[]}