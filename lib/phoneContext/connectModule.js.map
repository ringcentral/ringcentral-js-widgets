{"version":3,"file":"connectModule.js","names":["_react","_interopRequireDefault","require","_reactRedux","_phoneContext","e","__esModule","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","connectModule","fn","Comp","WithModule","connect","_","props","phone","getUIProps","getUIFunctions","createElement","PhoneContext","Consumer","_default","exports"],"sources":["lib/phoneContext/connectModule.tsx"],"sourcesContent":["import type { ComponentType, FunctionComponent } from 'react';\nimport React from 'react';\nimport { connect } from 'react-redux';\n\nimport { PhoneContext } from './phoneContext';\n\nexport type connectModuleProps<T> = (props: T) => any;\n\nfunction connectModule<T = any, K = any>(fn: connectModuleProps<T>) {\n  return (Comp: ComponentType<any>) => {\n    const WithModule = connect(\n      (_, props: any) => fn(props.phone).getUIProps(props),\n      (_, props: any) => fn(props.phone).getUIFunctions(props),\n    )(Comp);\n    return ((props: K) => (\n      <PhoneContext.Consumer>\n        {(phone) => <WithModule phone={phone} {...props} />}\n      </PhoneContext.Consumer>\n    )) as any as FunctionComponent<K>;\n  };\n}\n\nexport default connectModule;\n"],"mappings":";;;;;;;;AACA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AAEA,IAAAE,aAAA,GAAAF,OAAA;AAA8C,SAAAD,uBAAAI,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,SAAA,WAAAA,QAAA,GAAAC,MAAA,CAAAC,MAAA,GAAAD,MAAA,CAAAC,MAAA,CAAAC,IAAA,eAAAC,CAAA,aAAAN,CAAA,MAAAA,CAAA,GAAAO,SAAA,CAAAC,MAAA,EAAAR,CAAA,UAAAS,CAAA,GAAAF,SAAA,CAAAP,CAAA,YAAAU,CAAA,IAAAD,CAAA,SAAAE,cAAA,CAAAC,IAAA,CAAAH,CAAA,EAAAC,CAAA,MAAAJ,CAAA,CAAAI,CAAA,IAAAD,CAAA,CAAAC,CAAA,eAAAJ,CAAA,KAAAJ,QAAA,CAAAW,KAAA,OAAAN,SAAA;AAI9C,SAASO,aAAaA,CAAmBC,EAAyB,EAAE;EAClE,OAAO,UAACC,IAAwB,EAAK;IACnC,IAAMC,UAAU,GAAG,IAAAC,mBAAO,EACxB,UAACC,CAAC,EAAEC,KAAU;MAAA,OAAKL,EAAE,CAACK,KAAK,CAACC,KAAK,CAAC,CAACC,UAAU,CAACF,KAAK,CAAC;IAAA,GACpD,UAACD,CAAC,EAAEC,KAAU;MAAA,OAAKL,EAAE,CAACK,KAAK,CAACC,KAAK,CAAC,CAACE,cAAc,CAACH,KAAK,CAAC;IAAA,CAC1D,CAAC,CAACJ,IAAI,CAAC;IACP,OAAQ,UAACI,KAAQ;MAAA,oBACfzB,MAAA,YAAA6B,aAAA,CAACzB,aAAA,CAAA0B,YAAY,CAACC,QAAQ,QACnB,UAACL,KAAK;QAAA,oBAAK1B,MAAA,YAAA6B,aAAA,CAACP,UAAU,EAAAf,QAAA;UAACmB,KAAK,EAAEA;QAAM,GAAKD,KAAK,CAAG,CAAC;MAAA,CAC9B,CAAC;IAAA,CACzB;EACH,CAAC;AACH;AAAC,IAAAO,QAAA,GAEcb,aAAa;AAAAc,OAAA,cAAAD,QAAA","ignoreList":[]}