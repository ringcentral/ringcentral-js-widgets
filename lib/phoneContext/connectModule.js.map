{"version":3,"file":"connectModule.js","names":["_react","_interopRequireDefault","require","_reactRedux","_phoneContext","obj","__esModule","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","connectModule","fn","Comp","WithModule","connect","_","props","phone","getUIProps","getUIFunctions","createElement","PhoneContext","Consumer","_default","exports"],"sources":["lib/phoneContext/connectModule.tsx"],"sourcesContent":["import type { ComponentType, FunctionComponent } from 'react';\nimport React from 'react';\n\nimport { connect } from 'react-redux';\n\nimport { PhoneContext } from './phoneContext';\n\nexport type connectModuleProps<T> = (props: T) => any;\n\nfunction connectModule<T = any, K = any>(fn: connectModuleProps<T>) {\n  return (Comp: ComponentType<any>) => {\n    const WithModule = connect(\n      (_, props: any) => fn(props.phone).getUIProps(props),\n      (_, props: any) => fn(props.phone).getUIFunctions(props),\n    )(Comp);\n    return ((props: K) => (\n      <PhoneContext.Consumer>\n        {(phone) => <WithModule phone={phone} {...props} />}\n      </PhoneContext.Consumer>\n    )) as any as FunctionComponent<K>;\n  };\n}\n\nexport default connectModule;\n"],"mappings":";;;;;;;;AACA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,WAAA,GAAAD,OAAA;AAEA,IAAAE,aAAA,GAAAF,OAAA;AAA8C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAAA,SAAAE,SAAA,IAAAA,QAAA,GAAAC,MAAA,CAAAC,MAAA,GAAAD,MAAA,CAAAC,MAAA,CAAAC,IAAA,eAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,GAAAF,SAAA,CAAAD,CAAA,YAAAI,GAAA,IAAAD,MAAA,QAAAP,MAAA,CAAAS,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAJ,MAAA,EAAAC,GAAA,KAAAL,MAAA,CAAAK,GAAA,IAAAD,MAAA,CAAAC,GAAA,gBAAAL,MAAA,YAAAJ,QAAA,CAAAa,KAAA,OAAAP,SAAA;AAI9C,SAASQ,aAAaA,CAAmBC,EAAyB,EAAE;EAClE,OAAO,UAACC,IAAwB,EAAK;IACnC,IAAMC,UAAU,GAAG,IAAAC,mBAAO,EACxB,UAACC,CAAC,EAAEC,KAAU;MAAA,OAAKL,EAAE,CAACK,KAAK,CAACC,KAAK,CAAC,CAACC,UAAU,CAACF,KAAK,CAAC;IAAA,GACpD,UAACD,CAAC,EAAEC,KAAU;MAAA,OAAKL,EAAE,CAACK,KAAK,CAACC,KAAK,CAAC,CAACE,cAAc,CAACH,KAAK,CAAC;IAAA,CAC1D,CAAC,CAACJ,IAAI,CAAC;IACP,OAAQ,UAACI,KAAQ;MAAA,oBACf3B,MAAA,YAAA+B,aAAA,CAAC3B,aAAA,CAAA4B,YAAY,CAACC,QAAQ,QACnB,UAACL,KAAK;QAAA,oBAAK5B,MAAA,YAAA+B,aAAA,CAACP,UAAU,EAAAjB,QAAA;UAACqB,KAAK,EAAEA;QAAM,GAAKD,KAAK,CAAG,CAAC;MAAA,CAC9B,CAAC;IAAA,CACzB;EACH,CAAC;AACH;AAAC,IAAAO,QAAA,GAEcb,aAAa;AAAAc,OAAA,cAAAD,QAAA"}