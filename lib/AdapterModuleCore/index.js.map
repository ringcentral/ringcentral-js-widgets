{"version":3,"file":"index.js","names":["_presenceStatus","require","_di","_proxify","_selector","_CallingSettings","_Presence","_utils","_i18n","_interopRequireDefault","_AdapterModuleCoreBase","_baseActionTypes","_i18n2","_IframeMessageTransport","_dec","_class","_class2","_descriptor","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","initializer","call","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","_objectSpread","i","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","sourceKeys","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","_createClass","protoProps","staticProps","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","decorators","desc","slice","reverse","reduce","decorator","_initializerWarningHelper","Error","ALL_CALL_PATH","exports","ACTIVE_CALL_PATH","AdapterModuleCore","Module","deps","dep","optional","_AdapterModuleCoreBas","_super","_ref","_this","prefix","_ref$storageKey","storageKey","_ref$actionTypes","actionTypes","baseActionTypes","callingSettings","globalStorage","locale","presence","routerInteraction","webphone","callMonitor","userGuide","quickAccess","_ref$messageTransport","messageTransport","IframeMessageTransport","targetWindow","window","parent","activeCallControl","callLogSection","options","_callingSettings","_callLogSection","_activeCallControl","_userGuide","_webphone","_callMonitor","_quickAccess","_showIncomingCallPage","onAllCallsPath","onCurrentCallPath","_lastShowIncomingCallPage","_showCallLogPage","_lastShowCallLogPage","_pushOtherStateChanges","_pushRingState","_ref2","_ref2$forcePush","forcePush","ready","_postMessage","type","_messageTypes","pushLocale","strings","localeStrings","callingMode","callingModes","_pushActiveCallRingingState","_pushWebphoneRingingState","_pushCallStartTime","_pushIncomingCallPage","_pushRingoutRingingState","ringSessions","ringSessionId","_ringSessionId","pushRingState","ringing","ringSession","ringingSessions","sessions","session","callStatus","direction","status","_presence","telephonyStatus","_telephonyStatus","_this$_callLogSection","minimized","show","_lastPath","_router","currentPath","_this$_activeCallCont","currentIdentify","activeSession","sessionId","concat","activeSessionId","pushOnCurrentCallPath","pushOnAllCallsPath","ringingCallsLength","activeRingCalls","onHoldCallsLength","activeOnHoldCalls","otherDeviceCallsLength","otherDeviceCalls","currentStartTime","activeCurrentCalls","startTime","_lastRingCallsLength","_lastOnHoldCallsLength","_lastCurrentStartTime","_otherDeviceCallsLength","pushCalls","_onNavigateToCurrentCall2","regeneratorRuntime","mark","_callee","_this$_activeCallCont2","_this$_activeCallCont3","currentSession","currentCallPath","wrap","_callee$","_context","prev","next","id","started","dismiss","entered","exit","showLogSection","toggleMinimized","stop","_onNavigateToCurrentCall","_onNavigateToViewCalls2","_callee2","_this$_callLogSection2","_callee2$","_context2","closeLogSection","_onNavigateToViewCalls","AdapterModuleCoreBase","selector","_this2","_locale","currentLocale","localeReady","ringCallsInfo","format","headerI18n","getString","numberOf","onHoldCallsInfo","otherDeviceCallsInfo","availableBtn","presenceItemI18n","presenceStatus","available","busyBtn","busy","offlineBtn","offline","doNotAcceptAnyCallsBtn","dndStatus","doNotAcceptAnyCalls","currentCallBtn","viewCallsBtn","proxify"],"sources":["lib/AdapterModuleCore/index.ts"],"sourcesContent":["// @ts-nocheck\nimport type Presence from 'ringcentral-client/build/paths/Presence';\n\nimport { presenceStatus } from '@ringcentral-integration/commons/enums/presenceStatus.enum';\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport { proxify } from '@ringcentral-integration/commons/lib/proxy/proxify';\nimport { selector } from '@ringcentral-integration/commons/lib/selector';\nimport type { ActiveCallControl } from '@ringcentral-integration/commons/modules/ActiveCallControl';\nimport type { CallingSettings } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport { callingModes } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport type { CallMonitor } from '@ringcentral-integration/commons/modules/CallMonitor';\nimport type { GlobalStorage } from '@ringcentral-integration/commons/modules/GlobalStorage';\nimport type { Locale } from '@ringcentral-integration/commons/modules/Locale';\nimport { dndStatus } from '@ringcentral-integration/commons/modules/Presence';\nimport type { QuickAccess } from '@ringcentral-integration/commons/modules/QuickAccess';\nimport type { UserGuide } from '@ringcentral-integration/commons/modules/UserGuide';\nimport type { Webphone } from '@ringcentral-integration/commons/modules/Webphone';\nimport { format } from '@ringcentral-integration/utils';\n\nimport headerI18n from '../../components/CallMonitorBar/i18n';\nimport type { CallLogSection } from '../../modules/CallLogSection';\nimport type { RouterInteraction } from '../../modules/RouterInteraction';\nimport AdapterModuleCoreBase from '../AdapterModuleCoreBase';\nimport { baseActionTypes } from '../AdapterModuleCoreBase/baseActionTypes';\nimport presenceItemI18n from '../getPresenceStatusName/i18n';\nimport IframeMessageTransport from '../IframeMessageTransport';\n\nexport const ALL_CALL_PATH = '/calls';\nconst ACTIVE_CALL_PATH = '/calls/active';\n\n@Module({\n  deps: [\n    'CallingSettings',\n    'GlobalStorage',\n    'Locale',\n    'Presence',\n    'RouterInteraction',\n    'Storage',\n    'Webphone',\n    'CallMonitor',\n    { dep: 'ActiveCallControl', optional: true },\n    { dep: 'UserGuide', optional: true },\n    { dep: 'QuickAccess', optional: true },\n    { dep: 'CallLogSection', optional: true },\n  ],\n})\nexport default class AdapterModuleCore extends AdapterModuleCoreBase {\n  _callingSettings: CallingSettings;\n  _callLogSection: CallLogSection;\n  _activeCallControl: ActiveCallControl;\n  _userGuide: UserGuide;\n  _webphone: Webphone;\n  _callMonitor: CallMonitor;\n  _quickAccess: QuickAccess;\n  private _showIncomingCallPage: any;\n  onAllCallsPath: boolean;\n  onCurrentCallPath: boolean;\n  private _lastShowIncomingCallPage: any;\n  private _showCallLogPage: boolean;\n  private _lastShowCallLogPage: boolean;\n  constructor({\n    prefix,\n    storageKey = 'adapterCore',\n    actionTypes = baseActionTypes,\n    callingSettings,\n    globalStorage,\n    locale,\n    presence,\n    routerInteraction,\n    webphone,\n    callMonitor,\n    userGuide,\n    quickAccess,\n    messageTransport = new IframeMessageTransport({\n      targetWindow: window.parent,\n    }),\n    activeCallControl,\n    callLogSection,\n    ...options\n  }: {\n    prefix?: string;\n    storageKey?: string;\n    actionTypes?: any;\n    callingSettings?: CallingSettings;\n    globalStorage?: GlobalStorage;\n    locale?: Locale;\n    presence?: Presence;\n    routerInteraction?: RouterInteraction;\n    webphone?: Webphone;\n    callMonitor?: CallMonitor;\n    userGuide?: UserGuide;\n    quickAccess?: QuickAccess;\n    messageTransport?: any;\n    storage?: Storage;\n    activeCallControl?: ActiveCallControl;\n    callLogSection?: CallLogSection;\n  }) {\n    super({\n      prefix,\n      actionTypes,\n      locale,\n      messageTransport,\n      presence,\n      routerInteraction,\n      globalStorage,\n      storageKey,\n      ...options,\n    });\n\n    this._callingSettings = callingSettings;\n    this._webphone = webphone;\n    this._callMonitor = callMonitor;\n    this._userGuide = userGuide;\n    this._quickAccess = quickAccess;\n    this._activeCallControl = activeCallControl;\n    this._callLogSection = callLogSection;\n  }\n\n  _pushOtherStateChanges() {\n    this._pushRingState();\n  }\n\n  _pushRingState({ forcePush = false } = {}) {\n    if (!this.ready) return;\n\n    // TODO: we should refactor the entire sync logic to be more\n    // declarative and straightforward\n    if (forcePush) {\n      this._postMessage({\n        type: this._messageTypes.pushLocale,\n        strings: this.localeStrings,\n      });\n    }\n    if (!this._callingSettings) return;\n    const { callingMode } = this._callingSettings;\n    if (callingMode === callingModes.webphone) {\n      // TODO: should change to use ActiveCallControl module when introduce ActiveCallControl module into other project\n      if (this._activeCallControl) {\n        this._pushActiveCallRingingState(forcePush);\n      } else {\n        this._pushWebphoneRingingState(forcePush);\n      }\n      this._pushCallStartTime(forcePush);\n      this._pushIncomingCallPage(forcePush);\n    } else {\n      this._pushRingoutRingingState();\n    }\n  }\n\n  _pushActiveCallRingingState(forcePush) {\n    if (\n      this._activeCallControl.ringSessions.length > 0 &&\n      this._activeCallControl.ringSessionId &&\n      (this._activeCallControl.ringSessionId !== this._ringSessionId ||\n        forcePush)\n    ) {\n      this._ringSessionId = this._activeCallControl.ringSessionId;\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: true,\n      });\n    }\n    // Check if ringing is over\n    if (this._ringSessionId) {\n      if (this._activeCallControl.ringSessions.length === 0) {\n        this._postMessage({\n          type: this._messageTypes.pushRingState,\n          ringing: false,\n        });\n        this._ringSessionId = null;\n      }\n    } else {\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: false,\n      });\n    }\n  }\n\n  _pushWebphoneRingingState(forcePush) {\n    const webphone = this._webphone;\n    if (!webphone) {\n      throw new Error(\n        'webphone is a required dependency for monitoring WebRTC call',\n      );\n    }\n    if (\n      webphone.ringSession &&\n      (webphone.ringSessionId !== this._ringSessionId || forcePush)\n    ) {\n      this._ringSessionId = webphone.ringSessionId;\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: true,\n      });\n    }\n    // Check if ringing is over\n    if (this._ringSessionId) {\n      const ringingSessions = webphone.sessions.filter(\n        (session) =>\n          session.callStatus === 'webphone-session-connecting' &&\n          session.direction === 'Inbound',\n      );\n      if (ringingSessions.length === 0) {\n        this._postMessage({\n          type: this._messageTypes.pushRingState,\n          ringing: false,\n        });\n        this._ringSessionId = null;\n      }\n    } else {\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: false,\n      });\n    }\n  }\n\n  _pushRingoutRingingState() {\n    const status = this._presence.telephonyStatus;\n    if (this._presence.telephonyStatus !== this._telephonyStatus) {\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: status === 'Ringing',\n      });\n      this._telephonyStatus = status;\n    }\n  }\n\n  _pushIncomingCallPage(forcePush: boolean) {\n    this._showIncomingCallPage = !!(\n      this._webphone &&\n      this._webphone.ringSession &&\n      !this._webphone.ringSession.minimized\n    );\n    this._showCallLogPage = !!this._callLogSection?.show;\n    if (\n      forcePush ||\n      this._lastPath !== this._router.currentPath ||\n      this._lastShowIncomingCallPage !== this._showIncomingCallPage ||\n      this._lastShowCallLogPage !== this._showCallLogPage\n    ) {\n      this._lastPath = this._router.currentPath;\n      this._lastShowIncomingCallPage = this._showIncomingCallPage;\n      this._lastShowCallLogPage = this._showCallLogPage;\n      const onCurrentCallPath = this._callLogSection\n        ? this._callLogSection.show &&\n          this._callLogSection.currentIdentify ===\n            this._activeCallControl.activeSession?.sessionId\n        : (this._router.currentPath === ACTIVE_CALL_PATH ||\n            this._router.currentPath ===\n              `${ACTIVE_CALL_PATH}/${this._webphone.activeSessionId}`) &&\n          !this._showIncomingCallPage;\n      if (\n        forcePush ||\n        this.onCurrentCallPath !== onCurrentCallPath ||\n        this._lastShowIncomingCallPage !== this._showIncomingCallPage ||\n        this._lastShowCallLogPage !== this._showCallLogPage\n      ) {\n        this.onCurrentCallPath = onCurrentCallPath;\n        this._lastShowIncomingCallPage = this._showIncomingCallPage;\n        this._lastShowCallLogPage = this._showCallLogPage;\n        this._postMessage({\n          type: this._messageTypes.pushOnCurrentCallPath,\n          onCurrentCallPath,\n        });\n      }\n      const onAllCallsPath =\n        this._router.currentPath === ALL_CALL_PATH &&\n        (this._callLogSection\n          ? !this._callLogSection.show\n          : !this._showIncomingCallPage);\n      if (forcePush || this.onAllCallsPath !== onAllCallsPath) {\n        this.onAllCallsPath = onAllCallsPath;\n        this._postMessage({\n          type: this._messageTypes.pushOnAllCallsPath,\n          onAllCallsPath,\n        });\n      }\n    }\n  }\n\n  _pushCallStartTime(forcePush: boolean) {\n    const ringingCallsLength = this._callMonitor.activeRingCalls.length;\n    const onHoldCallsLength = this._callMonitor.activeOnHoldCalls.length;\n    const otherDeviceCallsLength = this._callMonitor.otherDeviceCalls.length;\n    const currentStartTime =\n      (this._callMonitor.activeCurrentCalls &&\n        this._callMonitor.activeCurrentCalls.length > 0 &&\n        this._callMonitor.activeCurrentCalls[0].startTime) ||\n      0;\n    if (\n      forcePush ||\n      this._lastRingCallsLength !== ringingCallsLength ||\n      this._lastOnHoldCallsLength !== onHoldCallsLength ||\n      this._lastCurrentStartTime !== currentStartTime ||\n      this._otherDeviceCallsLength !== otherDeviceCallsLength\n    ) {\n      this._lastRingCallsLength = ringingCallsLength;\n      this._lastOnHoldCallsLength = onHoldCallsLength;\n      this._lastCurrentStartTime = currentStartTime;\n      this._otherDeviceCallsLength = otherDeviceCallsLength;\n      this._postMessage({\n        type: this._messageTypes.pushCalls,\n        ringingCallsLength,\n        onHoldCallsLength,\n        otherDeviceCallsLength,\n        currentStartTime,\n      });\n      this._postMessage({\n        type: this._messageTypes.pushLocale,\n        strings: this.localeStrings,\n      });\n    }\n  }\n\n  @selector\n  localeStrings = [\n    () => this._locale.ready,\n    () => this._locale.currentLocale,\n    () => this._callMonitor.activeRingCalls.length,\n    () => this._callMonitor.activeOnHoldCalls.length,\n    () => this._callMonitor.otherDeviceCalls.length,\n    (\n      localeReady,\n      currentLocale,\n      ringingCallsLength,\n      onHoldCallsLength,\n      otherDeviceCallsLength,\n    ) => {\n      const ringCallsInfo =\n        ringingCallsLength === 1\n          ? format(headerI18n.getString('incomingCall', currentLocale), {\n              numberOf: ringingCallsLength,\n            })\n          : format(headerI18n.getString('incomingCalls', currentLocale), {\n              numberOf: ringingCallsLength,\n            });\n      const onHoldCallsInfo =\n        onHoldCallsLength === 1\n          ? format(headerI18n.getString('callOnHold', currentLocale), {\n              numberOf: onHoldCallsLength,\n            })\n          : format(headerI18n.getString('callsOnHold', currentLocale), {\n              numberOf: onHoldCallsLength,\n            });\n      const otherDeviceCallsInfo =\n        otherDeviceCallsLength === 1\n          ? format(headerI18n.getString('otherDeviceCall', currentLocale), {\n              numberOf: otherDeviceCallsLength,\n            })\n          : format(headerI18n.getString('otherDeviceCalls', currentLocale), {\n              numberOf: otherDeviceCallsLength,\n            });\n      const availableBtn = presenceItemI18n.getString(\n        presenceStatus.available,\n        currentLocale,\n      );\n      const busyBtn = presenceItemI18n.getString(\n        presenceStatus.busy,\n        currentLocale,\n      );\n      const offlineBtn = presenceItemI18n.getString(\n        presenceStatus.offline,\n        currentLocale,\n      );\n      const doNotAcceptAnyCallsBtn = presenceItemI18n.getString(\n        dndStatus.doNotAcceptAnyCalls,\n        currentLocale,\n      );\n      return {\n        currentCallBtn: headerI18n.getString('currentCall', currentLocale),\n        viewCallsBtn: headerI18n.getString('viewCalls', currentLocale),\n        ringCallsInfo,\n        onHoldCallsInfo,\n        otherDeviceCallsInfo,\n        availableBtn,\n        busyBtn,\n        offlineBtn,\n        doNotAcceptAnyCallsBtn,\n      };\n    },\n  ];\n\n  @proxify\n  async _onNavigateToCurrentCall() {\n    const currentSession = this._webphone.activeSession;\n    if (currentSession) {\n      const currentCallPath = `${ACTIVE_CALL_PATH}/${currentSession.id}`;\n      this._router.push(currentCallPath);\n    }\n    if (this._userGuide && this._userGuide.started) {\n      this._userGuide.dismiss();\n    }\n    if (this._quickAccess && this._quickAccess.entered) {\n      this._quickAccess.exit();\n    }\n    if (\n      this._callLogSection &&\n      this._activeCallControl?.activeSession?.sessionId\n    ) {\n      this._callLogSection.showLogSection(\n        this._activeCallControl.activeSession.sessionId,\n      );\n    } else if (\n      this._webphone &&\n      this._webphone.ringSession &&\n      !this._webphone.ringSession.minimized\n    ) {\n      this._webphone.toggleMinimized(this._webphone.ringSession.id);\n    }\n  }\n\n  @proxify\n  async _onNavigateToViewCalls() {\n    this._router.push(ALL_CALL_PATH);\n    if (this._userGuide && this._userGuide.started) {\n      this._userGuide.dismiss();\n    }\n    if (this._quickAccess && this._quickAccess.entered) {\n      this._quickAccess.exit();\n    }\n    if (\n      this._webphone &&\n      this._webphone.ringSession &&\n      !this._webphone.ringSession.minimized\n    ) {\n      this._webphone.toggleMinimized(this._webphone.ringSession.id);\n    }\n    this._callLogSection?.closeLogSection();\n  }\n}\n"],"mappings":"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"}