{"version":3,"file":"index.js","names":["_presenceStatus","require","_di","_proxify","_selector","_CallingSettings","_Presence","_utils","_i18n","_interopRequireDefault","_AdapterModuleCoreBase","_baseActionTypes","_IframeMessageTransport","_i18n2","_dec","_class","_class2","_descriptor","e","__esModule","asyncGeneratorStep","n","t","r","o","a","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","l","Object","defineProperty","enumerable","configurable","writable","initializer","call","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","_objectSpread","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","hasOwnProperty","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","ALL_CALL_PATH","exports","ACTIVE_CALL_PATH","AdapterModuleCore","Module","deps","dep","optional","_AdapterModuleCoreBas","_super","_ref","_this","prefix","_ref$storageKey","storageKey","_ref$actionTypes","actionTypes","baseActionTypes","callingSettings","globalStorage","locale","presence","routerInteraction","webphone","callMonitor","userGuide","quickAccess","_ref$messageTransport","messageTransport","IframeMessageTransport","targetWindow","window","parent","activeCallControl","callLogSection","options","_callingSettings","_callLogSection","_activeCallControl","_userGuide","_webphone","_callMonitor","_quickAccess","_showIncomingCallPage","onAllCallsPath","onCurrentCallPath","_lastShowIncomingCallPage","_showCallLogPage","_lastShowCallLogPage","_pushOtherStateChanges","_pushRingState","_ref2","undefined","_ref2$forcePush","forcePush","ready","_postMessage","type","_messageTypes","pushLocale","strings","localeStrings","callingMode","callingModes","_pushActiveCallRingingState","_pushWebphoneRingingState","_pushCallStartTime","_pushIncomingCallPage","_pushRingoutRingingState","ringSessions","ringSessionId","_ringSessionId","pushRingState","ringing","ringSession","ringingSessions","sessions","session","callStatus","direction","status","_presence","telephonyStatus","_telephonyStatus","_this$_callLogSection","minimized","show","_lastPath","_router","currentPath","_this$_activeCallCont","currentIdentify","activeSession","sessionId","concat","activeSessionId","pushOnCurrentCallPath","pushOnAllCallsPath","ringingCallsLength","activeRingCalls","onHoldCallsLength","activeOnHoldCalls","otherDeviceCallsLength","otherDeviceCalls","currentStartTime","activeCurrentCalls","startTime","_lastRingCallsLength","_lastOnHoldCallsLength","_lastCurrentStartTime","_otherDeviceCallsLength","pushCalls","_onNavigateToCurrentCall2","regeneratorRuntime","mark","_callee","_this$_activeCallCont2","_this$_activeCallCont3","currentSession","currentCallPath","wrap","_callee$","_context","prev","next","id","started","dismiss","entered","exit","showLogSection","toggleMinimized","stop","_onNavigateToCurrentCall","_onNavigateToViewCalls2","_callee2","_this$_callLogSection2","_callee2$","_context2","closeLogSection","_onNavigateToViewCalls","AdapterModuleCoreBase","selector","_this2","_locale","currentLocale","localeReady","ringCallsInfo","format","headerI18n","getString","numberOf","onHoldCallsInfo","otherDeviceCallsInfo","availableBtn","presenceItemI18n","presenceStatus","available","busyBtn","busy","offlineBtn","offline","doNotAcceptAnyCallsBtn","dndStatus","doNotAcceptAnyCalls","currentCallBtn","viewCallsBtn","proxify"],"sources":["lib/AdapterModuleCore/index.ts"],"sourcesContent":["// @ts-nocheck\nimport { presenceStatus } from '@ringcentral-integration/commons/enums/presenceStatus.enum';\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport { proxify } from '@ringcentral-integration/commons/lib/proxy/proxify';\nimport { selector } from '@ringcentral-integration/commons/lib/selector';\nimport type { ActiveCallControl } from '@ringcentral-integration/commons/modules/ActiveCallControl';\nimport type { CallMonitor } from '@ringcentral-integration/commons/modules/CallMonitor';\nimport type { CallingSettings } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport { callingModes } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport type { GlobalStorage } from '@ringcentral-integration/commons/modules/GlobalStorage';\nimport type { Locale } from '@ringcentral-integration/commons/modules/Locale';\nimport { dndStatus } from '@ringcentral-integration/commons/modules/Presence';\nimport type { QuickAccess } from '@ringcentral-integration/commons/modules/QuickAccess';\nimport type { UserGuide } from '@ringcentral-integration/commons/modules/UserGuide';\nimport type { Webphone } from '@ringcentral-integration/commons/modules/Webphone';\nimport { format } from '@ringcentral-integration/utils';\nimport type Presence from 'ringcentral-client/build/paths/Presence';\n\nimport headerI18n from '../../components/CallMonitorBar/i18n';\nimport type { CallLogSection } from '../../modules/CallLogSection';\nimport type { RouterInteraction } from '../../modules/RouterInteraction';\nimport AdapterModuleCoreBase from '../AdapterModuleCoreBase';\nimport { baseActionTypes } from '../AdapterModuleCoreBase/baseActionTypes';\nimport IframeMessageTransport from '../IframeMessageTransport';\nimport presenceItemI18n from '../getPresenceStatusName/i18n';\n\nexport const ALL_CALL_PATH = '/calls';\nconst ACTIVE_CALL_PATH = '/calls/active';\n\n@Module({\n  deps: [\n    'CallingSettings',\n    'GlobalStorage',\n    'Locale',\n    'Presence',\n    'RouterInteraction',\n    'Storage',\n    'Webphone',\n    'CallMonitor',\n    { dep: 'ActiveCallControl', optional: true },\n    { dep: 'UserGuide', optional: true },\n    { dep: 'QuickAccess', optional: true },\n    { dep: 'CallLogSection', optional: true },\n  ],\n})\nexport default class AdapterModuleCore extends AdapterModuleCoreBase {\n  _callingSettings: CallingSettings;\n  _callLogSection: CallLogSection;\n  _activeCallControl: ActiveCallControl;\n  _userGuide: UserGuide;\n  _webphone: Webphone;\n  _callMonitor: CallMonitor;\n  _quickAccess: QuickAccess;\n  private _showIncomingCallPage: any;\n  onAllCallsPath: boolean;\n  onCurrentCallPath: boolean;\n  private _lastShowIncomingCallPage: any;\n  private _showCallLogPage: boolean;\n  private _lastShowCallLogPage: boolean;\n  constructor({\n    prefix,\n    storageKey = 'adapterCore',\n    actionTypes = baseActionTypes,\n    callingSettings,\n    globalStorage,\n    locale,\n    presence,\n    routerInteraction,\n    webphone,\n    callMonitor,\n    userGuide,\n    quickAccess,\n    messageTransport = new IframeMessageTransport({\n      targetWindow: window.parent,\n    }),\n    activeCallControl,\n    callLogSection,\n    ...options\n  }: {\n    prefix?: string;\n    storageKey?: string;\n    actionTypes?: any;\n    callingSettings?: CallingSettings;\n    globalStorage?: GlobalStorage;\n    locale?: Locale;\n    presence?: Presence;\n    routerInteraction?: RouterInteraction;\n    webphone?: Webphone;\n    callMonitor?: CallMonitor;\n    userGuide?: UserGuide;\n    quickAccess?: QuickAccess;\n    messageTransport?: any;\n    storage?: Storage;\n    activeCallControl?: ActiveCallControl;\n    callLogSection?: CallLogSection;\n  }) {\n    super({\n      prefix,\n      actionTypes,\n      locale,\n      messageTransport,\n      presence,\n      routerInteraction,\n      globalStorage,\n      storageKey,\n      ...options,\n    });\n\n    this._callingSettings = callingSettings;\n    this._webphone = webphone;\n    this._callMonitor = callMonitor;\n    this._userGuide = userGuide;\n    this._quickAccess = quickAccess;\n    this._activeCallControl = activeCallControl;\n    this._callLogSection = callLogSection;\n  }\n\n  _pushOtherStateChanges() {\n    this._pushRingState();\n  }\n\n  _pushRingState({ forcePush = false } = {}) {\n    if (!this.ready) return;\n\n    // TODO: we should refactor the entire sync logic to be more\n    // declarative and straightforward\n    if (forcePush) {\n      this._postMessage({\n        type: this._messageTypes.pushLocale,\n        strings: this.localeStrings,\n      });\n    }\n    if (!this._callingSettings) return;\n    const { callingMode } = this._callingSettings;\n    if (callingMode === callingModes.webphone) {\n      // TODO: should change to use ActiveCallControl module when introduce ActiveCallControl module into other project\n      if (this._activeCallControl) {\n        this._pushActiveCallRingingState(forcePush);\n      } else {\n        this._pushWebphoneRingingState(forcePush);\n      }\n      this._pushCallStartTime(forcePush);\n      this._pushIncomingCallPage(forcePush);\n    } else {\n      this._pushRingoutRingingState();\n    }\n  }\n\n  _pushActiveCallRingingState(forcePush) {\n    if (\n      this._activeCallControl.ringSessions.length > 0 &&\n      this._activeCallControl.ringSessionId &&\n      (this._activeCallControl.ringSessionId !== this._ringSessionId ||\n        forcePush)\n    ) {\n      this._ringSessionId = this._activeCallControl.ringSessionId;\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: true,\n      });\n    }\n    // Check if ringing is over\n    if (this._ringSessionId) {\n      if (this._activeCallControl.ringSessions.length === 0) {\n        this._postMessage({\n          type: this._messageTypes.pushRingState,\n          ringing: false,\n        });\n        this._ringSessionId = null;\n      }\n    } else {\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: false,\n      });\n    }\n  }\n\n  _pushWebphoneRingingState(forcePush) {\n    const webphone = this._webphone;\n    if (!webphone) {\n      throw new Error(\n        'webphone is a required dependency for monitoring WebRTC call',\n      );\n    }\n    if (\n      webphone.ringSession &&\n      (webphone.ringSessionId !== this._ringSessionId || forcePush)\n    ) {\n      this._ringSessionId = webphone.ringSessionId;\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: true,\n      });\n    }\n    // Check if ringing is over\n    if (this._ringSessionId) {\n      const ringingSessions = webphone.sessions.filter(\n        (session) =>\n          session.callStatus === 'webphone-session-connecting' &&\n          session.direction === 'Inbound',\n      );\n      if (ringingSessions.length === 0) {\n        this._postMessage({\n          type: this._messageTypes.pushRingState,\n          ringing: false,\n        });\n        this._ringSessionId = null;\n      }\n    } else {\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: false,\n      });\n    }\n  }\n\n  _pushRingoutRingingState() {\n    const status = this._presence.telephonyStatus;\n    if (this._presence.telephonyStatus !== this._telephonyStatus) {\n      this._postMessage({\n        type: this._messageTypes.pushRingState,\n        ringing: status === 'Ringing',\n      });\n      this._telephonyStatus = status;\n    }\n  }\n\n  _pushIncomingCallPage(forcePush: boolean) {\n    this._showIncomingCallPage = !!(\n      this._webphone &&\n      this._webphone.ringSession &&\n      !this._webphone.ringSession.minimized\n    );\n    this._showCallLogPage = !!this._callLogSection?.show;\n    if (\n      forcePush ||\n      this._lastPath !== this._router.currentPath ||\n      this._lastShowIncomingCallPage !== this._showIncomingCallPage ||\n      this._lastShowCallLogPage !== this._showCallLogPage\n    ) {\n      this._lastPath = this._router.currentPath;\n      this._lastShowIncomingCallPage = this._showIncomingCallPage;\n      this._lastShowCallLogPage = this._showCallLogPage;\n      const onCurrentCallPath = this._callLogSection\n        ? this._callLogSection.show &&\n          this._callLogSection.currentIdentify ===\n            this._activeCallControl.activeSession?.sessionId\n        : (this._router.currentPath === ACTIVE_CALL_PATH ||\n            this._router.currentPath ===\n              `${ACTIVE_CALL_PATH}/${this._webphone.activeSessionId}`) &&\n          !this._showIncomingCallPage;\n      if (\n        forcePush ||\n        this.onCurrentCallPath !== onCurrentCallPath ||\n        this._lastShowIncomingCallPage !== this._showIncomingCallPage ||\n        this._lastShowCallLogPage !== this._showCallLogPage\n      ) {\n        this.onCurrentCallPath = onCurrentCallPath;\n        this._lastShowIncomingCallPage = this._showIncomingCallPage;\n        this._lastShowCallLogPage = this._showCallLogPage;\n        this._postMessage({\n          type: this._messageTypes.pushOnCurrentCallPath,\n          onCurrentCallPath,\n        });\n      }\n      const onAllCallsPath =\n        this._router.currentPath === ALL_CALL_PATH &&\n        (this._callLogSection\n          ? !this._callLogSection.show\n          : !this._showIncomingCallPage);\n      if (forcePush || this.onAllCallsPath !== onAllCallsPath) {\n        this.onAllCallsPath = onAllCallsPath;\n        this._postMessage({\n          type: this._messageTypes.pushOnAllCallsPath,\n          onAllCallsPath,\n        });\n      }\n    }\n  }\n\n  _pushCallStartTime(forcePush: boolean) {\n    const ringingCallsLength = this._callMonitor.activeRingCalls.length;\n    const onHoldCallsLength = this._callMonitor.activeOnHoldCalls.length;\n    const otherDeviceCallsLength = this._callMonitor.otherDeviceCalls.length;\n    const currentStartTime =\n      (this._callMonitor.activeCurrentCalls &&\n        this._callMonitor.activeCurrentCalls.length > 0 &&\n        this._callMonitor.activeCurrentCalls[0].startTime) ||\n      0;\n    if (\n      forcePush ||\n      this._lastRingCallsLength !== ringingCallsLength ||\n      this._lastOnHoldCallsLength !== onHoldCallsLength ||\n      this._lastCurrentStartTime !== currentStartTime ||\n      this._otherDeviceCallsLength !== otherDeviceCallsLength\n    ) {\n      this._lastRingCallsLength = ringingCallsLength;\n      this._lastOnHoldCallsLength = onHoldCallsLength;\n      this._lastCurrentStartTime = currentStartTime;\n      this._otherDeviceCallsLength = otherDeviceCallsLength;\n      this._postMessage({\n        type: this._messageTypes.pushCalls,\n        ringingCallsLength,\n        onHoldCallsLength,\n        otherDeviceCallsLength,\n        currentStartTime,\n      });\n      this._postMessage({\n        type: this._messageTypes.pushLocale,\n        strings: this.localeStrings,\n      });\n    }\n  }\n\n  @selector\n  localeStrings = [\n    () => this._locale.ready,\n    () => this._locale.currentLocale,\n    () => this._callMonitor.activeRingCalls.length,\n    () => this._callMonitor.activeOnHoldCalls.length,\n    () => this._callMonitor.otherDeviceCalls.length,\n    (\n      localeReady,\n      currentLocale,\n      ringingCallsLength,\n      onHoldCallsLength,\n      otherDeviceCallsLength,\n    ) => {\n      const ringCallsInfo =\n        ringingCallsLength === 1\n          ? format(headerI18n.getString('incomingCall', currentLocale), {\n              numberOf: ringingCallsLength,\n            })\n          : format(headerI18n.getString('incomingCalls', currentLocale), {\n              numberOf: ringingCallsLength,\n            });\n      const onHoldCallsInfo =\n        onHoldCallsLength === 1\n          ? format(headerI18n.getString('callOnHold', currentLocale), {\n              numberOf: onHoldCallsLength,\n            })\n          : format(headerI18n.getString('callsOnHold', currentLocale), {\n              numberOf: onHoldCallsLength,\n            });\n      const otherDeviceCallsInfo =\n        otherDeviceCallsLength === 1\n          ? format(headerI18n.getString('otherDeviceCall', currentLocale), {\n              numberOf: otherDeviceCallsLength,\n            })\n          : format(headerI18n.getString('otherDeviceCalls', currentLocale), {\n              numberOf: otherDeviceCallsLength,\n            });\n      const availableBtn = presenceItemI18n.getString(\n        presenceStatus.available,\n        currentLocale,\n      );\n      const busyBtn = presenceItemI18n.getString(\n        presenceStatus.busy,\n        currentLocale,\n      );\n      const offlineBtn = presenceItemI18n.getString(\n        presenceStatus.offline,\n        currentLocale,\n      );\n      const doNotAcceptAnyCallsBtn = presenceItemI18n.getString(\n        dndStatus.doNotAcceptAnyCalls,\n        currentLocale,\n      );\n      return {\n        currentCallBtn: headerI18n.getString('currentCall', currentLocale),\n        viewCallsBtn: headerI18n.getString('viewCalls', currentLocale),\n        ringCallsInfo,\n        onHoldCallsInfo,\n        otherDeviceCallsInfo,\n        availableBtn,\n        busyBtn,\n        offlineBtn,\n        doNotAcceptAnyCallsBtn,\n      };\n    },\n  ];\n\n  @proxify\n  async _onNavigateToCurrentCall() {\n    const currentSession = this._webphone.activeSession;\n    if (currentSession) {\n      const currentCallPath = `${ACTIVE_CALL_PATH}/${currentSession.id}`;\n      this._router.push(currentCallPath);\n    }\n    if (this._userGuide && this._userGuide.started) {\n      this._userGuide.dismiss();\n    }\n    if (this._quickAccess && this._quickAccess.entered) {\n      this._quickAccess.exit();\n    }\n    if (\n      this._callLogSection &&\n      this._activeCallControl?.activeSession?.sessionId\n    ) {\n      this._callLogSection.showLogSection(\n        this._activeCallControl.activeSession.sessionId,\n      );\n    } else if (\n      this._webphone &&\n      this._webphone.ringSession &&\n      !this._webphone.ringSession.minimized\n    ) {\n      this._webphone.toggleMinimized(this._webphone.ringSession.id);\n    }\n  }\n\n  @proxify\n  async _onNavigateToViewCalls() {\n    this._router.push(ALL_CALL_PATH);\n    if (this._userGuide && this._userGuide.started) {\n      this._userGuide.dismiss();\n    }\n    if (this._quickAccess && this._quickAccess.entered) {\n      this._quickAccess.exit();\n    }\n    if (\n      this._webphone &&\n      this._webphone.ringSession &&\n      !this._webphone.ringSession.minimized\n    ) {\n      this._webphone.toggleMinimized(this._webphone.ringSession.id);\n    }\n    this._callLogSection?.closeLogSection();\n  }\n}\n"],"mappings":"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","ignoreList":[]}