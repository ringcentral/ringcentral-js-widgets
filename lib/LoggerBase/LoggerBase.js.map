{"version":3,"file":"LoggerBase.js","names":["_core","require","_proxify","_loggerBaseHelper","_dec","_class","_descriptor","_objectWithoutProperties","e","t","o","r","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","n","length","indexOf","propertyIsEnumerable","call","hasOwnProperty","asyncGeneratorStep","a","c","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","l","defineProperty","enumerable","configurable","writable","initializer","ownKeys","keys","filter","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_get","Reflect","get","bind","p","_superPropBase","_getPrototypeOf","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","_isNativeReflectConstruct","s","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","LoggerBase","computed","that","loggingList","_RcModuleV","_super","deps","options","_this","_identityFunction","defaultIdentityFunction","_logFunction","_readyCheckFunction","_logPromises","Map","setLoggingList","id","filterLoggingListById","item","resetLoggingList","_shouldInit","_shouldReset","ready","onReset","_log2","regeneratorRuntime","mark","_callee","_ref","promise","wrap","_callee$","_context","prev","next","concat","name","has","set","t0","stop","_log","_x","_log3","_callee2","_ref2","_callee2$","_context2","log","_x2","convertListToMap","RcModuleV2","state","action","proxify","exports"],"sources":["lib/LoggerBase/LoggerBase.ts"],"sourcesContent":["import {\n  action,\n  computed,\n  RcModuleV2,\n  state,\n} from '@ringcentral-integration/core';\n\nimport { proxify } from '../proxy/proxify';\n\nimport type { Deps, LogOptions, Options } from './LoggerBase.interface';\nimport { convertListToMap, defaultIdentityFunction } from './loggerBaseHelper';\n\nexport abstract class LoggerBase<T extends Deps = Deps> extends RcModuleV2<T> {\n  protected _identityFunction: (...args: any) => string =\n    defaultIdentityFunction;\n\n  abstract _logFunction: <P, S>(options: LogOptions<P, S>) => Promise<void>;\n\n  abstract _readyCheckFunction: () => boolean;\n\n  protected _logPromises = new Map<string, Promise<void>>();\n\n  constructor(deps: T, options: Options) {\n    super({\n      deps,\n      ...options,\n    });\n  }\n\n  @state\n  loggingList: string[] = [];\n\n  @action\n  setLoggingList(id: string) {\n    if (this.loggingList.indexOf(id) === -1) {\n      this.loggingList.push(id);\n    }\n  }\n\n  @action\n  filterLoggingListById(id: string) {\n    this.loggingList = this.loggingList.filter((item) => item !== id);\n  }\n\n  @action\n  resetLoggingList() {\n    this.loggingList = [];\n  }\n\n  override _shouldInit() {\n    return !!(super._shouldInit() && this._readyCheckFunction());\n  }\n\n  override _shouldReset() {\n    return !!(\n      super._shouldReset() ||\n      (this.ready && !this._readyCheckFunction())\n    );\n  }\n\n  override onReset() {\n    this.resetLoggingList();\n  }\n\n  @proxify\n  async _log<P, S>({ item, ...options }: LogOptions<P, S>) {\n    if (!this.ready) {\n      throw new Error(`${this.constructor.name}._log: module is not ready.`);\n    }\n    if (!item) {\n      throw new Error(\n        `${this.constructor.name}._log: options.item is undefined.`,\n      );\n    }\n\n    const id = this._identityFunction(item);\n    // wait for the previous log action to finish\n    if (this._logPromises.has(id)) {\n      await this._logPromises.get(id);\n    }\n    try {\n      this.setLoggingList(id);\n      const promise = this._logFunction({ item, ...options });\n      this._logPromises.set(id, promise);\n      await promise;\n      this._logPromises.delete(id);\n      this.filterLoggingListById(id);\n    } catch (error: any /** TODO: confirm with instanceof */) {\n      this._logPromises.delete(id);\n      this.filterLoggingListById(id);\n      throw error;\n    }\n  }\n\n  @proxify\n  async log<P, S>({ item, ...options }: LogOptions<P, S>) {\n    if (!this.ready) {\n      throw new Error(`${this.constructor.name}.log: module is not ready.`);\n    }\n    if (!item) {\n      throw new Error(\n        `${this.constructor.name}.log: options.item is undefined.`,\n      );\n    }\n    await this._log({ item, ...options });\n  }\n\n  @computed((that: LoggerBase) => [that.loggingList])\n  get loggingMap() {\n    return convertListToMap(this.loggingList);\n  }\n}\n"],"mappings":"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","ignoreList":[]}