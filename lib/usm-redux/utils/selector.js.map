{"version":3,"file":"selector.js","names":["_isEqual","require","defaultMemoize","func","lastArgs","Map","lastResult","_lastArgs$get","areShallowEqualWithArray","get","arguments","set","apply","createSelectorCreatorWithArray","memoize","length","undefined","dependenciesFunc","resultFunc","memoizedResultFunc","createSelectorWithArray","exports"],"sources":["lib/usm-redux/utils/selector.ts"],"sourcesContent":["/* eslint-disable func-names */\n\n/* eslint-disable prefer-rest-params */\nimport { areShallowEqualWithArray } from './isEqual';\n\nexport function defaultMemoize(func: Function) {\n  const lastArgs: Map<any, IArguments | null> = new Map();\n  const lastResult: Map<any, unknown> = new Map();\n  return function (this: ThisType<unknown>) {\n    if (!areShallowEqualWithArray(lastArgs.get(this) ?? [], arguments)) {\n      lastResult.set(this, func.apply(this, arguments));\n    }\n    lastArgs.set(this, arguments);\n    return lastResult.get(this);\n  };\n}\n\nconst createSelectorCreatorWithArray = (memoize: Function = defaultMemoize) => {\n  return (dependenciesFunc: Function, resultFunc: Function) => {\n    const memoizedResultFunc = memoize(function (this: ThisType<unknown>) {\n      return resultFunc.apply(this, arguments);\n    });\n    return function (this: ThisType<unknown>) {\n      return memoizedResultFunc.apply(\n        this,\n        dependenciesFunc.apply(null, [this]),\n      );\n    };\n  };\n};\n\nexport const createSelectorWithArray = createSelectorCreatorWithArray();\n"],"mappings":";;;;;;;;;;;;AAGA,IAAAA,QAAA,GAAAC,OAAA;AAHA;;AAEA;;AAGO,SAASC,cAAcA,CAACC,IAAc,EAAE;EAC7C,IAAMC,QAAqC,GAAG,IAAIC,GAAG,CAAC,CAAC;EACvD,IAAMC,UAA6B,GAAG,IAAID,GAAG,CAAC,CAAC;EAC/C,OAAO,YAAmC;IAAA,IAAAE,aAAA;IACxC,IAAI,CAAC,IAAAC,iCAAwB,GAAAD,aAAA,GAACH,QAAQ,CAACK,GAAG,CAAC,IAAI,CAAC,cAAAF,aAAA,cAAAA,aAAA,GAAI,EAAE,EAAEG,SAAS,CAAC,EAAE;MAClEJ,UAAU,CAACK,GAAG,CAAC,IAAI,EAAER,IAAI,CAACS,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,CAAC;IACnD;IACAN,QAAQ,CAACO,GAAG,CAAC,IAAI,EAAED,SAAS,CAAC;IAC7B,OAAOJ,UAAU,CAACG,GAAG,CAAC,IAAI,CAAC;EAC7B,CAAC;AACH;AAEA,IAAMI,8BAA8B,GAAG,SAAjCA,8BAA8BA,CAAA,EAA2C;EAAA,IAAvCC,OAAiB,GAAAJ,SAAA,CAAAK,MAAA,QAAAL,SAAA,QAAAM,SAAA,GAAAN,SAAA,MAAGR,cAAc;EACxE,OAAO,UAACe,gBAA0B,EAAEC,UAAoB,EAAK;IAC3D,IAAMC,kBAAkB,GAAGL,OAAO,CAAC,YAAmC;MACpE,OAAOI,UAAU,CAACN,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;IAC1C,CAAC,CAAC;IACF,OAAO,YAAmC;MACxC,OAAOS,kBAAkB,CAACP,KAAK,CAC7B,IAAI,EACJK,gBAAgB,CAACL,KAAK,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,CACrC,CAAC;IACH,CAAC;EACH,CAAC;AACH,CAAC;AAEM,IAAMQ,uBAAuB,GAAGP,8BAA8B,CAAC,CAAC;AAACQ,OAAA,CAAAD,uBAAA,GAAAA,uBAAA","ignoreList":[]}