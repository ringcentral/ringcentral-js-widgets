{"version":3,"file":"createApp.js","names":["_core","require","_di","createApp","Main","reduxEnhancer","main","Injector","bootstrap","modules","_deps","createAppWithRcModuleV2","exports"],"sources":["lib/createApp.ts"],"sourcesContent":["import type { RcModuleV2 } from '@ringcentral-integration/core';\nimport { createApp as createAppWithRcModuleV2 } from '@ringcentral-integration/core';\nimport type { StoreEnhancer } from 'redux';\n\nimport { Injector } from './di';\n\n/**\n * Create app with FactoryModule based on RcModuleV2.\n * !! Please ensure that all dependency injection modules are based on the RcModuleV2 module.\n */\nexport const createApp = <T extends new (...args: any) => any>(\n  Main: T,\n  reduxEnhancer?: StoreEnhancer,\n) => {\n  const main = Injector.bootstrap(Main);\n  const modules: Record<string, RcModuleV2> = main._deps;\n  createAppWithRcModuleV2({\n    main,\n    modules,\n    reduxEnhancer,\n  });\n  return main as InstanceType<T>;\n};\n"],"mappings":";;;;;;AACA,IAAAA,KAAA,GAAAC,OAAA;AAGA,IAAAC,GAAA,GAAAD,OAAA;AAEA;AACA;AACA;AACA;AACO,IAAME,SAAS,GAAG,SAAZA,SAASA,CACpBC,IAAO,EACPC,aAA6B,EAC1B;EACH,IAAMC,IAAI,GAAGC,YAAQ,CAACC,SAAS,CAACJ,IAAI,CAAC;EACrC,IAAMK,OAAmC,GAAGH,IAAI,CAACI,KAAK;EACtD,IAAAC,eAAuB,EAAC;IACtBL,IAAI,EAAJA,IAAI;IACJG,OAAO,EAAPA,OAAO;IACPJ,aAAa,EAAbA;EACF,CAAC,CAAC;EACF,OAAOC,IAAI;AACb,CAAC;AAACM,OAAA,CAAAT,SAAA,GAAAA,SAAA","ignoreList":[]}