{"version":3,"file":"WebpackCommandPlugin.js","names":["_execa","_interopRequireDefault","require","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_classCallCheck","a","n","TypeError","_defineProperties","r","t","length","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","i","_toPrimitive","toPrimitive","call","String","Number","WebpackCommandPlugin","_ref","command","isRunning","value","apply","compiler","_this","hooks","afterEmit","tap","compilation","execa","stdio","exports"],"sources":["lib/getBaseWebpackConfig/WebpackCommandPlugin.ts"],"sourcesContent":["import execa from 'execa';\nimport type { Compiler } from 'webpack';\n\ninterface PluginOptions {\n  /**\n   * exec command\n   */\n  command: string;\n}\n\nexport class WebpackCommandPlugin {\n  /**\n   * exec command\n   */\n  private command: string;\n\n  private isRunning = false;\n\n  constructor({ command }: PluginOptions) {\n    this.command = command;\n  }\n\n  apply(compiler: Compiler) {\n    compiler.hooks.afterEmit.tap('AfterEmitPlugin', (compilation) => {\n      if (this.isRunning) return;\n      execa.command(this.command, {\n        stdio: 'inherit',\n      });\n      this.isRunning = true;\n    });\n  }\n}\n"],"mappings":";;;;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,QAAAC,CAAA,sCAAAD,OAAA,wBAAAE,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAF,CAAA,kBAAAA,CAAA,gBAAAA,CAAA,WAAAA,CAAA,yBAAAC,MAAA,IAAAD,CAAA,CAAAG,WAAA,KAAAF,MAAA,IAAAD,CAAA,KAAAC,MAAA,CAAAG,SAAA,qBAAAJ,CAAA,KAAAD,OAAA,CAAAC,CAAA;AAAA,SAAAK,gBAAAC,CAAA,EAAAC,CAAA,UAAAD,CAAA,YAAAC,CAAA,aAAAC,SAAA;AAAA,SAAAC,kBAAAZ,CAAA,EAAAa,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAD,CAAA,CAAAE,MAAA,EAAAD,CAAA,UAAAX,CAAA,GAAAU,CAAA,CAAAC,CAAA,GAAAX,CAAA,CAAAa,UAAA,GAAAb,CAAA,CAAAa,UAAA,QAAAb,CAAA,CAAAc,YAAA,kBAAAd,CAAA,KAAAA,CAAA,CAAAe,QAAA,QAAAC,MAAA,CAAAC,cAAA,CAAApB,CAAA,EAAAqB,cAAA,CAAAlB,CAAA,CAAAmB,GAAA,GAAAnB,CAAA;AAAA,SAAAoB,aAAAvB,CAAA,EAAAa,CAAA,EAAAC,CAAA,WAAAD,CAAA,IAAAD,iBAAA,CAAAZ,CAAA,CAAAO,SAAA,EAAAM,CAAA,GAAAC,CAAA,IAAAF,iBAAA,CAAAZ,CAAA,EAAAc,CAAA,GAAAK,MAAA,CAAAC,cAAA,CAAApB,CAAA,iBAAAkB,QAAA,SAAAlB,CAAA;AAAA,SAAAqB,eAAAP,CAAA,QAAAU,CAAA,GAAAC,YAAA,CAAAX,CAAA,gCAAAZ,OAAA,CAAAsB,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAX,CAAA,EAAAD,CAAA,oBAAAX,OAAA,CAAAY,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAd,CAAA,GAAAc,CAAA,CAAAV,MAAA,CAAAsB,WAAA,kBAAA1B,CAAA,QAAAwB,CAAA,GAAAxB,CAAA,CAAA2B,IAAA,CAAAb,CAAA,EAAAD,CAAA,gCAAAX,OAAA,CAAAsB,CAAA,UAAAA,CAAA,YAAAb,SAAA,yEAAAE,CAAA,GAAAe,MAAA,GAAAC,MAAA,EAAAf,CAAA;AAAA,IAUbgB,oBAAoB;EAQ/B,SAAAA,qBAAAC,IAAA,EAAwC;IAAA,IAA1BC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAAAxB,eAAA,OAAAsB,oBAAA;IAPrB;AACF;AACA;IAFE,KAGQE,OAAO;IAAA,KAEPC,SAAS,GAAG,KAAK;IAGvB,IAAI,CAACD,OAAO,GAAGA,OAAO;EACxB;EAACT,YAAA,CAAAO,oBAAA;IAAAR,GAAA;IAAAY,KAAA,WAAAC,MAEKC,QAAkB,EAAE;MAAA,IAAAC,KAAA;MACxBD,QAAQ,CAACE,KAAK,CAACC,SAAS,CAACC,GAAG,CAAC,iBAAiB,EAAE,UAACC,WAAW,EAAK;QAC/D,IAAIJ,KAAI,CAACJ,SAAS,EAAE;QACpBS,iBAAK,CAACV,OAAO,CAACK,KAAI,CAACL,OAAO,EAAE;UAC1BW,KAAK,EAAE;QACT,CAAC,CAAC;QACFN,KAAI,CAACJ,SAAS,GAAG,IAAI;MACvB,CAAC,CAAC;IACJ;EAAC;EAAA,OAAAH,oBAAA;AAAA;AAAAc,OAAA,CAAAd,oBAAA,GAAAA,oBAAA","ignoreList":[]}