{"version":3,"file":"WebpackCommandPlugin.js","names":["_execa","_interopRequireDefault","require","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","Number","WebpackCommandPlugin","_ref","command","isRunning","value","apply","compiler","_this","hooks","afterEmit","tap","compilation","execa","stdio","exports"],"sources":["lib/getBaseWebpackConfig/WebpackCommandPlugin.ts"],"sourcesContent":["import execa from 'execa';\nimport type { Compiler } from 'webpack';\n\ninterface PluginOptions {\n  /**\n   * exec command\n   */\n  command: string;\n}\n\nexport class WebpackCommandPlugin {\n  /**\n   * exec command\n   */\n  private command: string;\n\n  private isRunning = false;\n\n  constructor({ command }: PluginOptions) {\n    this.command = command;\n  }\n\n  apply(compiler: Compiler) {\n    compiler.hooks.afterEmit.tap('AfterEmitPlugin', (compilation) => {\n      if (this.isRunning) return;\n      execa.command(this.command, {\n        stdio: 'inherit',\n      });\n      this.isRunning = true;\n    });\n  }\n}\n"],"mappings":";;;;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAAA,SAAAE,QAAAF,GAAA,sCAAAE,OAAA,wBAAAC,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAJ,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAAG,MAAA,IAAAH,GAAA,CAAAK,WAAA,KAAAF,MAAA,IAAAH,GAAA,KAAAG,MAAA,CAAAG,SAAA,qBAAAN,GAAA,KAAAE,OAAA,CAAAF,GAAA;AAAA,SAAAO,gBAAAC,QAAA,EAAAC,WAAA,UAAAD,QAAA,YAAAC,WAAA,eAAAC,SAAA;AAAA,SAAAC,kBAAAC,MAAA,EAAAC,KAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAD,KAAA,CAAAE,MAAA,EAAAD,CAAA,UAAAE,UAAA,GAAAH,KAAA,CAAAC,CAAA,GAAAE,UAAA,CAAAC,UAAA,GAAAD,UAAA,CAAAC,UAAA,WAAAD,UAAA,CAAAE,YAAA,wBAAAF,UAAA,EAAAA,UAAA,CAAAG,QAAA,SAAAC,MAAA,CAAAC,cAAA,CAAAT,MAAA,EAAAU,cAAA,CAAAN,UAAA,CAAAO,GAAA,GAAAP,UAAA;AAAA,SAAAQ,aAAAf,WAAA,EAAAgB,UAAA,EAAAC,WAAA,QAAAD,UAAA,EAAAd,iBAAA,CAAAF,WAAA,CAAAH,SAAA,EAAAmB,UAAA,OAAAC,WAAA,EAAAf,iBAAA,CAAAF,WAAA,EAAAiB,WAAA,GAAAN,MAAA,CAAAC,cAAA,CAAAZ,WAAA,iBAAAU,QAAA,mBAAAV,WAAA;AAAA,SAAAa,eAAAK,GAAA,QAAAJ,GAAA,GAAAK,YAAA,CAAAD,GAAA,oBAAAzB,OAAA,CAAAqB,GAAA,iBAAAA,GAAA,GAAAM,MAAA,CAAAN,GAAA;AAAA,SAAAK,aAAAE,KAAA,EAAAC,IAAA,QAAA7B,OAAA,CAAA4B,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAA3B,MAAA,CAAA8B,WAAA,OAAAD,IAAA,KAAAE,SAAA,QAAAC,GAAA,GAAAH,IAAA,CAAAI,IAAA,CAAAN,KAAA,EAAAC,IAAA,oBAAA7B,OAAA,CAAAiC,GAAA,uBAAAA,GAAA,YAAAzB,SAAA,4DAAAqB,IAAA,gBAAAF,MAAA,GAAAQ,MAAA,EAAAP,KAAA;AAAA,IAUbQ,oBAAoB;EAQ/B,SAAAA,qBAAAC,IAAA,EAAwC;IAAA,IAA1BC,OAAO,GAAAD,IAAA,CAAPC,OAAO;IAAAjC,eAAA,OAAA+B,oBAAA;IAPrB;AACF;AACA;IAFE,KAGQE,OAAO;IAAA,KAEPC,SAAS,GAAG,KAAK;IAGvB,IAAI,CAACD,OAAO,GAAGA,OAAO;EACxB;EAAChB,YAAA,CAAAc,oBAAA;IAAAf,GAAA;IAAAmB,KAAA,WAAAC,MAEKC,QAAkB,EAAE;MAAA,IAAAC,KAAA;MACxBD,QAAQ,CAACE,KAAK,CAACC,SAAS,CAACC,GAAG,CAAC,iBAAiB,EAAE,UAACC,WAAW,EAAK;QAC/D,IAAIJ,KAAI,CAACJ,SAAS,EAAE;QACpBS,iBAAK,CAACV,OAAO,CAACK,KAAI,CAACL,OAAO,EAAE;UAC1BW,KAAK,EAAE;QACT,CAAC,CAAC;QACFN,KAAI,CAACJ,SAAS,GAAG,IAAI;MACvB,CAAC,CAAC;IACJ;EAAC;EAAA,OAAAH,oBAAA;AAAA;AAAAc,OAAA,CAAAd,oBAAA,GAAAA,oBAAA"}