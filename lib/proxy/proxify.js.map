{"version":3,"file":"proxify.js","names":["proxify","prototype","property","descriptor","configurable","enumerable","value","proxyFn","_len","arguments","length","args","Array","_key","_transport","call","apply","concat","functionPath","modulePath","request","payload","type","_proxyActionTypes","execute","_default","exports"],"sources":["lib/proxy/proxify.ts"],"sourcesContent":["// @ts-nocheck\nexport function proxify(\n  prototype: object,\n  property: string,\n  descriptor: TypedPropertyDescriptor<(...args: any) => Promise<any>>,\n) {\n  const { configurable, enumerable, value } = descriptor;\n\n  function proxyFn(\n    // TODO: fix type\n    this: {\n      _transport: any;\n      modulePath: string;\n      _proxyActionTypes: Record<string, string>;\n    },\n    ...args: any\n  ) {\n    if (!this._transport) {\n      return value.call(this, ...args);\n    }\n    const functionPath = `${this.modulePath}.${property}`;\n    return this._transport.request({\n      payload: {\n        type: this._proxyActionTypes.execute,\n        functionPath,\n        args,\n      },\n    });\n  }\n  return {\n    configurable,\n    enumerable,\n    value: proxyFn,\n  };\n}\n\nexport default proxify;\n"],"mappings":";;;;;;;;AAAA;AACO,SAASA,OAAOA,CACrBC,SAAiB,EACjBC,QAAgB,EAChBC,UAAmE,EACnE;EAAA,IACQC,YAAY,GAAwBD,UAAU,CAA9CC,YAAY;IAAEC,UAAU,GAAYF,UAAU,CAAhCE,UAAU;IAAEC,KAAK,GAAKH,UAAU,CAApBG,KAAK;EAEvC,SAASC,OAAOA,CAAA,EAQd;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EADGC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAEP,IAAI,CAAC,IAAI,CAACC,UAAU,EAAE;MACpB,OAAOR,KAAK,CAACS,IAAI,CAAAC,KAAA,CAAVV,KAAK,GAAM,IAAI,EAAAW,MAAA,CAAKN,IAAI,EAAC;IAClC;IACA,IAAMO,YAAY,MAAAD,MAAA,CAAM,IAAI,CAACE,UAAU,OAAAF,MAAA,CAAIf,QAAQ,CAAE;IACrD,OAAO,IAAI,CAACY,UAAU,CAACM,OAAO,CAAC;MAC7BC,OAAO,EAAE;QACPC,IAAI,EAAE,IAAI,CAACC,iBAAiB,CAACC,OAAO;QACpCN,YAAY,EAAZA,YAAY;QACZP,IAAI,EAAJA;MACF;IACF,CAAC,CAAC;EACJ;EACA,OAAO;IACLP,YAAY,EAAZA,YAAY;IACZC,UAAU,EAAVA,UAAU;IACVC,KAAK,EAAEC;EACT,CAAC;AACH;AAAC,IAAAkB,QAAA,GAEczB,OAAO;AAAA0B,OAAA,cAAAD,QAAA"}