{"version":3,"file":"getProxyServer.js","names":["_ensureExist","_interopRequireDefault","require","_RcModule2","_baseActionTypes","_getProxyServerReducer","obj","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","Array","isArray","_arrayLikeToArray","_toArray","_arrayWithHoles","_nonIterableRest","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","from","test","len","length","i","arr2","iter","Symbol","iterator","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","configurable","writable","_toPrimitive","_typeof","String","input","hint","prim","toPrimitive","res","Number","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","_classCallCheck","instance","Constructor","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","defaultVerifyModuleFunc","module","RcModule","getProxyServer","createTarget","verifyModuleFunc","_RcModule","_class","_super","_ref","_this","transport","options","actionTypes","baseActionTypes","_target","_getState","state","_loop","subModule","hasOwnProperty","get","_getStateV2","_transport","ensureExist","_reducer","getProxyServerReducer","moduleReducer","reducer","prefix","on","events","request","_ref3","regeneratorRuntime","mark","_callee","_ref2","requestId","_ref2$payload","type","functionPath","actionNumber","_functionPath$split$s","_functionPath$split$s2","pathTokens","fnName","wrap","_callee$","_context","prev","next","payload","t0","execute","sync","split","pop","token","sent","response","t1","abrupt","Error","concat","stop","_x"],"sources":["lib/proxy/getProxyServer.ts"],"sourcesContent":["import ensureExist from '../ensureExist';\nimport RcModule from '../RcModule';\nimport baseActionTypes from './baseActionTypes';\nimport getProxyServerReducer from './getProxyServerReducer';\n\nconst defaultVerifyModuleFunc = (module) => module instanceof RcModule;\n\nexport default function getProxyServer(\n  createTarget,\n  verifyModuleFunc = defaultVerifyModuleFunc,\n) {\n  return class extends RcModule {\n    constructor({ transport, ...options }) {\n      super({\n        ...options,\n        actionTypes: baseActionTypes,\n      });\n      this._target = createTarget({\n        ...options,\n      });\n      this._target._getState = () => this.state.target;\n      for (const subModule in this._target) {\n        if (\n          Object.prototype.hasOwnProperty.call(this._target, subModule) &&\n          verifyModuleFunc(this._target[subModule])\n        ) {\n          Object.defineProperty(this, subModule, {\n            configurable: false,\n            enumerable: true,\n            get() {\n              return this._target[subModule];\n            },\n          });\n          this[subModule]._getStateV2 = (state, key) => state.target[key];\n        }\n      }\n\n      this._transport = ensureExist.call(this, transport, 'transport');\n      this._reducer = getProxyServerReducer({\n        moduleReducer: this._target.reducer,\n        transport,\n        prefix: this.prefix,\n      });\n\n      transport.on(\n        transport.events.request,\n        async ({\n          requestId,\n          payload: { type, functionPath, args, actionNumber },\n        }) => {\n          switch (type) {\n            case this.actionTypes.execute:\n              {\n                const [...pathTokens] = functionPath.split('.').slice(1);\n                const fnName = pathTokens.pop();\n                let target = this._target;\n                pathTokens.forEach((token) => {\n                  target = target[token];\n                });\n                try {\n                  const result = await target[fnName](...args);\n                  transport.response({\n                    requestId,\n                    result,\n                  });\n                } catch (error: any /** TODO: confirm with instanceof */) {\n                  transport.response({\n                    requestId,\n                    error,\n                  });\n                }\n              }\n              break;\n            case this.actionTypes.sync: {\n              if (actionNumber !== this.state.actionNumber) {\n                transport.response({\n                  requestId,\n                  result: this.state,\n                });\n              } else {\n                transport.response({\n                  requestId,\n                  error: new Error('State is already up to date.'),\n                });\n              }\n              break;\n            }\n            default:\n              transport.response({\n                requestId,\n                error: new Error(`Invalid request type '${type}'.`),\n              });\n              break;\n          }\n        },\n      );\n    }\n  };\n}\n"],"mappings":"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"}