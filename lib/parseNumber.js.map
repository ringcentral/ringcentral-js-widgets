{"version":3,"file":"parseNumber.js","names":["_Call","require","_phoneNumber","_enums","_EvTypeError","parseNumber","input","_parse","parse","parsedNumber","isValid","hasInvalidChars","EvTypeError","type","callErrors","emergencyNumber","messageTypes","INVALID_NUMBER","exports"],"sources":["lib/parseNumber.ts"],"sourcesContent":["import { callErrors } from '@ringcentral-integration/commons/modules/Call';\nimport { parse } from '@ringcentral-integration/phone-number';\n\nimport { messageTypes } from '../enums';\nimport { EvTypeError } from './EvTypeError';\n\nexport const parseNumber = (input: string) => {\n  const { parsedNumber, isValid, hasInvalidChars } = parse({\n    input,\n  });\n\n  if (input === '911' || input === '933' || input === '112') {\n    throw new EvTypeError({\n      type: callErrors.emergencyNumber,\n    });\n  }\n\n  if (!isValid || hasInvalidChars || !parsedNumber) {\n    throw new EvTypeError({\n      type: messageTypes.INVALID_NUMBER,\n    });\n  }\n\n  return parsedNumber;\n};\n"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAEA,IAAAE,MAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AAEO,IAAMI,WAAW,GAAG,SAAdA,WAAWA,CAAIC,KAAa,EAAK;EAAA,IAAAC,MAAA,GACO,IAAAC,kBAAK,EAAC;MACvDF,KAAK,EAALA;IACF,CAAC,CAAC;IAFMG,YAAY,GAAAF,MAAA,CAAZE,YAAY;IAAEC,OAAO,GAAAH,MAAA,CAAPG,OAAO;IAAEC,eAAe,GAAAJ,MAAA,CAAfI,eAAe;EAI9C,IAAIL,KAAK,KAAK,KAAK,IAAIA,KAAK,KAAK,KAAK,IAAIA,KAAK,KAAK,KAAK,EAAE;IACzD,MAAM,IAAIM,wBAAW,CAAC;MACpBC,IAAI,EAAEC,gBAAU,CAACC;IACnB,CAAC,CAAC;EACJ;EAEA,IAAI,CAACL,OAAO,IAAIC,eAAe,IAAI,CAACF,YAAY,EAAE;IAChD,MAAM,IAAIG,wBAAW,CAAC;MACpBC,IAAI,EAAEG,mBAAY,CAACC;IACrB,CAAC,CAAC;EACJ;EAEA,OAAOR,YAAY;AACrB,CAAC;AAACS,OAAA,CAAAb,WAAA,GAAAA,WAAA"}