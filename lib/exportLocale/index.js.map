{"version":3,"file":"index.js","names":["_path","_interopRequireDefault","require","_fsExtra","_ramda","_compileLocaleData","_defaultConfig","_generateData","obj","__esModule","writeData","_ref","localizationFolder","data","ext","fs","ensureDirSync","forEach","locale","fileName","path","resolve","concat","writeFileSync","JSON","stringify","Object","keys","exportLocale","_ref2","arguments","length","undefined","_ref2$sourceFolder","sourceFolder","defaultConfig","_ref2$localizationFol","_ref2$sourceLocale","sourceLocale","supportedLocales","_ref2$translationLoca","translationLocales","_ref2$exportType","exportType","_ref2$fillEmptyWithSo","fillEmptyWithSource","_ref2$json","json","_ref2$writeFile","writeFile","Error","localeData","compileLocaleData","generateJsonData","generateXlfData"],"sources":["lib/exportLocale/index.js"],"sourcesContent":["import path from 'path';\nimport fs from 'fs-extra';\nimport { forEach } from 'ramda';\nimport compileLocaleData from '../compileLocaleData';\nimport defaultConfig from '../defaultConfig';\nimport { generateXlfData, generateJsonData } from '../generateData';\n\nexport function writeData({ localizationFolder, data, ext }) {\n  fs.ensureDirSync(localizationFolder);\n  forEach((locale) => {\n    const fileName = path.resolve(localizationFolder, `${locale}.${ext}`);\n    fs.writeFileSync(\n      fileName,\n      ext === 'json' ? JSON.stringify(data[locale], null, 2) : data[locale],\n    );\n  }, Object.keys(data));\n}\n\nexport default function exportLocale({\n  sourceFolder = defaultConfig.sourceFolder,\n  localizationFolder = defaultConfig.localizationFolder,\n  sourceLocale = defaultConfig.sourceLocale,\n  supportedLocales,\n  translationLocales = supportedLocales,\n  exportType = 'diff',\n  fillEmptyWithSource = true,\n  json = false,\n  writeFile = true,\n} = {}) {\n  if (!supportedLocales) {\n    throw new Error('options.supportedLocales is missing');\n  }\n  const localeData = compileLocaleData({\n    sourceFolder,\n    sourceLocale,\n    translationLocales,\n  });\n  const data = json\n    ? generateJsonData({\n        localeData,\n        sourceFolder,\n        sourceLocale,\n        translationLocales,\n      })\n    : generateXlfData({\n        localeData,\n        sourceFolder,\n        sourceLocale,\n        translationLocales,\n        exportType,\n        fillEmptyWithSource,\n      });\n  if (writeFile) {\n    return writeData({\n      data,\n      localizationFolder,\n      ext: json ? 'json' : 'xlf',\n    });\n  }\n  return data;\n}\n"],"mappings":"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"}