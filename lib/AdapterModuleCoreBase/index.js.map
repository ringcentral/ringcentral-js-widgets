{"version":3,"sources":["lib/AdapterModuleCoreBase/index.js"],"names":["AdapterModuleCoreBase","deps","prefix","storageKey","messageTypes","baseMessageTypes","actionTypes","baseActionTypes","globalStorage","locale","presence","routerInteraction","getGlobalStorageReducer","getDefaultGlobalStorageReducer","messageTransport","IframeMessageTransport","targetWindow","window","parent","options","_messageTypes","ObjectMap","prefixValues","_locale","ensureExist","call","_messageTransport","_presence","_router","_storageKey","_globalStorage","registerReducer","key","reducer","_reducer","addListener","msg","_onMessage","store","subscribe","_onStateChange","pending","ready","_shouldInit","dispatch","type","init","_pushAdapterState","_pushOtherStateChanges","initSuccess","_pushPresence","_pushLocale","console","log","_lastDndStatus","dndStatus","_lastUserStatus","userStatus","_lastTelephonyStatus","telephonyStatus","_postMessage","pushPresence","presenceOption","_lastLocale","currentLocale","pushLocale","strings","localeStrings","data","postMessage","_lastClosed","closed","_lastMinimized","minimized","_lastPosition","translateX","position","translateY","minTranslateX","minTranslateY","pushAdapterState","size","syncClosed","_syncClosed","syncMinimized","_syncMinimized","syncSize","_syncSize","syncPosition","_syncPosition","presenceItemClicked","_onPresenceItemClicked","presenceType","navigateToCurrentCall","_onNavigateToCurrentCall","navigateToViewCalls","_onNavigateToViewCalls","popOut","_onPopOut","presenceData","setPresence","showAdapter","Error","showClientWindow","state","status","moduleStatuses","getItem","RcModule","proxify"],"mappings":"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","sourcesContent":["import RcModule from '@ringcentral-integration/commons/lib/RcModule';\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport proxify from '@ringcentral-integration/commons/lib/proxy/proxify';\nimport ensureExist from '@ringcentral-integration/commons/lib/ensureExist';\nimport moduleStatuses from '@ringcentral-integration/commons/enums/moduleStatuses';\nimport { ObjectMap } from '@ringcentral-integration/core/lib/ObjectMap';\nimport { getModuleStatusReducer } from '@ringcentral-integration/commons/lib/getModuleStatusReducer';\nimport { baseMessageTypes } from '../AdapterCore/baseMessageTypes';\nimport { baseActionTypes } from './baseActionTypes';\nimport getDefaultGlobalStorageReducer from './getDefaultGlobalStorageReducer';\nimport IframeMessageTransport from '../IframeMessageTransport';\n\n@Module({\n  deps: ['GlobalStorage', 'Locale', 'Presence', 'RouterInteraction', 'Storage'],\n})\nexport default class AdapterModuleCoreBase extends RcModule {\n  constructor({\n    prefix,\n    storageKey = 'adapterCore',\n    messageTypes = baseMessageTypes,\n    actionTypes = baseActionTypes,\n    globalStorage,\n    locale,\n    presence,\n    routerInteraction,\n    getGlobalStorageReducer = getDefaultGlobalStorageReducer,\n    messageTransport = new IframeMessageTransport({\n      targetWindow: window.parent,\n    }),\n    ...options\n  }) {\n    super({\n      prefix,\n      actionTypes,\n      ...options,\n    });\n\n    this._messageTypes = ObjectMap.prefixValues(messageTypes, prefix);\n    this._locale = ensureExist.call(this, locale, 'locale');\n    this._messageTransport = ensureExist.call(\n      this,\n      messageTransport,\n      'messageTransport',\n    );\n    this._presence = ensureExist.call(this, presence, 'presence');\n    this._router = ensureExist.call(\n      this,\n      routerInteraction,\n      'routerInteraction',\n    );\n\n    this._storageKey = storageKey;\n    this._globalStorage = ensureExist.call(\n      this,\n      globalStorage,\n      'globalStorage',\n    );\n\n    this._globalStorage.registerReducer({\n      key: this._storageKey,\n      reducer: getGlobalStorageReducer(this.actionTypes),\n    });\n\n    this._reducer = getModuleStatusReducer(this.actionTypes);\n  }\n\n  initialize() {\n    this._messageTransport.addListener((msg) => this._onMessage(msg));\n    this.store.subscribe(() => this._onStateChange());\n  }\n\n  _shouldInit() {\n    return (\n      this.pending &&\n      this._globalStorage.ready &&\n      this._locale.ready &&\n      this._router.ready\n    );\n  }\n\n  _onStateChange() {\n    if (this._shouldInit()) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      this._pushAdapterState();\n      this._pushOtherStateChanges();\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n    }\n    this._pushPresence();\n    this._pushLocale();\n    this._pushOtherStateChanges();\n  }\n\n  _pushOtherStateChanges() {\n    console.log('implement to handle other state changes pushing.');\n  }\n\n  _pushPresence() {\n    if (\n      this.ready &&\n      (this._lastDndStatus !== this._presence.dndStatus ||\n        this._lastUserStatus !== this._presence.userStatus ||\n        this._lastTelephonyStatus !== this._presence.telephonyStatus)\n    ) {\n      this._lastDndStatus = this._presence.dndStatus;\n      this._lastUserStatus = this._presence.userStatus;\n      this._lastTelephonyStatus = this._presence.telephonyStatus;\n      this._postMessage({\n        type: this._messageTypes.pushPresence,\n        telephonyStatus: this._presence.telephonyStatus,\n        userStatus: this._presence.userStatus,\n        dndStatus: this._presence.dndStatus,\n        presenceOption: this._presence.presenceOption,\n      });\n    }\n  }\n\n  _pushLocale() {\n    if (\n      this.ready &&\n      this._locale.ready &&\n      this._lastLocale !== this._locale.currentLocale\n    ) {\n      this._lastLocale = this._locale.currentLocale;\n      this._postMessage({\n        type: this._messageTypes.pushLocale,\n        locale: this._locale.currentLocale,\n        strings: this.localeStrings,\n      });\n    }\n  }\n\n  _postMessage(data) {\n    this._messageTransport.postMessage(data);\n  }\n\n  _pushAdapterState() {\n    if (\n      this.ready &&\n      (this._lastDndStatus !== this._presence.dndStatus ||\n        this._lastUserStatus !== this._presence.userStatus ||\n        this._lastTelephonyStatus !== this._presence.telephonyStatus ||\n        this._lastClosed !== this.closed ||\n        this._lastMinimized !== this.minimized ||\n        this._lastPosition.translateX !== this.position.translateX ||\n        this._lastPosition.translateY !== this.position.translateY ||\n        this._lastPosition.minTranslateX !== this.position.minTranslateX ||\n        this._lastPosition.minTranslateY !== this.position.minTranslateY)\n    ) {\n      this._lastDndStatus = this._presence.dndStatus;\n      this._lastUserStatus = this._presence.userStatus;\n      this._lastTelephonyStatus = this._presence.telephonyStatus;\n      this._lastClosed = this.closed;\n      this._lastMinimized = this.minimized;\n      this._lastPosition = this.position;\n      this._postMessage({\n        type: this._messageTypes.pushAdapterState,\n        size: this.size,\n        minimized: this.minimized,\n        closed: this.closed,\n        position: this.position,\n        telephonyStatus: this._presence.telephonyStatus,\n        userStatus: this._presence.userStatus,\n        dndStatus: this._presence.dndStatus,\n      });\n    }\n  }\n\n  _onMessage(msg) {\n    if (msg) {\n      switch (msg.type) {\n        case this._messageTypes.syncClosed:\n          this._syncClosed(msg.closed);\n          break;\n        case this._messageTypes.syncMinimized:\n          this._syncMinimized(msg.minimized);\n          break;\n        case this._messageTypes.syncSize:\n          this._syncSize(msg.size);\n          break;\n        case this._messageTypes.syncPosition:\n          this._syncPosition(msg.position);\n          break;\n        case this._messageTypes.presenceItemClicked:\n          this._onPresenceItemClicked(msg.presenceType);\n          break;\n        case this._messageTypes.navigateToCurrentCall:\n          this._onNavigateToCurrentCall();\n          break;\n        case this._messageTypes.navigateToViewCalls:\n          this._onNavigateToViewCalls();\n          break;\n        case this._messageTypes.popOut:\n          this._onPopOut();\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  @proxify\n  async _syncClosed(closed) {\n    this.store.dispatch({\n      type: this.actionTypes.syncClosed,\n      closed,\n    });\n  }\n\n  @proxify\n  async _syncMinimized(minimized) {\n    this.store.dispatch({\n      type: this.actionTypes.syncMinimized,\n      minimized,\n    });\n  }\n\n  @proxify\n  async _syncSize(size = {}) {\n    this.store.dispatch({\n      type: this.actionTypes.syncSize,\n      size,\n    });\n  }\n\n  @proxify\n  async _syncPosition(position = {}) {\n    this.store.dispatch({\n      type: this.actionTypes.syncPosition,\n      position,\n    });\n  }\n\n  @proxify\n  async _onPresenceItemClicked(presenceData) {\n    await this._presence.setPresence(presenceData);\n  }\n\n  @proxify\n  async showAdapter() {\n    this.store.dispatch({\n      type: this.actionTypes.showAdapter,\n    });\n  }\n\n  @proxify\n  async _onNavigateToCurrentCall() {\n    throw new Error('Should implement the _onNavigateToCurrentCall function.');\n  }\n\n  @proxify\n  async _onNavigateToViewCalls() {\n    throw new Error('Should implement the _onNavigateToViewCalls function.');\n  }\n\n  @proxify\n  _onPopOut() {\n    if (typeof this.showClientWindow === 'function') {\n      this.showClientWindow();\n    }\n  }\n\n  get status() {\n    // * compatibility other sub-module\n    return this.state.status || this.state;\n  }\n\n  get ready() {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get pending() {\n    return this.status === moduleStatuses.pending;\n  }\n\n  get minimized() {\n    return this._globalStorage.getItem(this._storageKey).minimized;\n  }\n\n  get closed() {\n    return this._globalStorage.getItem(this._storageKey).closed;\n  }\n\n  get size() {\n    return this._globalStorage.getItem(this._storageKey).size;\n  }\n\n  get position() {\n    return this._globalStorage.getItem(this._storageKey).position;\n  }\n}\n"],"file":"index.js"}