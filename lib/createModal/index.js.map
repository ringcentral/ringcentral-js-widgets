{"version":3,"file":"index.js","names":["_clsx","_interopRequireDefault","require","_propTypes","_react","_interopRequireWildcard","_reactDom","_styles","_excluded","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","length","indexOf","propertyIsEnumerable","_classCallCheck","a","TypeError","_defineProperties","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","_inherits","create","value","_setPrototypeOf","createModal","Comp","_KModal","_Component","KModal","props","_this","_container","document","createElement","componentDidMount","root","appendDOM","context","modalRoot","current","body","appendChild","componentWillUnmount","parentNode","removeChild","renderDialog","_this$props","className","maskClassName","modalClassName","show","onClose","clickOutToClose","onClick","clsx","styles","container","containerHidden","mask","maskHidden","undefined","modal","modalHidden","render","ReactDOM","createPortal","Component","propTypes","string","bool","func","object","defaultProps","contextTypes","_default","exports"],"sources":["lib/createModal/index.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport propTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport styles from './styles.scss';\n\n// TODO: consider refactoring onClose + clickOutToClose to onOverlayClick\nfunction createModal(Comp: any) {\n  return class KModal extends Component {\n    static propTypes = {\n      className: propTypes.string,\n      modalClassName: propTypes.string,\n      show: propTypes.bool,\n      onClose: propTypes.func,\n      clickOutToClose: propTypes.bool,\n      appendDOM: propTypes.object,\n      maskClassName: propTypes.string,\n    };\n    static defaultProps = {\n      className: '',\n      modalClassName: '',\n      show: false,\n      onClose: undefined,\n      clickOutToClose: false,\n      appendDOM: undefined,\n      maskClassName: undefined,\n    };\n    static contextTypes = {\n      modalRoot: propTypes.object,\n    };\n    _container: any;\n    constructor(props: any) {\n      super(props);\n      this._container = document.createElement('div');\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    componentDidMount() {\n      const root =\n        // @ts-expect-error TS(2339): Property 'appendDOM' does not exist on type 'Reado... Remove this comment to see the full error message\n        this.props.appendDOM ||\n        (this.context.modalRoot && this.context.modalRoot.current) ||\n        document.body;\n      root.appendChild(this._container);\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    componentWillUnmount() {\n      if (this._container.parentNode) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n    renderDialog() {\n      const {\n        // @ts-expect-error TS(2339): Property 'className' does not exist on type 'Reado... Remove this comment to see the full error message\n        className,\n        // @ts-expect-error TS(2339): Property 'maskClassName' does not exist on type 'R... Remove this comment to see the full error message\n        maskClassName,\n        // @ts-expect-error TS(2339): Property 'modalClassName' does not exist on type '... Remove this comment to see the full error message\n        modalClassName,\n        // @ts-expect-error TS(2339): Property 'show' does not exist on type 'Readonly<{... Remove this comment to see the full error message\n        show,\n        // @ts-expect-error TS(2339): Property 'onClose' does not exist on type 'Readonl... Remove this comment to see the full error message\n        onClose,\n        // @ts-expect-error TS(2339): Property 'clickOutToClose' does not exist on type ... Remove this comment to see the full error message\n        clickOutToClose,\n        ...props\n      } = this.props;\n      const onClick = clickOutToClose ? onClose : () => {};\n      return (\n        <div\n          className={\n            show ? clsx(styles.container, className) : styles.containerHidden\n          }\n        >\n          <div\n            className={\n              show ? clsx(styles.mask, maskClassName) : styles.maskHidden\n            }\n            onClick={onClick}\n          />\n          <div\n            data-sign={show ? 'deleteModal' : undefined}\n            className={\n              show ? clsx(styles.modal, modalClassName) : styles.modalHidden\n            }\n          >\n            <Comp {...props} />\n          </div>\n        </div>\n      );\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    render() {\n      return ReactDOM.createPortal(this.renderDialog(), this._container);\n    }\n  };\n}\nexport default createModal;\n"],"mappings":"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","ignoreList":[]}