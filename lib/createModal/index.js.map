{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_reactDom","_interopRequireDefault","_classnames","_propTypes","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","i","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","sourceKeys","keys","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","enumerable","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","Number","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","createModal","Comp","_class","_Component","KModal","_super","_this","_container","document","createElement","componentDidMount","root","appendDOM","context","modalRoot","current","body","appendChild","componentWillUnmount","parentNode","removeChild","renderDialog","_this$props","className","maskClassName","modalClassName","show","onClose","clickOutToClose","onClick","classnames","styles","container","containerHidden","mask","maskHidden","modal","modalHidden","render","ReactDOM","createPortal","Component","propTypes","string","bool","func","object","defaultProps","contextTypes","_default","exports"],"sources":["lib/createModal/index.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport classnames from 'classnames';\nimport propTypes from 'prop-types';\n\nimport styles from './styles.scss';\n\n// TODO: consider refactoring onClose + clickOutToClose to onOverlayClick\nfunction createModal(Comp: any) {\n  return class KModal extends Component {\n    static propTypes = {\n      className: propTypes.string,\n      modalClassName: propTypes.string,\n      show: propTypes.bool,\n      onClose: propTypes.func,\n      clickOutToClose: propTypes.bool,\n      appendDOM: propTypes.object,\n      maskClassName: propTypes.string,\n    };\n    static defaultProps = {\n      className: '',\n      modalClassName: '',\n      show: false,\n      onClose: undefined,\n      clickOutToClose: false,\n      appendDOM: undefined,\n      maskClassName: undefined,\n    };\n    static contextTypes = {\n      modalRoot: propTypes.object,\n    };\n    _container: any;\n    constructor(props: any) {\n      super(props);\n      this._container = document.createElement('div');\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    componentDidMount() {\n      const root =\n        // @ts-expect-error TS(2339): Property 'appendDOM' does not exist on type 'Reado... Remove this comment to see the full error message\n        this.props.appendDOM ||\n        (this.context.modalRoot && this.context.modalRoot.current) ||\n        document.body;\n      root.appendChild(this._container);\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    componentWillUnmount() {\n      if (this._container.parentNode) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n    renderDialog() {\n      const {\n        // @ts-expect-error TS(2339): Property 'className' does not exist on type 'Reado... Remove this comment to see the full error message\n        className,\n        // @ts-expect-error TS(2339): Property 'maskClassName' does not exist on type 'R... Remove this comment to see the full error message\n        maskClassName,\n        // @ts-expect-error TS(2339): Property 'modalClassName' does not exist on type '... Remove this comment to see the full error message\n        modalClassName,\n        // @ts-expect-error TS(2339): Property 'show' does not exist on type 'Readonly<{... Remove this comment to see the full error message\n        show,\n        // @ts-expect-error TS(2339): Property 'onClose' does not exist on type 'Readonl... Remove this comment to see the full error message\n        onClose,\n        // @ts-expect-error TS(2339): Property 'clickOutToClose' does not exist on type ... Remove this comment to see the full error message\n        clickOutToClose,\n        ...props\n      } = this.props;\n      const onClick = clickOutToClose ? onClose : () => {};\n      return (\n        <div\n          className={\n            show\n              ? classnames(styles.container, className)\n              : styles.containerHidden\n          }\n        >\n          <div\n            className={\n              show ? classnames(styles.mask, maskClassName) : styles.maskHidden\n            }\n            onClick={onClick}\n          />\n          <div\n            data-sign={show ? 'deleteModal' : undefined}\n            className={\n              show\n                ? classnames(styles.modal, modalClassName)\n                : styles.modalHidden\n            }\n          >\n            <Comp {...props} />\n          </div>\n        </div>\n      );\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    render() {\n      return ReactDOM.createPortal(this.renderDialog(), this._container);\n    }\n  };\n}\nexport default createModal;\n"],"mappings":"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"}