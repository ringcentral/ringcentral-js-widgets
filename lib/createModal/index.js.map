{"version":3,"file":"index.js","names":["_clsx","_interopRequireDefault","require","_propTypes","_react","_interopRequireWildcard","_reactDom","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_objectWithoutProperties","o","_objectWithoutPropertiesLoose","getOwnPropertySymbols","length","indexOf","propertyIsEnumerable","_classCallCheck","TypeError","_defineProperties","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","value","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","arguments","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","createModal","Comp","_class","_Component","KModal","_super","props","_this","_container","document","createElement","componentDidMount","root","appendDOM","context","modalRoot","current","body","appendChild","componentWillUnmount","parentNode","removeChild","renderDialog","_this$props","className","maskClassName","modalClassName","show","onClose","clickOutToClose","onClick","clsx","styles","container","containerHidden","mask","maskHidden","undefined","modal","modalHidden","render","ReactDOM","createPortal","Component","propTypes","string","bool","func","object","defaultProps","contextTypes","_default","exports"],"sources":["lib/createModal/index.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport propTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport styles from './styles.scss';\n\n// TODO: consider refactoring onClose + clickOutToClose to onOverlayClick\nfunction createModal(Comp: any) {\n  return class KModal extends Component {\n    static propTypes = {\n      className: propTypes.string,\n      modalClassName: propTypes.string,\n      show: propTypes.bool,\n      onClose: propTypes.func,\n      clickOutToClose: propTypes.bool,\n      appendDOM: propTypes.object,\n      maskClassName: propTypes.string,\n    };\n    static defaultProps = {\n      className: '',\n      modalClassName: '',\n      show: false,\n      onClose: undefined,\n      clickOutToClose: false,\n      appendDOM: undefined,\n      maskClassName: undefined,\n    };\n    static contextTypes = {\n      modalRoot: propTypes.object,\n    };\n    _container: any;\n    constructor(props: any) {\n      super(props);\n      this._container = document.createElement('div');\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    componentDidMount() {\n      const root =\n        // @ts-expect-error TS(2339): Property 'appendDOM' does not exist on type 'Reado... Remove this comment to see the full error message\n        this.props.appendDOM ||\n        (this.context.modalRoot && this.context.modalRoot.current) ||\n        document.body;\n      root.appendChild(this._container);\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    componentWillUnmount() {\n      if (this._container.parentNode) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n    renderDialog() {\n      const {\n        // @ts-expect-error TS(2339): Property 'className' does not exist on type 'Reado... Remove this comment to see the full error message\n        className,\n        // @ts-expect-error TS(2339): Property 'maskClassName' does not exist on type 'R... Remove this comment to see the full error message\n        maskClassName,\n        // @ts-expect-error TS(2339): Property 'modalClassName' does not exist on type '... Remove this comment to see the full error message\n        modalClassName,\n        // @ts-expect-error TS(2339): Property 'show' does not exist on type 'Readonly<{... Remove this comment to see the full error message\n        show,\n        // @ts-expect-error TS(2339): Property 'onClose' does not exist on type 'Readonl... Remove this comment to see the full error message\n        onClose,\n        // @ts-expect-error TS(2339): Property 'clickOutToClose' does not exist on type ... Remove this comment to see the full error message\n        clickOutToClose,\n        ...props\n      } = this.props;\n      const onClick = clickOutToClose ? onClose : () => {};\n      return (\n        <div\n          className={\n            show ? clsx(styles.container, className) : styles.containerHidden\n          }\n        >\n          <div\n            className={\n              show ? clsx(styles.mask, maskClassName) : styles.maskHidden\n            }\n            onClick={onClick}\n          />\n          <div\n            data-sign={show ? 'deleteModal' : undefined}\n            className={\n              show ? clsx(styles.modal, modalClassName) : styles.modalHidden\n            }\n          >\n            <Comp {...props} />\n          </div>\n        </div>\n      );\n    }\n    // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n    render() {\n      return ReactDOM.createPortal(this.renderDialog(), this._container);\n    }\n  };\n}\nexport default createModal;\n"],"mappings":"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","ignoreList":[]}