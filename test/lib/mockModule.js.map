{"version":3,"file":"mockModule.js","names":["_core","require","_redux","_RcModule2","_interopRequireDefault","_di","e","__esModule","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","_classCallCheck","a","n","TypeError","_defineProperties","length","o","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","arguments","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","toString","slice","name","Array","from","test","iterator","isArray","mockModuleWithDeps","module","deps","_dec","_class","Root","ModuleFactory","providers","concat","_RcModule","_super","get","state","status","RcModule","root","store","createStore","reducer","setStore","provide","replace","match","toLowerCase","exports","mockModuleGenerator","options","props","_Object$assign","assign","storeKey","dispatch","getState","subscribe","_getStateV2"],"sources":["test/lib/mockModule.ts"],"sourcesContent":["// @ts-nocheck\n// TODO: fix type\nimport { storeKey } from '@ringcentral-integration/core';\nimport { createStore } from 'redux';\n\nimport RcModule from '../../lib/RcModule';\nimport { ModuleFactory } from '../../lib/di';\n\nexport const mockModuleWithDeps = <T extends new (...args: any) => any>(\n  module: { provide: string; useClass: T },\n  // TODO: deps type from di\n  deps: any[],\n): InstanceType<T> => {\n  @ModuleFactory({\n    providers: [module, ...deps],\n  })\n  class Root extends RcModule {\n    get status() {\n      return this.state.status;\n    }\n  }\n  const root = Root.create();\n  const store = createStore(root.reducer);\n  root.setStore(store);\n  const key = module.provide.replace(/^./g, (match) => match.toLowerCase());\n  return root[key];\n};\n\nexport const mockModuleGenerator = <T, P>(options: T, props?: P) =>\n  Object.assign(\n    options,\n    {\n      [storeKey]: {\n        dispatch() {},\n        getState() {},\n        subscribe() {},\n      },\n      parentModule: {},\n      _getStateV2: () => {},\n    },\n    props,\n  );\n"],"mappings":"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","ignoreList":[]}