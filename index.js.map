{"version":3,"file":"index.js","names":["_getLanguageFromLocale","require","_toPseudoString","_interopRequireDefault","obj","__esModule","_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","_classCallCheck","instance","Constructor","_defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","_toPropertyKey","key","_createClass","protoProps","staticProps","arg","_toPrimitive","_typeof","String","input","hint","prim","toPrimitive","undefined","res","Number","asyncGeneratorStep","gen","resolve","reject","_next","_throw","info","error","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","DEFAULT_LOCALE","exports","PSEUDO_LOCALE","RUNTIME","locale","defaultLocale","instances","Set","padRatio","fallbackLocale","languageDefaults","setLocale","_x","_setLocale","regeneratorRuntime","mark","_callee6","wrap","_callee6$","_context6","prev","reloadLocales","stop","_reloadLocales","_callee7","_iterator","_step","_callee7$","_context7","load","t0","finish","setDefaultLocale","_x2","_setDefaultLocale","_callee8","_callee8$","_context8","setLanguageDefaults","_x3","_setLanguageDefaults","_callee9","defaults","_callee9$","_context9","checkDefaults","I18n","loadLocale","Error","_loadLocale","_cache","add","_load2","_callee","data","lang","_callee$","_context","sent","getLanguageFromLocale","_load","_x4","_load3","_callee2","_callee2$","_context2","_getString","hasOwnProperty","getString","toPseudoString","str","_setDefaultLocale3","_callee3","_callee3$","_context3","abrupt","_x5","_setLanguageDefaults3","_callee4","_callee4$","_context4","_x6","get","_setLanguageDefaults4","_callee5","_callee5$","_context5","_x7","set","ratio","isNaN","console","log","parseFloat"],"sources":["index.js"],"sourcesContent":["import { getLanguageFromLocale } from './lib/getLanguageFromLocale';\nimport toPseudoString from './lib/toPseudoString';\n\nexport const DEFAULT_LOCALE = 'en-US';\nexport const PSEUDO_LOCALE = 'en-ZZ';\nexport const RUNTIME = {\n  locale: DEFAULT_LOCALE,\n  defaultLocale: DEFAULT_LOCALE,\n  instances: new Set(),\n  padRatio: 0.3,\n  fallbackLocale: DEFAULT_LOCALE,\n  languageDefaults: null,\n};\n\n/**\n * @function\n * @description Set current runtime locale and load the locale files accordingly\n * @param {String} locale - The desired locale.\n * @return Promise<undefined>\n */\nasync function setLocale(locale) {\n  RUNTIME.locale = locale;\n  await reloadLocales();\n}\n\nasync function reloadLocales() {\n  for (const i of RUNTIME.instances) {\n    await i.load();\n  }\n}\n\nasync function setDefaultLocale(locale) {\n  RUNTIME.defaultLocale = locale;\n  await reloadLocales();\n}\n\nasync function setLanguageDefaults(defaults) {\n  RUNTIME.languageDefaults = defaults;\n  await reloadLocales();\n}\n\nfunction checkDefaults(locale) {\n  return (\n    (RUNTIME.languageDefaults && RUNTIME.languageDefaults[locale]) || locale\n  );\n}\n\n/**\n * @class\n * @description I18n is a simple localizations helper class that represents a set of locale files.\n */\nexport default class I18n {\n  /**\n   * @constructor\n   * @description Accepts a loadLocale function that should be async and resolve to the locale\n   *  object when invoked.\n   * @param {String => Promise<Object>} loadLocale - Asynchronous locale loader function.\n   */\n  constructor(loadLocale) {\n    if (typeof loadLocale !== 'function') {\n      throw new Error('loadLocale must be a function');\n    }\n    this._loadLocale = loadLocale;\n    this._cache = {};\n    RUNTIME.instances.add(this);\n    this.load();\n  }\n  async _load(locale) {\n    if (locale !== PSEUDO_LOCALE && !this._cache[locale]) {\n      let data;\n      try {\n        data = await this._loadLocale(locale);\n        if (!data) {\n          const lang = getLanguageFromLocale(locale);\n          if (lang) {\n            data = await this._loadLocale(lang);\n          }\n        }\n      } catch (error) {\n        /* ignore error */\n      }\n      if (!data) {\n        data = {};\n      }\n      this._cache[locale] = data;\n    }\n  }\n  async load() {\n    await this._load(checkDefaults(RUNTIME.fallbackLocale));\n    await this._load(checkDefaults(RUNTIME.defaultLocale));\n    await this._load(checkDefaults(RUNTIME.locale));\n  }\n  _getString(key, locale) {\n    if (\n      this._cache[locale] &&\n      Object.prototype.hasOwnProperty.call(this._cache[locale], key)\n    ) {\n      return this._cache[locale][key];\n    }\n    const lang = getLanguageFromLocale(locale);\n    if (\n      this._cache[lang] &&\n      Object.prototype.hasOwnProperty.call(this._cache[lang], key)\n    ) {\n      return this._cache[lang][key];\n    }\n    if (\n      this._cache[RUNTIME.defaultLocale] &&\n      Object.prototype.hasOwnProperty.call(\n        this._cache[RUNTIME.defaultLocale],\n        key,\n      )\n    ) {\n      return this._cache[RUNTIME.defaultLocale][key];\n    }\n    if (\n      this._cache[RUNTIME.fallbackLocale] &&\n      Object.prototype.hasOwnProperty.call(\n        this._cache[RUNTIME.fallbackLocale],\n        key,\n      )\n    ) {\n      return this._cache[RUNTIME.fallbackLocale][key];\n    }\n\n    return key;\n  }\n  getString(key, locale = RUNTIME.locale) {\n    if (locale === PSEUDO_LOCALE) {\n      return toPseudoString({\n        str: this._getString(key, RUNTIME.fallbackLocale),\n        padRatio: RUNTIME.padRatio,\n      });\n    }\n    return this._getString(key, checkDefaults(locale));\n  }\n\n  static checkDefaults(locale) {\n    return checkDefaults(locale);\n  }\n\n  checkDefaults(locale) {\n    return checkDefaults(locale);\n  }\n\n  get currentLocale() {\n    return RUNTIME.locale;\n  }\n\n  get setLocale() {\n    return setLocale;\n  }\n\n  static get currentLocale() {\n    return RUNTIME.locale;\n  }\n\n  static get setLocale() {\n    return setLocale;\n  }\n\n  static get padRatio() {\n    return RUNTIME.padRatio;\n  }\n\n  static set padRatio(ratio) {\n    if (Number.isNaN(ratio)) {\n      // eslint-disable-next-line no-console\n      console.log('ratio must be a number');\n      return;\n    }\n    RUNTIME.padRatio = Number.parseFloat(ratio);\n  }\n\n  static setDefaultLocale(locale) {\n    return setDefaultLocale(locale);\n  }\n\n  async setDefaultLocale(locale) {\n    return setDefaultLocale(locale);\n  }\n\n  static async setLanguageDefaults(defaults) {\n    return setLanguageDefaults(defaults);\n  }\n\n  async setLanguageDefaults(defaults) {\n    return setLanguageDefaults(defaults);\n  }\n}\n"],"mappings":"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"}