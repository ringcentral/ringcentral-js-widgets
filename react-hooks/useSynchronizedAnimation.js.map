{"version":3,"file":"useSynchronizedAnimation.js","names":["_react","require","useSynchronizedAnimation","selector","animationName","useLayoutEffect","elements","document","querySelectorAll","animations","Array","from","map","x","getAnimations","flat","filter","ani","CSSAnimation","first","slice","forEach","animation","currentTime"],"sources":["react-hooks/useSynchronizedAnimation.tsx"],"sourcesContent":["import { useLayoutEffect } from 'react';\n\n/**\n * A hook that synchronizes the animation of all elements matching a given selector\n * to the animation of the first element.\n *\n * @param selector - The CSS selector for the elements to synchronize.\n * @param animationName - The name of the CSS animation to synchronize.\n * @returns A ref object that can be attached to the element(s) to synchronize.\n */\nexport function useSynchronizedAnimation(\n  selector: string,\n  animationName?: string,\n) {\n  useLayoutEffect(() => {\n    const elements = document.querySelectorAll(selector);\n    let animations = Array.from(elements)\n      .map((x) => x.getAnimations())\n      .flat();\n\n    if (animationName) {\n      animations = animations.filter(\n        (ani) =>\n          ani instanceof CSSAnimation && ani.animationName === animationName,\n      );\n    }\n\n    const first = animations[0];\n\n    if (first) {\n      animations\n        .slice(1)\n        .forEach((animation) => (animation.currentTime = first.currentTime));\n    }\n  }, [animationName, selector]);\n}\n"],"mappings":";;;;;;;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,wBAAwBA,CACtCC,QAAgB,EAChBC,aAAsB,EACtB;EACA,IAAAC,sBAAe,EAAC,YAAM;IACpB,IAAMC,QAAQ,GAAGC,QAAQ,CAACC,gBAAgB,CAACL,QAAQ,CAAC;IACpD,IAAIM,UAAU,GAAGC,KAAK,CAACC,IAAI,CAACL,QAAQ,CAAC,CAClCM,GAAG,CAAC,UAACC,CAAC;MAAA,OAAKA,CAAC,CAACC,aAAa,CAAC,CAAC;IAAA,EAAC,CAC7BC,IAAI,CAAC,CAAC;IAET,IAAIX,aAAa,EAAE;MACjBK,UAAU,GAAGA,UAAU,CAACO,MAAM,CAC5B,UAACC,GAAG;QAAA,OACFA,GAAG,YAAYC,YAAY,IAAID,GAAG,CAACb,aAAa,KAAKA,aAAa;MAAA,CACtE,CAAC;IACH;IAEA,IAAMe,KAAK,GAAGV,UAAU,CAAC,CAAC,CAAC;IAE3B,IAAIU,KAAK,EAAE;MACTV,UAAU,CACPW,KAAK,CAAC,CAAC,CAAC,CACRC,OAAO,CAAC,UAACC,SAAS;QAAA,OAAMA,SAAS,CAACC,WAAW,GAAGJ,KAAK,CAACI,WAAW;MAAA,CAAC,CAAC;IACxE;EACF,CAAC,EAAE,CAACnB,aAAa,EAAED,QAAQ,CAAC,CAAC;AAC/B","ignoreList":[]}