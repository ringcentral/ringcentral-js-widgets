{"version":3,"file":"app.js","names":["angular","module","config","myAppConfig","$stateProvider","$urlRouterProvider","localStorageServiceProvider","$translateProvider","$mdThemingProvider","$httpProvider","growlProvider","cfpLoadingBarProvider","ngQuillConfigProvider","otherwise","setPrefix","preferredLanguage","useSanitizeValueStrategy","useLoader","globalTimeToLive","success","error","warning","info","globalDisableCountDown","theme","primaryPalette","accentPalette","interceptors","push","parentSelector","includeSpinner","set","modules","toolbar","font","color","background","size","header","list","indent","align","run","$rootScope","$window","ENV_VARS","$on","event","toState","toParams","redirectTo","preventDefault","$state","go","curSettings","__settings","_typeof","static_version","Object","freeze","bamboo_repository_revision_number","bamboo_buildResultKey","controller","AppCtrl","$scope","RenderNav","BrandingSvc","fromState","fromParams","name","loadingScript","toolType","split","length","pageTitle","addState","favImg","getFavUrl","console","log","bind"],"sources":["agentScript/scripts/evSource/app.js"],"sourcesContent":["angular\n  .module('scriptingStudio', [\n    'templates-app',\n    'templates-common',\n    'ui.router',\n    'ui.router.stateHelper',\n    'ui.bootstrap',\n    'ui.sortable',\n    'LocalStorageModule',\n    'ui.select',\n    'ui.ace',\n    'ngAnimate',\n    'ngSanitize',\n    'ngMaterial',\n    'angular-growl',\n    'angularUUID2',\n    'pascalprecht.translate',\n    'formly',\n    'formlyBootstrap',\n    'gridstack-angular',\n    'ngQuill',\n    'ngMask',\n    'angular-loading-bar',\n    'angular.filter',\n    'prettyXml',\n    'ngMessages',\n    'cf.branding',\n\n    'PackageConfig' /* loads environment variables provided by grunt */,\n\n    // has formly, htmlElementsFactory and render directive\n    'scriptingStudio.render',\n\n    // Scripting Studio Modules\n    'scriptingStudio.app.base', // default state for this app\n    'scriptingStudio.app.configure',\n    'scriptingStudio.app.render',\n\n    // Tool Config Controllers\n    'scriptingStudio.configure.javascript',\n    'scriptingStudio.configure.page',\n    'scriptingStudio.configure.www',\n    'scriptingStudio.configure.switch',\n    'scriptingStudio.configure.mapping',\n    'scriptingStudio.configure.dataBuilder',\n\n    // Directives\n    'scriptingStudio.directives.jsPlumb',\n    'scriptingStudio.directives.preview',\n    'scriptingStudio.directives.toolbar',\n    'scriptingStudio.directives.uiSelectCustom',\n\n    // Tools directives\n    'scriptingStudio.directives.tools.scriptingTool',\n    'scriptingStudio.directives.tools.toolbarTool',\n    'scriptingStudio.directives.cfResizeable',\n\n    // Factories\n    'scriptingStudio.factories.localeLoader',\n    'scriptingStudio.factories.plumbInstance',\n    'scriptingStudio.factories.scriptDocument',\n\n    'scriptingStudio.factories.ngBootstrap',\n    'scriptingStudio.factories.ngBootstrap.confirmModal',\n    'scriptingStudio.factories.ngBootstrap.renderModal',\n    'scriptingStudio.factories.ngBootstrap.inputModal',\n\n    // Services\n    'scriptingStudio.service.interceptor',\n    'scriptingStudio.service.script',\n    'scriptingStudio.service.session',\n    'scriptingStudio.service.scriptData',\n    'scriptingStudio.service.mapping',\n    'scriptingStudio.service.aceEditor',\n    'scriptingStudio.service.javascriptBuilder',\n    'scriptingStudio.service.object',\n    'scriptingStudio.service.sorting',\n    'scriptingStudio.service.render.renderService',\n    'scriptingStudio.service.render.navService',\n    'scriptingStudio.service.apiCalls',\n    'scriptingStudio.service.editorInfo',\n    // HTML Form Builder\n    'scriptingStudio.directives.textEditor',\n\n    'scriptingStudio.directives.modelTag',\n    'scriptingStudio.directives.modelTag.modal',\n    'scriptingStudio.directives.modelTag.data.modal',\n    'scriptingStudio.directives.customFormats',\n    'scriptingStudio.directives.cfInputs',\n\n    'scriptingStudio.directives.formBuilder',\n    'scriptingStudio.directives.formBuilder.form',\n    'scriptingStudio.directives.formBuilder.form.element',\n    'scriptingStudio.directives.formBuilder.form.element.edit',\n\n    'scriptingStudio.directives.formBuilder.select',\n    'scriptingStudio.directives.formBuilder.select.icon',\n\n    // HTML Renderer\n    'scriptingStudio.directives.render.scriptRenderer',\n  ])\n\n  .config([\n    '$stateProvider',\n    '$urlRouterProvider',\n    'localStorageServiceProvider',\n    '$translateProvider',\n    '$mdThemingProvider',\n    '$httpProvider',\n    'growlProvider',\n    'cfpLoadingBarProvider',\n    'ngQuillConfigProvider',\n    function myAppConfig(\n      $stateProvider,\n      $urlRouterProvider,\n      localStorageServiceProvider,\n      $translateProvider,\n      $mdThemingProvider,\n      $httpProvider,\n      growlProvider,\n      cfpLoadingBarProvider,\n      ngQuillConfigProvider,\n    ) {\n      $urlRouterProvider.otherwise('/');\n\n      // set a prefix for localStorage\n      localStorageServiceProvider.setPrefix('engage-admin');\n\n      // setup translation file loader factory\n      $translateProvider.preferredLanguage('us');\n      $translateProvider.useSanitizeValueStrategy('sanitizeParameters');\n      $translateProvider.useLoader('localeLoader');\n\n      // SET THE DEFAULT GROWL SETTINGS\n      growlProvider.globalTimeToLive({\n        success: 6000,\n        error: -1,\n        warning: 6000,\n        info: 6000,\n      });\n      growlProvider.globalDisableCountDown(true);\n\n      $mdThemingProvider\n        .theme('default')\n        .primaryPalette('blue-grey')\n        .accentPalette('blue');\n\n      $httpProvider.interceptors.push('AuthInterceptor');\n\n      cfpLoadingBarProvider.parentSelector = '#mainNav';\n      cfpLoadingBarProvider.includeSpinner = false;\n\n      ngQuillConfigProvider.set({\n        modules: {\n          toolbar: [\n            [{ font: [] }],\n            [{ color: [] }, { background: [] }], // dropdown with defaults from theme\n            ['bold', 'italic', 'underline', 'strike'], // toggled buttons\n            [{ size: ['small', false, 'large', 'huge'] }], // custom dropdown\n            [{ header: [1, 2, 3, 4, 5, 6, false] }],\n\n            [{ list: 'ordered' }, { list: 'bullet' }],\n            [{ indent: '-1' }, { indent: '+1' }], // outdent/indent\n\n            [{ align: [] }],\n\n            ['blockquote', 'code-block'],\n            ['link'], // link and image, video\n\n            ['clean'], // remove formatting button\n          ],\n        },\n      });\n    },\n  ])\n\n  .run([\n    '$rootScope',\n    '$window',\n    'ENV_VARS',\n    function run($rootScope, $window, ENV_VARS) {\n      // this adds a redirectTo param to the $stateProvider, allowing default views from parent\n      $rootScope.$on('$stateChangeStart', function (event, toState, toParams) {\n        if (toState.redirectTo) {\n          event.preventDefault();\n          $state.go(toState.redirectTo, toParams);\n        }\n      });\n\n      var curSettings = $window.__settings;\n\n      $window.__settings =\n        (!!curSettings && typeof curSettings === 'object' && curSettings) || {};\n      $window.__settings.static_version = Object.freeze({\n        bamboo_repository_revision_number:\n          ENV_VARS.bamboo_repository_revision_number,\n        bamboo_buildResultKey: ENV_VARS.bamboo_buildResultKey,\n      });\n    },\n  ])\n\n  .controller('AppCtrl', [\n    '$scope',\n    'RenderNav',\n    'BrandingSvc',\n    function AppCtrl($scope, RenderNav, BrandingSvc) {\n      $scope.$on(\n        '$stateChangeStart',\n        function (event, toState, toParams, fromState, fromParams) {\n          if (toState.name === 'base') {\n            $scope.loadingScript = true;\n          }\n\n          // set this if it's missing, happens on page refresh\n          if (!toParams.toolType) {\n            var split = toState.name.split('.');\n            toParams.toolType = split[split.length - 1];\n          }\n        },\n      );\n\n      $scope.$on(\n        '$stateChangeSuccess',\n        function (event, toState, toParams, fromState, fromParams) {\n          $scope.pageTitle = 'Scripting Studio | ';\n          $scope.pageTitle += toState.pageTitle || 'Configuration';\n\n          if (toState.name === 'base') {\n            $scope.loadingScript = false;\n          }\n\n          RenderNav.addState(toState.name, toParams);\n        },\n      );\n\n      $scope.favImg = BrandingSvc.getFavUrl();\n\n      $scope.$on('$stateChangeError', console.log.bind(console));\n    },\n  ]);\n"],"mappings":"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"}