{"version":3,"sources":["containers/AlertContainer/index.js"],"names":["mapToProps","_","locale","alert","currentLocale","messages","getDefaultRenderer","rateLimiter","brand","router","regionSettingsUrl","callingSettingsUrl","onRegionSettingsLinkClick","push","onCallingSettingsLinkClick","message","handleMessage","props","fullName","timestamp","_throttleDuration","application","undefined","mapToFunctions","getRenderer","dismiss","id","AlertContainer","propTypes","instanceOf","isRequired","func","defaultProps"],"mappings":"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","file":"index.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport Alert from 'ringcentral-integration/modules/Alert';\nimport Locale from 'ringcentral-integration/modules/Locale';\n\nimport AnimationAlert from '../../components/AnimationAlert';\n\nimport AuthAlert from '../../components/AuthAlert';\nimport CallAlert from '../../components/CallAlert';\nimport CallingSettingsAlert from '../../components/CallingSettingsAlert';\nimport RegionSettingsAlert from '../../components/RegionSettingsAlert';\nimport MessageSenderAlert from '../../components/MessageSenderAlert';\nimport RateExceededAlert from '../../components/RateExceededAlert';\nimport ConnectivityAlert from '../../components/ConnectivityAlert';\nimport WebphoneAlert from '../../components/WebphoneAlert';\nimport RolesAndPermissionsAlert from '../../components/RolesAndPermissionsAlert';\n\n\nfunction mapToProps(_, {\n  locale,\n  alert,\n}) {\n  return {\n    currentLocale: locale.currentLocale,\n    messages: alert.messages,\n  };\n}\n\nfunction getDefaultRenderer({\n  rateLimiter,\n  brand,\n  router,\n  regionSettingsUrl,\n  callingSettingsUrl,\n}) {\n  const onRegionSettingsLinkClick = () => {\n    router.push(regionSettingsUrl);\n  };\n  const onCallingSettingsLinkClick = () => {\n    router.push(callingSettingsUrl);\n  };\n  return (message) => {\n    if (AuthAlert.handleMessage(message)) {\n      return AuthAlert;\n    }\n    if (CallAlert.handleMessage(message)) {\n      return props => (\n        <CallAlert\n          {...props}\n          brand={brand}\n          onAreaCodeLinkClick={onRegionSettingsLinkClick}\n        />\n      );\n    }\n    if (CallingSettingsAlert.handleMessage(message)) {\n      return props => (\n        <CallingSettingsAlert\n          {...props}\n          brand={brand.fullName}\n          onCallingSettingsLinkClick={onCallingSettingsLinkClick}\n        />\n      );\n    }\n\n    if (RegionSettingsAlert.handleMessage(message)) {\n      return props => (\n        <RegionSettingsAlert\n          {...props}\n          onRegionSettingsLinkClick={onRegionSettingsLinkClick}\n        />\n      );\n    }\n\n    if (MessageSenderAlert.handleMessage(message)) {\n      return props => (\n        <MessageSenderAlert\n          {...props}\n          onAreaCodeLink={onRegionSettingsLinkClick}\n        />\n      );\n    }\n\n    if (RateExceededAlert.handleMessage(message)) {\n      return props => (\n        <RateExceededAlert\n          {...props}\n          timestamp={rateLimiter.timestamp}\n          duration={rateLimiter._throttleDuration} />\n      );\n    }\n\n    if (ConnectivityAlert.handleMessage(message)) {\n      return ConnectivityAlert;\n    }\n\n    if (WebphoneAlert.handleMessage(message)) {\n      return WebphoneAlert;\n    }\n    if (RolesAndPermissionsAlert.handleMessage(message)) {\n      return props => (\n        <RolesAndPermissionsAlert\n          {...props}\n          brand={brand.fullName}\n          application={brand.application} />\n      );\n    }\n\n    return undefined;\n  };\n}\n\nfunction mapToFunctions(_, {\n  rateLimiter,\n  brand,\n  alert,\n  router,\n  regionSettingsUrl,\n  callingSettingsUrl,\n  getRenderer = getDefaultRenderer({\n    rateLimiter,\n    brand,\n    router,\n    regionSettingsUrl,\n    callingSettingsUrl,\n  }),\n}) {\n  return {\n    getRenderer,\n    dismiss: (id) => {\n      alert.dismiss(id);\n    },\n  };\n}\n\nconst AlertContainer = connect(\n  mapToProps,\n  mapToFunctions\n)(AnimationAlert);\n\nAlertContainer.propTypes = {\n  alert: PropTypes.instanceOf(Alert).isRequired,\n  getRenderer: PropTypes.func,\n  locale: PropTypes.instanceOf(Locale).isRequired,\n};\nAlertContainer.defaultProps = {\n  getRenderer: undefined,\n};\n\nexport default AlertContainer;\n"]}