{"version":3,"file":"CheckboxesWidget.js","names":["_springUi","require","_utils","_react","_interopRequireDefault","e","__esModule","CheckboxesWidget","_ref","label","hideLabel","id","disabled","options","value","autofocus","readonly","required","onChange","onBlur","onFocus","enumOptions","enumDisabled","inline","emptyValue","checkboxesValues","Array","isArray","_onChange","index","_ref2","checked","target","enumOptionsSelectValue","enumOptionsDeselectValue","_onBlur","_ref3","enumOptionsValueForIndex","_onFocus","_ref4","createElement","Fragment","labelValue","FormLabel","htmlFor","undefined","Block","row","map","option","enumOptionsIsSelected","itemDisabled","indexOf","checkbox","Checkbox","autoFocus","ariaDescribedByIds","inputProps","optionId","name","key"],"sources":["src/CheckboxesWidget/CheckboxesWidget.tsx"],"sourcesContent":["import { Checkbox, Block, FormLabel } from '@ringcentral/spring-ui';\nimport {\n  ariaDescribedByIds,\n  enumOptionsDeselectValue,\n  enumOptionsIsSelected,\n  enumOptionsSelectValue,\n  enumOptionsValueForIndex,\n  FormContextType,\n  labelValue,\n  optionId,\n  RJSFSchema,\n  StrictRJSFSchema,\n  WidgetProps,\n} from '@rjsf/utils';\nimport React, { ChangeEvent, FocusEvent } from 'react';\n\n/** The `CheckboxesWidget` is a widget for rendering checkbox groups.\n *  It is typically used to represent an array of enums.\n *\n * @param props - The `WidgetProps` for this component\n */\nexport default function CheckboxesWidget<\n  T = any,\n  S extends StrictRJSFSchema = RJSFSchema,\n  F extends FormContextType = any,\n>({\n  label,\n  hideLabel,\n  id,\n  disabled,\n  options,\n  value,\n  autofocus,\n  readonly,\n  required,\n  onChange,\n  onBlur,\n  onFocus,\n}: WidgetProps<T, S, F>) {\n  const { enumOptions, enumDisabled, inline, emptyValue } = options;\n  const checkboxesValues = Array.isArray(value) ? value : [value];\n\n  const _onChange =\n    (index: number) =>\n    ({ target: { checked } }: ChangeEvent<HTMLInputElement>) => {\n      if (checked) {\n        onChange(\n          enumOptionsSelectValue<S>(index, checkboxesValues, enumOptions),\n        );\n      } else {\n        onChange(\n          enumOptionsDeselectValue<S>(index, checkboxesValues, enumOptions),\n        );\n      }\n    };\n\n  const _onBlur = ({ target: { value } }: FocusEvent<HTMLButtonElement>) =>\n    onBlur(id, enumOptionsValueForIndex<S>(value, enumOptions, emptyValue));\n  const _onFocus = ({ target: { value } }: FocusEvent<HTMLButtonElement>) =>\n    onFocus(id, enumOptionsValueForIndex<S>(value, enumOptions, emptyValue));\n\n  return (\n    <>\n      {labelValue(\n        <FormLabel htmlFor={id}>{label || undefined}</FormLabel>,\n        hideLabel,\n      )}\n      <Block id={id} row={!!inline}>\n        {Array.isArray(enumOptions) &&\n          enumOptions.map((option, index: number) => {\n            const checked = enumOptionsIsSelected<S>(\n              option.value,\n              checkboxesValues,\n            );\n            const itemDisabled =\n              Array.isArray(enumDisabled) &&\n              enumDisabled.indexOf(option.value) !== -1;\n            const checkbox = (\n              <Checkbox\n                checked={checked}\n                disabled={disabled || itemDisabled || readonly}\n                // eslint-disable-next-line jsx-a11y/no-autofocus\n                autoFocus={autofocus && index === 0}\n                onChange={_onChange(index)}\n                onBlur={_onBlur}\n                onFocus={_onFocus}\n                aria-describedby={ariaDescribedByIds<T>(id)}\n                inputProps={{\n                  id: optionId(id, index),\n                  name: id,\n                }}\n              />\n            );\n            return (\n              <FormLabel key={index} label={option.label}>\n                {checkbox}\n              </FormLabel>\n            );\n          })}\n      </Block>\n    </>\n  );\n}\n"],"mappings":"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","ignoreList":[]}