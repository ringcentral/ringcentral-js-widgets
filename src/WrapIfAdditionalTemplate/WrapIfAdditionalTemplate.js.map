{"version":3,"file":"WrapIfAdditionalTemplate.js","names":["_utils","require","_react","_interopRequireDefault","e","__esModule","WrapIfAdditionalTemplate","props","children","classNames","style","disabled","id","label","onDropPropertyClick","onKeyChange","readonly","required","schema","uiSchema","registry","templates","translateString","RemoveButton","ButtonTemplates","keyLabel","TranslatableString","KeyLabel","additional","ADDITIONAL_PROPERTY_FLAG","btnStyle","flex","paddingLeft","paddingRight","fontWeight","createElement","className","handleBlur","_ref","target","value","_Grid","RcGrid","container","key","concat","alignItems","spacing","item","xs","_TextField","RcTextField","fullWidth","defaultValue","name","onBlur","undefined","type","iconType","onClick"],"sources":["src/WrapIfAdditionalTemplate/WrapIfAdditionalTemplate.tsx"],"sourcesContent":["import { RcGrid, RcTextField } from '@ringcentral/juno';\nimport {\n  ADDITIONAL_PROPERTY_FLAG,\n  FormContextType,\n  RJSFSchema,\n  StrictRJSFSchema,\n  TranslatableString,\n  WrapIfAdditionalTemplateProps,\n} from '@rjsf/utils';\nimport React, { CSSProperties, FocusEvent } from 'react';\n\n/** The `WrapIfAdditional` component is used by the `FieldTemplate` to rename, or remove properties that are\n * part of an `additionalProperties` part of a schema.\n *\n * @param props - The `WrapIfAdditionalProps` for this component\n */\nexport default function WrapIfAdditionalTemplate<\n  T = any,\n  S extends StrictRJSFSchema = RJSFSchema,\n  F extends FormContextType = any,\n>(props: WrapIfAdditionalTemplateProps<T, S, F>) {\n  const {\n    children,\n    classNames,\n    style,\n    disabled,\n    id,\n    label,\n    onDropPropertyClick,\n    onKeyChange,\n    readonly,\n    required,\n    schema,\n    uiSchema,\n    registry,\n  } = props;\n  const { templates, translateString } = registry;\n  // Button templates are not overridden in the uiSchema\n  const { RemoveButton } = templates.ButtonTemplates;\n  const keyLabel = translateString(TranslatableString.KeyLabel, [label]);\n  const additional = ADDITIONAL_PROPERTY_FLAG in schema;\n  const btnStyle: CSSProperties = {\n    flex: 1,\n    paddingLeft: 6,\n    paddingRight: 6,\n    fontWeight: 'bold',\n  };\n\n  if (!additional) {\n    return (\n      <div className={classNames} style={style}>\n        {children}\n      </div>\n    );\n  }\n\n  const handleBlur = ({ target }: FocusEvent<HTMLInputElement>) =>\n    onKeyChange(target.value);\n\n  return (\n    <RcGrid\n      container\n      key={`${id}-key`}\n      alignItems=\"center\"\n      spacing={2}\n      className={classNames}\n      style={style}\n    >\n      <RcGrid item xs>\n        <RcTextField\n          fullWidth={true}\n          required={required}\n          label={keyLabel}\n          defaultValue={label}\n          disabled={disabled || readonly}\n          id={`${id}-key`}\n          name={`${id}-key`}\n          onBlur={!readonly ? handleBlur : undefined}\n          type=\"text\"\n        />\n      </RcGrid>\n      <RcGrid item={true} xs>\n        {children}\n      </RcGrid>\n      <RcGrid item={true}>\n        <RemoveButton\n          iconType=\"default\"\n          style={btnStyle}\n          disabled={disabled || readonly}\n          onClick={onDropPropertyClick(label)}\n          uiSchema={uiSchema}\n          registry={registry}\n        />\n      </RcGrid>\n    </RcGrid>\n  );\n}\n"],"mappings":"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","ignoreList":[]}