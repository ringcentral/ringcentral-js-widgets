{"version":3,"file":"MessageThread.interface.js","names":[],"sources":["src/app/services/MessageThread/MessageThread.interface.ts"],"sourcesContent":["export interface MessageThreadOptions {\n  /**\n   * enable message thread service\n   *\n   * @default false\n   */\n  enable?: boolean;\n  /**\n   * local cache time\n   *\n   * @default 5 min.\n   */\n  ttl?: number;\n\n  /**\n   * full sync record count\n   *\n   * @default 250.\n   */\n  recordCount?: number;\n}\n\nexport interface MessageThreadRecord {\n  id: string;\n  threadId: string;\n  recordType:\n    | 'AliveMessage'\n    | 'DeletedMessage'\n    | 'AliveNote'\n    | 'DeletedNote'\n    | 'ThreadCreatedHint'\n    | 'ThreadResolvedHint'\n    | 'ThreadDeletedHint'\n    | 'ThreadAssignedHint';\n  lastModifiedTime: string;\n  availability?: 'Alive';\n  creationTime?: string;\n  direction?: 'Inbound' | 'Outbound';\n  messageStatus?: 'Received' | 'Sent';\n  text?: string;\n  initiator?: Initiator;\n  assignee?: Initiator;\n  previousAssignee?: Initiator;\n  author?: Author;\n}\n\ninterface Initiator {\n  extensionId: string;\n  name: string;\n}\n\n/**\n * the extra metadata for the thread\n */\nexport interface ThreadMetaData {\n  /**\n   * loading state of the thread\n   */\n  loading?: boolean;\n  /**\n   * whether the thread is reopened\n   */\n  reopen?: boolean;\n}\n\nexport interface ThreadInfoRecord {\n  id: string;\n  status: 'Open' | 'Resolved';\n  availability: string;\n  ownerParty?: {\n    phoneNumber?: string;\n  };\n  guestParty?: {\n    phoneNumber?: string;\n  };\n  owner?: {\n    extensionId: string;\n    name: string;\n    extensionType: string;\n  };\n  assignee?: {\n    extensionId: string;\n    name: string;\n    extensionType: string;\n  };\n  creationTime: string;\n  lastModifiedTime: string;\n  statusReason?:\n    | 'Manual'\n    | 'ThreadExpired'\n    | 'OwnerDeleted'\n    | 'OwnerPhoneNumberDeleted';\n}\n\nexport type ThreadInfo = {\n  threadId: string;\n  messages: string[]; // message ids in this\n  /**\n   * thread metadata from message-threads/sync API\n   */\n  threadInfo?: ThreadInfoRecord;\n  /**\n   * unread count of the thread\n   */\n  unreadCount?: number;\n};\n\nexport type ThreadsMap = Record<string, ThreadInfo>;\n\nexport interface MessageThreadData {\n  // Group messages by threadId for efficient access\n  threads: ThreadsMap;\n  messages: Record<string, MessageThreadRecord>; // message id -> record\n  /**\n   * the message-threads/sync token\n   */\n  token: string | null;\n  /**\n   * the message-threads/entries/sync token\n   */\n  entriesToken: string | null;\n}\n\nexport interface MessageThreadSyncData {\n  records: MessageThreadRecord[];\n  syncInfo: {\n    syncType: 'FSync' | 'ISync';\n    syncToken: string;\n    syncTime: string;\n  };\n}\n\nexport interface ThreadInfoSyncData {\n  records: ThreadInfoRecord[];\n  syncInfo: {\n    syncType: 'FSync' | 'ISync';\n    syncToken: string;\n    syncTime: string;\n  };\n}\n\nexport interface SyncSuccessOptions {\n  syncToken?: string;\n  records?: MessageThreadRecord[];\n}\n\nexport interface ThreadSyncSuccessOptions {\n  syncToken?: string;\n  records?: ThreadInfoRecord[];\n}\n\nexport interface ListThreadsOptions {\n  threadStatus?: 'Open' | 'Resolved';\n  ownerExtensionIds?: string[];\n  ownerPhoneNumber?: string;\n  guestPhoneNumber?: string;\n  availability?: ('Alive' | 'Deleted')[];\n  perPage?: number;\n  pageNumber?: number;\n}\n\nexport interface ListThreadMessagesOptions {\n  threadStatus?: 'Open' | 'Resolved';\n  ownerExtensionIds?: string[];\n  availability?: ('Alive' | 'Deleted')[];\n  messageIds?: string[];\n  perPage?: number;\n  pageNumber?: number;\n}\n\nexport interface MessageThreadListResponse {\n  records: ThreadInfoRecord[];\n  paging: {\n    page: number;\n    perPage: number;\n    totalPages?: number;\n    totalElements?: number;\n  };\n}\n\nexport interface MessageThreadMessageListResponse {\n  records: MessageThreadRecord[];\n  paging: {\n    page: number;\n    perPage: number;\n    totalPages?: number;\n    totalElements?: number;\n  };\n}\n\nexport interface MessageThreadMessageResponse {\n  id: string;\n  threadId: string;\n  recordType: string;\n  lastModifiedTime: string;\n  availability: string;\n  creationTime: string;\n  direction: string;\n  messageStatus: string;\n  text: string;\n  author: Author;\n}\n\ninterface Author {\n  extensionId: string;\n  name: string;\n  extensionType: string;\n}\n\nexport interface ThreadNoteModel {\n  id: string;\n  threadId: string;\n  availability: 'Alive' | 'Deleted';\n  creationTime: string;\n  lastModifiedTime: string;\n  text: string;\n  author: Author;\n}\n\nexport interface ThreadNoteListResponse {\n  records: ThreadNoteModel[];\n  paging: {\n    page: number;\n    perPage: number;\n    totalPages?: number;\n    totalElements?: number;\n  };\n}\n\nexport interface ListThreadNotesOptions {\n  ownerExtensionIds?: string[];\n  availability?: ('Alive' | 'Deleted')[];\n  threadIds?: string[];\n  noteIds?: string[];\n  perPage?: number;\n  pageNumber?: number;\n}\n\nexport interface ThreadNoteCreateRequest {\n  threadId: string;\n  text: string;\n}\n\nexport interface ThreadNoteUpdateRequest {\n  text: string;\n}\n\nexport interface ThreadNotesDeleteRequest {\n  ids: string[];\n}\n"],"mappings":"","ignoreList":[]}