{"version":3,"file":"SmsConversations.js","names":["_messageTypes","require","_nextCore","_dec","_dec2","_dec3","_dec4","_class","_classCallCheck","a","n","TypeError","_defineProperties","e","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","value","_setPrototypeOf","SmsConversations","exports","injectable","name","target","optional","undefined","metadata","Function","SmsConversationsOptions","_RcModule","_conversationsOptions","_this$_conversationsO","_this","_supportLogMessageTypes","supportCRMLogMessageTypes","messageTypes","sms","pager","checkIsSupportLog","formattedConversation","_formattedConversatio","type","to","includes","RcModule"],"sources":["src/app/services/Sms/SmsConversations.ts"],"sourcesContent":["import { messageTypes } from '@ringcentral-integration/commons/enums/messageTypes';\nimport {\n  injectable,\n  optional,\n  RcModule,\n} from '@ringcentral-integration/next-core';\n\nimport type { FormattedConversation } from '../Conversations/Conversations.interface';\n\nimport type { SmsConversationsOptions } from './SmsConversations.interface';\n\n@injectable({\n  name: 'SmsConversations',\n})\nexport class SmsConversations extends RcModule {\n  constructor(\n    @optional('SmsConversationsOptions')\n    protected _conversationsOptions?: SmsConversationsOptions,\n  ) {\n    super();\n  }\n\n  private _supportLogMessageTypes = this._conversationsOptions\n    ?.supportCRMLogMessageTypes || [messageTypes.sms, messageTypes.pager];\n\n  checkIsSupportLog(formattedConversation: FormattedConversation | undefined) {\n    if (\n      !formattedConversation ||\n      !formattedConversation.type ||\n      // currently, we only support log SMS for one-to-one conversation\n      formattedConversation.to?.length !== 1\n    ) {\n      return false;\n    }\n\n    return this._supportLogMessageTypes.includes(formattedConversation.type);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,aAAA,GAAAC,OAAA;AACA,IAAAC,SAAA,GAAAD,OAAA;AAI4C,IAAAE,IAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,MAAA;AAAA,SAAAC,gBAAAC,CAAA,EAAAC,CAAA,UAAAD,CAAA,YAAAC,CAAA,aAAAC,SAAA;AAAA,SAAAC,kBAAAC,CAAA,EAAAC,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAD,CAAA,CAAAE,MAAA,EAAAD,CAAA,UAAAE,CAAA,GAAAH,CAAA,CAAAC,CAAA,GAAAE,CAAA,CAAAC,UAAA,GAAAD,CAAA,CAAAC,UAAA,QAAAD,CAAA,CAAAE,YAAA,kBAAAF,CAAA,KAAAA,CAAA,CAAAG,QAAA,QAAAC,MAAA,CAAAC,cAAA,CAAAT,CAAA,EAAAU,cAAA,CAAAN,CAAA,CAAAO,GAAA,GAAAP,CAAA;AAAA,SAAAQ,aAAAZ,CAAA,EAAAC,CAAA,EAAAC,CAAA,WAAAD,CAAA,IAAAF,iBAAA,CAAAC,CAAA,CAAAa,SAAA,EAAAZ,CAAA,GAAAC,CAAA,IAAAH,iBAAA,CAAAC,CAAA,EAAAE,CAAA,GAAAM,MAAA,CAAAC,cAAA,CAAAT,CAAA,iBAAAO,QAAA,SAAAP,CAAA;AAAA,SAAAU,eAAAR,CAAA,QAAAY,CAAA,GAAAC,YAAA,CAAAb,CAAA,gCAAAc,OAAA,CAAAF,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAb,CAAA,EAAAD,CAAA,oBAAAe,OAAA,CAAAd,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAe,MAAA,CAAAC,WAAA,kBAAAlB,CAAA,QAAAc,CAAA,GAAAd,CAAA,CAAAmB,IAAA,CAAAjB,CAAA,EAAAD,CAAA,gCAAAe,OAAA,CAAAF,CAAA,UAAAA,CAAA,YAAAhB,SAAA,yEAAAG,CAAA,GAAAmB,MAAA,GAAAC,MAAA,EAAAnB,CAAA;AAAA,SAAAoB,WAAApB,CAAA,EAAAE,CAAA,EAAAJ,CAAA,WAAAI,CAAA,GAAAmB,eAAA,CAAAnB,CAAA,GAAAoB,0BAAA,CAAAtB,CAAA,EAAAuB,yBAAA,KAAAC,OAAA,CAAAC,SAAA,CAAAvB,CAAA,EAAAJ,CAAA,QAAAuB,eAAA,CAAArB,CAAA,EAAA0B,WAAA,IAAAxB,CAAA,CAAAyB,KAAA,CAAA3B,CAAA,EAAAF,CAAA;AAAA,SAAAwB,2BAAAtB,CAAA,EAAAF,CAAA,QAAAA,CAAA,iBAAAgB,OAAA,CAAAhB,CAAA,0BAAAA,CAAA,UAAAA,CAAA,iBAAAA,CAAA,YAAAF,SAAA,qEAAAgC,sBAAA,CAAA5B,CAAA;AAAA,SAAA4B,uBAAA9B,CAAA,mBAAAA,CAAA,YAAA+B,cAAA,sEAAA/B,CAAA;AAAA,SAAAyB,0BAAA,cAAAvB,CAAA,IAAA8B,OAAA,CAAAnB,SAAA,CAAAoB,OAAA,CAAAd,IAAA,CAAAO,OAAA,CAAAC,SAAA,CAAAK,OAAA,iCAAA9B,CAAA,aAAAuB,yBAAA,YAAAA,0BAAA,aAAAvB,CAAA;AAAA,SAAAqB,gBAAArB,CAAA,WAAAqB,eAAA,GAAAf,MAAA,CAAA0B,cAAA,GAAA1B,MAAA,CAAA2B,cAAA,CAAAC,IAAA,eAAAlC,CAAA,WAAAA,CAAA,CAAAmC,SAAA,IAAA7B,MAAA,CAAA2B,cAAA,CAAAjC,CAAA,MAAAqB,eAAA,CAAArB,CAAA;AAAA,SAAAoC,UAAApC,CAAA,EAAAF,CAAA,6BAAAA,CAAA,aAAAA,CAAA,YAAAF,SAAA,wDAAAI,CAAA,CAAAW,SAAA,GAAAL,MAAA,CAAA+B,MAAA,CAAAvC,CAAA,IAAAA,CAAA,CAAAa,SAAA,IAAAe,WAAA,IAAAY,KAAA,EAAAtC,CAAA,EAAAK,QAAA,MAAAD,YAAA,WAAAE,MAAA,CAAAC,cAAA,CAAAP,CAAA,iBAAAK,QAAA,SAAAP,CAAA,IAAAyC,eAAA,CAAAvC,CAAA,EAAAF,CAAA;AAAA,SAAAyC,gBAAAvC,CAAA,EAAAF,CAAA,WAAAyC,eAAA,GAAAjC,MAAA,CAAA0B,cAAA,GAAA1B,MAAA,CAAA0B,cAAA,CAAAE,IAAA,eAAAlC,CAAA,EAAAF,CAAA,WAAAE,CAAA,CAAAmC,SAAA,GAAArC,CAAA,EAAAE,CAAA,KAAAuC,eAAA,CAAAvC,CAAA,EAAAF,CAAA;AAAA,IAS/B0C,gBAAgB,GAAAC,OAAA,CAAAD,gBAAA,IAAApD,IAAA,GAH5B,IAAAsD,oBAAU,EAAC;EACVC,IAAI,EAAE;AACR,CAAC,CAAC,EAAAtD,KAAA,YAAAA,MAAAuD,MAAA,EAAAnC,GAAA;EAAA,OAGG,IAAAoC,kBAAQ,EAAC,yBAAyB,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAAxD,KAAA,GAAAkC,OAAA,CAAAuB,QAAA,gBAAAC,QAAA,GAAAzD,KAAA,GAAAiC,OAAA,CAAAuB,QAAA,8BAAAE,uBAAA,mBAAA3C,MAAA,GAAA2C,uBAAA,IAAA7D,IAAA,CAAAI,MAAA,GAAAH,KAAA,CAAAG,MAAA,GAAAF,KAAA,CAAAE,MAAA,GAAAD,KAAA,CAAAC,MAAA,0BAAA0D,SAAA;EADtC,SAAAV,iBAEYW,qBAA+C,EACzD;IAAA,IAAAC,qBAAA;IAAA,IAAAC,KAAA;IAAA5D,eAAA,OAAA+C,gBAAA;IACAa,KAAA,GAAAjC,UAAA,OAAAoB,gBAAA;IAAQa,KAAA,CAFEF,qBAA+C,GAA/CA,qBAA+C;IAAAE,KAAA,CAKnDC,uBAAuB,GAAG,EAAAF,qBAAA,GAAAC,KAAA,CAAKF,qBAAqB,cAAAC,qBAAA,uBAA1BA,qBAAA,CAC9BG,yBAAyB,KAAI,CAACC,0BAAY,CAACC,GAAG,EAAED,0BAAY,CAACE,KAAK,CAAC;IAAA,OAAAL,KAAA;EAHvE;EAACjB,SAAA,CAAAI,gBAAA,EAAAU,SAAA;EAAA,OAAAxC,YAAA,CAAA8B,gBAAA;IAAA/B,GAAA;IAAA6B,KAAA,EAKD,SAAAqB,iBAAiBA,CAACC,qBAAwD,EAAE;MAAA,IAAAC,qBAAA;MAC1E,IACE,CAACD,qBAAqB,IACtB,CAACA,qBAAqB,CAACE,IAAI;MAC3B;MACA,EAAAD,qBAAA,GAAAD,qBAAqB,CAACG,EAAE,cAAAF,qBAAA,uBAAxBA,qBAAA,CAA0B5D,MAAM,MAAK,CAAC,EACtC;QACA,OAAO,KAAK;MACd;MAEA,OAAO,IAAI,CAACqD,uBAAuB,CAACU,QAAQ,CAACJ,qBAAqB,CAACE,IAAI,CAAC;IAC1E;EAAC;AAAA,EAtBmCG,kBAAQ,MAAAzE,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA","ignoreList":[]}