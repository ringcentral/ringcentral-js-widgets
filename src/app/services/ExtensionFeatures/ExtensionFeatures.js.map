{"version":3,"file":"ExtensionFeatures.js","names":["_subscriptionFilters","require","_subscriptionHints","_services","_nextCore","_ramda","_Auth","_Client","_DataFetcher","_i18n","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_class","_class2","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","length","n","l","Symbol","iterator","i","u","f","o","next","Object","done","push","value","isArray","_regenerator","toStringTag","c","prototype","Generator","create","_regeneratorDefine2","p","y","G","v","d","bind","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","initializer","reverse","reduce","ExtensionFeatures","exports","injectable","target","optional","undefined","metadata","Function","Auth","Toast","Client","DataFetcher","Subscription","ExtensionFeaturesOptions","computed","_ref","data","_DataFetcherConsumer","_auth","_toast","_client","_dataFetcher","_subscription","_tabManager","_extensionFeaturesOptions","_this$_extensionFeatu","_this$_extensionFeatu2","_this$_subscription","_this","_stopWatchingSubscription","_handleSubscription","message","_this$_tabManager$act","_this$_tabManager","_message$body","ready","_source","disableCache","active","body","hints","includes","subscriptionHints","limits","features","permissions","fetchData","DataSource","polling","pollingInterval","cleanOnReset","fetchFunction","_fetchFunction","_callee","response","_response","_t","_context","service","platform","get","json","status","logout","reason","payload","detail","showInsufficientPrivilege","readyCheckFunction","register","filters","subscriptionFilters","extensionInfo","onInitOnce","_this2","watch","_this2$features","_this2$features$ReadE","ReadExtensionInfo","available","loginStatus","loggedIn","_ref3","_callee2","_ref2","_ref4","hasData","readExtensionInfo","_context2","checkIsInsufficientPrivilege","_x","multiple","_checkIsInsufficientPrivilege","_callee3","_ref5","_context3","_x2","danger","ttl","onInit","_this3","onReset","_this$_stopWatchingSu","_this$data$records","_this$data","acc","curr","id","records","DataFetcherConsumer"],"sources":["src/app/services/ExtensionFeatures/ExtensionFeatures.ts"],"sourcesContent":["import type ExtensionInfoEvent from '@rc-ex/core/lib/definitions/ExtensionInfoEvent';\nimport type FeatureInfo from '@rc-ex/core/lib/definitions/FeatureInfo';\nimport type FeatureList from '@rc-ex/core/lib/definitions/FeatureList';\nimport { subscriptionFilters } from '@ringcentral-integration/commons/enums/subscriptionFilters';\nimport { subscriptionHints } from '@ringcentral-integration/commons/enums/subscriptionHints';\nimport { Toast } from '@ringcentral-integration/micro-core/src/app/services';\nimport {\n  computed,\n  injectable,\n  optional,\n  watch,\n} from '@ringcentral-integration/next-core';\nimport { reduce } from 'ramda';\nimport type { Unsubscribe } from 'redux';\n\nimport { Auth, loginStatus } from '../Auth';\nimport { Client } from '../Client';\nimport { DataFetcher, DataFetcherConsumer, DataSource } from '../DataFetcher';\nimport type { WebSocketSubscription as Subscription } from '../WebSocketSubscription';\n\nimport type { ExtensionFeaturesOptions } from './ExtensionFeatures.interface';\nimport { t } from './i18n';\n\n@injectable({\n  name: 'ExtensionFeatures',\n})\nexport class ExtensionFeatures extends DataFetcherConsumer<FeatureList> {\n  protected _stopWatchingSubscription: Unsubscribe | null = null;\n  constructor(\n    protected _auth: Auth,\n    protected _toast: Toast,\n    protected _client: Client,\n    protected override _dataFetcher: DataFetcher,\n    @optional('Subscription') protected _subscription?: Subscription,\n    @optional('TabManager') protected _tabManager?: any,\n    @optional('ExtensionFeaturesOptions')\n    protected _extensionFeaturesOptions?: ExtensionFeaturesOptions,\n  ) {\n    super(_dataFetcher);\n\n    this._source = new DataSource({\n      polling: this._extensionFeaturesOptions?.polling ?? true,\n      pollingInterval: 24 * 60 * 60 * 1000, // 24 hours as requested by Platform team\n      ...this._extensionFeaturesOptions,\n      key: 'extensionFeatures',\n      cleanOnReset: true,\n      fetchFunction: async () => {\n        try {\n          const response = await this._client.service\n            .platform()\n            .get('/restapi/v1.0/account/~/extension/~/features');\n          return response.json();\n        } catch (error) {\n          if ((error as { response?: Response }).response?.status === 403) {\n            await this._auth.logout({\n              reason: 'Insufficient privilege',\n              payload: {\n                detail: 'ExtensionFeatures 403',\n              },\n            });\n            this.showInsufficientPrivilege();\n\n            return {};\n          }\n          throw error;\n        }\n      },\n      readyCheckFunction: () => true,\n    });\n    this._dataFetcher.register(this._source);\n\n    this._subscription?.register(this, {\n      filters: [subscriptionFilters.extensionInfo],\n    });\n  }\n\n  protected _handleSubscription = (message?: ExtensionInfoEvent) => {\n    if (\n      this.ready &&\n      (this._source.disableCache || (this._tabManager?.active ?? true)) &&\n      message?.body?.hints &&\n      (message.body.hints.includes(subscriptionHints.limits) ||\n        message.body.hints.includes(subscriptionHints.features) ||\n        message.body.hints.includes(subscriptionHints.permissions))\n    ) {\n      this.fetchData();\n    }\n  };\n\n  override onInitOnce() {\n    watch(\n      this,\n      () =>\n        [\n          this.ready,\n          !!this.data,\n          !!this.features?.ReadExtensionInfo?.available,\n          this._auth.loginStatus === loginStatus.loggedIn,\n        ] as const,\n      async ([ready, hasData, readExtensionInfo, loggedIn]) => {\n        await this.checkIsInsufficientPrivilege({\n          ready,\n          loggedIn,\n          readExtensionInfo,\n          hasData,\n        });\n      },\n      {\n        multiple: true,\n      },\n    );\n  }\n\n  private async checkIsInsufficientPrivilege({\n    ready,\n    loggedIn,\n    readExtensionInfo,\n    hasData,\n  }: {\n    ready: boolean;\n    loggedIn: boolean;\n    readExtensionInfo: boolean;\n    hasData: boolean;\n  }) {\n    if (ready && loggedIn && !readExtensionInfo) {\n      await this._auth.logout({\n        reason: 'Insufficient privilege',\n        payload: {\n          detail: 'ExtensionFeatures not have readExtensionInfo permission',\n        },\n      });\n\n      if (hasData) {\n        // only show alert if featuresList was successfully fetched,\n        // but the user has no ReadExtensionInfo feature\n        this.showInsufficientPrivilege();\n      }\n    }\n  }\n\n  private showInsufficientPrivilege() {\n    this._toast.danger({\n      message: t('insufficientPrivilege'),\n      ttl: 0,\n    });\n  }\n\n  override onInit() {\n    if (this._subscription) {\n      this._stopWatchingSubscription = watch(\n        this,\n        () => this._subscription!.message as ExtensionInfoEvent | undefined,\n        this._handleSubscription,\n      );\n    }\n  }\n\n  override onReset() {\n    this._stopWatchingSubscription?.();\n    this._stopWatchingSubscription = null;\n  }\n\n  @computed(({ data }: ExtensionFeatures) => [data])\n  get features() {\n    return reduce(\n      (acc, curr) => {\n        const id = curr?.id;\n        if (id) acc[id] = curr;\n\n        return acc;\n      },\n      {} as Record<string, FeatureInfo>,\n      this.data?.records ?? [],\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}