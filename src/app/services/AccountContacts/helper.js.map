{"version":3,"file":"helper.js","names":["_phoneTypes","require","_phoneTypeHelper","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","TypeError","String","Number","produceContact","exports","_ref","item","profileImages","presences","sourceName","id","concat","contact","assign","type","name","firstName","lastName","emails","email","extensionNumber","hasProfileImage","profileImage","phoneNumbers","phoneNumber","phoneType","phoneTypes","extension","profileImageUrl","url","presence","contactStatus","status","isCallQueueNumber","phone","isSupportedPhoneNumber","convertUsageTypeToPhoneType","usageType"],"sources":["src/app/services/AccountContacts/helper.ts"],"sourcesContent":["import type ContactResource from '@rc-ex/core/lib/definitions/ContactResource';\nimport { phoneTypes } from '@ringcentral-integration/commons/enums/phoneTypes';\nimport { IContact } from '@ringcentral-integration/commons/interfaces/Contact.model';\nimport {\n  convertUsageTypeToPhoneType,\n  isSupportedPhoneNumber,\n} from '@ringcentral-integration/commons/lib/phoneTypeHelper';\n\nimport type { Presences, ProfileImages } from './AccountContacts.interface';\n\nexport const produceContact = ({\n  item,\n  profileImages,\n  presences,\n  sourceName,\n}: {\n  item: ContactResource;\n  profileImages: ProfileImages;\n  presences: Presences;\n  sourceName: string;\n}) => {\n  const id = `${item.id}`;\n  const contact: IContact = Object.assign({}, item, {\n    type: sourceName,\n    id,\n    name: item.name\n      ? item.name\n      : `${item.firstName || ''} ${item.lastName || ''}`,\n    emails: [item.email!],\n    extensionNumber: item.extensionNumber,\n    // TODO: after spring-ui full migrate should remove this, that be not need, just use `ContactAvatar` component\n    hasProfileImage: !!item.profileImage,\n    phoneNumbers: [\n      {\n        phoneNumber: item.extensionNumber,\n        phoneType: phoneTypes.extension,\n      },\n    ],\n    // TODO: after spring-ui full migrate should remove this, that be not need, just use `ContactAvatar` component\n    profileImageUrl: profileImages[id] && profileImages[id].url,\n    presence: presences[id] && presences[id].presence,\n    contactStatus: item.status,\n    isCallQueueNumber: item.type === 'Department',\n  });\n\n  if (item.phoneNumbers && item.phoneNumbers.length > 0) {\n    item.phoneNumbers.forEach((phone) => {\n      isSupportedPhoneNumber(phone) &&\n        contact.phoneNumbers!.push({\n          ...phone,\n          phoneType: convertUsageTypeToPhoneType(phone?.usageType),\n        });\n    });\n  }\n  return contact;\n};\n"],"mappings":"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","ignoreList":[]}