{"version":3,"file":"videoHelper.js","names":["_utils","require","_ramda","_constants","_i18n","_excluded","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","Symbol","iterator","Array","from","isArray","_arrayLikeToArray","_slicedToArray","e","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","a","t","toString","call","slice","constructor","name","test","length","n","l","i","u","f","o","next","Object","done","push","value","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","configurable","writable","_toPrimitive","_typeof","toPrimitive","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","hasOwnProperty","meetingProviderTypes","exports","meeting","video","RcVideoTypes","RCV_CREATE_API_KEYS","RCV_WAITING_ROOM_API_KEYS","RCV_E2EE_API_KEYS","RCV_PREFERENCES_IDS","RCV_PREFERENCES_KEYS","RCV_E2EE_RELATED_KEYS","RCV_E2EE_DEFAULT_SECURITY_OPTIONS","allowJoinBeforeHost","isMeetingSecret","isOnlyAuthUserJoin","isOnlyCoworkersJoin","waitingRoomMode","RCV_WAITING_ROOM_MODE","notcoworker","getDefaultChars","DEFAULT_PASSWORD_CHARSET","validateRandomPassword","pwd","generateRandomPassword","undefined","charset","charLen","retVal","charAt","Math","floor","random","validatePasswordSettings","meetingPassword","RCV_PASSWORD_REGEX","getVideoSettings","data","_data$name","params","settings","type","expiresIn","getDefaultVideoSettings","_ref","topic","accountId","extensionId","e2ee","muteAudio","muteVideo","allowScreenSharing","off","settingLock","startTime","Date","duration","saveAsDefault","isMeetingPasswordValid","usePersonalMeetingId","getTopic","_ref2","extensionName","brandName","shortName","rcvMeetingTopic","rcvProductName","format","pruneMeetingObject","omitArr","meetingDetail","pick","_ref3","condition","key","omit","filterUndefinedValues","obj","fromEntries","entries","_ref4","_ref5","transformPreferences","preferences","isInstantMeeting","transformations","join_before_host","password_instant","password_scheduled","guest_join","join_authenticated_from_account_only","screen_sharing_host_only","allowAnyoneRecord","allow_anyone_record_meetings","allowAnyoneTranscribe","allow_anyone_transcribe_meetings","waiting_room","waiting_room_guests_only","transformSettingLocks","settingLocks","reversePreferences","result","RCV_WAITING_ROOM_MODE_REVERSE","prunePreferencesObject","comparePreferences","preferencesChanged","_i","_Object$keys","settingKey","assignValue","b","assignObject","getDirtyPreferences","preferencesPayload","currentPreferences","kvPairs","_ref6","_ref7","preferenceId","newValue","oldValue","isLocked","updateLocalPreferences","dirtyPreferences","savedPreferences","_ref8","_ref9","getLockedPreferences","lockedPreferences","_i2","_Object$entries","_Object$entries$_i","locked","getAvaliableWaitingRoomOpions","all","patchWaitingRoomRelated","_ref0","isUpdatingMode","processedSettings","includes","formatMainPhoneNumber","dialInNumber","phoneNumber","formatPremiumNumbers","map","_obj$country","_obj$country2","locationField","country","location","concat","formatRcvRequestData","numbers","_params$joinUri","joinUriInfo","joinUri","split","parameters","meetingName","hostName","personalMeetingName","meetingId","shortId","isSIPAvailable","participantCode","entryPoint","$Brand_Id","brandId","$Extension_FormattingLocaleCode","currentLocale","$Extension_LanguageLocaleCode","isE2eeEnabled","password","dialInPassword","meetingPasswordPSTN","maskedPassword","meetingPasswordMasked","notificationId","plainTextPreferred","isolatedMode","pipe","toPairs","_ref1","_ref10","parameterName","parameterValue","item","formatRcvInvitationRequestData","dialInNumbers","number","unformattedNumber","sortDialInNumbers","defaultPhoneNumbers","premium","premiumNumbers","tollFreeNumbers","formatRcvInvitationRequestDataV2","phoneNumbers","formatJoinUriWithPMN","_settings$discovery","_settings$pins","_settings$pins$aliase","discovery","web","alias","pins","aliases","_settings$pins2","pmiId","pstn","participant","replace","transformV2ResponseToV1","_settings$pins3","_settings$host","_settings$host2","_settings$pins4","_settings$pins4$alias","_settings$security$pa","_settings$security$pa2","_settings$security$pa3","_settings$preferences","_settings$preferences2","_settings$preferences3","_settings$preferences4","_settings$preferences5","_settings$preferences6","id","host","joinBeforeHost","screenSharing","security","passwordProtected","plainText","joinQuery","noGuests","sameAccount","join","audioMuted","videoMuted","RCV_WAITING_ROOM_MODE_V2","waitingRoomRequired","recordings","everyoneCanControl","enabled","allowEveryoneTranscribeMeetings","transformV1MeetingToV2","options","enableWaitingRoom","RCV_WAITING_ROOM_MODE_V2_REVERSE","enableE2EE"],"sources":["src/app/services/RcVideo/videoHelper.ts"],"sourcesContent":["import type {\n  MeetingProviderTypesProps,\n  RcVDialInNumberObj,\n  RcvGSuiteMeetingModel,\n  RcVideoAPI,\n  RcVideoAPIResponse,\n  RcVideoV2Api,\n  RcVideoV2PostData,\n  RcVideoTypesProps,\n  RcvInvitationRequest,\n  RcVMeetingModel,\n  RcVPreferences,\n  RcVPreferencesGET,\n  RcVSettingId,\n  RcVSettingKey,\n  RcVSettingLocks,\n  RcVSettingLocksGET,\n} from '@ringcentral-integration/commons/interfaces/Rcv.model';\nimport { format } from '@ringcentral-integration/utils';\nimport { filter, map, omit, pick, pipe, toPairs } from 'ramda';\n\nimport type { RcvInvitationRequestV2, TopicProps } from './RcVideo.interface';\nimport {\n  RCV_E2EE_API_KEYS,\n  RCV_PASSWORD_REGEX,\n  RCV_WAITING_ROOM_API_KEYS,\n  RCV_WAITING_ROOM_MODE,\n  RCV_WAITING_ROOM_MODE_REVERSE,\n  RCV_WAITING_ROOM_MODE_V2,\n  RCV_WAITING_ROOM_MODE_V2_REVERSE,\n} from './constants';\nimport { t } from './i18n';\n\n/* TODO: this meetingProviderTypes is only used for calender-addon\n * if you want to use meetingProviderTypes\n * please turn to use MeetingProvider/interface\n */\nconst meetingProviderTypes: MeetingProviderTypesProps = {\n  meeting: 'RCMeetings',\n  video: 'RCVideo',\n};\n\nconst RcVideoTypes: RcVideoTypesProps = {\n  meeting: 0, // schedule\n  call: 1, // instant meeting\n};\n\nconst RCV_CREATE_API_KEYS: Array<keyof RcVideoAPI> = [\n  'name',\n  'type',\n  'startTime',\n  'expiresIn',\n  'duration',\n  'accountId',\n  'extensionId',\n  'allowJoinBeforeHost',\n  'muteAudio',\n  'muteVideo',\n  'isMeetingSecret',\n  'meetingPassword',\n  'isOnlyAuthUserJoin',\n  'isOnlyCoworkersJoin',\n  'allowScreenSharing',\n  RCV_WAITING_ROOM_API_KEYS,\n  RCV_E2EE_API_KEYS,\n  'allowAnyoneRecord',\n  'allowAnyoneTranscribe',\n];\n\nconst RCV_PREFERENCES_IDS: Array<RcVSettingId> = [\n  'e2ee',\n  'join_before_host',\n  // 'join_video_off',\n  // 'join_audio_mute',\n  'password_scheduled',\n  'password_instant',\n  'guest_join',\n  'join_authenticated_from_account_only',\n  'screen_sharing_host_only',\n  'waiting_room_guests_only',\n  'waiting_room',\n  'allow_anyone_record_meetings',\n  'allow_anyone_transcribe_meetings',\n];\n\nconst RCV_PREFERENCES_KEYS: Array<RcVSettingKey> = [\n  'allowJoinBeforeHost',\n  // 'muteVideo',\n  // 'muteAudio',\n  'isMeetingSecret',\n  'isOnlyAuthUserJoin',\n  'isOnlyCoworkersJoin',\n  'allowScreenSharing',\n  RCV_WAITING_ROOM_API_KEYS,\n  RCV_E2EE_API_KEYS,\n];\n\nconst RCV_E2EE_RELATED_KEYS: Array<RcVSettingKey> = [\n  'allowJoinBeforeHost',\n  'isMeetingSecret',\n  'isOnlyAuthUserJoin',\n  'isOnlyCoworkersJoin',\n  RCV_WAITING_ROOM_API_KEYS,\n];\n\nconst RCV_E2EE_DEFAULT_SECURITY_OPTIONS: Partial<RcVideoAPI> = {\n  allowJoinBeforeHost: false,\n  isMeetingSecret: true,\n  isOnlyAuthUserJoin: true,\n  isOnlyCoworkersJoin: false,\n  waitingRoomMode: RCV_WAITING_ROOM_MODE.notcoworker,\n} as const;\n\n/* RCINT-14566\n * Exclude characters that are hard to visually differentiate [\"0\", \"o\", \"O\", \"I\", \"l\"]\n */\nfunction getDefaultChars(): string {\n  const DEFAULT_PASSWORD_CHARSET =\n    'abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ123456789';\n  return DEFAULT_PASSWORD_CHARSET;\n}\n\nfunction validateRandomPassword(pwd: string): boolean {\n  return /^(?=.*\\d)(?=.*[A-Z])(?=.*[a-z])[A-Za-z0-9]*$/.test(pwd);\n}\n\nfunction generateRandomPassword(length = 10): string {\n  const charset = getDefaultChars();\n  const charLen = charset.length;\n  let retVal = '';\n  for (let i = 0; i < length; i++) {\n    retVal += charset.charAt(Math.floor(Math.random() * charLen));\n  }\n  if (!validateRandomPassword(retVal)) {\n    return generateRandomPassword(length);\n  }\n  return retVal;\n}\n\nfunction validatePasswordSettings(\n  meetingPassword: string,\n  isMeetingSecret: boolean,\n): boolean {\n  if (!isMeetingSecret) {\n    return true;\n  }\n  if (meetingPassword && RCV_PASSWORD_REGEX.test(meetingPassword)) {\n    return true;\n  }\n  return false;\n}\n\n// gsuite\nfunction getVideoSettings(data: RcVideoAPI): RcvGSuiteMeetingModel {\n  const {\n    name = 'Scheduled meeting',\n    isMeetingSecret,\n    meetingPassword,\n    ...params\n  } = data;\n  const settings: RcvGSuiteMeetingModel = {\n    ...params,\n    name,\n    type: RcVideoTypes.meeting,\n    expiresIn: 31536000,\n  };\n\n  if (isMeetingSecret) {\n    settings.isMeetingSecret = true;\n    settings.meetingPassword = meetingPassword;\n  } else {\n    settings.isMeetingSecret = false;\n    settings.meetingPassword = '';\n  }\n\n  return settings;\n}\n\nfunction getDefaultVideoSettings({\n  topic,\n  accountId,\n  extensionId,\n}: {\n  topic: string;\n  accountId: string;\n  extensionId: string;\n}): RcVMeetingModel {\n  return {\n    // api fields\n    accountId,\n    extensionId,\n    name: topic,\n    type: RcVideoTypes.meeting,\n    expiresIn: 31536000,\n    e2ee: false,\n    allowJoinBeforeHost: false,\n    muteAudio: false,\n    muteVideo: false,\n    isMeetingSecret: true,\n    meetingPassword: '',\n    isOnlyAuthUserJoin: false,\n    isOnlyCoworkersJoin: false,\n    allowScreenSharing: true,\n    waitingRoomMode: RCV_WAITING_ROOM_MODE.off,\n    // TODO: fix type\n    // @ts-ignore\n    settingLock: {\n      allowJoinBeforeHost: false,\n      // muteVideo: false,\n      // muteAudio: false,\n      isMeetingSecret: false,\n      isOnlyAuthUserJoin: false,\n      isOnlyCoworkersJoin: false,\n      allowScreenSharing: false,\n      waitingRoomMode: false,\n      e2ee: false,\n    },\n    // ui fields\n    startTime: new Date(),\n    duration: 60,\n    saveAsDefault: false,\n    isMeetingPasswordValid: false,\n    usePersonalMeetingId: false,\n  };\n}\n\nfunction getTopic({\n  extensionName,\n  brandName,\n  shortName,\n  rcvMeetingTopic,\n  rcvProductName,\n}: TopicProps) {\n  return format(rcvMeetingTopic, {\n    extensionName,\n    shortName,\n    brandName,\n    rcvProductName,\n  });\n}\n\n/**\n * Remove client side properties before sending to RCV API\n */\nfunction pruneMeetingObject(\n  meeting: RcVMeetingModel,\n  omitArr: Array<{\n    condition: boolean;\n    key: keyof RcVideoAPI;\n  }>,\n): RcVideoAPI {\n  let meetingDetail = pick(RCV_CREATE_API_KEYS, meeting);\n  omitArr.forEach(({ condition, key }) => {\n    if (!condition) {\n      meetingDetail = omit([key], meetingDetail) as RcVideoAPI;\n    }\n  });\n  return meetingDetail;\n}\n\n/**\n * Helper function to filter out undefined values from an object\n */\nfunction filterUndefinedValues<T extends Record<string, any>>(\n  obj: T,\n): Partial<T> {\n  return Object.fromEntries(\n    Object.entries(obj).filter(([, value]) => value !== undefined),\n  ) as Partial<T>;\n}\n\nfunction transformPreferences(\n  preferences: RcVPreferencesGET,\n  isInstantMeeting = false,\n): Partial<RcVPreferences> {\n  const transformations = {\n    allowJoinBeforeHost: preferences.join_before_host!,\n    // muteVideo: preferences.join_video_off,\n    // muteAudio: preferences.join_audio_mute,\n    e2ee: preferences.e2ee,\n    isMeetingSecret: isInstantMeeting\n      ? preferences.password_instant!\n      : preferences.password_scheduled!,\n    isOnlyAuthUserJoin: preferences.guest_join!,\n    isOnlyCoworkersJoin: preferences.guest_join\n      ? preferences.join_authenticated_from_account_only === 'only_co_workers'\n      : false,\n    allowScreenSharing: preferences.screen_sharing_host_only === 'all',\n    allowAnyoneRecord: !!preferences.allow_anyone_record_meetings,\n    allowAnyoneTranscribe: !!preferences.allow_anyone_transcribe_meetings,\n    waitingRoomMode:\n      preferences.waiting_room && preferences.waiting_room_guests_only\n        ? RCV_WAITING_ROOM_MODE[preferences.waiting_room_guests_only]\n        : RCV_WAITING_ROOM_MODE.off,\n  };\n\n  return filterUndefinedValues(transformations);\n}\n\nfunction transformSettingLocks(\n  settingLocks: RcVSettingLocksGET,\n  isInstantMeeting = false,\n) {\n  return {\n    allowJoinBeforeHost: settingLocks.join_before_host!,\n    e2ee: settingLocks.e2ee,\n    isMeetingSecret: isInstantMeeting\n      ? settingLocks.password_instant!\n      : settingLocks.password_scheduled!,\n    isOnlyAuthUserJoin: settingLocks.guest_join!,\n    isOnlyCoworkersJoin: settingLocks.join_authenticated_from_account_only!,\n    allowScreenSharing: settingLocks.screen_sharing_host_only!,\n    waitingRoomMode: settingLocks.waiting_room!,\n    allowAnyoneRecord: settingLocks.allow_anyone_record_meetings!,\n    allowAnyoneTranscribe: settingLocks.allow_anyone_transcribe_meetings!,\n  } as RcVSettingLocks;\n}\n\nfunction reversePreferences(\n  meeting: Partial<RcVMeetingModel>,\n  isInstantMeeting = false,\n): Partial<RcVPreferencesGET> {\n  const result: Partial<RcVPreferencesGET> = {\n    join_before_host: meeting.allowJoinBeforeHost,\n    // join_video_off: meeting.muteVideo,\n    // join_audio_mute: meeting.muteAudio,\n    guest_join: meeting.isOnlyAuthUserJoin,\n    join_authenticated_from_account_only: meeting.isOnlyCoworkersJoin\n      ? 'only_co_workers'\n      : 'anyone_signed_into_rc',\n    screen_sharing_host_only: meeting.allowScreenSharing ? 'all' : 'host',\n    waiting_room: !!meeting.waitingRoomMode,\n    waiting_room_guests_only:\n      RCV_WAITING_ROOM_MODE_REVERSE[meeting.waitingRoomMode!],\n    e2ee: meeting.e2ee,\n  };\n  if (isInstantMeeting) {\n    result.password_instant = meeting.isMeetingSecret;\n  } else {\n    result.password_scheduled = meeting.isMeetingSecret;\n  }\n  return result;\n}\n\n/**\n * Reserve only preferences fields\n */\nfunction prunePreferencesObject(meeting: RcVMeetingModel): RcVPreferences {\n  return pick(RCV_PREFERENCES_KEYS, meeting);\n}\n\nfunction comparePreferences(\n  preferences: Partial<RcVPreferences>,\n  meeting: RcVMeetingModel,\n): boolean {\n  let preferencesChanged = false;\n  if (preferences && meeting) {\n    for (const key of Object.keys(preferences)) {\n      const settingKey = key as RcVSettingKey;\n      if (preferences[settingKey] !== meeting[settingKey]) {\n        preferencesChanged = true;\n        break;\n      }\n    }\n  }\n  return preferencesChanged;\n}\n\nfunction assignValue<T, K extends keyof T>(a: T, b: T, key: K) {\n  a[key] = b[key];\n}\n\nfunction assignObject<T, P extends T[K], K extends keyof T>(\n  a: T,\n  b: P,\n  key: K,\n) {\n  a[key] = b;\n}\n\n/**\n * Get preferences that need to be saved (changed and unlocked)\n */\nfunction getDirtyPreferences(\n  preferencesPayload: Partial<RcVPreferencesGET>,\n  currentPreferences: RcVPreferencesGET,\n  settingLocks: RcVSettingLocksGET,\n) {\n  type PreferenceEntries = [keyof RcVPreferencesGET, any];\n  return Object.entries(preferencesPayload).filter(\n    (kvPairs): kvPairs is PreferenceEntries => {\n      const [preferenceId, newValue] = kvPairs as PreferenceEntries;\n      const oldValue = currentPreferences[preferenceId];\n      const isLocked = settingLocks[preferenceId];\n      return !isLocked && newValue !== undefined && newValue !== oldValue;\n    },\n  );\n}\n\n/**\n * Update local preferences state using dirty preferences\n * This ensures server and local preferences stay in sync\n */\nfunction updateLocalPreferences(\n  dirtyPreferences: [keyof RcVPreferencesGET, any][],\n  currentPreferences: RcVPreferencesGET,\n): Partial<RcVPreferencesGET> {\n  // Start with current preferences and update only the changed ones\n  const savedPreferences: Partial<RcVPreferencesGET> = {\n    ...currentPreferences,\n  };\n\n  dirtyPreferences.forEach(([preferenceId, newValue]) => {\n    savedPreferences[preferenceId] = newValue;\n  });\n\n  return savedPreferences;\n}\n\nfunction getLockedPreferences(\n  settingLocks: RcVSettingLocks,\n  preferences: Partial<RcVPreferences>,\n): Partial<RcVPreferences> {\n  const lockedPreferences: Partial<RcVPreferences> = {};\n  for (const [key, locked] of Object.entries(settingLocks)) {\n    if (locked) {\n      const settingKey = key as RcVSettingKey;\n      assignValue(lockedPreferences, preferences, settingKey);\n    }\n  }\n  return lockedPreferences;\n}\n\nfunction getAvaliableWaitingRoomOpions(\n  isOnlyCoworkersJoin: boolean,\n): Array<number> {\n  return isOnlyCoworkersJoin\n    ? [RCV_WAITING_ROOM_MODE.off, RCV_WAITING_ROOM_MODE.all]\n    : [\n        RCV_WAITING_ROOM_MODE.off,\n        RCV_WAITING_ROOM_MODE.all,\n        RCV_WAITING_ROOM_MODE.notcoworker,\n      ];\n}\n\nfunction patchWaitingRoomRelated(\n  settings: RcVMeetingModel,\n  { waitingRoomMode }: Partial<RcVPreferences> = {},\n  isUpdatingMode = false,\n): Partial<RcVMeetingModel> {\n  const processedSettings: Partial<RcVMeetingModel> = {};\n  if (settings.isOnlyAuthUserJoin) {\n    // for pmi setting, waitingRoom, joinAfterMe option maybe not avaliable\n    if (\n      !getAvaliableWaitingRoomOpions(settings.isOnlyCoworkersJoin).includes(\n        settings.waitingRoomMode!,\n      )\n    ) {\n      processedSettings.waitingRoomMode = isUpdatingMode\n        ? RCV_WAITING_ROOM_MODE.all\n        : waitingRoomMode;\n    }\n  }\n  // when waitingRoom is 'everyone', joinAfterMe should be always checked\n  if (\n    (processedSettings.waitingRoomMode === RCV_WAITING_ROOM_MODE.all ||\n      settings.waitingRoomMode === RCV_WAITING_ROOM_MODE.all) &&\n    settings.allowJoinBeforeHost\n  ) {\n    processedSettings.allowJoinBeforeHost = false;\n  }\n  return processedSettings;\n}\n\nfunction formatMainPhoneNumber(\n  dialInNumber: string | RcVDialInNumberObj[],\n): string | undefined {\n  if (typeof dialInNumber === 'string') {\n    return dialInNumber;\n  }\n\n  if (!dialInNumber || dialInNumber.length === 0) {\n    return undefined;\n  }\n\n  return dialInNumber[0].phoneNumber;\n}\n\nfunction formatPremiumNumbers(\n  dialInNumber: string | RcVDialInNumberObj[],\n): string[] {\n  if (typeof dialInNumber === 'string') {\n    return [dialInNumber];\n  }\n\n  if (!dialInNumber || dialInNumber.length === 0) {\n    return [];\n  }\n\n  return map((obj) => {\n    const locationField =\n      obj?.country?.name && obj.location\n        ? `${obj.country.name} (${obj.location})`\n        : obj?.country?.name || '';\n\n    return `${obj.phoneNumber} ${locationField}`;\n  }, dialInNumber);\n}\n\nconst formatRcvRequestData = (params: RcvInvitationRequest, numbers: any) => {\n  const joinUriInfo = params.joinUri?.split(`/join/`) || [];\n  // format request data\n  const parameters = {\n    numbers,\n    meetingName: `---`,\n    hostName: params.hostName,\n    personalMeetingName: params.personalMeetingName,\n    meetingId: params.shortId,\n    isSIPAvailable: params.isSIPAvailable,\n    participantCode: params.shortId,\n    brandName: params.brandName,\n    entryPoint: joinUriInfo[0],\n    $Brand_Id: params.brandId,\n    $Extension_FormattingLocaleCode: params.currentLocale,\n    $Extension_LanguageLocaleCode: params.currentLocale,\n    isE2eeEnabled: !!params.e2ee,\n    password: params.isMeetingSecret ? params.meetingPassword : undefined,\n    dialInPassword: params.isMeetingSecret\n      ? params.meetingPasswordPSTN\n      : undefined,\n    maskedPassword: params.isMeetingSecret\n      ? params.meetingPasswordMasked\n      : undefined,\n  };\n  return {\n    notificationId: 'meetingInvite',\n    plainTextPreferred: true,\n    isolatedMode: true,\n    parameters: pipe(\n      toPairs,\n      map(([parameterName, parameterValue]) => ({\n        parameterName,\n        parameterValue,\n      })),\n      filter(\n        (item: { parameterName: string; parameterValue: any }) =>\n          item.parameterValue !== undefined,\n      ),\n    )(parameters),\n  };\n};\n\nconst formatRcvInvitationRequestData = (params: RcvInvitationRequest) => {\n  // format number\n  const numbers = params.dialInNumbers.map((item) => {\n    return {\n      number: item.phoneNumber,\n      unformattedNumber: item.phoneNumber,\n      country: item.country.name,\n      default: item.default,\n      location: item.location,\n    };\n  });\n  return formatRcvRequestData(params, numbers);\n};\n\nconst sortDialInNumbers = (\n  numbers: RcvInvitationRequestV2['phoneNumbers'],\n  currentLocale: string,\n) => {\n  const defaultPhoneNumbers = numbers\n    .filter((item) => !item.premium)\n    .map((item) => ({\n      number: item.phoneNumber,\n      unformattedNumber: item.phoneNumber,\n      country: item.country.name,\n      location: item.location,\n    }));\n  const premiumNumbers = numbers\n    .filter((item) => item.premium && !!item.location)\n    .map((item) => ({\n      number: item.phoneNumber,\n      unformattedNumber: item.phoneNumber,\n      country: item.country.name,\n      location: item.location,\n    }));\n  const tollFreeNumbers = numbers\n    .filter((item) => item.premium && !item.location)\n    .map((item) => ({\n      number: item.phoneNumber,\n      unformattedNumber: item.phoneNumber,\n      country: item.country.name,\n      location: `${t('tollFree')}`,\n    }));\n  return [...defaultPhoneNumbers, ...premiumNumbers, ...tollFreeNumbers];\n};\n\nconst formatRcvInvitationRequestDataV2 = (params: any) => {\n  // format number\n  const numbers = sortDialInNumbers(params.phoneNumbers, params.currentLocale);\n  return formatRcvRequestData(params, numbers);\n};\n\n/**\n * Helper function to format join URI for PMI in V2 API\n */\nconst formatJoinUriWithPMN = (settings: RcVideoV2Api): string => {\n  const joinUri = settings.discovery?.web;\n  const alias = settings.pins?.aliases?.[0];\n\n  if (settings.type === 'PMI' && alias) {\n    const pmiId = settings.pins?.pstn.participant;\n    return joinUri.replace(pmiId, alias);\n  }\n\n  return joinUri;\n};\n\n/**\n * Convert the data structure of RcVideoV2 to RcVideoV1\n */\nconst transformV2ResponseToV1 = (\n  settings: RcVideoV2Api,\n): Partial<RcVideoAPIResponse | RcVideoAPI> => {\n  return {\n    id: settings.id,\n    name: settings.name,\n    shortId: settings.pins?.pstn.participant,\n    extensionId: settings.host?.extensionId,\n    accountId: settings.host?.accountId,\n    type: 0,\n    personalMeetingName: settings.pins?.aliases?.[0],\n    allowJoinBeforeHost: settings.preferences.joinBeforeHost,\n    allowScreenSharing: settings.preferences.screenSharing,\n    isMeetingSecret: settings.security.passwordProtected,\n    meetingPassword: settings.security.password?.plainText,\n    meetingPasswordMasked: settings.security.password?.joinQuery,\n    meetingPasswordPSTN: settings.security.password?.pstn,\n    isOnlyAuthUserJoin: settings.security.noGuests,\n    isOnlyCoworkersJoin: settings.security.sameAccount,\n    e2ee: settings.security.e2ee,\n    joinUri: formatJoinUriWithPMN(settings),\n    muteAudio: settings.preferences.join?.audioMuted,\n    muteVideo: settings.preferences.join?.videoMuted,\n    waitingRoomMode:\n      RCV_WAITING_ROOM_MODE_V2[settings.preferences.join?.waitingRoomRequired],\n    allowAnyoneRecord:\n      settings.preferences.recordings?.everyoneCanControl.enabled ?? false,\n    allowAnyoneTranscribe:\n      settings.preferences.allowEveryoneTranscribeMeetings ?? false,\n  };\n};\n\n/**\n * Transform V1 meeting data to V2 format for API calls\n */\nconst transformV1MeetingToV2 = (\n  settings: RcVideoAPI,\n  usePersonalMeetingId: boolean,\n  options: {\n    enableWaitingRoom: boolean;\n    enableE2EE: boolean;\n  },\n): RcVideoV2PostData => {\n  const result: RcVideoV2PostData = {\n    name: settings.name,\n    type: usePersonalMeetingId ? 'PMI' : 'Scheduled',\n    security: {\n      passwordProtected: settings.isMeetingSecret,\n      password: settings.isMeetingSecret ? settings.meetingPassword! : '',\n      // If true, only authenticated users can join to a meeting.\n      noGuests: settings.isOnlyAuthUserJoin,\n      // If true, only users have the same account can join to a meeting.\n      sameAccount: settings.isOnlyCoworkersJoin,\n    },\n    preferences: {\n      join: {\n        audioMuted: settings.muteAudio,\n        videoMuted: settings.muteVideo,\n      },\n      joinBeforeHost: settings.allowJoinBeforeHost,\n      screenSharing: settings.allowScreenSharing,\n      allowEveryoneTranscribeMeetings: !!settings.allowAnyoneTranscribe,\n      recordings: {\n        everyoneCanControl: { enabled: !!settings.allowAnyoneRecord },\n      },\n    },\n  };\n  if (options.enableWaitingRoom) {\n    result.preferences.join.waitingRoomRequired =\n      RCV_WAITING_ROOM_MODE_V2_REVERSE[settings.waitingRoomMode!];\n  }\n  if (options.enableE2EE) {\n    result.security.e2ee = settings.e2ee!;\n  }\n  if (usePersonalMeetingId) {\n    result.id = settings.id!;\n  }\n  return result;\n};\n\n// TODO: will remove this when google app script could support export seperately\n// export together because google app script not fully support export\nexport {\n  assignObject,\n  comparePreferences,\n  formatJoinUriWithPMN,\n  formatMainPhoneNumber,\n  formatPremiumNumbers,\n  formatRcvInvitationRequestData,\n  formatRcvInvitationRequestDataV2,\n  generateRandomPassword,\n  getDefaultChars,\n  getDefaultVideoSettings,\n  getDirtyPreferences,\n  getLockedPreferences,\n  getTopic,\n  getVideoSettings,\n  meetingProviderTypes,\n  patchWaitingRoomRelated,\n  pruneMeetingObject,\n  prunePreferencesObject,\n  RCV_E2EE_DEFAULT_SECURITY_OPTIONS,\n  RCV_E2EE_RELATED_KEYS,\n  RCV_PREFERENCES_IDS,\n  RCV_PREFERENCES_KEYS,\n  RcVideoTypes,\n  reversePreferences,\n  sortDialInNumbers,\n  transformPreferences,\n  transformSettingLocks,\n  transformV1MeetingToV2,\n  transformV2ResponseToV1,\n  updateLocalPreferences,\n  validatePasswordSettings,\n  validateRandomPassword,\n};\n"],"mappings":"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","ignoreList":[]}