{"version":3,"file":"FaxConversations.js","names":["_messageHelper","require","_services","_services2","_services3","_nextCore","_filter","_interopRequireDefault","_ConversationLogger","_ConversationsBase2","_MessageSender","_FaxMessageStore","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_class","_class2","_descriptor","e","__esModule","_initializerDefineProperty","i","r","l","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_classCallCheck","a","n","TypeError","_defineProperties","t","length","o","_toPropertyKey","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","_superPropGet","p","_get","get","bind","_superPropBase","getOwnPropertyDescriptor","arguments","hasOwnProperty","setPrototypeOf","getPrototypeOf","__proto__","_inherits","create","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","_initializerWarningHelper","Error","FaxConversations","exports","injectable","name","target","optional","undefined","metadata","Function","Toast","Auth","Client","MessageSender","ExtensionInfo","FaxMessageStore","AppFeatures","RegionSettings","ContactMatcher","ConversationLogger","FaxConversationsOptions","FaxFilterStatus","computed","that","currentStatus","formattedConversations","searchInput","limitedConversations","_ConversationsBase","_toast","_auth","_client","_messageSender","_extensionInfo","_messageStore","_appFeatures","_regionSettings","_contactMatcher","_conversationLogger","_conversationsOptions","_this","setCurrentStatus","val","onReset","hasReadFaxPermission","targetStatus","filter","_ref","messageStatus","direction","_this$searchInput","_this$searchInput$toL","_this$searchInput$toL2","effectSearchStr","toLowerCase","trim","faxList","fax","_fax$correspondents","_fax$correspondents2","correspondentMatches","find","entity","indexOf","correspondents","contact","phoneNumber","extensionNumber","sort","sortByDate","ConversationsBase","state","action"],"sources":["src/app/services/Fax/FaxConversations.ts"],"sourcesContent":["import { sortByDate } from '@ringcentral-integration/commons/lib/messageHelper';\nimport {\n  AppFeatures,\n  Auth,\n  Client,\n  ExtensionInfo,\n  RegionSettings,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport { ContactMatcher } from '@ringcentral-integration/micro-contacts/src/app/services';\nimport { Toast } from '@ringcentral-integration/micro-core/src/app/services';\nimport {\n  action,\n  computed,\n  injectable,\n  optional,\n  state,\n} from '@ringcentral-integration/next-core';\nimport filter from 'lodash/filter';\n\nimport { ConversationLogger } from '../ConversationLogger';\nimport type { FilteredConversation } from '../Conversations/Conversations.interface';\nimport { ConversationsBase } from '../Conversations/ConversationsBase';\nimport { MessageSender } from '../MessageSender';\n\nimport type { FaxConversationsOptions } from './FaxConversations.interface';\nimport type { FaxFilterStatus } from './FaxFilter.interface';\nimport { FaxMessageStore } from './FaxMessageStore';\n\n/**\n * For fax conversations\n */\n@injectable({\n  name: 'FaxConversations',\n})\nexport class FaxConversations extends ConversationsBase<FaxMessageStore> {\n  constructor(\n    protected override _toast: Toast,\n    protected override _auth: Auth,\n    protected override _client: Client,\n    protected override _messageSender: MessageSender,\n    protected override _extensionInfo: ExtensionInfo,\n    protected override _messageStore: FaxMessageStore,\n    protected override _appFeatures: AppFeatures,\n    protected override _regionSettings: RegionSettings,\n    @optional() protected override _contactMatcher?: ContactMatcher,\n    @optional() protected override _conversationLogger?: ConversationLogger,\n    @optional('FaxConversationsOptions')\n    protected override _conversationsOptions?: FaxConversationsOptions,\n  ) {\n    super(\n      _toast,\n      _auth,\n      _client,\n      null,\n      _extensionInfo,\n      _messageStore,\n      _appFeatures,\n      _regionSettings,\n      _contactMatcher,\n      _conversationLogger,\n      _conversationsOptions,\n    );\n  }\n  @state\n  currentStatus: FaxFilterStatus = 'All';\n\n  @action\n  setCurrentStatus(val: FaxFilterStatus) {\n    this.currentStatus = val;\n  }\n\n  override onReset() {\n    super.onReset();\n  }\n\n  override get _hasPermission() {\n    return this._appFeatures.hasReadFaxPermission;\n  }\n\n  @computed((that: FaxConversations) => [\n    that.currentStatus,\n    that.formattedConversations,\n  ])\n  get limitedConversations(): FilteredConversation[] {\n    const targetStatus = this.currentStatus;\n    if (targetStatus === 'All') {\n      return this.formattedConversations;\n    }\n    return filter(\n      this.formattedConversations,\n      ({ messageStatus, direction }) => {\n        switch (targetStatus) {\n          case 'Failed':\n            return (\n              messageStatus === 'SendingFailed' ||\n              messageStatus === 'DeliveryFailed'\n            );\n          case 'Received':\n            return direction === 'Inbound' && messageStatus === 'Received';\n          case 'Sent':\n            return messageStatus === 'Sent' || messageStatus === 'Queued';\n          default:\n            return true;\n        }\n      },\n    );\n  }\n\n  @computed((that: FaxConversations) => [\n    that.searchInput,\n    that.limitedConversations,\n  ])\n  override get filteredConversations(): FilteredConversation[] {\n    const effectSearchStr = this.searchInput?.toLowerCase?.()?.trim();\n    const faxList = this.limitedConversations;\n\n    if (effectSearchStr === '' || effectSearchStr === null) {\n      return faxList;\n    }\n    return faxList\n      .filter((fax) => {\n        if (\n          fax.correspondentMatches.find(\n            (entity) =>\n              (entity.name || '').toLowerCase().indexOf(effectSearchStr) > -1,\n          )\n        ) {\n          // match by entity's name\n          return true;\n        }\n        if (\n          fax.correspondents?.find(\n            (contact) =>\n              (contact.phoneNumber || contact.extensionNumber || '').indexOf(\n                effectSearchStr,\n              ) > -1,\n          )\n        ) {\n          return true;\n        }\n        if (\n          fax.correspondents?.find(\n            (contact) =>\n              (contact.name || '').toLowerCase().indexOf(effectSearchStr) > -1,\n          )\n        ) {\n          return true;\n        }\n        return false;\n      })\n      .sort(sortByDate as any);\n  }\n}\n"],"mappings":"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","ignoreList":[]}