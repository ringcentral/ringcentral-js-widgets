{"version":3,"file":"AvailabilityMonitor.js","names":["_debounceThrottle","require","_validateIsOffline","_interopRequireDefault","_nextCore","_ramda","_Auth","_Client","_Environment","_availabilityMonitorHelper","_errorMessages","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_dec24","_dec25","_dec26","_dec27","_dec28","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","e","__esModule","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_regenerator","Symbol","n","iterator","toStringTag","i","c","prototype","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","HEALTH_CHECK_INTERVAL","exports","STATUS_END_POINT","DEFAULT_TIME","SHARED_STATE_EXPIRATION","AvailabilityMonitor","injectable","name","target","optional","undefined","metadata","Function","Auth","Client","Environment","AvailabilityMonitorOptions","Record","computed","that","sharedStates","Omit","_RcModule","_auth","_client","_prefix","_tabManager","_environment","_availabilityMonitorOptions","_this$_availabilityMo","_this$_availabilityMo2","_this","_enabled","enabled","_randomTime","_limitedTimeout","_normalTimeout","_promise","_healthRetryTime","_unbindHandlers","_beforeRequestHandler","params","isLimitedAvailabilityMode","requestUrl","pathOr","requestMethod","extractUrl","url","isHAEnabledAPI","method","errorMessages","serviceLimited","_requestErrorHandler","_ref","_callee","error","extractedUrl","headers","retryAfter","_context","attachErrorResponse","isHAError","hasLimitedStatusError","setLimitedModeStatusError","_retrieveRetryAfter","_switchToLimitedMode","_retry","_x","_refreshErrorHandler","_ref2","_callee2","isOffline","platform","RES_STATUS","refreshTokenValid","_t","_context2","validateIsOffline","message","service","response","status","auth","_switchToVoIPOnlyMode","_x2","_refreshSuccessHandler","isVoIPOnlyMode","setVoIPOnlyReset","_clearLimitedTimeout","setVoIPOnlyMode","_switchToNormalMode","setNormalMode","_clearNormalTimeout","healthCheck","promisedThrottle","fn","_this2","_callee3","_context3","_healthCheck","manual","_sharedStatesKey","_currentTabKeys","isLimitedMode","setLimitedMode","onInit","_bindHandlers","onInitOnce","_this3","_initLocalStorage","watch","_this3$_environment","changeCounter","_this3$_environment2","ready","_this4","client","on","events","beforeRequest","requestError","addListener","loginSuccess","logoutSuccess","logoutError","refreshError","refreshSuccess","removeListener","parseFloat","concat","get","isNaN","clearTimeout","_getStatus2","_callee4","res","_context4","skipAuthCheck","Authorization","accessToken","_getStatus","_this5","setTimeout","_healthCheck2","_callee5","_this6","_ref3","_ref3$manual","_args5","_t2","_context5","console","generateRandomNumber","_checkIfHAError","_callee6","errMessage","_context6","checkIfHAError","_x3","_attachErrorResponse","_callee7","_t3","_context7","_json","clone","json","err","_x4","_this7","some","hasCallSession","_this8","webSocketReady","_writeSharedStates","_global$localStorage","JSON","stringify","global","localStorage","setItem","_retrieveSharedStates","_global$localStorage2","getItem","parse","_this9","isUnloading","addEventListener","ev","_unloadSharedStates","_this0","states","tabId","id","_cleanSharedStates","_this1","state","Date","now","timestamp","actualTabIds","includes","setSharedState","_this$_tabManager","current","RcModule","action"],"sources":["src/app/services/AvailabilityMonitor/AvailabilityMonitor.ts"],"sourcesContent":["import { promisedThrottle } from '@ringcentral-integration/commons/lib/debounce-throttle';\nimport validateIsOffline from '@ringcentral-integration/commons/lib/validateIsOffline';\nimport {\n  action,\n  computed,\n  injectable,\n  optional,\n  RcModule,\n  state,\n  watch,\n} from '@ringcentral-integration/next-core';\nimport type { ApiError } from '@ringcentral/sdk';\nimport { pathOr } from 'ramda';\n\nimport { Auth } from '../Auth';\nimport { Client } from '../Client';\nimport { Environment } from '../Environment';\n\nimport type {\n  AvailabilityMonitorOptions,\n  ErrorMessages,\n  SharedState,\n} from './AvailabilityMonitor.interface';\nimport {\n  extractUrl,\n  generateRandomNumber,\n  isHAEnabledAPI,\n  isHAError,\n} from './availabilityMonitorHelper';\nimport { errorMessages } from './errorMessages';\n\nexport const HEALTH_CHECK_INTERVAL = 60 * 1000;\nexport const STATUS_END_POINT = '/restapi/v1.0/status';\nconst DEFAULT_TIME = 0;\nconst SHARED_STATE_EXPIRATION = 12 * 60 * 60 * 1000;\n\n@injectable({\n  name: 'AvailabilityMonitor',\n})\nexport class AvailabilityMonitor extends RcModule {\n  protected _enabled = this._availabilityMonitorOptions?.enabled ?? false;\n\n  protected _randomTime = DEFAULT_TIME;\n\n  protected _limitedTimeout: NodeJS.Timeout | null = null;\n\n  protected _normalTimeout: NodeJS.Timeout | null = null;\n\n  protected _promise: Promise<Response> | null = null;\n\n  _healthRetryTime = HEALTH_CHECK_INTERVAL;\n\n  _unbindHandlers: (() => void) | null = null;\n\n  constructor(\n    protected _auth: Auth,\n    protected _client: Client,\n    @optional('Prefix') protected _prefix?: string,\n    @optional('TabManager') protected _tabManager?: any,\n    @optional() protected _environment?: Environment,\n    @optional('AvailabilityMonitorOptions')\n    protected _availabilityMonitorOptions?: AvailabilityMonitorOptions,\n  ) {\n    super();\n  }\n\n  /**\n   * When App is in Limited Mode and Status check met a non-503 error\n   */\n  @state\n  hasLimitedStatusError = false;\n\n  @state\n  isLimitedMode = false;\n\n  @state\n  isVoIPOnlyMode = false;\n\n  @action\n  setLimitedModeStatusError() {\n    this.hasLimitedStatusError = true;\n  }\n\n  @action\n  setNormalMode() {\n    this.hasLimitedStatusError = false;\n    this.isLimitedMode = false;\n    this.isVoIPOnlyMode = false;\n  }\n\n  @action\n  setLimitedMode() {\n    this.isLimitedMode = true;\n  }\n\n  @action\n  setVoIPOnlyMode() {\n    this.isVoIPOnlyMode = true;\n  }\n\n  @action\n  setVoIPOnlyReset() {\n    this.isVoIPOnlyMode = false;\n  }\n\n  override onInit() {\n    this._bindHandlers();\n  }\n\n  override onInitOnce() {\n    this._initLocalStorage();\n    watch(\n      this,\n      () => this._environment?.changeCounter,\n      () => {\n        if (this.ready && this._environment?.ready) {\n          this._bindHandlers();\n        }\n      },\n    );\n  }\n\n  _bindHandlers() {\n    if (this._unbindHandlers) {\n      this._unbindHandlers();\n    }\n\n    const client = this._client.service.client();\n    const platform = this._client.service.platform();\n\n    // TODO: in other modules, when they catch error first check if app is in HA mode.\n    client.on(client.events.beforeRequest, this._beforeRequestHandler);\n    client.on(client.events.requestError, this._requestErrorHandler);\n    platform.addListener(\n      platform.events.loginSuccess,\n      this._switchToNormalMode,\n    );\n    platform.addListener(\n      platform.events.logoutSuccess,\n      this._switchToNormalMode,\n    );\n    platform.addListener(platform.events.logoutError, this._switchToNormalMode);\n    platform.addListener(\n      platform.events.refreshError,\n      this._refreshErrorHandler,\n    );\n    platform.addListener(\n      platform.events.refreshSuccess,\n      this._refreshSuccessHandler,\n    );\n\n    this._unbindHandlers = () => {\n      client.removeListener(\n        client.events.beforeRequest,\n        this._beforeRequestHandler,\n      );\n      client.removeListener(\n        client.events.requestError,\n        this._requestErrorHandler,\n      );\n      platform.removeListener(\n        platform.events.loginSuccess,\n        this._switchToNormalMode,\n      );\n      platform.removeListener(\n        platform.events.logoutSuccess,\n        this._switchToNormalMode,\n      );\n      platform.removeListener(\n        platform.events.logoutError,\n        this._switchToNormalMode,\n      );\n      platform.removeListener(\n        platform.events.refreshError,\n        this._refreshErrorHandler,\n      );\n      platform.removeListener(\n        platform.events.refreshSuccess,\n        this._refreshSuccessHandler,\n      );\n      this._unbindHandlers = null;\n    };\n  }\n\n  _beforeRequestHandler = (params: Request) => {\n    if (!this.isLimitedAvailabilityMode || !this._enabled) {\n      return;\n    }\n\n    const requestUrl = pathOr<string | null>(null, ['_request', 'url'], params);\n    const requestMethod = pathOr<string | null>(\n      null,\n      ['_request', 'method'],\n      params,\n    );\n\n    if (!requestUrl || !requestMethod) {\n      return;\n    }\n\n    // In the limited availability mode, should not block status check api\n    // or highly availability api.\n    if (\n      extractUrl({ url: requestUrl }) === STATUS_END_POINT ||\n      isHAEnabledAPI({ url: requestUrl, method: requestMethod })\n    ) {\n      return;\n    }\n\n    throw new Error(errorMessages.serviceLimited);\n  };\n\n  /**\n   * Retrieve retry after value from response headers\n   */\n  _retrieveRetryAfter(headers: Response['headers']) {\n    try {\n      const retryAfter = parseFloat(`${headers.get('Retry-After') || -1}`);\n      return Number.isNaN(retryAfter) ? -1 : retryAfter;\n    } catch (error) {\n      return -1;\n    }\n  }\n\n  /**\n   * Check if app can enter LA mode.\n   * If this module is not enabled, just return.\n   *\n   */\n  _requestErrorHandler = async (error: ApiError) => {\n    await this.attachErrorResponse(error);\n\n    const requestUrl = pathOr<Request['url']>('', ['request', 'url'], error);\n    const extractedUrl = extractUrl({\n      url: requestUrl,\n    });\n\n    // If app is in Limited Mode and staus API met a status which is not 200 nor 503\n    if (\n      this.isLimitedAvailabilityMode &&\n      extractedUrl === STATUS_END_POINT &&\n      !isHAError(error)\n    ) {\n      if (!this.hasLimitedStatusError) {\n        this.setLimitedModeStatusError();\n      }\n      return;\n    }\n\n    if (!isHAError(error) || !this._enabled) {\n      return;\n    }\n\n    const headers = pathOr(\n      {},\n      ['response', 'headers'],\n      error,\n    ) as Response['headers'];\n    const retryAfter = this._retrieveRetryAfter(headers);\n\n    if (retryAfter > 0) {\n      // Retry-After unit is secons, make it mili-secons\n      this._healthRetryTime = retryAfter * 1000;\n    } else {\n      this._healthRetryTime = HEALTH_CHECK_INTERVAL;\n    }\n\n    this._switchToLimitedMode();\n    this._retry();\n  };\n\n  _refreshErrorHandler = async (error: ApiError) => {\n    const isOffline = validateIsOffline(error.message);\n\n    const platform = this._client.service.platform();\n    const RES_STATUS = (error.response && error.response.status) || null;\n    const refreshTokenValid =\n      (isOffline || Number(RES_STATUS) >= 500) &&\n      (await platform.auth().refreshTokenValid());\n    if (refreshTokenValid) {\n      this._switchToVoIPOnlyMode();\n    }\n  };\n\n  _refreshSuccessHandler = () => {\n    if (this.isVoIPOnlyMode) {\n      this.setVoIPOnlyReset();\n    }\n    this._clearLimitedTimeout();\n  };\n\n  _switchToVoIPOnlyMode = () => {\n    if (this.isVoIPOnlyMode) {\n      return;\n    }\n\n    this._healthRetryTime = HEALTH_CHECK_INTERVAL;\n    this.setVoIPOnlyMode();\n    this._retry();\n  };\n\n  _switchToLimitedMode() {\n    if (this.isLimitedMode) {\n      return;\n    }\n\n    this.setLimitedMode();\n  }\n\n  _switchToNormalMode = () => {\n    if (!this.isLimitedAvailabilityMode) {\n      return;\n    }\n\n    this.setNormalMode();\n\n    this._clearLimitedTimeout();\n    this._clearNormalTimeout();\n  };\n\n  _clearLimitedTimeout() {\n    if (this._limitedTimeout) {\n      clearTimeout(this._limitedTimeout);\n      this._limitedTimeout = null;\n    }\n  }\n\n  _clearNormalTimeout() {\n    if (this._normalTimeout) {\n      clearTimeout(this._normalTimeout);\n      this._normalTimeout = null;\n    }\n  }\n\n  async _getStatus() {\n    // !!This API must be always called with OAuth token in Authorization header\n    // !! (same as in case of regular API calls) in order to ensure the request is routed to proper POD/partition.\n    // Client app can even continue use expired access token with this API - backend will pass such requests through.\n    // The result of the API call is unpredictable when it is called without access token!\n    //\n    // Reference: https://wiki_domain/display/PLAT/High+Availability+Guidelines+for+API+Clients\n\n    const res: Response = await this._client.service\n      .platform()\n      .get('/restapi/v1.0/status', null, {\n        skipAuthCheck: true,\n        headers: {\n          Authorization: `Bearer ${this._auth.accessToken}`,\n        },\n      });\n    return res;\n  }\n\n  _retry() {\n    if (!this._limitedTimeout) {\n      this._limitedTimeout = setTimeout(() => {\n        this._clearLimitedTimeout();\n        this._healthCheck();\n      }, this._healthRetryTime);\n    }\n  }\n\n  /**\n   * Inner method of health checking\n   */\n  async _healthCheck({ manual = false } = {}) {\n    if (this._promise) return;\n    try {\n      this._promise = this._getStatus();\n      const response = await this._promise;\n      if (!response || response.status !== 200) {\n        return;\n      }\n    } catch (err) {\n      console.error('error from request of /restapi/v1.0/status.');\n      return;\n    } finally {\n      this._promise = null;\n    }\n    if (manual) {\n      this._clearNormalTimeout();\n      this._switchToNormalMode();\n      return;\n    }\n    // In the described situation Client Application should follow an \"Exponential Backoff\" approach:\n    // The retries exponentially increase the waiting time up to a certain threshold.\n    // The idea is that if the server is down temporarily,\n    // it is not overwhelmed with requests hitting at the same time when it comes back up.\n    //\n    // Reference: https://wiki_domain/display/PLAT/Error+Handling+Guidelines+for+API+Clients\n\n    this._randomTime = this._randomTime || generateRandomNumber(); // Generate random seconds (1 ~ 121)\n    this._normalTimeout = setTimeout(() => {\n      this._clearNormalTimeout();\n      this._switchToNormalMode();\n    }, this._randomTime * 1000);\n  }\n\n  /**\n   * Health check with status API\n   */\n  healthCheck = promisedThrottle({\n    async fn(this: AvailabilityMonitor) {\n      return this._healthCheck({ manual: true });\n    },\n  });\n\n  /**\n   * Check if the error is Survival Mode error,\n   * Or if app is already in Survival Mode and current request is blocked with an error.\n   */\n  async checkIfHAError(error: ApiError) {\n    const errMessage = pathOr<string | null>(null, ['message'], error);\n    await this.attachErrorResponse(error);\n\n    return isHAError(error) || errMessage === errorMessages.serviceLimited;\n  }\n\n  private async attachErrorResponse(error: ApiError) {\n    const response = error.response as ApiError['response'] & ErrorMessages;\n    if (response && !response._json) {\n      try {\n        response._json = await response.clone().json();\n      } catch (err) {\n        // ignore response json error\n        console.error('error from response.json()', { error, err });\n      }\n    }\n  }\n\n  /**\n   * Is App in limited mode\n   */\n  get isLimitedAvailabilityMode() {\n    return this.isLimitedMode || this.isVoIPOnlyMode;\n  }\n\n  /**\n   * Custom storage with localStorage in synchronous way\n   * ! Be aware that these states are shared across multiple tabs !\n   */\n  @state\n  sharedStates: Record<string, SharedState> = {};\n\n  @computed((that: AvailabilityMonitor) => [that.sharedStates])\n  get hasCallSession() {\n    return Object.keys(this.sharedStates).some(\n      (key) => this.sharedStates[key].hasCallSession,\n    );\n  }\n\n  @computed((that: AvailabilityMonitor) => [that.sharedStates])\n  get hasWebSocketReady() {\n    return Object.keys(this.sharedStates).some(\n      (key) => this.sharedStates[key].webSocketReady,\n    );\n  }\n\n  _sharedStatesKey!: string;\n  _currentTabKeys: string[] = [];\n\n  _writeSharedStates() {\n    const json = JSON.stringify(this.sharedStates);\n    global.localStorage?.setItem(this._sharedStatesKey, json);\n  }\n\n  @action\n  _retrieveSharedStates() {\n    const json = global.localStorage?.getItem(this._sharedStatesKey);\n    this.sharedStates = JSON.parse(json ?? '{}');\n  }\n\n  // TODO: ensure that still working in worker context\n  _initLocalStorage() {\n    this._sharedStatesKey = `${this._prefix}-AvailabilityMonitor-sharedStates`;\n    if (global.localStorage) {\n      let isUnloading: boolean | undefined;\n      this._retrieveSharedStates();\n\n      global.addEventListener('storage', (ev: StorageEvent) => {\n        if (!isUnloading && ev.key === this._sharedStatesKey) {\n          this._retrieveSharedStates();\n        }\n      });\n      global.addEventListener('pagehide', () => {\n        isUnloading = true;\n        this._unloadSharedStates();\n      });\n    }\n  }\n\n  @action\n  _unloadSharedStates() {\n    let states: Record<string, SharedState> = {\n      ...this.sharedStates,\n    };\n\n    // unload base on cached keys\n    this._currentTabKeys.forEach((key) => {\n      delete states[key];\n    });\n    this._currentTabKeys = [];\n\n    // unload base on tabId\n    if (this._tabManager) {\n      Object.keys(states).forEach((key) => {\n        if (states[key].tabId === this._tabManager!.id) {\n          delete states[key];\n        }\n      });\n    }\n\n    // clean\n    states = this._cleanSharedStates(states);\n\n    // write\n    this.sharedStates = states;\n    this._writeSharedStates();\n  }\n\n  _cleanSharedStates(states: Record<string, SharedState>) {\n    Object.keys(states).forEach((key) => {\n      const state = states[key];\n      if (\n        // timestamp expired\n        Date.now() - state.timestamp > SHARED_STATE_EXPIRATION ||\n        // tabs expired/closed\n        (state.tabId &&\n          this._tabManager &&\n          !this._tabManager.actualTabIds.includes(state.tabId))\n      ) {\n        delete states[key];\n      }\n    });\n    return states;\n  }\n\n  @action\n  setSharedState(\n    key: string,\n    state?: Omit<SharedState, 'tabId' | 'timestamp'>,\n  ) {\n    let states: Record<string, SharedState> = {\n      ...this.sharedStates,\n    };\n\n    // update\n    if (state) {\n      const current = states[key];\n      states[key] = {\n        ...current,\n        ...state,\n        timestamp: Date.now(),\n        tabId: this._tabManager?.id,\n      };\n    } else {\n      delete states[key];\n    }\n\n    // clean\n    states = this._cleanSharedStates(states);\n\n    // write storage\n    this.sharedStates = states;\n    this._writeSharedStates();\n\n    // cache keys\n    if (!this._currentTabKeys.includes(key)) {\n      this._currentTabKeys.push(key);\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}