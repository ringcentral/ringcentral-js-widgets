{"version":3,"file":"Client.js","names":["_multipartHttpRequest","require","_nextCore","_localforage","_interopRequireDefault","_ringcentralClient","_PathSegment2","_Account","_ClientInfo","_Dictionary","_Glip","_NumberParser","_Subscription","_createSDK","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_class","_class2","e","__esModule","_regeneratorKeys","n","Object","r","t","unshift","length","pop","value","done","_regenerator","Symbol","iterator","o","toStringTag","i","c","prototype","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_applyDecoratedDescriptor","initializer","slice","reverse","reduce","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_classCallCheck","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","RestPrefix","_PathSegment","service","undefined","PathSegment","createStorage","exports","prefix","localforage","createInstance","name","Client","injectable","target","inject","optional","metadata","Function","PortManager","Initiator","SdkConfig","ClientOptions","BrandConfig","delegate","SDKOptions","_RingCentralClient","_portManager","_initiator","_sdkConfig","_clientOptions","_brandConfig","_clientOptions$sdk","_sdkConfig$localStora","_this$_clientOptions","_this$_clientOptions$","_this","sdk","createSDK","localStorage","_throwError","multipart","multipartHttpRequest","platform","_discoveryPromise","process","env","NODE_ENV","shared","isWorkerMode","isClient","throwError","Error","Proxy","get","migrationStorageKey","onInitialize","_callee","platformKey","storage","data","_t","_t2","_context","cache","_prefixKey","externals","getItem","setItem","removeItem","init","restPrefix","_this$_throwError","account","id","_this$_throwError2","Account","clientInfo","_this$_throwError3","ClientInfo","dictionary","_this$_throwError4","Dictionary","numberParser","_this$_throwError5","NumberParser","subscription","_this$_throwError6","Subscription","glip","_this$_throwError7","Glip","_setService","_callee2","sdkConfig","_sdkConfig$localStora2","_context2","setService","_x","_confirmRedirectUri","_callee3","redirectUri","_context3","_redirectUri","confirmRedirectUri","_x2","_checkLoginUrlWithDiscovery","_callee4","_context4","discovery","loginUrlWithDiscovery","checkLoginUrlWithDiscovery","RingCentralClient"],"sources":["src/app/services/Client/Client.ts"],"sourcesContent":["import type { SDKConfig as SdkConfig } from '@ringcentral-integration/commons/lib/createSdkConfig';\nimport { multipartHttpRequest } from '@ringcentral-integration/commons/lib/multipartHttpRequest';\nimport { type BrandConfig } from '@ringcentral-integration/micro-core/src/app/services';\nimport {\n  delegate,\n  Initiator,\n  inject,\n  injectable,\n  optional,\n  PortManager,\n} from '@ringcentral-integration/next-core';\nimport type { SDK, SDKOptions } from '@ringcentral/sdk';\nimport localforage from 'localforage';\nimport { Client as RingCentralClient } from 'ringcentral-client';\nimport PathSegment from 'ringcentral-client/build/PathSegment';\nimport Account from 'ringcentral-client/build/paths/Account';\nimport ClientInfo from 'ringcentral-client/build/paths/ClientInfo';\nimport Dictionary from 'ringcentral-client/build/paths/Dictionary';\nimport Glip from 'ringcentral-client/build/paths/Glip';\nimport NumberParser from 'ringcentral-client/build/paths/NumberParser';\nimport Subscription from 'ringcentral-client/build/paths/Subscription';\n\nimport type { ClientOptions } from './Client.interface';\nimport { createSDK } from './createSDK';\n\n// TODO: make 'ringcentral-client' support JS SDK v4 or replace it\nclass RestPrefix extends PathSegment {\n  constructor(service: SDK) {\n    super('restapi/v1.0', undefined, undefined, service);\n  }\n}\n\nexport const createStorage = (prefix?: string) => {\n  // TODO: fix type\n  // Support Async Storage interface in ExternalsOptions\n  // Issue: https://github.com/ringcentral/ringcentral-js/issues/275\n  return (prefix\n    ? localforage.createInstance({ name: prefix })\n    : localforage) as any as Storage;\n};\n\n/**\n * RingCentral Client wrapper class for SDK interactions.\n * Manages SDK service and platform operations.\n *\n * @class\n */\n@injectable({\n  name: 'Client',\n})\nexport class Client extends RingCentralClient {\n  private _throwError?: () => void;\n\n  /**\n   * Handles multipart HTTP requests to the RingCentral platform.\n   * Simplifies file uploads and multipart data submissions.\n   */\n  multipart = multipartHttpRequest(this.service.platform());\n\n  protected _discoveryPromise: Promise<void> | null = null;\n\n  constructor(\n    protected _portManager: PortManager,\n    protected _initiator: Initiator,\n    @inject('SdkConfig') protected _sdkConfig: SdkConfig,\n    @optional('ClientOptions') protected _clientOptions?: ClientOptions,\n    @optional('BrandConfig') protected _brandConfig?: BrandConfig,\n    @optional('Prefix') protected prefix?: string,\n  ) {\n    super(\n      _clientOptions?.sdk ??\n        createSDK(\n          {\n            ..._sdkConfig,\n            localStorage: _sdkConfig.localStorage ?? createStorage(prefix),\n          },\n          _brandConfig,\n        ),\n    );\n    if (\n      process.env.NODE_ENV !== 'production' &&\n      this._portManager.shared &&\n      this._portManager.isWorkerMode &&\n      this._portManager.isClient\n    ) {\n      const throwError = () => {\n        throw new Error(\n          `RingCentralClient is not available on the tab in 'SharedWorker' mode`,\n        );\n      };\n      this._throwError = throwError;\n      this.service = new Proxy(\n        {},\n        {\n          get() {\n            throwError();\n          },\n        },\n      );\n    }\n\n    //#region migration storage\n    const migrationStorageKey = 'app:MemoryStorage';\n    this._initiator.onInitialize(async () => {\n      const platformKey = this.service.cache()._prefixKey('platform');\n      const storage = this.service.externals().localStorage;\n      const data: any = await storage.getItem(migrationStorageKey);\n      if (data && Object.keys(data).length > 0) {\n        for (const key in data) {\n          if (key === platformKey) {\n            await storage.setItem(key, data[key]);\n          }\n        }\n        await storage.removeItem(migrationStorageKey);\n      }\n    });\n    //#endregion\n\n    this._clientOptions?.init?.(this.service);\n  }\n\n  restPrefix() {\n    if (process.env.NODE_ENV !== 'production') {\n      this._throwError?.();\n    }\n    return new RestPrefix(this.service.platform());\n  }\n\n  /**\n   * Gets an account API path segment for making account-related API requests.\n   *\n   * @param {string} [id] - Optional account ID\n   * @returns {Account} Account API path segment\n   */\n  override account(id?: string): Account {\n    if (process.env.NODE_ENV !== 'production') {\n      this._throwError?.();\n    }\n    return new Account(this.restPrefix(), id, this.service.platform());\n  }\n\n  /**\n   * Gets a client info API path segment for accessing client information.\n   *\n   * @param {string} [id] - Optional client ID\n   * @returns {ClientInfo} Client info API path segment\n   */\n  override clientInfo(id?: string): ClientInfo {\n    if (process.env.NODE_ENV !== 'production') {\n      this._throwError?.();\n    }\n    return new ClientInfo(this.restPrefix(), id, this.service.platform());\n  }\n\n  /**\n   * Gets a dictionary API path segment for accessing localization dictionaries.\n   *\n   * @param {string} [id] - Optional dictionary ID\n   * @returns {Dictionary} Dictionary API path segment\n   */\n  override dictionary(id?: string): Dictionary {\n    if (process.env.NODE_ENV !== 'production') {\n      this._throwError?.();\n    }\n    return new Dictionary(this.restPrefix(), id, this.service.platform());\n  }\n\n  /**\n   * Gets a number parser API path segment for parsing and formatting phone numbers.\n   *\n   * @param {string} [id] - Optional number parser ID\n   * @returns {NumberParser} Number parser API path segment\n   */\n  override numberParser(id?: string): NumberParser {\n    if (process.env.NODE_ENV !== 'production') {\n      this._throwError?.();\n    }\n    return new NumberParser(this.restPrefix(), id, this.service.platform());\n  }\n\n  override subscription(id?: string): Subscription {\n    if (process.env.NODE_ENV !== 'production') {\n      this._throwError?.();\n    }\n    return new Subscription(this.restPrefix(), id, this.service.platform());\n  }\n\n  override glip(id?: string) {\n    if (process.env.NODE_ENV !== 'production') {\n      this._throwError?.();\n    }\n    return new Glip(this.restPrefix(), id, this.service.platform());\n  }\n\n  /**\n   * Changes the SDK configuration with new settings.\n   *\n   * @param {SDKOptions} sdkConfig - New SDK configuration options\n   */\n  @delegate('server')\n  async setService(sdkConfig: SDKOptions) {\n    this.service = createSDK(\n      {\n        ...sdkConfig,\n        localStorage: sdkConfig.localStorage ?? createStorage(this.prefix),\n      },\n      this._brandConfig,\n    );\n  }\n\n  /**\n   * Sets the platform redirect URI if not already set.\n   * Used for OAuth authentication flows.\n   *\n   * @param {string} redirectUri - URI to redirect after authentication\n   */\n  @delegate('server')\n  async confirmRedirectUri(redirectUri: string) {\n    if (!this.service.platform()._redirectUri) {\n      this.service.platform()._redirectUri = redirectUri;\n    }\n  }\n\n  /**\n   * Ensures login URL uses discovery API when applicable.\n   * Initializes discovery API for environment detection.\n   */\n  @delegate('server')\n  async checkLoginUrlWithDiscovery() {\n    if (this.service.platform().discovery()) {\n      await this.service.platform().loginUrlWithDiscovery();\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}