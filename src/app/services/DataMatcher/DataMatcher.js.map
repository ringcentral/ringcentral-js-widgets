{"version":3,"file":"DataMatcher.js","names":["_nextCore","require","_ramda","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_class","_descriptor","_descriptor2","_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_regenerator","toStringTag","i","c","prototype","Generator","Object","create","_regeneratorDefine2","p","y","G","v","d","bind","l","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","toString","slice","constructor","name","from","test","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_superPropGet","_get","get","_superPropBase","getOwnPropertyDescriptor","hasOwnProperty","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","reverse","reduce","_initializerWarningHelper","Error","DEFAULT_TTL","DEFAULT_NO_MATCH_TTL","DataMatcher","exports","metadata","MatchData","Function","InsertMatchEntriesOptions","delegate","MatchOptions","MatchSourceOptions","computed","_ref","data","ready","searchProviderNames","_RcModule","_storage","_this$_storage","_this","_querySources","Map","_searchProviders","_matchPromises","_matchQueues","_lastCleanUp","enable","_updateSearchProviderNames","names","_addSearchProviderName","push","_this$dataMatcherOpti","_this$dataMatcherOpti2","dataMatcherOptions","ttl","_this$dataMatcherOpti3","_this$dataMatcherOpti4","noMatchTtl","onReset","onInit","_getQueries","output","Set","readyCheckFn","getQueriesFn","query","add","insertMatchEntries","_ref2","_this2","queries","timestamp","Date","now","_this2$data$query","_data$query","_t","_cleanUp","_this3","_ttl","_shouldInit","searchProvidersReady","_shouldReset","all","_ref3","values","addSearchProvider","_ref4","searchFn","concat","has","set","addQuerySource","_ref5","_triggerMatch","_callee","_ref6","_ref6$ignoreCache","ignoreCache","_ref6$ignoreQueue","ignoreQueue","_args","_context","undefined","match","triggerMatch","_match","_callee2","_ref7","_this4","_ref7$ignoreCache","_ref7$ignoreQueue","_context2","map","_matchSource","_x","_fetchMatchResult2","_callee3","_ref8","provider","promise","_context3","_fetchMatchResult","_x2","_matchSource2","_callee5","_ref9","_this5","queuedItems","promises","matching","queue","newQueries","_context5","item","filter","_noMatchTtl","_callee4","_context4","_x3","_insertMatching","_callee6","_ref1","_context6","insertMatching","_x4","dataMap","queryResult","matchesList","_iterator","_step","providerName","err","RcModule","userStorage","state","action"],"sources":["src/app/services/DataMatcher/DataMatcher.ts"],"sourcesContent":["import {\n  action,\n  computed,\n  delegate,\n  RcModule,\n  state,\n  StoragePlugin,\n  userStorage,\n} from '@ringcentral-integration/next-core';\nimport { all, filter } from 'ramda';\n\nimport type {\n  DataMatcherOptions,\n  FetchMatchResultOptions,\n  InsertMatchEntriesOptions,\n  MatchData,\n  MatchOptions,\n  MatchPromises,\n  MatchQueue,\n  MatchSourceOptions,\n  QuerySourceOptions,\n  SearchProvider,\n  SearchProviderOptions,\n  TriggerMatchOptions,\n} from './DataMatcher.interface';\n\nconst DEFAULT_TTL = 30 * 60 * 1000;\nconst DEFAULT_NO_MATCH_TTL = 30 * 1000;\n\nabstract class DataMatcher<T> extends RcModule {\n  protected _querySources = new Map<\n    QuerySourceOptions['getQueriesFn'],\n    QuerySourceOptions['readyCheckFn']\n  >();\n\n  protected _searchProviders = new Map<\n    SearchProviderOptions<T>['name'],\n    SearchProvider<T>\n  >();\n\n  protected _matchPromises = new Map<string, MatchPromises<T>>();\n\n  protected _matchQueues = new Map<string, MatchQueue>();\n\n  protected _lastCleanUp = 0;\n\n  constructor(protected _storage?: StoragePlugin) {\n    super();\n    this._storage?.enable(this);\n  }\n\n  @userStorage\n  @state\n  data: MatchData<T> = {};\n\n  @state\n  searchProviderNames: string[] = [];\n\n  @action\n  protected _updateSearchProviderNames(names: string[]) {\n    this.searchProviderNames = names;\n  }\n\n  @action\n  protected _addSearchProviderName(name: string) {\n    this.searchProviderNames.push(name);\n  }\n\n  abstract get dataMatcherOptions(): DataMatcherOptions;\n\n  protected get _ttl() {\n    return this.dataMatcherOptions?.ttl ?? DEFAULT_TTL;\n  }\n\n  protected get _noMatchTtl() {\n    return this.dataMatcherOptions?.noMatchTtl ?? DEFAULT_NO_MATCH_TTL;\n  }\n\n  override onReset() {\n    this._lastCleanUp = 0;\n  }\n\n  override onInit() {\n    this._updateSearchProviderNames([...this._searchProviders.keys()]);\n  }\n\n  _getQueries() {\n    const output = new Set<string>();\n    this._querySources.forEach((readyCheckFn, getQueriesFn) => {\n      if (readyCheckFn()) {\n        getQueriesFn().forEach((query) => {\n          output.add(query);\n        });\n      }\n    });\n    return [...output];\n  }\n\n  @action\n  insertMatchEntries({ name, queries, data }: InsertMatchEntriesOptions<T>) {\n    const timestamp = Date.now();\n    queries.forEach((query) => {\n      this.data[query] = this.data[query] ?? {};\n      this.data[query][name] = {\n        _t: timestamp, // for noMatchTtl check\n        data: data[query] ?? [],\n      };\n    });\n  }\n\n  @action\n  _cleanUp() {\n    // throttle clean up to only run once every 100ms\n    const now = Date.now();\n    if (now - this._lastCleanUp > 100) {\n      this._lastCleanUp = now;\n      Object.keys(this.data).forEach((query) => {\n        Object.keys(this.data[query]).forEach((name) => {\n          if (!this.data[query][name]._t) {\n            // mark for deletion\n            this.data[query][name]._t = now;\n          } else if (now - this.data[query][name]._t > this._ttl) {\n            // expired yet\n            // entry is removed\n            delete this.data[query][name];\n          }\n        });\n      });\n    }\n  }\n\n  override _shouldInit() {\n    return !!(super._shouldInit() && this.searchProvidersReady);\n  }\n\n  override _shouldReset() {\n    return !!(\n      super._shouldReset() ||\n      (this.ready && !this.searchProvidersReady)\n    );\n  }\n\n  get searchProvidersReady() {\n    return all(\n      ({ readyCheckFn }) => readyCheckFn(),\n      [...this._searchProviders.values()],\n    );\n  }\n\n  addSearchProvider({\n    name,\n    searchFn,\n    readyCheckFn,\n  }: SearchProviderOptions<T>) {\n    if (!name) {\n      throw new Error(`${this.constructor.name}: \"name\" is required.`);\n    }\n    if (this._searchProviders.has(name)) {\n      throw new Error(\n        `${this.constructor.name}: A provider named \"${name}\" already exists.`,\n      );\n    }\n    if (typeof searchFn !== 'function') {\n      throw new Error(\n        `${this.constructor.name}: \"searchFn\" must be a function.`,\n      );\n    }\n    if (typeof readyCheckFn !== 'function') {\n      throw new Error(\n        `${this.constructor.name}: \"readyCheckFn\" must be a function.`,\n      );\n    }\n    this._searchProviders.set(name, {\n      searchFn,\n      readyCheckFn,\n    });\n    if (this.ready) {\n      this._addSearchProviderName(name);\n    }\n  }\n\n  addQuerySource({ getQueriesFn, readyCheckFn }: QuerySourceOptions) {\n    if (typeof getQueriesFn !== 'function') {\n      throw new Error(\n        `${this.constructor.name}: \"getQueriesFn\" must be a function.`,\n      );\n    }\n    if (typeof readyCheckFn !== 'function') {\n      throw new Error(\n        `${this.constructor.name}: \"readyCheckFn\" must be a function.`,\n      );\n    }\n    if (this._querySources.has(getQueriesFn)) {\n      throw new Error(\n        `${this.constructor.name}: this getQueryFn has already been added.`,\n      );\n    }\n    this._querySources.set(getQueriesFn, readyCheckFn);\n  }\n\n  @delegate('server')\n  async triggerMatch({\n    ignoreCache = false,\n    ignoreQueue = false,\n  }: TriggerMatchOptions = {}) {\n    if (this.ready) {\n      this._cleanUp();\n      await this.match({\n        queries: this._getQueries(),\n        ignoreCache,\n        ignoreQueue,\n      });\n    }\n  }\n\n  @delegate('server')\n  async match({\n    queries,\n    ignoreCache = false,\n    ignoreQueue = false,\n  }: MatchOptions) {\n    await Promise.all(\n      [...this._searchProviders.keys()].map((name) =>\n        this._matchSource({\n          name,\n          queries,\n          ignoreCache,\n          ignoreQueue,\n        }),\n      ),\n    );\n  }\n\n  async _fetchMatchResult({ name, queries }: FetchMatchResultOptions) {\n    try {\n      const provider = this._searchProviders.get(name);\n      if (!provider) {\n        throw new Error(\n          `${this.constructor.name}: provider named \"${name} does not exist`,\n        );\n      }\n      const promise = Promise.resolve(\n        provider.searchFn({\n          queries,\n        }),\n      );\n      this._matchPromises.set(name, {\n        promise,\n        queries,\n      });\n      const data = await promise;\n      this._matchPromises.delete(name);\n      this.insertMatchEntries({\n        name,\n        queries,\n        data,\n      });\n    } catch (error) {\n      this._matchPromises.delete(name);\n      throw error;\n    }\n  }\n\n  @delegate('server')\n  async _matchSource({\n    name,\n    queries,\n    ignoreCache,\n    ignoreQueue,\n  }: MatchSourceOptions) {\n    const now = Date.now();\n    const data = this.data;\n    const queuedItems: Record<string, boolean> = {};\n    const promises: Promise<void | Record<string, T[]>>[] = [];\n\n    let matching: MatchPromises<T> | MatchQueue;\n    if (!ignoreQueue && this._matchPromises.has(name)) {\n      matching = this._matchPromises.get(name)!;\n      promises.push(matching.promise);\n      matching.queries.forEach((item) => {\n        queuedItems[item] = true;\n      });\n    }\n\n    let queue: MatchQueue | undefined;\n    if (!ignoreQueue && this._matchQueues.has(name)) {\n      queue = this._matchQueues.get(name)!;\n      promises.push(queue.promise);\n      queue.queries.forEach((item) => {\n        queuedItems[item] = true;\n      });\n    }\n\n    const newQueries = ignoreCache\n      ? queries\n      : filter(\n          (query) =>\n            !queuedItems[query] &&\n            (!data[query] ||\n              !data[query][name] ||\n              now - data[query][name]._t > this._noMatchTtl),\n          queries,\n        );\n\n    if (newQueries.length) {\n      if (ignoreQueue) {\n        promises.push(\n          this._fetchMatchResult({\n            name,\n            queries: newQueries,\n          }),\n        );\n      } else if (!matching!) {\n        matching = {\n          promise: this._fetchMatchResult({\n            name,\n            queries: newQueries,\n          }),\n          queries: newQueries,\n        };\n        promises.push(matching.promise);\n      } else if (!queue) {\n        const promise = (async () => {\n          await matching.promise;\n          const promise = this._fetchMatchResult({\n            name,\n            queries: queue!.queries,\n          });\n          this._matchQueues.delete(name);\n          await promise;\n        })();\n        queue = {\n          queries: newQueries,\n          promise,\n        };\n        this._matchQueues.set(name, queue);\n        promises.push(queue.promise);\n      } else {\n        queue.queries = queue.queries.concat(newQueries);\n      }\n    }\n    await Promise.all(promises);\n  }\n\n  /**\n   * insert matching result directly\n   */\n  @delegate('server')\n  async insertMatching({ name, data, queries }: InsertMatchEntriesOptions<T>) {\n    this.insertMatchEntries({\n      data,\n      queries,\n      name,\n    });\n  }\n\n  @computed(({ data, ready, searchProviderNames }: DataMatcher<T>) => [\n    data,\n    ready,\n    searchProviderNames,\n  ])\n  get dataMapping() {\n    if (!this.ready || !this.searchProviderNames.length) return {};\n    const dataMap: Record<string, T[]> = {};\n\n    for (const query in this.data) {\n      const queryResult = this.data[query];\n      if (!queryResult) {\n        continue;\n      }\n      let matchesList: T[] = [];\n      for (const providerName of this.searchProviderNames) {\n        if (\n          queryResult[providerName] &&\n          queryResult[providerName].data.length > 0\n        ) {\n          matchesList = matchesList.concat(queryResult[providerName].data);\n        }\n      }\n      if (matchesList.length > 0) {\n        dataMap[query] = matchesList;\n      }\n    }\n    return dataMap;\n  }\n}\n\nexport { DataMatcher };\n"],"mappings":"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","ignoreList":[]}