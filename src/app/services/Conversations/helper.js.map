{"version":3,"file":"helper.js","names":["_phoneNumber","require","_md","_interopRequireDefault","e","__esModule","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","n","getE164PhoneNumber","to","format","phoneNumber","type","buildConversationId","toNumbers","fromNumber","e164ToNumber","concat","map","filter","x","sortedNumbers","sort","join","MD5"],"sources":["src/app/services/Conversations/helper.ts"],"sourcesContent":["import { format } from '@ringcentral-integration/phone-number';\nimport MD5 from 'crypto-js/md5';\n\nfunction getE164PhoneNumber(to: string): string | null | undefined {\n  return format({ phoneNumber: to, type: 'e164' });\n}\n\nexport function buildConversationId(toNumbers: string[], fromNumber: string) {\n  const e164ToNumber = [...toNumbers, fromNumber]\n    .map((to) => getE164PhoneNumber(to))\n    .filter((x) => x);\n\n  const sortedNumbers = e164ToNumber.sort().join('-');\n\n  // using - to mark that as local id\n  return `-${MD5(sortedNumbers).toString()}`;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,YAAA,GAAAC,OAAA;AACA,IAAAC,GAAA,GAAAC,sBAAA,CAAAF,OAAA;AAAgC,SAAAE,uBAAAC,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,mBAAAC,CAAA,WAAAC,kBAAA,CAAAD,CAAA,KAAAE,gBAAA,CAAAF,CAAA,KAAAG,2BAAA,CAAAH,CAAA,KAAAI,kBAAA;AAAA,SAAAA,mBAAA,cAAAC,SAAA;AAAA,SAAAF,4BAAAH,CAAA,EAAAM,CAAA,QAAAN,CAAA,2BAAAA,CAAA,SAAAO,iBAAA,CAAAP,CAAA,EAAAM,CAAA,OAAAE,CAAA,MAAAC,QAAA,CAAAC,IAAA,CAAAV,CAAA,EAAAW,KAAA,6BAAAH,CAAA,IAAAR,CAAA,CAAAY,WAAA,KAAAJ,CAAA,GAAAR,CAAA,CAAAY,WAAA,CAAAC,IAAA,aAAAL,CAAA,cAAAA,CAAA,GAAAM,KAAA,CAAAC,IAAA,CAAAf,CAAA,oBAAAQ,CAAA,+CAAAQ,IAAA,CAAAR,CAAA,IAAAD,iBAAA,CAAAP,CAAA,EAAAM,CAAA;AAAA,SAAAJ,iBAAAF,CAAA,8BAAAiB,MAAA,YAAAjB,CAAA,CAAAiB,MAAA,CAAAC,QAAA,aAAAlB,CAAA,uBAAAc,KAAA,CAAAC,IAAA,CAAAf,CAAA;AAAA,SAAAC,mBAAAD,CAAA,QAAAc,KAAA,CAAAK,OAAA,CAAAnB,CAAA,UAAAO,iBAAA,CAAAP,CAAA;AAAA,SAAAO,kBAAAP,CAAA,EAAAM,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAN,CAAA,CAAAoB,MAAA,MAAAd,CAAA,GAAAN,CAAA,CAAAoB,MAAA,YAAAvB,CAAA,MAAAwB,CAAA,GAAAP,KAAA,CAAAR,CAAA,GAAAT,CAAA,GAAAS,CAAA,EAAAT,CAAA,IAAAwB,CAAA,CAAAxB,CAAA,IAAAG,CAAA,CAAAH,CAAA,UAAAwB,CAAA;AAEhC,SAASC,kBAAkBA,CAACC,EAAU,EAA6B;EACjE,OAAO,IAAAC,mBAAM,EAAC;IAAEC,WAAW,EAAEF,EAAE;IAAEG,IAAI,EAAE;EAAO,CAAC,CAAC;AAClD;AAEO,SAASC,mBAAmBA,CAACC,SAAmB,EAAEC,UAAkB,EAAE;EAC3E,IAAMC,YAAY,GAAG,GAAAC,MAAA,CAAAhC,kBAAA,CAAI6B,SAAS,IAAEC,UAAU,GAC3CG,GAAG,CAAC,UAACT,EAAE;IAAA,OAAKD,kBAAkB,CAACC,EAAE,CAAC;EAAA,EAAC,CACnCU,MAAM,CAAC,UAACC,CAAC;IAAA,OAAKA,CAAC;EAAA,EAAC;EAEnB,IAAMC,aAAa,GAAGL,YAAY,CAACM,IAAI,CAAC,CAAC,CAACC,IAAI,CAAC,GAAG,CAAC;;EAEnD;EACA,WAAAN,MAAA,CAAW,IAAAO,cAAG,EAACH,aAAa,CAAC,CAAC1B,QAAQ,CAAC,CAAC;AAC1C","ignoreList":[]}