{"version":3,"file":"Conversations.js","names":["_services","require","_services2","_services3","_nextCore","_FileAttacher","_ConversationLogger","_MessageSender","_MessageStore","_SmsOptOut","_ConversationsBase2","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_class","_defineProperties","e","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","TypeError","String","Number","_classCallCheck","a","n","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","value","_setPrototypeOf","Conversations","exports","injectable","name","target","optional","undefined","metadata","Function","Toast","Auth","Client","MessageSender","ExtensionInfo","MessageStore","AppFeatures","RegionSettings","ContactMatcher","ConversationLogger","ConversationsOptions","SmsOptOut","_ConversationsBase","_toast","_auth","_client","_messageSender","_extensionInfo","_messageStore","_appFeatures","_regionSettings","_contactMatcher","_conversationLogger","_conversationsOptions","_smsOptOut","_this","acceptFileTypes","process","env","THEME_SYSTEM","SUPPORTED_MMS_MIME_TYPES_IN_LOWERCASE","concat","ENHANCED_MMS_MIME_TYPES_IN_LOWERCASE","join","ConversationsBase"],"sources":["src/app/services/Conversations/Conversations.ts"],"sourcesContent":["import {\n  AppFeatures,\n  Auth,\n  Client,\n  ExtensionInfo,\n  RegionSettings,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport { ContactMatcher } from '@ringcentral-integration/micro-contacts/src/app/services';\nimport { Toast } from '@ringcentral-integration/micro-core/src/app/services';\nimport { injectable, optional } from '@ringcentral-integration/next-core';\nimport {\n  ENHANCED_MMS_MIME_TYPES_IN_LOWERCASE,\n  SUPPORTED_MMS_MIME_TYPES_IN_LOWERCASE,\n} from '@ringcentral-integration/next-widgets/components/MessageInput/FileAttacher';\n\nimport { ConversationLogger } from '../ConversationLogger';\nimport { MessageSender } from '../MessageSender';\nimport { MessageStore } from '../MessageStore';\nimport { SmsOptOut } from '../SmsOptOut';\n\nimport type { ConversationsOptions } from './Conversations.interface';\nimport { ConversationsBase } from './ConversationsBase';\n\n/**\n * This module is for legacy common widgets which has Fax/Sms/VoiceMail in one place\n * For new integration, pls use the particular Conversations module in Fax, Sms, Voicemail folders.\n */\n@injectable({\n  name: 'Conversations',\n})\nexport class Conversations extends ConversationsBase<MessageStore> {\n  acceptFileTypes =\n    process.env.THEME_SYSTEM === 'spring-ui'\n      ? SUPPORTED_MMS_MIME_TYPES_IN_LOWERCASE.concat(\n          ENHANCED_MMS_MIME_TYPES_IN_LOWERCASE,\n        ).join()\n      : SUPPORTED_MMS_MIME_TYPES_IN_LOWERCASE.join();\n\n  constructor(\n    protected override _toast: Toast,\n    protected override _auth: Auth,\n    protected override _client: Client,\n    protected override _messageSender: MessageSender,\n    protected override _extensionInfo: ExtensionInfo,\n    protected override _messageStore: MessageStore,\n    protected override _appFeatures: AppFeatures,\n    protected override _regionSettings: RegionSettings,\n    @optional() protected override _contactMatcher?: ContactMatcher,\n    @optional() protected override _conversationLogger?: ConversationLogger,\n    @optional('ConversationsOptions')\n    protected override _conversationsOptions?: ConversationsOptions,\n    @optional() protected override _smsOptOut?: SmsOptOut,\n  ) {\n    super(\n      _toast,\n      _auth,\n      _client,\n      _messageSender,\n      _extensionInfo,\n      _messageStore,\n      _appFeatures,\n      _regionSettings,\n      _contactMatcher,\n      _conversationLogger,\n      _conversationsOptions,\n      _smsOptOut,\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAOA,IAAAC,UAAA,GAAAD,OAAA;AACA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,aAAA,GAAAJ,OAAA;AAKA,IAAAK,mBAAA,GAAAL,OAAA;AACA,IAAAM,cAAA,GAAAN,OAAA;AACA,IAAAO,aAAA,GAAAP,OAAA;AACA,IAAAQ,UAAA,GAAAR,OAAA;AAGA,IAAAS,mBAAA,GAAAT,OAAA;AAAwD,IAAAU,IAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,MAAA;AAAA,SAAAC,kBAAAC,CAAA,EAAAC,CAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAD,CAAA,CAAAE,MAAA,EAAAD,CAAA,UAAAE,CAAA,GAAAH,CAAA,CAAAC,CAAA,GAAAE,CAAA,CAAAC,UAAA,GAAAD,CAAA,CAAAC,UAAA,QAAAD,CAAA,CAAAE,YAAA,kBAAAF,CAAA,KAAAA,CAAA,CAAAG,QAAA,QAAAC,MAAA,CAAAC,cAAA,CAAAT,CAAA,EAAAU,cAAA,CAAAN,CAAA,CAAAO,GAAA,GAAAP,CAAA;AAAA,SAAAQ,aAAAZ,CAAA,EAAAC,CAAA,EAAAC,CAAA,WAAAD,CAAA,IAAAF,iBAAA,CAAAC,CAAA,CAAAa,SAAA,EAAAZ,CAAA,GAAAC,CAAA,IAAAH,iBAAA,CAAAC,CAAA,EAAAE,CAAA,GAAAM,MAAA,CAAAC,cAAA,CAAAT,CAAA,iBAAAO,QAAA,SAAAP,CAAA;AAAA,SAAAU,eAAAR,CAAA,QAAAY,CAAA,GAAAC,YAAA,CAAAb,CAAA,gCAAAc,OAAA,CAAAF,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAC,aAAAb,CAAA,EAAAD,CAAA,oBAAAe,OAAA,CAAAd,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAF,CAAA,GAAAE,CAAA,CAAAe,MAAA,CAAAC,WAAA,kBAAAlB,CAAA,QAAAc,CAAA,GAAAd,CAAA,CAAAmB,IAAA,CAAAjB,CAAA,EAAAD,CAAA,gCAAAe,OAAA,CAAAF,CAAA,UAAAA,CAAA,YAAAM,SAAA,yEAAAnB,CAAA,GAAAoB,MAAA,GAAAC,MAAA,EAAApB,CAAA;AAAA,SAAAqB,gBAAAC,CAAA,EAAAC,CAAA,UAAAD,CAAA,YAAAC,CAAA,aAAAL,SAAA;AAAA,SAAAM,WAAAxB,CAAA,EAAAE,CAAA,EAAAJ,CAAA,WAAAI,CAAA,GAAAuB,eAAA,CAAAvB,CAAA,GAAAwB,0BAAA,CAAA1B,CAAA,EAAA2B,yBAAA,KAAAC,OAAA,CAAAC,SAAA,CAAA3B,CAAA,EAAAJ,CAAA,QAAA2B,eAAA,CAAAzB,CAAA,EAAA8B,WAAA,IAAA5B,CAAA,CAAA6B,KAAA,CAAA/B,CAAA,EAAAF,CAAA;AAAA,SAAA4B,2BAAA1B,CAAA,EAAAF,CAAA,QAAAA,CAAA,iBAAAgB,OAAA,CAAAhB,CAAA,0BAAAA,CAAA,UAAAA,CAAA,iBAAAA,CAAA,YAAAoB,SAAA,qEAAAc,sBAAA,CAAAhC,CAAA;AAAA,SAAAgC,uBAAAlC,CAAA,mBAAAA,CAAA,YAAAmC,cAAA,sEAAAnC,CAAA;AAAA,SAAA6B,0BAAA,cAAA3B,CAAA,IAAAkC,OAAA,CAAAvB,SAAA,CAAAwB,OAAA,CAAAlB,IAAA,CAAAW,OAAA,CAAAC,SAAA,CAAAK,OAAA,iCAAAlC,CAAA,aAAA2B,yBAAA,YAAAA,0BAAA,aAAA3B,CAAA;AAAA,SAAAyB,gBAAAzB,CAAA,WAAAyB,eAAA,GAAAnB,MAAA,CAAA8B,cAAA,GAAA9B,MAAA,CAAA+B,cAAA,CAAAC,IAAA,eAAAtC,CAAA,WAAAA,CAAA,CAAAuC,SAAA,IAAAjC,MAAA,CAAA+B,cAAA,CAAArC,CAAA,MAAAyB,eAAA,CAAAzB,CAAA;AAAA,SAAAwC,UAAAxC,CAAA,EAAAF,CAAA,6BAAAA,CAAA,aAAAA,CAAA,YAAAoB,SAAA,wDAAAlB,CAAA,CAAAW,SAAA,GAAAL,MAAA,CAAAmC,MAAA,CAAA3C,CAAA,IAAAA,CAAA,CAAAa,SAAA,IAAAmB,WAAA,IAAAY,KAAA,EAAA1C,CAAA,EAAAK,QAAA,MAAAD,YAAA,WAAAE,MAAA,CAAAC,cAAA,CAAAP,CAAA,iBAAAK,QAAA,SAAAP,CAAA,IAAA6C,eAAA,CAAA3C,CAAA,EAAAF,CAAA;AAAA,SAAA6C,gBAAA3C,CAAA,EAAAF,CAAA,WAAA6C,eAAA,GAAArC,MAAA,CAAA8B,cAAA,GAAA9B,MAAA,CAAA8B,cAAA,CAAAE,IAAA,eAAAtC,CAAA,EAAAF,CAAA,WAAAE,CAAA,CAAAuC,SAAA,GAAAzC,CAAA,EAAAE,CAAA,KAAA2C,eAAA,CAAA3C,CAAA,EAAAF,CAAA;AAExD;AACA;AACA;AACA;AAHA,IAOa8C,aAAa,GAAAC,OAAA,CAAAD,aAAA,IAAAvD,IAAA,GAHzB,IAAAyD,oBAAU,EAAC;EACVC,IAAI,EAAE;AACR,CAAC,CAAC,EAAAzD,KAAA,YAAAA,MAAA0D,MAAA,EAAAvC,GAAA;EAAA,OAkBG,IAAAwC,kBAAQ,EAAC,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAA3D,KAAA,YAAAA,MAAAyD,MAAA,EAAAvC,GAAA;EAAA,OACV,IAAAwC,kBAAQ,EAAC,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAA1D,KAAA,YAAAA,MAAAwD,MAAA,EAAAvC,GAAA;EAAA,OACV,IAAAwC,kBAAQ,EAAC,sBAAsB,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAAzD,KAAA,YAAAA,MAAAuD,MAAA,EAAAvC,GAAA;EAAA,OAEhC,IAAAwC,kBAAQ,EAAC,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAAxD,KAAA,GAAAkC,OAAA,CAAAuB,QAAA,gBAAAC,QAAA,GAAAzD,KAAA,GAAAiC,OAAA,CAAAuB,QAAA,8BAAAtE,UAAA,CAAAwE,KAAA,mBAAA/C,MAAA,GAAAzB,UAAA,CAAAwE,KAAA,SAAA3E,SAAA,CAAA4E,IAAA,mBAAAhD,MAAA,GAAA5B,SAAA,CAAA4E,IAAA,SAAA5E,SAAA,CAAA6E,MAAA,mBAAAjD,MAAA,GAAA5B,SAAA,CAAA6E,MAAA,SAAAtE,cAAA,CAAAuE,aAAA,mBAAAlD,MAAA,GAAArB,cAAA,CAAAuE,aAAA,SAAA9E,SAAA,CAAA+E,aAAA,mBAAAnD,MAAA,GAAA5B,SAAA,CAAA+E,aAAA,SAAAvE,aAAA,CAAAwE,YAAA,mBAAApD,MAAA,GAAApB,aAAA,CAAAwE,YAAA,SAAAhF,SAAA,CAAAiF,WAAA,mBAAArD,MAAA,GAAA5B,SAAA,CAAAiF,WAAA,SAAAjF,SAAA,CAAAkF,cAAA,mBAAAtD,MAAA,GAAA5B,SAAA,CAAAkF,cAAA,SAAAhF,UAAA,CAAAiF,cAAA,mBAAAvD,MAAA,GAAA1B,UAAA,CAAAiF,cAAA,SAAA7E,mBAAA,CAAA8E,kBAAA,mBAAAxD,MAAA,GAAAtB,mBAAA,CAAA8E,kBAAA,SAAAC,oBAAA,mBAAAzD,MAAA,GAAAyD,oBAAA,SAAA5E,UAAA,CAAA6E,SAAA,mBAAA1D,MAAA,GAAAnB,UAAA,CAAA6E,SAAA,IAAA3E,IAAA,CAAAO,MAAA,GAAAN,KAAA,CAAAM,MAAA,GAAAL,KAAA,CAAAK,MAAA,GAAAJ,KAAA,CAAAI,MAAA,GAAAH,KAAA,CAAAG,MAAA,GAAAF,KAAA,CAAAE,MAAA,GAAAD,KAAA,CAAAC,MAAA,0BAAAqE,kBAAA;EAbb,SAAArB,cACqBsB,MAAa,EACbC,KAAW,EACXC,OAAe,EACfC,cAA6B,EAC7BC,cAA6B,EAC7BC,aAA2B,EAC3BC,YAAyB,EACzBC,eAA+B,EACnBC,eAAgC,EAChCC,mBAAwC,EAEpDC,qBAA4C,EAChCC,UAAsB,EACrD;IAAA,IAAAC,KAAA;IAAAzD,eAAA,OAAAuB,aAAA;IACAkC,KAAA,GAAAtD,UAAA,OAAAoB,aAAA,GACEsB,MAAM,EACNC,KAAK,EACLC,OAAO,EACPC,cAAc,EACdC,cAAc,EACdC,aAAa,EACbC,YAAY,EACZC,eAAe,EACfC,eAAe,EACfC,mBAAmB,EACnBC,qBAAqB,EACrBC,UAAU;IACVC,KAAA,CA3BiBZ,MAAa,GAAbA,MAAa;IAAAY,KAAA,CACbX,KAAW,GAAXA,KAAW;IAAAW,KAAA,CACXV,OAAe,GAAfA,OAAe;IAAAU,KAAA,CACfT,cAA6B,GAA7BA,cAA6B;IAAAS,KAAA,CAC7BR,cAA6B,GAA7BA,cAA6B;IAAAQ,KAAA,CAC7BP,aAA2B,GAA3BA,aAA2B;IAAAO,KAAA,CAC3BN,YAAyB,GAAzBA,YAAyB;IAAAM,KAAA,CACzBL,eAA+B,GAA/BA,eAA+B;IAAAK,KAAA,CACnBJ,eAAgC,GAAhCA,eAAgC;IAAAI,KAAA,CAChCH,mBAAwC,GAAxCA,mBAAwC;IAAAG,KAAA,CAEpDF,qBAA4C,GAA5CA,qBAA4C;IAAAE,KAAA,CAChCD,UAAsB,GAAtBA,UAAsB;IAAAC,KAAA,CApBvDC,eAAe,GACbC,OAAO,CAACC,GAAG,CAACC,YAAY,KAAK,WAAW,GACpCC,mDAAqC,CAACC,MAAM,CAC1CC,kDACF,CAAC,CAACC,IAAI,CAAC,CAAC,GACRH,mDAAqC,CAACG,IAAI,CAAC,CAAC;IAAA,OAAAR,KAAA;EA+BlD;EAACtC,SAAA,CAAAI,aAAA,EAAAqB,kBAAA;EAAA,OAAAvD,YAAA,CAAAkC,aAAA;AAAA,EArCgC2C,qCAAiB,MAAA3F,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA","ignoreList":[]}