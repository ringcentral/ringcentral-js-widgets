{"version":3,"file":"Brand.js","names":["_i18n","require","_processI18n","_nextCore","_rxjs","_Locale","_processAssets","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_class","_class2","_descriptor","_descriptor2","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","call","slice","constructor","name","Array","from","test","n","l","Symbol","iterator","i","u","f","next","done","isArray","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","prototype","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","_setPrototypeOf","_applyDecoratedDescriptor","reverse","reduce","_initializerWarningHelper","Error","Brand","exports","injectable","target","inject","undefined","optional","metadata","Function","BrandConfig","Locale","BrandConfigOptions","T","SuiBrandThemeMap","computed","that","_that$_locale","_that$_locale2","_dynamicConfig","_locale","currentLocale","defaultLocale","_brandConfig","_defaultConfig","_that$_locale3","_that$_locale4","_RcModule","_prefix","_brandConfigOptions","_this$_brandConfig$ap","_this","_defaultPrefix","concat","code","application","bindUpdateDocumentVariables","setDynamicConfig","config","setSuiThemeMap","val","suiThemeMap","_this2","global","document","obs$","fromWatchValue","JSON","stringify","brandConfig","styleVariable","pipe","distinctUntilChanged","tap","updateDocumentVariables","takeUntilAppDestroy","subscribe","_this$brandConfig$sty","entries","_ref","_ref2","documentElement","style","setProperty","get","_this$_locale$current","_this$_locale","_this$_locale$default","_this$_locale2","processI18n","DEFAULT_LOCALE","_this$_brandConfigOpt","assets","processAssets","assetOrigin","location","origin","_this$_dynamicConfig","_this$_locale$current2","_this$_locale3","_this$_locale$default2","_this$_locale4","_this$_prefix","id","_this$brandConfig$sho","shortName","appName","shortAppName","rcvProductName","rcvE2EESupportUrl","rcvTeleconference","RcModule","state","action","light","dark","contrast"],"sources":["src/app/services/Brand/Brand.ts"],"sourcesContent":["import { DEFAULT_LOCALE } from '@ringcentral-integration/i18n';\nimport { processI18n } from '@ringcentral-integration/i18n/lib/processI18n';\nimport {\n  action,\n  computed,\n  fromWatchValue,\n  inject,\n  injectable,\n  optional,\n  RcModule,\n  state,\n  takeUntilAppDestroy,\n} from '@ringcentral-integration/next-core';\nimport { distinctUntilChanged, tap } from 'rxjs';\n\nimport { Locale } from '../Locale';\n\nimport type { BrandConfigOptions, SuiBrandThemeMap } from './Brand.interface';\nimport type { BrandConfig } from './BrandConfig.interface';\nimport { processAssets } from './processAssets';\n\n@injectable({\n  name: 'Brand',\n})\nexport class Brand<T extends BrandConfig = BrandConfig> extends RcModule {\n  protected _defaultPrefix = `${this._brandConfig.code}-${\n    this._brandConfig.application ?? ''\n  }`;\n\n  constructor(\n    @inject('BrandConfig') protected _brandConfig: BrandConfig,\n    protected _locale: Locale,\n    @optional('Prefix') protected _prefix?: string,\n    @optional('BrandConfigOptions')\n    protected _brandConfigOptions?: BrandConfigOptions,\n  ) {\n    super();\n\n    this.bindUpdateDocumentVariables();\n  }\n\n  @state\n  protected _dynamicConfig: T | null = null;\n\n  @action\n  setDynamicConfig(config: T) {\n    this._dynamicConfig = config;\n  }\n\n  @state\n  suiThemeMap: SuiBrandThemeMap = {\n    default: [],\n    light: [],\n    dark: [],\n    contrast: [],\n  };\n\n  @action\n  setSuiThemeMap(val: SuiBrandThemeMap) {\n    this.suiThemeMap = val;\n  }\n\n  private bindUpdateDocumentVariables() {\n    if (!global.document) return;\n\n    const obs$ = fromWatchValue(this, () =>\n      JSON.stringify(this.brandConfig.styleVariable),\n    ).pipe(\n      distinctUntilChanged(),\n      tap(() => this.updateDocumentVariables()),\n      takeUntilAppDestroy,\n    );\n\n    obs$.subscribe();\n  }\n\n  private updateDocumentVariables() {\n    // apply that style variable to global css variable\n    Object.entries(this.brandConfig.styleVariable ?? {}).forEach(\n      ([key, value]) => {\n        document.documentElement.style.setProperty(`--${key}`, `${value}`);\n      },\n    );\n  }\n\n  /**\n   * dynamic brand config with i18n processed with currentLocale\n   */\n  @computed((that: Brand<T>) => [\n    that._dynamicConfig,\n    that._locale?.currentLocale,\n    that._locale?.defaultLocale,\n  ])\n  get dynamicConfig() {\n    return (\n      this._dynamicConfig &&\n      processI18n(\n        this._dynamicConfig,\n        this._locale?.currentLocale ?? DEFAULT_LOCALE,\n        this._locale?.defaultLocale ?? DEFAULT_LOCALE,\n      )\n    );\n  }\n\n  /**\n   * default brand config with assets processed\n   */\n  @computed((that: Brand<T>) => [that._brandConfig])\n  protected get _defaultConfig() {\n    const brandConfig = this._brandConfig;\n\n    if (!brandConfig?.assets) return brandConfig;\n\n    /**\n     * use current window location.origin as origin\n     * to avoid app inject into others page meet resource path issue\n     * like chrome extension content page\n     */\n    return {\n      ...brandConfig,\n      assets: processAssets(\n        brandConfig.assets,\n        this._brandConfigOptions?.assetOrigin || global.location.origin,\n      ),\n    };\n  }\n\n  /**\n   * default brand config with assets and i18n processed using en-US\n   */\n  @computed((that: Brand<T>) => [that._defaultConfig])\n  get defaultConfig() {\n    return processI18n(this._defaultConfig) as T;\n  }\n\n  /**\n   * Generic brand config accessor that returns dynamic config if available, and defaults\n   * to default config. The result is assets and i18n processed with current Locale.\n   */\n  @computed((that: Brand<T>) => [\n    that._defaultConfig,\n    that._dynamicConfig,\n    that._locale?.currentLocale,\n    that._locale?.defaultLocale,\n  ])\n  get brandConfig() {\n    return processI18n(\n      this._dynamicConfig ?? this._defaultConfig,\n      this._locale?.currentLocale ?? DEFAULT_LOCALE,\n      this._locale?.defaultLocale ?? DEFAULT_LOCALE,\n    ) as T;\n  }\n\n  get prefix() {\n    return this._prefix ?? this._defaultPrefix;\n  }\n\n  get id() {\n    return this.brandConfig.id;\n  }\n\n  get code() {\n    return this.brandConfig.code;\n  }\n\n  get name() {\n    return this.brandConfig.name as string;\n  }\n\n  get shortName() {\n    return this.brandConfig.shortName ?? this.brandConfig.name;\n  }\n\n  get appName() {\n    return this.brandConfig.appName;\n  }\n\n  get shortAppName() {\n    return this.brandConfig.shortAppName;\n  }\n\n  get rcvProductName() {\n    return this.brandConfig.rcvProductName;\n  }\n\n  get rcvE2EESupportUrl() {\n    return this.brandConfig.rcvE2EESupportUrl;\n  }\n\n  get application() {\n    return this.brandConfig.application;\n  }\n\n  get rcvTeleconference() {\n    return this.brandConfig.rcvTeleconference;\n  }\n\n  get assets() {\n    return this.brandConfig.assets;\n  }\n}\n"],"mappings":"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","ignoreList":[]}