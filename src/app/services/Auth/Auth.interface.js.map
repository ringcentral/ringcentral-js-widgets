{"version":3,"file":"Auth.interface.js","names":[],"sources":["src/app/services/Auth/Auth.interface.ts"],"sourcesContent":["import type BaseTokenInfo from '@rc-ex/core/lib/definitions/TokenInfo';\nimport type { LoginUrlOptions as SdkLoginUrlOptions } from '@ringcentral/sdk';\n\nimport { AuthErrorConfig } from './authErrors';\n\nexport interface TokenInfo extends BaseTokenInfo {\n  expire_time?: number;\n  refresh_token_expire_time?: number;\n}\n\nexport interface Token {\n  ownerId?: TokenInfo['owner_id'];\n  endpointId?: TokenInfo['endpoint_id'];\n  accessToken?: TokenInfo['access_token'];\n  tokenType?: TokenInfo['token_type'];\n  expireTime?: TokenInfo['expire_time'];\n  expiresIn?: TokenInfo['expires_in'];\n  scope?: TokenInfo['scope'];\n  refresh_token_expire_time?: TokenInfo['refresh_token_expire_time'];\n}\n\nexport interface AuthOptions {\n  usePKCE?: boolean;\n  /**\n   * Will using auth owner id as user storage key by default,\n   *  set this to true if you want custom the user storage key in other module.\n   *\n   * always work with `_storage.getUserId` override\n   */\n  disabledAutoStorageUserId?: boolean;\n\n  /**\n   * Additional auth errors to be added to the default auth errors.\n   * This is used to add custom auth errors to the default auth errors.\n   * For example, if you want to add a custom auth error for a specific error code,\n   * you can add it here.\n   * @example\n   * {\n   *   'CAE-410': [401, 'CAE-410', { logout: false }],\n   * }\n   */\n  additionalAuthErrors?: Record<string, AuthErrorConfig>;\n}\n\nexport interface LoginOptions {\n  username: string;\n  password: string;\n  extension: string;\n  remember: boolean | number;\n  code: string;\n  redirectUri: string;\n  accessToken: TokenInfo['access_token'];\n  expiresIn: TokenInfo['expires_in'];\n  endpointId: TokenInfo['endpoint_id'];\n  tokenType: TokenInfo['token_type'];\n  scope: TokenInfo['scope'];\n  tokenUri: string;\n  discoveryUri: string;\n}\n\nexport interface LoginUrlOptions extends SdkLoginUrlOptions {\n  redirectUri?: string;\n  force?: boolean;\n}\n\nexport interface BeforeLogoutHandler {\n  (): Promise<unknown | void> | unknown | void;\n}\n\nexport interface AfterLoggedInHandler {\n  (): void;\n}\n\nexport interface RefreshErrorHandler {\n  (refreshTokenValid: boolean): Promise<void> | void;\n}\n\nexport type RequestLog = {\n  id: string;\n  status?: number;\n  requestHeaders?: Record<string, string>;\n  responseHeaders?: Record<string, string>;\n  requestBody?: any;\n  responseBody?: any;\n  startTime?: number;\n  endTime?: number;\n  duration?: number;\n  requestError?: string;\n  // we currently cannot get accurate size because the the browser will return unzipped stream\n  // size?: number;\n};\n"],"mappings":"","ignoreList":[]}