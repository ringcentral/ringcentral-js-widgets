{"version":3,"file":"RegionSettings.js","names":["_validateAreaCode","_interopRequireDefault","require","_hooks","_services","_views","_nextCore","_FormattedMessage","_Link","_libphonenumberJs","_ramda","_react","_AppFeatures","_DialingPlan","_ExtensionInfo","_ExtensionNumberAreaCode","_ExtensionPhoneNumber","_i18n","_interopRequireWildcard","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_class","_class2","_descriptor","_descriptor2","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","_initializerWarningHelper","Error","RegionSettings","exports","injectable","name","target","optional","undefined","metadata","Function","RouterPlugin","Brand","ToastManager","Toast","DialingPlan","ExtensionInfo","StoragePlugin","ExtensionPhoneNumber","AppFeatures","ExtensionNumberAreaCode","RegionSettingsOptions","RegionSettingsData","delegate","_RcModule","_router","_brand","_toastManager","_toast","_dialingPlan","_extensionInfo","_storage","_extensionPhoneNumber","_appFeatures","_extensionNumberAreaCode","_regionSettingsOptions","_this","uniqueManager","createUniqueManager","enable","migrations","data","countryCode","isoCode","areaCode","_setData","_ref","_ref$countryCode","_ref$areaCode","onInitOnce","_this2","watch","availableCountries","ready","checkRegionSettings","onInit","plans","country","_alertSettingsChanged","_this3","unique","open","dialingPlansChangedToast","_checkRegionSettings","_callee","_this4","_this$_brand$brandCon","_this$_regionSettings","isEDPEnabled","_context","find","plan","brandConfig","allowRegionSettings","suppressSettingsChangedWarning","includes","_setData2","_callee2","_ref2","_ref2$areaCode","_ref2$countryCode","_context2","validateAreaCode","danger","message","allowDuplicates","trim","process","env","THEME_SYSTEM","success","setData","_x","hasMultiplePlans","isUSOrCA","_this5","homeCountry","homeCountryId","id","callingCode","getCountryCallingCode","_this$_extensionPhone","primaryNumber","mainCompanyNumber","mainNumberCallingCode","phoneNumber","parsePhoneNumber","countryCallingCode","primaryNumberCallingCode","canUseExtensionAreaCode","defaultAreaCode","RcModule","portal","_this6","view","_useToastItemView","useToastItemView","action","_useLocale","useLocale","i18n","regionSettings","regionSettingsLink","createElement","RcLink","onClick","_callee3","_context3","push","close","values","props","level","ttl","userStorage","state","_this$_extensionInfo","computed"],"sources":["src/app/services/RegionSettings/RegionSettings.tsx"],"sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\nimport type CountryInfoShortModel from '@rc-ex/core/lib/definitions/CountryInfoShortModel';\nimport validateAreaCode from '@ringcentral-integration/commons/lib/validateAreaCode';\nimport { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport {\n  Brand,\n  Toast,\n  ToastManager,\n} from '@ringcentral-integration/micro-core/src/app/services';\nimport { useToastItemView } from '@ringcentral-integration/micro-core/src/app/views';\nimport {\n  action,\n  computed,\n  delegate,\n  injectable,\n  optional,\n  portal,\n  RcModule,\n  RouterPlugin,\n  state,\n  StoragePlugin,\n  userStorage,\n  watch,\n} from '@ringcentral-integration/next-core';\nimport FormattedMessage from '@ringcentral-integration/widgets/components/FormattedMessage';\nimport { RcLink } from '@ringcentral/juno';\nimport type { CountryCode } from 'libphonenumber-js';\nimport { getCountryCallingCode, parsePhoneNumber } from 'libphonenumber-js';\nimport { find, includes } from 'ramda';\nimport React from 'react';\n\nimport { AppFeatures } from '../AppFeatures';\nimport { DialingPlan } from '../DialingPlan';\nimport { ExtensionInfo } from '../ExtensionInfo';\nimport { ExtensionNumberAreaCode } from '../ExtensionNumberAreaCode';\nimport { ExtensionPhoneNumber } from '../ExtensionPhoneNumber';\n\nimport type {\n  RegionSettingsData,\n  RegionSettingsOptions,\n} from './RegionSettings.interface';\nimport i18n, { t } from './i18n';\n\n@injectable({\n  name: 'RegionSettings',\n})\nexport class RegionSettings extends RcModule {\n  private uniqueManager = this._toastManager.createUniqueManager();\n\n  @portal\n  private dialingPlansChangedToast = this._toast.create({\n    view: () => {\n      const { action } = useToastItemView();\n      const { t } = useLocale(i18n);\n\n      const regionSettings = t('regionSettings');\n      const regionSettingsLink = (\n        <RcLink\n          onClick={async () => {\n            await this._router.push('/settings/region');\n            action!.close();\n          }}\n        >\n          {regionSettings}\n        </RcLink>\n      );\n\n      return (\n        <FormattedMessage\n          message={t('dialingPlansChanged')}\n          values={{ regionSettingsLink }}\n        />\n      );\n    },\n    props: () => ({\n      level: 'warning',\n      ttl: 0,\n    }),\n  });\n\n  constructor(\n    protected _router: RouterPlugin,\n    protected _brand: Brand,\n    protected _toastManager: ToastManager,\n    protected _toast: Toast,\n    protected _dialingPlan: DialingPlan,\n    protected _extensionInfo: ExtensionInfo,\n    protected _storage: StoragePlugin,\n    protected _extensionPhoneNumber: ExtensionPhoneNumber,\n    protected _appFeatures: AppFeatures,\n    protected _extensionNumberAreaCode: ExtensionNumberAreaCode,\n    @optional('RegionSettingsOptions')\n    protected _regionSettingsOptions?: RegionSettingsOptions,\n  ) {\n    super();\n    this._storage.enable(this, {\n      migrations: [['data', 'RegionSettings-data']],\n    });\n  }\n\n  @userStorage\n  @state\n  data = {\n    countryCode: this._extensionInfo?.isoCode || '',\n    areaCode: '',\n  };\n\n  get countryCode() {\n    return (\n      (this.data.countryCode as CountryCode) ||\n      this._extensionInfo.isoCode ||\n      'US'\n    );\n  }\n\n  get areaCode() {\n    return this.data.areaCode || '';\n  }\n\n  @action\n  _setData({\n    countryCode = this.data.countryCode,\n    areaCode = this.data.areaCode,\n  }: RegionSettingsData) {\n    this.data.countryCode = countryCode;\n    this.data.areaCode = areaCode;\n  }\n\n  override onInitOnce() {\n    watch(\n      this,\n      () => this.availableCountries,\n      () => {\n        if (this.ready) {\n          this.checkRegionSettings();\n        }\n      },\n    );\n  }\n\n  override onInit() {\n    this.checkRegionSettings();\n  }\n\n  @computed\n  get availableCountries(): CountryInfoShortModel[] {\n    const plans = this._dialingPlan.plans;\n    const country = this._extensionInfo.country;\n    if (plans && plans.length > 0) {\n      return plans;\n    }\n    return country ? [country] : [];\n  }\n\n  private _alertSettingsChanged() {\n    return this.uniqueManager.unique(() =>\n      this._toast.open(this.dialingPlansChangedToast),\n    );\n  }\n\n  @delegate('server')\n  async checkRegionSettings() {\n    let countryCode: CountryCode | null = this.countryCode;\n\n    if (\n      countryCode &&\n      !find((plan) => plan.isoCode === countryCode, this.availableCountries)\n    ) {\n      countryCode = null;\n      if (\n        this._brand.brandConfig?.allowRegionSettings &&\n        !this._regionSettingsOptions?.suppressSettingsChangedWarning\n      ) {\n        this._alertSettingsChanged();\n      }\n    }\n\n    if (!countryCode) {\n      const country =\n        find(\n          (plan) => plan.isoCode === this._extensionInfo.country.isoCode,\n          this.availableCountries,\n        ) || this.availableCountries[0];\n\n      this._setData({\n        countryCode: country?.isoCode,\n        areaCode: '',\n      });\n    }\n\n    const isEDPEnabled = this._appFeatures.isEDPEnabled;\n    if (isEDPEnabled && includes(this.countryCode, ['US', 'PR', 'CA'])) {\n      this._setData({\n        areaCode: '',\n      });\n    }\n  }\n\n  @delegate('server')\n  async setData({\n    areaCode = this.areaCode,\n    countryCode = this.countryCode,\n  }: RegionSettingsData) {\n    const isEDPEnabled = this._appFeatures.isEDPEnabled;\n    if (!isEDPEnabled && !validateAreaCode(areaCode)) {\n      this._toast.danger({\n        message: t('areaCodeInvalid'),\n        allowDuplicates: false,\n      });\n      return;\n    }\n    this._setData({\n      countryCode,\n      areaCode: areaCode && areaCode.trim(),\n    });\n\n    if (process.env.THEME_SYSTEM === 'spring-ui') return;\n\n    this._toast.success({\n      message: t('saveSuccess'),\n    });\n  }\n\n  @computed\n  get showRegionSettings() {\n    const allowRegionSettings = !!this._brand.brandConfig.allowRegionSettings;\n    const hasMultiplePlans = this.availableCountries.length > 1;\n    const isUSOrCA =\n      this.availableCountries.length === 1 &&\n      (this.availableCountries[0].isoCode === 'US' ||\n        this.availableCountries[0].isoCode === 'CA');\n    const isEDPEnabled = this._appFeatures.isEDPEnabled;\n\n    return (\n      allowRegionSettings && (hasMultiplePlans || isEDPEnabled || isUSOrCA)\n    );\n  }\n\n  @computed\n  get homeCountryId() {\n    const homeCountry = this.availableCountries.find(\n      (country) => country.isoCode === this.countryCode,\n    );\n    const homeCountryId = (homeCountry && homeCountry.id) || '1';\n    return homeCountryId;\n  }\n\n  @computed\n  get defaultAreaCode() {\n    const isEDPEnabled = this._appFeatures.isEDPEnabled;\n    if (isEDPEnabled && includes(this.countryCode, ['US', 'PR', 'CA'])) {\n      return;\n    }\n\n    if (this.areaCode) {\n      return this.areaCode;\n    }\n\n    const callingCode = getCountryCallingCode(this.countryCode as CountryCode);\n    const { primaryNumber, mainCompanyNumber } = this._extensionPhoneNumber;\n\n    const mainNumberCallingCode =\n      mainCompanyNumber?.phoneNumber &&\n      parsePhoneNumber(mainCompanyNumber.phoneNumber).countryCallingCode;\n    const primaryNumberCallingCode =\n      primaryNumber?.phoneNumber &&\n      parsePhoneNumber(primaryNumber.phoneNumber).countryCallingCode;\n\n    const canUseExtensionAreaCode =\n      primaryNumberCallingCode === callingCode ||\n      mainNumberCallingCode === callingCode;\n    if (canUseExtensionAreaCode) {\n      return this._extensionNumberAreaCode.defaultAreaCode;\n    }\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAAA,iBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AAKA,IAAAG,MAAA,GAAAH,OAAA;AACA,IAAAI,SAAA,GAAAJ,OAAA;AAcA,IAAAK,iBAAA,GAAAN,sBAAA,CAAAC,OAAA;AAA4F,IAAAM,KAAA,GAAAN,OAAA;AAG5F,IAAAO,iBAAA,GAAAP,OAAA;AACA,IAAAQ,MAAA,GAAAR,OAAA;AACA,IAAAS,MAAA,GAAAV,sBAAA,CAAAC,OAAA;AAEA,IAAAU,YAAA,GAAAV,OAAA;AACA,IAAAW,YAAA,GAAAX,OAAA;AACA,IAAAY,cAAA,GAAAZ,OAAA;AACA,IAAAa,wBAAA,GAAAb,OAAA;AACA,IAAAc,qBAAA,GAAAd,OAAA;AAMA,IAAAe,KAAA,GAAAC,uBAAA,CAAAhB,OAAA;AAAiC,IAAAiB,IAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,OAAA,EAAAC,WAAA,EAAAC,YAAA;AAzCjC;AAAA,SAAAxB,wBAAAyB,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAA3B,uBAAA,YAAAA,wBAAAyB,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,mBAAAT,CAAA,iBAAAA,CAAA,gBAAAU,OAAA,CAAAV,CAAA,0BAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAAA3C,uBAAA0C,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAK,UAAA,GAAAL,CAAA,gBAAAA,CAAA;AAAA,SAAAoB,aAAA,IACA,uKAAApB,CAAA,EAAAC,CAAA,EAAAE,CAAA,wBAAAkB,MAAA,GAAAA,MAAA,OAAAjB,CAAA,GAAAD,CAAA,CAAAmB,QAAA,kBAAAhB,CAAA,GAAAH,CAAA,CAAAoB,WAAA,8BAAAhB,EAAAJ,CAAA,EAAAC,CAAA,EAAAE,CAAA,EAAAC,CAAA,QAAAiB,CAAA,GAAApB,CAAA,IAAAA,CAAA,CAAAqB,SAAA,YAAAC,SAAA,GAAAtB,CAAA,GAAAsB,SAAA,EAAAC,CAAA,GAAAV,MAAA,CAAAW,MAAA,CAAAJ,CAAA,CAAAC,SAAA,UAAAI,mBAAA,CAAAF,CAAA,uBAAAxB,CAAA,EAAAC,CAAA,EAAAE,CAAA,QAAAC,CAAA,EAAAiB,CAAA,EAAAG,CAAA,EAAAnB,CAAA,MAAAsB,CAAA,GAAAxB,CAAA,QAAAyB,CAAA,OAAAC,CAAA,KAAAF,CAAA,KAAA1B,CAAA,KAAA6B,CAAA,EAAAjC,CAAA,EAAAkC,CAAA,EAAAC,CAAA,EAAA3B,CAAA,EAAA2B,CAAA,CAAAC,IAAA,CAAApC,CAAA,MAAAmC,CAAA,WAAAA,EAAAlC,CAAA,EAAAE,CAAA,WAAAI,CAAA,GAAAN,CAAA,EAAAuB,CAAA,MAAAG,CAAA,GAAA3B,CAAA,EAAAgC,CAAA,CAAA5B,CAAA,GAAAD,CAAA,EAAA+B,CAAA,gBAAAC,EAAAhC,CAAA,EAAAC,CAAA,SAAAoB,CAAA,GAAArB,CAAA,EAAAwB,CAAA,GAAAvB,CAAA,EAAAH,CAAA,OAAA8B,CAAA,IAAAvB,CAAA,KAAAF,CAAA,IAAAL,CAAA,GAAA6B,CAAA,CAAAO,MAAA,EAAApC,CAAA,UAAAK,CAAA,EAAAC,CAAA,GAAAuB,CAAA,CAAA7B,CAAA,GAAAkC,CAAA,GAAAH,CAAA,CAAAF,CAAA,EAAAQ,CAAA,GAAA/B,CAAA,KAAAJ,CAAA,QAAAG,CAAA,GAAAgC,CAAA,KAAAlC,CAAA,MAAAuB,CAAA,GAAApB,CAAA,EAAAiB,CAAA,GAAAjB,CAAA,YAAAiB,CAAA,WAAAjB,CAAA,MAAAA,CAAA,MAAAP,CAAA,IAAAO,CAAA,OAAA4B,CAAA,MAAA7B,CAAA,GAAAH,CAAA,QAAAgC,CAAA,GAAA5B,CAAA,QAAAiB,CAAA,MAAAQ,CAAA,CAAAC,CAAA,GAAA7B,CAAA,EAAA4B,CAAA,CAAA5B,CAAA,GAAAG,CAAA,OAAA4B,CAAA,GAAAG,CAAA,KAAAhC,CAAA,GAAAH,CAAA,QAAAI,CAAA,MAAAH,CAAA,IAAAA,CAAA,GAAAkC,CAAA,MAAA/B,CAAA,MAAAJ,CAAA,EAAAI,CAAA,MAAAH,CAAA,EAAA4B,CAAA,CAAA5B,CAAA,GAAAkC,CAAA,EAAAd,CAAA,cAAAlB,CAAA,IAAAH,CAAA,aAAA+B,CAAA,QAAAH,CAAA,OAAA3B,CAAA,qBAAAE,CAAA,EAAAwB,CAAA,EAAAQ,CAAA,QAAA9B,CAAA,YAAA+B,SAAA,uCAAAR,CAAA,UAAAD,CAAA,IAAAK,CAAA,CAAAL,CAAA,EAAAQ,CAAA,GAAAd,CAAA,GAAAM,CAAA,EAAAH,CAAA,GAAAW,CAAA,GAAArC,CAAA,GAAAuB,CAAA,OAAAxB,CAAA,GAAA2B,CAAA,MAAAI,CAAA,KAAAxB,CAAA,KAAAiB,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAQ,CAAA,CAAA5B,CAAA,QAAA+B,CAAA,CAAAX,CAAA,EAAAG,CAAA,KAAAK,CAAA,CAAA5B,CAAA,GAAAuB,CAAA,GAAAK,CAAA,CAAAC,CAAA,GAAAN,CAAA,aAAAnB,CAAA,MAAAD,CAAA,QAAAiB,CAAA,KAAAlB,CAAA,YAAAL,CAAA,GAAAM,CAAA,CAAAD,CAAA,WAAAL,CAAA,GAAAA,CAAA,CAAAe,IAAA,CAAAT,CAAA,EAAAoB,CAAA,UAAAY,SAAA,2CAAAtC,CAAA,CAAAuC,IAAA,SAAAvC,CAAA,EAAA0B,CAAA,GAAA1B,CAAA,CAAAwC,KAAA,EAAAjB,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAvB,CAAA,GAAAM,CAAA,eAAAN,CAAA,CAAAe,IAAA,CAAAT,CAAA,GAAAiB,CAAA,SAAAG,CAAA,GAAAY,SAAA,uCAAAjC,CAAA,gBAAAkB,CAAA,OAAAjB,CAAA,GAAAP,CAAA,cAAAC,CAAA,IAAA8B,CAAA,GAAAC,CAAA,CAAA5B,CAAA,QAAAuB,CAAA,GAAAxB,CAAA,CAAAa,IAAA,CAAAZ,CAAA,EAAA4B,CAAA,OAAAE,CAAA,kBAAAjC,CAAA,IAAAM,CAAA,GAAAP,CAAA,EAAAwB,CAAA,MAAAG,CAAA,GAAA1B,CAAA,cAAAO,CAAA,mBAAAiC,KAAA,EAAAxC,CAAA,EAAAuC,IAAA,EAAAT,CAAA,SAAA5B,CAAA,EAAAG,CAAA,EAAAC,CAAA,QAAAoB,CAAA,QAAAO,CAAA,gBAAAR,UAAA,cAAAgB,kBAAA,cAAAC,2BAAA,KAAA1C,CAAA,GAAAgB,MAAA,CAAA2B,cAAA,MAAApB,CAAA,MAAApB,CAAA,IAAAH,CAAA,CAAAA,CAAA,IAAAG,CAAA,SAAAyB,mBAAA,CAAA5B,CAAA,OAAAG,CAAA,iCAAAH,CAAA,GAAA0B,CAAA,GAAAgB,0BAAA,CAAAlB,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAAR,MAAA,CAAAW,MAAA,CAAAJ,CAAA,YAAAhB,EAAAR,CAAA,WAAAiB,MAAA,CAAA4B,cAAA,GAAA5B,MAAA,CAAA4B,cAAA,CAAA7C,CAAA,EAAA2C,0BAAA,KAAA3C,CAAA,CAAAS,SAAA,GAAAkC,0BAAA,EAAAd,mBAAA,CAAA7B,CAAA,EAAAM,CAAA,yBAAAN,CAAA,CAAAyB,SAAA,GAAAR,MAAA,CAAAW,MAAA,CAAAD,CAAA,GAAA3B,CAAA,WAAA0C,iBAAA,CAAAjB,SAAA,GAAAkB,0BAAA,EAAAd,mBAAA,CAAAF,CAAA,iBAAAgB,0BAAA,GAAAd,mBAAA,CAAAc,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAI,WAAA,wBAAAjB,mBAAA,CAAAc,0BAAA,EAAArC,CAAA,wBAAAuB,mBAAA,CAAAF,CAAA,GAAAE,mBAAA,CAAAF,CAAA,EAAArB,CAAA,gBAAAuB,mBAAA,CAAAF,CAAA,EAAAvB,CAAA,iCAAAyB,mBAAA,CAAAF,CAAA,8DAAAP,YAAA,YAAAA,aAAA,aAAA2B,CAAA,EAAAxC,CAAA,EAAAyC,CAAA,EAAAxC,CAAA;AAAA,SAAAqB,oBAAA7B,CAAA,EAAAG,CAAA,EAAAC,CAAA,EAAAH,CAAA,QAAAM,CAAA,GAAAU,MAAA,CAAAC,cAAA,QAAAX,CAAA,uBAAAP,CAAA,IAAAO,CAAA,QAAAsB,mBAAA,YAAAoB,mBAAAjD,CAAA,EAAAG,CAAA,EAAAC,CAAA,EAAAH,CAAA,aAAAK,EAAAH,CAAA,EAAAC,CAAA,IAAAyB,mBAAA,CAAA7B,CAAA,EAAAG,CAAA,YAAAH,CAAA,gBAAAkD,OAAA,CAAA/C,CAAA,EAAAC,CAAA,EAAAJ,CAAA,SAAAG,CAAA,GAAAI,CAAA,GAAAA,CAAA,CAAAP,CAAA,EAAAG,CAAA,IAAAsC,KAAA,EAAArC,CAAA,EAAA+C,UAAA,GAAAlD,CAAA,EAAAmD,YAAA,GAAAnD,CAAA,EAAAoD,QAAA,GAAApD,CAAA,MAAAD,CAAA,CAAAG,CAAA,IAAAC,CAAA,IAAAE,CAAA,aAAAA,CAAA,cAAAA,CAAA,mBAAAuB,mBAAA,CAAA7B,CAAA,EAAAG,CAAA,EAAAC,CAAA,EAAAH,CAAA;AAAA,SAAAqD,mBAAAlD,CAAA,EAAAH,CAAA,EAAAD,CAAA,EAAAG,CAAA,EAAAG,CAAA,EAAA4B,CAAA,EAAAV,CAAA,cAAAjB,CAAA,GAAAH,CAAA,CAAA8B,CAAA,EAAAV,CAAA,GAAAG,CAAA,GAAApB,CAAA,CAAAkC,KAAA,WAAArC,CAAA,gBAAAJ,CAAA,CAAAI,CAAA,KAAAG,CAAA,CAAAiC,IAAA,GAAAvC,CAAA,CAAA0B,CAAA,IAAA4B,OAAA,CAAAC,OAAA,CAAA7B,CAAA,EAAA8B,IAAA,CAAAtD,CAAA,EAAAG,CAAA;AAAA,SAAAoD,kBAAAtD,CAAA,6BAAAH,CAAA,SAAAD,CAAA,GAAA2D,SAAA,aAAAJ,OAAA,WAAApD,CAAA,EAAAG,CAAA,QAAA4B,CAAA,GAAA9B,CAAA,CAAAwD,KAAA,CAAA3D,CAAA,EAAAD,CAAA,YAAA6D,MAAAzD,CAAA,IAAAkD,kBAAA,CAAApB,CAAA,EAAA/B,CAAA,EAAAG,CAAA,EAAAuD,KAAA,EAAAC,MAAA,UAAA1D,CAAA,cAAA0D,OAAA1D,CAAA,IAAAkD,kBAAA,CAAApB,CAAA,EAAA/B,CAAA,EAAAG,CAAA,EAAAuD,KAAA,EAAAC,MAAA,WAAA1D,CAAA,KAAAyD,KAAA;AAAA,SAAAE,2BAAA/D,CAAA,EAAAO,CAAA,EAAAJ,CAAA,EAAAmC,CAAA,IAAAnC,CAAA,IAAAc,MAAA,CAAAC,cAAA,CAAAlB,CAAA,EAAAO,CAAA,IAAA4C,UAAA,EAAAhD,CAAA,CAAAgD,UAAA,EAAAC,YAAA,EAAAjD,CAAA,CAAAiD,YAAA,EAAAC,QAAA,EAAAlD,CAAA,CAAAkD,QAAA,EAAAZ,KAAA,EAAAtC,CAAA,CAAA6D,WAAA,GAAA7D,CAAA,CAAA6D,WAAA,CAAAhD,IAAA,CAAAsB,CAAA;AAAA,SAAA2B,gBAAA/B,CAAA,EAAA9B,CAAA,UAAA8B,CAAA,YAAA9B,CAAA,aAAAmC,SAAA;AAAA,SAAA2B,kBAAAlE,CAAA,EAAAG,CAAA,aAAAF,CAAA,MAAAA,CAAA,GAAAE,CAAA,CAAAkC,MAAA,EAAApC,CAAA,UAAAK,CAAA,GAAAH,CAAA,CAAAF,CAAA,GAAAK,CAAA,CAAA6C,UAAA,GAAA7C,CAAA,CAAA6C,UAAA,QAAA7C,CAAA,CAAA8C,YAAA,kBAAA9C,CAAA,KAAAA,CAAA,CAAA+C,QAAA,QAAApC,MAAA,CAAAC,cAAA,CAAAlB,CAAA,EAAAmE,cAAA,CAAA7D,CAAA,CAAA8D,GAAA,GAAA9D,CAAA;AAAA,SAAA+D,aAAArE,CAAA,EAAAG,CAAA,EAAAF,CAAA,WAAAE,CAAA,IAAA+D,iBAAA,CAAAlE,CAAA,CAAAyB,SAAA,EAAAtB,CAAA,GAAAF,CAAA,IAAAiE,iBAAA,CAAAlE,CAAA,EAAAC,CAAA,GAAAgB,MAAA,CAAAC,cAAA,CAAAlB,CAAA,iBAAAqD,QAAA,SAAArD,CAAA;AAAA,SAAAmE,eAAAlE,CAAA,QAAAM,CAAA,GAAA+D,YAAA,CAAArE,CAAA,gCAAAS,OAAA,CAAAH,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAA+D,aAAArE,CAAA,EAAAE,CAAA,oBAAAO,OAAA,CAAAT,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAD,CAAA,GAAAC,CAAA,CAAAoB,MAAA,CAAAkD,WAAA,kBAAAvE,CAAA,QAAAO,CAAA,GAAAP,CAAA,CAAAgB,IAAA,CAAAf,CAAA,EAAAE,CAAA,gCAAAO,OAAA,CAAAH,CAAA,UAAAA,CAAA,YAAAgC,SAAA,yEAAApC,CAAA,GAAAqE,MAAA,GAAAC,MAAA,EAAAxE,CAAA;AAAA,SAAAyE,WAAAzE,CAAA,EAAAK,CAAA,EAAAN,CAAA,WAAAM,CAAA,GAAAqE,eAAA,CAAArE,CAAA,GAAAsE,0BAAA,CAAA3E,CAAA,EAAA4E,yBAAA,KAAAC,OAAA,CAAAC,SAAA,CAAAzE,CAAA,EAAAN,CAAA,QAAA2E,eAAA,CAAA1E,CAAA,EAAA+E,WAAA,IAAA1E,CAAA,CAAAsD,KAAA,CAAA3D,CAAA,EAAAD,CAAA;AAAA,SAAA4E,2BAAA3E,CAAA,EAAAD,CAAA,QAAAA,CAAA,iBAAAU,OAAA,CAAAV,CAAA,0BAAAA,CAAA,UAAAA,CAAA,iBAAAA,CAAA,YAAAuC,SAAA,qEAAA0C,sBAAA,CAAAhF,CAAA;AAAA,SAAAgF,uBAAAjF,CAAA,mBAAAA,CAAA,YAAAkF,cAAA,sEAAAlF,CAAA;AAAA,SAAA6E,0BAAA,cAAA5E,CAAA,IAAAkF,OAAA,CAAA1D,SAAA,CAAA2D,OAAA,CAAApE,IAAA,CAAA8D,OAAA,CAAAC,SAAA,CAAAI,OAAA,iCAAAlF,CAAA,aAAA4E,yBAAA,YAAAA,0BAAA,aAAA5E,CAAA;AAAA,SAAA0E,gBAAA1E,CAAA,WAAA0E,eAAA,GAAA1D,MAAA,CAAA4B,cAAA,GAAA5B,MAAA,CAAA2B,cAAA,CAAAR,IAAA,eAAAnC,CAAA,WAAAA,CAAA,CAAAQ,SAAA,IAAAQ,MAAA,CAAA2B,cAAA,CAAA3C,CAAA,MAAA0E,eAAA,CAAA1E,CAAA;AAAA,SAAAoF,UAAApF,CAAA,EAAAD,CAAA,6BAAAA,CAAA,aAAAA,CAAA,YAAAuC,SAAA,wDAAAtC,CAAA,CAAAwB,SAAA,GAAAR,MAAA,CAAAW,MAAA,CAAA5B,CAAA,IAAAA,CAAA,CAAAyB,SAAA,IAAAuD,WAAA,IAAAvC,KAAA,EAAAxC,CAAA,EAAAoD,QAAA,MAAAD,YAAA,WAAAnC,MAAA,CAAAC,cAAA,CAAAjB,CAAA,iBAAAoD,QAAA,SAAArD,CAAA,IAAAsF,eAAA,CAAArF,CAAA,EAAAD,CAAA;AAAA,SAAAsF,gBAAArF,CAAA,EAAAD,CAAA,WAAAsF,eAAA,GAAArE,MAAA,CAAA4B,cAAA,GAAA5B,MAAA,CAAA4B,cAAA,CAAAT,IAAA,eAAAnC,CAAA,EAAAD,CAAA,WAAAC,CAAA,CAAAQ,SAAA,GAAAT,CAAA,EAAAC,CAAA,KAAAqF,eAAA,CAAArF,CAAA,EAAAD,CAAA;AAAA,SAAAuF,0BAAAhF,CAAA,EAAAP,CAAA,EAAAG,CAAA,EAAAC,CAAA,EAAAkC,CAAA,QAAAJ,CAAA,cAAAjB,MAAA,CAAAuE,IAAA,CAAApF,CAAA,EAAAqF,OAAA,WAAAlF,CAAA,IAAA2B,CAAA,CAAA3B,CAAA,IAAAH,CAAA,CAAAG,CAAA,OAAA2B,CAAA,CAAAiB,UAAA,KAAAjB,CAAA,CAAAiB,UAAA,EAAAjB,CAAA,CAAAkB,YAAA,KAAAlB,CAAA,CAAAkB,YAAA,cAAAlB,CAAA,IAAAA,CAAA,CAAA8B,WAAA,MAAA9B,CAAA,CAAAmB,QAAA,QAAAnB,CAAA,GAAA/B,CAAA,CAAAuF,KAAA,GAAAC,OAAA,GAAAC,MAAA,WAAAzF,CAAA,EAAAC,CAAA,WAAAA,CAAA,CAAAG,CAAA,EAAAP,CAAA,EAAAG,CAAA,KAAAA,CAAA,KAAA+B,CAAA,GAAAI,CAAA,eAAAJ,CAAA,CAAA8B,WAAA,KAAA9B,CAAA,CAAAO,KAAA,GAAAP,CAAA,CAAA8B,WAAA,GAAA9B,CAAA,CAAA8B,WAAA,CAAAhD,IAAA,CAAAsB,CAAA,YAAAJ,CAAA,CAAA8B,WAAA,uBAAA9B,CAAA,CAAA8B,WAAA,IAAA/C,MAAA,CAAAC,cAAA,CAAAX,CAAA,EAAAP,CAAA,EAAAkC,CAAA,WAAAA,CAAA;AAAA,SAAA2D,0BAAA1F,CAAA,EAAAH,CAAA,UAAA8F,KAAA;AAAA,IA6CaC,cAAc,GAAAC,OAAA,CAAAD,cAAA,IAAAvH,IAAA,GAH1B,IAAAyH,oBAAU,EAAC;EACVC,IAAI,EAAE;AACR,CAAC,CAAC,EAAAzH,KAAA,YAAAA,MAAA0H,MAAA,EAAA/B,GAAA;EAAA,OA8CG,IAAAgC,kBAAQ,EAAC,uBAAuB,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAA3H,KAAA,GAAAoG,OAAA,CAAAwB,QAAA,gBAAAC,QAAA,GAAA5H,KAAA,GAAAmG,OAAA,CAAAwB,QAAA,8BAAA3I,SAAA,CAAA6I,YAAA,mBAAAvF,MAAA,GAAAtD,SAAA,CAAA6I,YAAA,SAAA/I,SAAA,CAAAgJ,KAAA,mBAAAxF,MAAA,GAAAxD,SAAA,CAAAgJ,KAAA,SAAAhJ,SAAA,CAAAiJ,YAAA,mBAAAzF,MAAA,GAAAxD,SAAA,CAAAiJ,YAAA,SAAAjJ,SAAA,CAAAkJ,KAAA,mBAAA1F,MAAA,GAAAxD,SAAA,CAAAkJ,KAAA,SAAAzI,YAAA,CAAA0I,WAAA,mBAAA3F,MAAA,GAAA/C,YAAA,CAAA0I,WAAA,SAAAzI,cAAA,CAAA0I,aAAA,mBAAA5F,MAAA,GAAA9C,cAAA,CAAA0I,aAAA,SAAAlJ,SAAA,CAAAmJ,aAAA,mBAAA7F,MAAA,GAAAtD,SAAA,CAAAmJ,aAAA,SAAAzI,qBAAA,CAAA0I,oBAAA,mBAAA9F,MAAA,GAAA5C,qBAAA,CAAA0I,oBAAA,SAAA9I,YAAA,CAAA+I,WAAA,mBAAA/F,MAAA,GAAAhD,YAAA,CAAA+I,WAAA,SAAA5I,wBAAA,CAAA6I,uBAAA,mBAAAhG,MAAA,GAAA7C,wBAAA,CAAA6I,uBAAA,SAAAC,qBAAA,mBAAAjG,MAAA,GAAAiG,qBAAA,IAAAtI,KAAA,GAAAkG,OAAA,CAAAwB,QAAA,gBAAAC,QAAA,GAAA1H,KAAA,GAAAiG,OAAA,CAAAwB,QAAA,8BAAAa,kBAAA,mBAAAlG,MAAA,GAAAkG,kBAAA,IAAArI,KAAA,GAAAgG,OAAA,CAAAwB,QAAA,gBAAAC,QAAA,GAAAxH,KAAA,GAAA+F,OAAA,CAAAwB,QAAA,2BAAAtH,KAAA,GAqEnC,IAAAoI,kBAAQ,EAAC,QAAQ,CAAC,EAAAnI,KAAA,GAAA6F,OAAA,CAAAwB,QAAA,gBAAAC,QAAA,GAAArH,KAAA,GAAA4F,OAAA,CAAAwB,QAAA,2BAAAnH,MAAA,GAsClB,IAAAiI,kBAAQ,EAAC,QAAQ,CAAC,EAAAhI,MAAA,GAAA0F,OAAA,CAAAwB,QAAA,gBAAAC,QAAA,GAAAlH,MAAA,GAAAyF,OAAA,CAAAwB,QAAA,8BAAAa,kBAAA,mBAAAlG,MAAA,GAAAkG,kBAAA,IAAA7H,MAAA,GAAAwF,OAAA,CAAAwB,QAAA,gBAAAC,QAAA,GAAAhH,MAAA,GAAAuF,OAAA,CAAAwB,QAAA,2BAAA9G,MAAA,GAAAsF,OAAA,CAAAwB,QAAA,gBAAAC,QAAA,GAAA9G,MAAA,GAAAqF,OAAA,CAAAwB,QAAA,2BAAA5G,MAAA,GAAAoF,OAAA,CAAAwB,QAAA,gBAAAC,QAAA,GAAA5G,MAAA,GAAAmF,OAAA,CAAAwB,QAAA,2BAAA9H,IAAA,CAAAoB,MAAA,GAAAnB,KAAA,CAAAmB,MAAA,GAAAlB,KAAA,CAAAkB,MAAA,GAAAjB,KAAA,CAAAiB,MAAA,IAAAC,OAAA,0BAAAwH,SAAA;EAtHnB,SAAAtB,eACYuB,OAAqB,EACrBC,MAAa,EACbC,aAA2B,EAC3BC,MAAa,EACbC,YAAyB,EACzBC,cAA6B,EAC7BC,QAAuB,EACvBC,qBAA2C,EAC3CC,YAAyB,EACzBC,wBAAiD,EAEjDC,sBAA8C,EACxD;IAAA,IAAAC,KAAA;IAAAhE,eAAA,OAAA8B,cAAA;IACAkC,KAAA,GAAAvD,UAAA,OAAAqB,cAAA;IAAQkC,KAAA,CAbEX,OAAqB,GAArBA,OAAqB;IAAAW,KAAA,CACrBV,MAAa,GAAbA,MAAa;IAAAU,KAAA,CACbT,aAA2B,GAA3BA,aAA2B;IAAAS,KAAA,CAC3BR,MAAa,GAAbA,MAAa;IAAAQ,KAAA,CACbP,YAAyB,GAAzBA,YAAyB;IAAAO,KAAA,CACzBN,cAA6B,GAA7BA,cAA6B;IAAAM,KAAA,CAC7BL,QAAuB,GAAvBA,QAAuB;IAAAK,KAAA,CACvBJ,qBAA2C,GAA3CA,qBAA2C;IAAAI,KAAA,CAC3CH,YAAyB,GAAzBA,YAAyB;IAAAG,KAAA,CACzBF,wBAAiD,GAAjDA,wBAAiD;IAAAE,KAAA,CAEjDD,sBAA8C,GAA9CA,sBAA8C;IAAAC,KAAA,CA7ClDC,aAAa,GAAGD,KAAA,CAAKT,aAAa,CAACW,mBAAmB,CAAC,CAAC;IAAApE,0BAAA,CAAAkE,KAAA,8BAAAnI,WAAA,EAAAmI,KAAA;IAAAlE,0BAAA,CAAAkE,KAAA,UAAAlI,YAAA,EAAAkI,KAAA;IAgD9DA,KAAA,CAAKL,QAAQ,CAACQ,MAAM,CAAAH,KAAA,EAAO;MACzBI,UAAU,EAAE,CAAC,CAAC,MAAM,EAAE,qBAAqB,CAAC;IAC9C,CAAC,CAAC;IAAC,OAAAJ,KAAA;EACL;EAAC5C,SAAA,CAAAU,cAAA,EAAAsB,SAAA;EAAA,OAAAhD,YAAA,CAAA0B,cAAA;IAAA3B,GAAA;IAAAxD,GAAA,EASD,SAAAA,IAAA,EAAkB;MAChB,OACG,IAAI,CAAC0H,IAAI,CAACC,WAAW,IACtB,IAAI,CAACZ,cAAc,CAACa,OAAO,IAC3B,IAAI;IAER;EAAC;IAAApE,GAAA;IAAAxD,GAAA,EAED,SAAAA,IAAA,EAAe;MACb,OAAO,IAAI,CAAC0H,IAAI,CAACG,QAAQ,IAAI,EAAE;IACjC;EAAC;IAAArE,GAAA;IAAA3B,KAAA,EAED,SACAiG,QAAQA,CAAAC,IAAA,EAGe;MAAA,IAAAC,gBAAA,GAAAD,IAAA,CAFrBJ,WAAW;QAAXA,WAAW,GAAAK,gBAAA,cAAG,IAAI,CAACN,IAAI,CAACC,WAAW,GAAAK,gBAAA;QAAAC,aAAA,GAAAF,IAAA,CACnCF,QAAQ;QAARA,QAAQ,GAAAI,aAAA,cAAG,IAAI,CAACP,IAAI,CAACG,QAAQ,GAAAI,aAAA;MAE7B,IAAI,CAACP,IAAI,CAACC,WAAW,GAAGA,WAAW;MACnC,IAAI,CAACD,IAAI,CAACG,QAAQ,GAAGA,QAAQ;IAC/B;EAAC;IAAArE,GAAA;IAAA3B,KAAA,EAED,SAASqG,UAAUA,CAAA,EAAG;MAAA,IAAAC,MAAA;MACpB,IAAAC,eAAK,EACH,IAAI,EACJ;QAAA,OAAMD,MAAI,CAACE,kBAAkB;MAAA,GAC7B,YAAM;QACJ,IAAIF,MAAI,CAACG,KAAK,EAAE;UACdH,MAAI,CAACI,mBAAmB,CAAC,CAAC;QAC5B;MACF,CACF,CAAC;IACH;EAAC;IAAA/E,GAAA;IAAA3B,KAAA,EAED,SAAS2G,MAAMA,CAAA,EAAG;MAChB,IAAI,CAACD,mBAAmB,CAAC,CAAC;IAC5B;EAAC;IAAA/E,GAAA;IAAAxD,GAAA,EAED,SAAAA,IAAA,EACkD;MAChD,IAAMyI,KAAK,GAAG,IAAI,CAAC3B,YAAY,CAAC2B,KAAK;MACrC,IAAMC,OAAO,GAAG,IAAI,CAAC3B,cAAc,CAAC2B,OAAO;MAC3C,IAAID,KAAK,IAAIA,KAAK,CAAChH,MAAM,GAAG,CAAC,EAAE;QAC7B,OAAOgH,KAAK;MACd;MACA,OAAOC,OAAO,GAAG,CAACA,OAAO,CAAC,GAAG,EAAE;IACjC;EAAC;IAAAlF,GAAA;IAAA3B,KAAA,EAED,SAAQ8G,qBAAqBA,CAAA,EAAG;MAAA,IAAAC,MAAA;MAC9B,OAAO,IAAI,CAACtB,aAAa,CAACuB,MAAM,CAAC;QAAA,OAC/BD,MAAI,CAAC/B,MAAM,CAACiC,IAAI,CAACF,MAAI,CAACG,wBAAwB,CAAC;MAAA,CACjD,CAAC;IACH;EAAC;IAAAvF,GAAA;IAAA3B,KAAA;MAAA,IAAAmH,oBAAA,GAAAlG,iBAAA,cAAAtC,YAAA,GAAA4B,CAAA,CAED,SAAA6G,QAAA;QAAA,IAAAC,MAAA;QAAA,IAAAvB,WAAA,EAAAwB,qBAAA,EAAAC,qBAAA,EAAAV,OAAA,EAAAW,YAAA;QAAA,OAAA7I,YAAA,GAAA2B,CAAA,WAAAmH,QAAA;UAAA,kBAAAA,QAAA,CAAA9J,CAAA;YAAA;cAEMmI,WAA+B,GAAG,IAAI,CAACA,WAAW;cAEtD,IACEA,WAAW,IACX,CAAC,IAAA4B,WAAI,EAAC,UAACC,IAAI;gBAAA,OAAKA,IAAI,CAAC5B,OAAO,KAAKD,WAAW;cAAA,GAAE,IAAI,CAACU,kBAAkB,CAAC,EACtE;gBACAV,WAAW,GAAG,IAAI;gBAClB,IACE,EAAAwB,qBAAA,OAAI,CAACxC,MAAM,CAAC8C,WAAW,cAAAN,qBAAA,uBAAvBA,qBAAA,CAAyBO,mBAAmB,KAC5C,GAAAN,qBAAA,GAAC,IAAI,CAAChC,sBAAsB,cAAAgC,qBAAA,uBAA3BA,qBAAA,CAA6BO,8BAA8B,GAC5D;kBACA,IAAI,CAAChB,qBAAqB,CAAC,CAAC;gBAC9B;cACF;cAEA,IAAI,CAAChB,WAAW,EAAE;gBACVe,OAAO,GACX,IAAAa,WAAI,EACF,UAACC,IAAI;kBAAA,OAAKA,IAAI,CAAC5B,OAAO,KAAKsB,MAAI,CAACnC,cAAc,CAAC2B,OAAO,CAACd,OAAO;gBAAA,GAC9D,IAAI,CAACS,kBACP,CAAC,IAAI,IAAI,CAACA,kBAAkB,CAAC,CAAC,CAAC;gBAEjC,IAAI,CAACP,QAAQ,CAAC;kBACZH,WAAW,EAAEe,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEd,OAAO;kBAC7BC,QAAQ,EAAE;gBACZ,CAAC,CAAC;cACJ;cAEMwB,YAAY,GAAG,IAAI,CAACnC,YAAY,CAACmC,YAAY;cACnD,IAAIA,YAAY,IAAI,IAAAO,eAAQ,EAAC,IAAI,CAACjC,WAAW,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE;gBAClE,IAAI,CAACG,QAAQ,CAAC;kBACZD,QAAQ,EAAE;gBACZ,CAAC,CAAC;cACJ;YAAC;cAAA,OAAAyB,QAAA,CAAAhI,CAAA;UAAA;QAAA,GAAA2H,OAAA;MAAA,CACF;MAAA,SAnCKV,mBAAmBA,CAAA;QAAA,OAAAS,oBAAA,CAAAhG,KAAA,OAAAD,SAAA;MAAA;MAAA,OAAnBwF,mBAAmB;IAAA;EAAA;IAAA/E,GAAA;IAAA3B,KAAA;MAAA,IAAAgI,SAAA,GAAA/G,iBAAA,cAAAtC,YAAA,GAAA4B,CAAA,CAqCzB,SAAA0H,SAAAC,KAAA;QAAA,IAAAC,cAAA,EAAAnC,QAAA,EAAAoC,iBAAA,EAAAtC,WAAA,EAAA0B,YAAA;QAAA,OAAA7I,YAAA,GAAA2B,CAAA,WAAA+H,SAAA;UAAA,kBAAAA,SAAA,CAAA1K,CAAA;YAAA;cAAAwK,cAAA,GAAAD,KAAA,CAEElC,QAAQ,EAARA,QAAQ,GAAAmC,cAAA,cAAG,IAAI,CAACnC,QAAQ,GAAAmC,cAAA,EAAAC,iBAAA,GAAAF,KAAA,CACxBpC,WAAW,EAAXA,WAAW,GAAAsC,iBAAA,cAAG,IAAI,CAACtC,WAAW,GAAAsC,iBAAA;cAExBZ,YAAY,GAAG,IAAI,CAACnC,YAAY,CAACmC,YAAY;cAAA,MAC/C,CAACA,YAAY,IAAI,CAAC,IAAAc,4BAAgB,EAACtC,QAAQ,CAAC;gBAAAqC,SAAA,CAAA1K,CAAA;gBAAA;cAAA;cAC9C,IAAI,CAACqH,MAAM,CAACuD,MAAM,CAAC;gBACjBC,OAAO,EAAE,IAAAhL,OAAC,EAAC,iBAAiB,CAAC;gBAC7BiL,eAAe,EAAE;cACnB,CAAC,CAAC;cAAC,OAAAJ,SAAA,CAAA5I,CAAA;YAAA;cAGL,IAAI,CAACwG,QAAQ,CAAC;gBACZH,WAAW,EAAXA,WAAW;gBACXE,QAAQ,EAAEA,QAAQ,IAAIA,QAAQ,CAAC0C,IAAI,CAAC;cACtC,CAAC,CAAC;cAAC,MAECC,OAAO,CAACC,GAAG,CAACC,YAAY,KAAK,WAAW;gBAAAR,SAAA,CAAA1K,CAAA;gBAAA;cAAA;cAAA,OAAA0K,SAAA,CAAA5I,CAAA;YAAA;cAE5C,IAAI,CAACuF,MAAM,CAAC8D,OAAO,CAAC;gBAClBN,OAAO,EAAE,IAAAhL,OAAC,EAAC,aAAa;cAC1B,CAAC,CAAC;YAAC;cAAA,OAAA6K,SAAA,CAAA5I,CAAA;UAAA;QAAA,GAAAwI,QAAA;MAAA,CACJ;MAAA,SAtBKc,OAAOA,CAAAC,EAAA;QAAA,OAAAhB,SAAA,CAAA7G,KAAA,OAAAD,SAAA;MAAA;MAAA,OAAP6H,OAAO;IAAA;EAAA;IAAApH,GAAA;IAAAxD,GAAA,EAwBb,SAAAA,IAAA,EACyB;MACvB,IAAM0J,mBAAmB,GAAG,CAAC,CAAC,IAAI,CAAC/C,MAAM,CAAC8C,WAAW,CAACC,mBAAmB;MACzE,IAAMoB,gBAAgB,GAAG,IAAI,CAACzC,kBAAkB,CAAC5G,MAAM,GAAG,CAAC;MAC3D,IAAMsJ,QAAQ,GACZ,IAAI,CAAC1C,kBAAkB,CAAC5G,MAAM,KAAK,CAAC,KACnC,IAAI,CAAC4G,kBAAkB,CAAC,CAAC,CAAC,CAACT,OAAO,KAAK,IAAI,IAC1C,IAAI,CAACS,kBAAkB,CAAC,CAAC,CAAC,CAACT,OAAO,KAAK,IAAI,CAAC;MAChD,IAAMyB,YAAY,GAAG,IAAI,CAACnC,YAAY,CAACmC,YAAY;MAEnD,OACEK,mBAAmB,KAAKoB,gBAAgB,IAAIzB,YAAY,IAAI0B,QAAQ,CAAC;IAEzE;EAAC;IAAAvH,GAAA;IAAAxD,GAAA,EAED,SAAAA,IAAA,EACoB;MAAA,IAAAgL,MAAA;MAClB,IAAMC,WAAW,GAAG,IAAI,CAAC5C,kBAAkB,CAACkB,IAAI,CAC9C,UAACb,OAAO;QAAA,OAAKA,OAAO,CAACd,OAAO,KAAKoD,MAAI,CAACrD,WAAW;MAAA,CACnD,CAAC;MACD,IAAMuD,aAAa,GAAID,WAAW,IAAIA,WAAW,CAACE,EAAE,IAAK,GAAG;MAC5D,OAAOD,aAAa;IACtB;EAAC;IAAA1H,GAAA;IAAAxD,GAAA,EAED,SAAAA,IAAA,EACsB;MACpB,IAAMqJ,YAAY,GAAG,IAAI,CAACnC,YAAY,CAACmC,YAAY;MACnD,IAAIA,YAAY,IAAI,IAAAO,eAAQ,EAAC,IAAI,CAACjC,WAAW,EAAE,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,EAAE;QAClE;MACF;MAEA,IAAI,IAAI,CAACE,QAAQ,EAAE;QACjB,OAAO,IAAI,CAACA,QAAQ;MACtB;MAEA,IAAMuD,WAAW,GAAG,IAAAC,uCAAqB,EAAC,IAAI,CAAC1D,WAA0B,CAAC;MAC1E,IAAA2D,qBAAA,GAA6C,IAAI,CAACrE,qBAAqB;QAA/DsE,aAAa,GAAAD,qBAAA,CAAbC,aAAa;QAAEC,iBAAiB,GAAAF,qBAAA,CAAjBE,iBAAiB;MAExC,IAAMC,qBAAqB,GACzB,CAAAD,iBAAiB,aAAjBA,iBAAiB,uBAAjBA,iBAAiB,CAAEE,WAAW,KAC9B,IAAAC,kCAAgB,EAACH,iBAAiB,CAACE,WAAW,CAAC,CAACE,kBAAkB;MACpE,IAAMC,wBAAwB,GAC5B,CAAAN,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEG,WAAW,KAC1B,IAAAC,kCAAgB,EAACJ,aAAa,CAACG,WAAW,CAAC,CAACE,kBAAkB;MAEhE,IAAME,uBAAuB,GAC3BD,wBAAwB,KAAKT,WAAW,IACxCK,qBAAqB,KAAKL,WAAW;MACvC,IAAIU,uBAAuB,EAAE;QAC3B,OAAO,IAAI,CAAC3E,wBAAwB,CAAC4E,eAAe;MACtD;IACF;EAAC;AAAA,EApOiCC,kBAAQ,GAAA9M,WAAA,GAAAyF,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,+BAGzCoL,gBAAM;EAAAzJ,YAAA;EAAAD,UAAA;EAAAE,QAAA;EAAAW,WAAA,WAAAA,YAAA;IAAA,IAAA8I,MAAA;IAAA,OAC4B,IAAI,CAACrF,MAAM,CAAC7F,MAAM,CAAC;MACpDmL,IAAI,EAAE,SAANA,IAAIA,CAAA,EAAQ;QACV,IAAAC,iBAAA,GAAmB,IAAAC,uBAAgB,EAAC,CAAC;UAA7BC,MAAM,GAAAF,iBAAA,CAANE,MAAM;QACd,IAAAC,UAAA,GAAc,IAAAC,gBAAS,EAACC,gBAAI,CAAC;UAArBpN,CAAC,GAAAkN,UAAA,CAADlN,CAAC;QAET,IAAMqN,cAAc,GAAGrN,CAAC,CAAC,gBAAgB,CAAC;QAC1C,IAAMsN,kBAAkB,gBACtBvP,MAAA,YAAAwP,aAAA,CAAC3P,KAAA,CAAA4P,MAAM;UACLC,OAAO,eAAAhK,iBAAA,cAAAtC,YAAA,GAAA4B,CAAA,CAAE,SAAA2K,SAAA;YAAA,OAAAvM,YAAA,GAAA2B,CAAA,WAAA6K,SAAA;cAAA,kBAAAA,SAAA,CAAAxN,CAAA;gBAAA;kBAAAwN,SAAA,CAAAxN,CAAA;kBAAA,OACD0M,MAAI,CAACxF,OAAO,CAACuG,IAAI,CAAC,kBAAkB,CAAC;gBAAA;kBAC3CX,MAAM,CAAEY,KAAK,CAAC,CAAC;gBAAC;kBAAA,OAAAF,SAAA,CAAA1L,CAAA;cAAA;YAAA,GAAAyL,QAAA;UAAA,CACjB;QAAC,GAEDL,cACK,CACT;QAED,oBACEtP,MAAA,YAAAwP,aAAA,CAAC5P,iBAAA,WAAgB;UACfqN,OAAO,EAAEhL,CAAC,CAAC,qBAAqB,CAAE;UAClC8N,MAAM,EAAE;YAAER,kBAAkB,EAAlBA;UAAmB;QAAE,CAChC,CAAC;MAEN,CAAC;MACDS,KAAK,EAAE,SAAPA,KAAKA,CAAA;QAAA,OAAS;UACZC,KAAK,EAAE,SAAS;UAChBC,GAAG,EAAE;QACP,CAAC;MAAA;IACH,CAAC,CAAC;EAAA;AAAA,IAAAnO,YAAA,GAAAwF,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,WAsBD0M,qBAAW,EACXC,eAAK;EAAAhL,YAAA;EAAAD,UAAA;EAAAE,QAAA;EAAAW,WAAA,WAAAA,YAAA;IAAA,IAAAqK,oBAAA;IAAA,OACC;MACL9F,WAAW,EAAE,EAAA8F,oBAAA,OAAI,CAAC1G,cAAc,cAAA0G,oBAAA,uBAAnBA,oBAAA,CAAqB7F,OAAO,KAAI,EAAE;MAC/CC,QAAQ,EAAE;IACZ,CAAC;EAAA;AAAA,IAAAlD,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,eAcAyL,gBAAM,EAAAtO,KAAA,EAAAC,KAAA,GAAAoC,MAAA,CAAAE,wBAAA,CAAAtB,OAAA,CAAA4B,SAAA,eAAA5B,OAAA,CAAA4B,SAAA,GAAA8D,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,yBAyBN6M,kBAAQ,EAAAxP,KAAA,EAAAC,KAAA,GAAAkC,MAAA,CAAAE,wBAAA,CAAAtB,OAAA,CAAA4B,SAAA,yBAAA5B,OAAA,CAAA4B,SAAA,GAAA8D,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,0BAAAzC,KAAA,EAAAC,KAAA,EAAAC,KAAA,GAAA+B,MAAA,CAAAE,wBAAA,CAAAtB,OAAA,CAAA4B,SAAA,0BAAA5B,OAAA,CAAA4B,SAAA,GAAA8D,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,cAAAtC,MAAA,EAAAC,MAAA,EAAAC,MAAA,GAAA4B,MAAA,CAAAE,wBAAA,CAAAtB,OAAA,CAAA4B,SAAA,cAAA5B,OAAA,CAAA4B,SAAA,GAAA8D,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,yBA+ER6M,kBAAQ,EAAAhP,MAAA,EAAAC,MAAA,GAAA0B,MAAA,CAAAE,wBAAA,CAAAtB,OAAA,CAAA4B,SAAA,yBAAA5B,OAAA,CAAA4B,SAAA,GAAA8D,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,oBAeR6M,kBAAQ,EAAA9O,MAAA,EAAAC,MAAA,GAAAwB,MAAA,CAAAE,wBAAA,CAAAtB,OAAA,CAAA4B,SAAA,oBAAA5B,OAAA,CAAA4B,SAAA,GAAA8D,yBAAA,CAAA1F,OAAA,CAAA4B,SAAA,sBASR6M,kBAAQ,EAAA5O,MAAA,EAAAC,MAAA,GAAAsB,MAAA,CAAAE,wBAAA,CAAAtB,OAAA,CAAA4B,SAAA,sBAAA5B,OAAA,CAAA4B,SAAA,GAAA5B,OAAA,MAAAD,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA","ignoreList":[]}