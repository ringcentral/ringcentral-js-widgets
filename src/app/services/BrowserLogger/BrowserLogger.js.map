{"version":3,"file":"BrowserLogger.js","names":["_loggerV","require","_nextCore","_rxjs","_UAParsedInfo","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_class","_class2","_descriptor","_descriptor2","_descriptor3","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_regenerator","Symbol","n","iterator","toStringTag","i","c","prototype","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","checkLoggerEnabled","DEFAULT_LOGGER_ENABLED","BrowserLogger","exports","injectable","name","target","optional","undefined","metadata","Function","StoragePlugin","UAParsedInfo","PortManager","BrowserLoggerOptions","dynamic","TrackPropsService","delegate","_RcModule","_storage","_uAParsedInfo","_portManager","_browserLoggerOptions","_this$_browserLoggerO","_this$_browserLoggerO2","_this$_browserLoggerO3","_this","transport","logger","loggerV2","enable","shared","isWorkerMode","worker","onMainTab","createTransport","prefix","onConnect","log","storageTransport","listen","data","_this$storageTranspor","write","watch","enabled","ready","_callee","_t","_context","concat","isServer","getClientOsInfo","initInfo","disable","multiple","process","env","NODE_ENV","NEVER","pipe","finalize","_data","messages","takeUntilAppDestroy","subscribe","_initInfo","_callee2","_yield$this$_trackPro","_this$_trackPropsServ","window","document","uaResult","_t2","_t3","_t4","_t5","_t6","_t7","_t8","_context2","globalThis","userAgentResult","_trackPropsService","getTrackProps","timestamp","Date","toISOString","device","screenWidth","screen","width","screenHeight","height","viewportWidth","documentElement","clientWidth","viewportHeight","clientHeight","get","_enabled","_enable","_enable2","_callee3","_context3","toggleLogger","_disable","_disable2","_callee4","_context4","_toggleLogger2","_callee5","_context5","_x","_setDownloading","val","downloading","_setDownloading2","_callee6","_context6","setDownloading","_x2","_saveLog","_callee7","_context7","portDetector","sharedAppOptions","downloadLogs","saveLog","_this$logger$transpor","transports","find","type","_log","_this$logger","_len","args","Array","_key","_len2","_key2","RcModule","globalStorage","state","_this$_browserLoggerO4","_this$_browserLoggerO5","action"],"sources":["src/app/services/BrowserLogger/BrowserLogger.ts"],"sourcesContent":["import {\n  checkLoggerEnabled,\n  DEFAULT_LOGGER_ENABLED,\n  loggerV2,\n  toggleLogger,\n} from '@ringcentral-integration/core/lib/logger/loggerV2';\nimport type { TrackPropsService } from '@ringcentral-integration/micro-auth/src/app/services';\nimport {\n  action,\n  createTransport,\n  delegate,\n  dynamic,\n  globalStorage,\n  injectable,\n  optional,\n  PortManager,\n  RcModule,\n  state,\n  StoragePlugin,\n  takeUntilAppDestroy,\n  watch,\n} from '@ringcentral-integration/next-core';\nimport {\n  LogTypes,\n  type SerializedMessage,\n  StorageTransport,\n} from '@ringcentral/mfe-logger';\nimport type { SharedWorkerClientTransport } from 'data-transport';\nimport { finalize, NEVER } from 'rxjs';\n\nimport { UAParsedInfo } from '../UAParsedInfo';\n\nimport type { BrowserLoggerOptions } from './BrowserLogger.interface';\n\ncheckLoggerEnabled(DEFAULT_LOGGER_ENABLED);\n\n@injectable({\n  name: 'BrowserLogger',\n})\nexport class BrowserLogger extends RcModule {\n  private transport?: SharedWorkerClientTransport;\n\n  constructor(\n    private _storage: StoragePlugin,\n    private _uAParsedInfo: UAParsedInfo,\n    private _portManager: PortManager,\n    @optional('BrowserLoggerOptions')\n    private _browserLoggerOptions?: BrowserLoggerOptions,\n  ) {\n    super();\n    this._storage.enable(this);\n\n    if (\n      this._portManager.shared &&\n      this._portManager.isWorkerMode &&\n      this._browserLoggerOptions?.worker\n    ) {\n      this._portManager.onMainTab(() => {\n        this.transport = createTransport('SharedWorkerClient', {\n          worker: this._browserLoggerOptions!.worker!,\n          prefix: 'logger',\n        });\n        this.transport.onConnect(() => {\n          this.logger.log('[BrowserLogger] SharedWorkerClient - connected');\n        });\n        this.logger.log('storageTransport:', !!this.storageTransport);\n        this.transport.listen('syncLog', (data: SerializedMessage) => {\n          this.storageTransport?.write(data);\n        });\n      });\n    }\n\n    watch(\n      this,\n      () => [this.enabled, this.ready],\n      async () => {\n        if (!this.ready) return;\n        if (this.enabled) {\n          this.logger.enable();\n          this.logger.log('[BrowserLogger] enabled');\n          this.logger.log(\n            `[BrowserLogger] isServer:${this._portManager.isServer}`,\n          );\n\n          // wait info get initialized\n          await this._uAParsedInfo.getClientOsInfo();\n          this.logger.log('[Init Info]', await this.initInfo());\n        } else {\n          this.logger.disable();\n        }\n      },\n      {\n        multiple: true,\n      },\n    );\n\n    // in test env, we need to clear the logs after each test\n    if (process.env.NODE_ENV === 'test') {\n      NEVER.pipe(\n        finalize(() => {\n          (this.storageTransport as any)._data.messages.length = 0;\n        }),\n        takeUntilAppDestroy,\n      ).subscribe();\n    }\n  }\n\n  @dynamic('TrackPropsService')\n  protected _trackPropsService?: TrackPropsService;\n\n  async initInfo() {\n    const { window, document } = globalThis;\n    if (!document) {\n      return {};\n    }\n\n    const uaResult = this._uAParsedInfo.userAgentResult;\n\n    const initInfo = {\n      ...((await this._trackPropsService?.getTrackProps()) ?? {}),\n      timestamp: new Date().toISOString(),\n      ...uaResult,\n      device: {\n        ...uaResult?.device,\n        screenWidth: window.screen.width,\n        screenHeight: window.screen.height,\n        viewportWidth: document.documentElement.clientWidth,\n        viewportHeight: document.documentElement.clientHeight,\n      },\n    };\n    return initInfo;\n  }\n\n  @globalStorage\n  @state\n  private _enabled =\n    this._browserLoggerOptions?.enabled ?? DEFAULT_LOGGER_ENABLED;\n\n  get enabled() {\n    return this._enabled;\n  }\n\n  @action\n  private _enable() {\n    this._enabled = true;\n  }\n\n  /**\n   * enable logger\n   */\n  @delegate('server')\n  async enable() {\n    await this.toggleLogger(true);\n    this._enable();\n  }\n\n  @action\n  private _disable() {\n    this._enabled = false;\n  }\n\n  /**\n   * disable logger\n   */\n  @delegate('server')\n  async disable() {\n    await this.toggleLogger(false);\n    this._disable();\n  }\n\n  @delegate('mainClient')\n  async toggleLogger(enabled: boolean) {\n    toggleLogger(enabled);\n  }\n\n  @state\n  downloading = false;\n\n  @action\n  private _setDownloading(val: boolean) {\n    this.downloading = val;\n  }\n\n  /**\n   * set downloading\n   */\n  @delegate('server')\n  async setDownloading(val: boolean) {\n    this._setDownloading(val);\n  }\n\n  override logger = this._browserLoggerOptions?.logger ?? loggerV2;\n\n  /**\n   * save log to local\n   */\n\n  async saveLog() {\n    if (this.downloading) return;\n    await this.setDownloading(true);\n    try {\n      if (this.storageTransport) {\n        const { name } = this._portManager.portDetector.sharedAppOptions;\n        await this.storageTransport.downloadLogs({ name });\n      } else {\n        throw new Error('StorageTransport not found');\n      }\n    } finally {\n      await this.setDownloading(false);\n    }\n  }\n\n  get storageTransport() {\n    return this.logger.transports?.find(\n      (transport) => transport.type === 'storage',\n    ) as StorageTransport | void;\n  }\n\n  private _log(type: LogTypes, ...args: any[]) {\n    if (this.enabled) {\n      try {\n        this.logger[type](...args);\n      } catch (e) {\n        // TODO: error handling when logger is not working\n      }\n    }\n  }\n\n  log(...args: any[]) {\n    this._log('info', ...args);\n  }\n}\n"],"mappings":"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","ignoreList":[]}