{"version":3,"file":"messageStoreHelper.js","names":["_syncTypes","require","getSyncParams","exports","_ref","recordCount","conversationLoadLength","dateFrom","dateTo","syncToken","messageType","syncType","syncTypes","iSync","params","recordCountPerConversation","fSync","toISOString","messageStoreEventRegExp","instantMessageEventRegExp"],"sources":["src/app/services/MessageStore/messageStoreHelper.ts"],"sourcesContent":["import { syncTypes } from '@ringcentral-integration/commons/enums/syncTypes';\n\nimport type { SyncFunctionOptions } from './MessageStore.interface';\n\ntype GetSyncParamsOptions = Pick<\n  SyncFunctionOptions,\n  Exclude<keyof SyncFunctionOptions, 'receivedRecordsLength'>\n>;\n\ninterface SyncParams {\n  syncType: 'FSync' | 'ISync';\n  recordCountPerConversation: GetSyncParamsOptions['conversationLoadLength'];\n  recordCount?: GetSyncParamsOptions['recordCount'];\n  messageType?: GetSyncParamsOptions['messageType'];\n  dateFrom?: string;\n  dateTo?: string;\n}\n\nexport const getSyncParams = ({\n  recordCount,\n  conversationLoadLength,\n  dateFrom,\n  dateTo,\n  syncToken,\n  messageType,\n}: GetSyncParamsOptions) => {\n  if (syncToken) {\n    return {\n      syncToken,\n      syncType: syncTypes.iSync,\n    };\n  }\n  const params: SyncParams = {\n    recordCountPerConversation: conversationLoadLength,\n    syncType: syncTypes.fSync,\n  };\n  if (recordCount) {\n    params.recordCount = recordCount;\n  }\n  if (dateFrom) {\n    params.dateFrom = dateFrom.toISOString();\n  }\n  if (dateTo) {\n    params.dateTo = dateTo.toISOString();\n  }\n  if (messageType) {\n    params.messageType = messageType;\n  }\n  return params;\n};\n\nexport const messageStoreEventRegExp = /\\/message-store$/;\n\nexport const instantMessageEventRegExp = /\\/message-store\\/instant\\?type=SMS$/;\n"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AAkBO,IAAMC,aAAa,GAAAC,OAAA,CAAAD,aAAA,GAAG,SAAhBA,aAAaA,CAAAE,IAAA,EAOE;EAAA,IAN1BC,WAAW,GAAAD,IAAA,CAAXC,WAAW;IACXC,sBAAsB,GAAAF,IAAA,CAAtBE,sBAAsB;IACtBC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IACRC,MAAM,GAAAJ,IAAA,CAANI,MAAM;IACNC,SAAS,GAAAL,IAAA,CAATK,SAAS;IACTC,WAAW,GAAAN,IAAA,CAAXM,WAAW;EAEX,IAAID,SAAS,EAAE;IACb,OAAO;MACLA,SAAS,EAATA,SAAS;MACTE,QAAQ,EAAEC,oBAAS,CAACC;IACtB,CAAC;EACH;EACA,IAAMC,MAAkB,GAAG;IACzBC,0BAA0B,EAAET,sBAAsB;IAClDK,QAAQ,EAAEC,oBAAS,CAACI;EACtB,CAAC;EACD,IAAIX,WAAW,EAAE;IACfS,MAAM,CAACT,WAAW,GAAGA,WAAW;EAClC;EACA,IAAIE,QAAQ,EAAE;IACZO,MAAM,CAACP,QAAQ,GAAGA,QAAQ,CAACU,WAAW,CAAC,CAAC;EAC1C;EACA,IAAIT,MAAM,EAAE;IACVM,MAAM,CAACN,MAAM,GAAGA,MAAM,CAACS,WAAW,CAAC,CAAC;EACtC;EACA,IAAIP,WAAW,EAAE;IACfI,MAAM,CAACJ,WAAW,GAAGA,WAAW;EAClC;EACA,OAAOI,MAAM;AACf,CAAC;AAEM,IAAMI,uBAAuB,GAAAf,OAAA,CAAAe,uBAAA,GAAG,kBAAkB;AAElD,IAAMC,yBAAyB,GAAAhB,OAAA,CAAAgB,yBAAA,GAAG,qCAAqC","ignoreList":[]}