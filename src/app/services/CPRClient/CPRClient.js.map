{"version":3,"file":"CPRClient.js","names":["_services","require","_services2","_nextCore","_jszip","_interopRequireDefault","_ramda","_createCPRRequest","_i18n","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_class","_class2","e","__esModule","_createForOfIteratorHelper","r","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","_regenerator","toStringTag","i","c","prototype","Generator","Object","create","_regeneratorDefine2","p","y","G","v","d","bind","l","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","initializer","reverse","reduce","APPLICATION_LOGS_NAME","CPRClient","exports","injectable","target","inject","undefined","optional","metadata","Function","AccountInfo","Auth","Brand","Client","ExtensionInfo","PortManager","Toast","BrowserLogger","UAParsedInfo","SDKConfig","CPRClientOptions","delegate","_RcModule","_accountInfo","_auth","_brand","_client","_extensionInfo","_portManager","_toast","_browserLogger","_UAParsedInfo","_sdkConfig","_cPRClientOptions","_this","get","_this$_auth$token","_this$_auth$token$sco","_this$_auth$token$sco2","_this$_auth$token2","_this$_auth$token2$sc","_this$_auth$token2$sc2","token","scope","includes","_this$_cPRClientOptio","logsFilename","_getEDRInfo","_callee","resp","data","_t","_context","service","json","logger","error","cprUri","getEDRInfo","_sendCPR","_callee2","description","extraFiles","_this$_extensionInfo$","_this$_extensionInfo$2","_yield$this$getEDRInf","merged","_yield$this$getClient","clientAppType","clientDetails","_t2","_context2","danger","message","processAndSendToCPR","Error","getClientInfo","createCPRRequest","title","accountId","id","brandId","clientEndpointId","endpointId","clientId","clientVersion","appVersion","productCategory","application","userId","submitterEmail","contact","email","attachments","content","filename","sendCPR","_x","_x2","_processAndSendToCPR","_callee3","_ref","_ref$extraFiles","storageTransport","_this$_cPRClientOptio2","logsData","zip","attachmentsFolder","_iterator","_step","_step$value","_name","base64Url","base64Data","mergedBlob","_t3","_t4","_context3","portDetector","sharedAppOptions","saveDB","getLogs","JSZip","loadAsync","additionalLogProvider","addAdditionalLogs","warn","folder","concat","split","file","base64","err","generateAsync","type","compression","compressionOptions","level","_x3","_getClientInfo","_callee4","_this$_cPRClientOptio3","_this$_cPRClientOptio4","_this$_cPRClientOptio5","dpVersion","_osInfo$os","_osInfo$os$name","_osInfo$browser","_osInfo$browser2","_osInfo$browser2$vers","osInfo","_context4","clientInfoProvider","getCprClientAppType","getDpVersion","getCprClientDetails","getOsInfo","os","replace","browser","defaultTo","head","version","RcModule","getOwnPropertyDescriptor"],"sources":["src/app/services/CPRClient/CPRClient.ts"],"sourcesContent":["import type { SDKConfig } from '@ringcentral-integration/commons/lib/createSdkConfig';\nimport {\n  AccountInfo,\n  Auth,\n  Client,\n  ExtensionInfo,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport {\n  Brand,\n  BrowserLogger,\n  Toast,\n  UAParsedInfo,\n} from '@ringcentral-integration/micro-core/src/app/services';\nimport {\n  delegate,\n  inject,\n  injectable,\n  optional,\n  PortManager,\n  RcModule,\n} from '@ringcentral-integration/next-core';\nimport JSZip from 'jszip';\nimport { defaultTo, head } from 'ramda';\n\nimport type {\n  CPRClientOptions,\n  FileMeta,\n  ClientAppType,\n} from './CPRClient.interface';\nimport { createCPRRequest } from './createCPRRequest';\nimport { t } from './i18n';\n\nconst APPLICATION_LOGS_NAME = 'applicationLogs.zip';\n\n@injectable({\n  name: 'CPRClient',\n})\nexport class CPRClient extends RcModule {\n  constructor(\n    private _accountInfo: AccountInfo,\n    private _auth: Auth,\n    private _brand: Brand,\n    private _client: Client,\n    private _extensionInfo: ExtensionInfo,\n    private _portManager: PortManager,\n    private _toast: Toast,\n    private _browserLogger: BrowserLogger,\n    private _UAParsedInfo: UAParsedInfo,\n    @inject('SdkConfig') private _sdkConfig: SDKConfig,\n    @optional('CPRClientOptions')\n    protected _cPRClientOptions?: CPRClientOptions,\n  ) {\n    super();\n  }\n\n  get hasPermission() {\n    return !!(\n      this._auth.token?.scope?.includes?.('ProblemReportsManagement') &&\n      this._auth.token?.scope?.includes?.('SendUsageInfo')\n    );\n  }\n\n  get logsFilename() {\n    return this._cPRClientOptions?.logsFilename || APPLICATION_LOGS_NAME;\n  }\n\n  @delegate('server')\n  async getEDRInfo() {\n    try {\n      const resp = await this._client.service.get(\n        '/restapi/v1.0/client-info/edr-info?channelId=problemReports',\n      );\n      const data = await resp.json();\n      return data as { cprUri: string; token: string };\n    } catch (error) {\n      this.logger.error('Error getting EDR info:', error);\n      return { cprUri: '', token: '' };\n    }\n  }\n\n  async sendCPR(description: string, extraFiles: FileMeta[]) {\n    try {\n      const { cprUri, token } = await this.getEDRInfo();\n      if (!cprUri || !token) {\n        this._toast.danger({ message: t('ApiFailure') });\n        return null;\n      }\n\n      const merged = await this.processAndSendToCPR({ extraFiles });\n\n      if (!merged) {\n        throw new Error('failed to build log archive');\n      }\n\n      // Get client info (app type and details) - includes DP version for MS Teams\n      const { clientAppType, clientDetails } = await this.getClientInfo();\n\n      const resp = await createCPRRequest(cprUri, {\n        token,\n        data: {\n          description,\n          title: 'Automated Log Submission',\n          accountId: String(this._accountInfo.id),\n          brandId: this._brand.id,\n          clientEndpointId: this._auth.token.endpointId,\n          clientId: this._sdkConfig.clientId,\n          clientVersion: this._sdkConfig.appVersion || '1.0.0',\n          // TODO: Better way to do productCategory and productSubcategory\n          productCategory: this._brand.application,\n          userId: this._extensionInfo.id.toString(),\n          submitterEmail: this._extensionInfo.data?.contact?.email,\n          clientAppType,\n          clientDetails,\n        },\n        attachments: [{ data: merged.content, filename: merged.name }],\n      });\n\n      return resp;\n    } catch (error) {\n      this.logger.error('Error submitting CPR Report:', error);\n      return false;\n    }\n  }\n\n  async processAndSendToCPR({ extraFiles = [] }: { extraFiles: FileMeta[] }) {\n    const storageTransport = this._browserLogger.storageTransport;\n    if (!storageTransport) {\n      this.logger.error('StorageTransport not available on Client');\n      return;\n    }\n\n    try {\n      const { name } = this._portManager.portDetector.sharedAppOptions;\n      await storageTransport.saveDB();\n      const logsData = await storageTransport.getLogs({ name });\n\n      if (!logsData?.content) return;\n\n      const zip = await JSZip.loadAsync(logsData.content);\n\n      // Add additional logs if provider exists (e.g., Jupiter, GA logs)\n      if (this._cPRClientOptions?.additionalLogProvider) {\n        try {\n          await this._cPRClientOptions.additionalLogProvider.addAdditionalLogs(\n            zip,\n          );\n        } catch (error) {\n          this.logger.warn('Failed to add additional logs:', error);\n        }\n      }\n\n      if (extraFiles.length > 0) {\n        const attachmentsFolder = zip.folder(`${logsData.name}/attachments`);\n\n        if (attachmentsFolder) {\n          for (const { name, base64Url } of extraFiles) {\n            // Extract base64 data from data URL\n            const base64Data = base64Url.split(',')[1];\n\n            // Add the file to zip\n            attachmentsFolder.file(name, base64Data, { base64: true });\n          }\n        } else {\n          this.logger.error('Attachments folder not found');\n        }\n      }\n\n      const mergedBlob = await zip.generateAsync({\n        type: 'blob',\n        compression: 'DEFLATE',\n        compressionOptions: {\n          level: 9,\n        },\n      });\n\n      return {\n        content: mergedBlob,\n        name: this.logsFilename,\n      };\n    } catch (error) {\n      this.logger.error('Error retrieving logs:', error);\n    }\n  }\n\n  /**\n   * Determines the client application type and details for CPR reporting\n   * @returns Object containing clientAppType and clientDetails\n   */\n  private async getClientInfo(): Promise<{\n    clientAppType: ClientAppType;\n    clientDetails: string;\n  }> {\n    if (this._cPRClientOptions?.clientInfoProvider) {\n      // Get client info from Jupiter\n      const clientAppType =\n        this._cPRClientOptions.clientInfoProvider.getCprClientAppType() as ClientAppType;\n\n      // Get DP version for MS Teams\n      const dpVersion =\n        await this._cPRClientOptions.clientInfoProvider?.getDpVersion?.();\n\n      const clientDetails =\n        this._cPRClientOptions.clientInfoProvider.getCprClientDetails(\n          dpVersion,\n        );\n\n      return {\n        clientAppType,\n        clientDetails,\n      };\n    } else {\n      const osInfo = await this._UAParsedInfo.getOsInfo();\n      return {\n        clientAppType: 'RCIntegrationAppWeb',\n        clientDetails: `${osInfo?.os?.name?.replace(' ', '')}-${\n          osInfo?.browser?.name\n        }-${defaultTo(\n          'Unknown',\n          head(osInfo?.browser?.version?.split('.') || []),\n        )}`,\n      };\n    }\n  }\n}\n"],"mappings":"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","ignoreList":[]}