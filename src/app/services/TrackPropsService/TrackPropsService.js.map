{"version":3,"file":"TrackPropsService.js","names":["_services","require","_nextCore","_nextMicro","_rxjs","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_regenerator","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","next","isArray","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","reverse","reduce","_initializerWarningHelper","Error","DEFAULT_UNKNOWN_VALUE","exports","TrackPropsService","injectable","target","inject","undefined","metadata","Function","Brand","UAParsedInfo","Locale","AnalyticsOptions","dynamic","IAdditionalTrackProps","Auth","ExtensionInfo","ExtensionFeatures","_RcModule","_brand","_uAParsedInfo","_locale","_analyticsOptions","_this","mfeInfo","getMfeMeta","onlyVersion","extensionInfoReady$","defer","_this$_extensionInfo$","_this$_extensionInfo","_extensionInfo","dataReady$","pipe","timeout","each","with","of","autoHeartBeatProps$","fromWatchValue","_auth","switchMap","auth","EMPTY","ownerId$","ownerId","_extensionFeatures","extensionFeatures","ready$","map","autoHeartBeatProps","get","_this$_extensionFeatu","features","display","entries","permissions","_ref","_ref2","available","_this$additionalTrack","_this$additionalTrack2","additionalTrackProps","extensionPermission","_ref3","_userAgentResult$os$v","_ref4","_version","_this$_locale$browser","_this$_locale$current","_navigator$hardwareCo","_ref5","userAgentResult","device","Device","osVersion","os","version","appName","defaultConfig","appVersion","appVersionMFE","browserLocale","currentLocale","navigator","hardwareConcurrency","deviceMemory","_this$_extensionInfo$2","_this$_extensionInfo2","_this$_extensionInfo$3","_this$_extensionInfo3","_this$_extensionInfo$4","_this$_extensionInfo4","_this$_extensionInfo5","_this$_extensionInfo6","accountId","extensionType","info","type","adminPermission","admin","enabled","_this$additionalTrack3","trackProps","eventSuperProperties","profileProperties","_getTrackProps","_callee","_this$_auth","infoProps","result","_context","firstValueFrom","logger","error","comment","getTrackProps","RcModule","computed"],"sources":["src/app/services/TrackPropsService/TrackPropsService.ts"],"sourcesContent":["import {\n  Brand,\n  Locale,\n  UAParsedInfo,\n} from '@ringcentral-integration/micro-core/src/app/services';\nimport {\n  computed,\n  dynamic,\n  fromWatchValue,\n  inject,\n  injectable,\n  RcModule,\n} from '@ringcentral-integration/next-core';\nimport { getMfeMeta } from '@ringcentral-integration/next-micro';\nimport {\n  defer,\n  EMPTY,\n  firstValueFrom,\n  map,\n  of,\n  switchMap,\n  timeout,\n} from 'rxjs';\nimport type { IDevice } from 'ua-parser-js';\n\nimport type { AnalyticsOptions } from '../Analytics';\nimport type { Auth } from '../Auth';\nimport type { ExtensionFeatures } from '../ExtensionFeatures';\nimport type { ExtensionInfo } from '../ExtensionInfo';\n\nexport const DEFAULT_UNKNOWN_VALUE = 'Unknown';\n\ntype UNKNOWN_STRING = typeof DEFAULT_UNKNOWN_VALUE;\n\nexport interface EventSuperProperties {\n  Device: IDevice | UNKNOWN_STRING;\n  osVersion: string | UNKNOWN_STRING;\n  appName: string | UNKNOWN_STRING;\n  appVersion: string | UNKNOWN_STRING;\n  appVersionMFE: string | UNKNOWN_STRING;\n  'Browser Language': string | UNKNOWN_STRING;\n  'App Language': string | UNKNOWN_STRING;\n  'CPU core': number | UNKNOWN_STRING;\n  'RAM size': number | UNKNOWN_STRING;\n}\n\nexport interface ProfileProperties {\n  accountId: string | UNKNOWN_STRING;\n  extensionType: string;\n  adminPermission: boolean | UNKNOWN_STRING;\n}\n\ntype AdditionalProps =\n  | Record<string, unknown>\n  | (() => Record<string, unknown>);\n\n/**\n * The interface for the additional track props\n *\n * you can implement this interface in your project and inject in the createApp\n *\n * !! always use `function` or `getter` to return the trackProps, because the trackProps may be changed in the future\n *\n * @example\n * ```ts\n * {\n      provide: 'AdditionalTrackProps',\n      deps: [ThirdPartyService],\n      useFactory: (thirdPartyService: ThirdPartyService) => {\n        return () => {\n          trackProps: {\n            'Server Version': thirdPartyService?.crmInfo.crmVersion || '',\n          },\n        } satisfies IAdditionalTrackProps;\n      },\n    },\n * ```\n\n    of implement the class with same name\n\n```ts\n@injectable({\n  name: 'AdditionalTrackProps',\n})\nexport class AdditionalTrackProps\n  extends RcModule\n  implements IAdditionalTrackProps {\n  get trackProps() {\n    const initProps = this.getInitTrackProps();\n    return {\n      ...initProps,\n      ...this.trackPropsValue,\n    };\n  }\n}\n\n```\n */\nexport type IAdditionalTrackProps = {\n  /**\n   * the additional global track props for all events\n   */\n  trackProps: AdditionalProps;\n  /**\n   * additional props for auto autoHeartBeat event, which will send every 24 hours once\n   */\n  autoHeartBeatProps?: AdditionalProps;\n};\n\n@injectable({\n  name: 'TrackPropsService',\n})\nexport class TrackPropsService extends RcModule {\n  private mfeInfo = getMfeMeta({ onlyVersion: true });\n\n  /**\n   * this is dynamic inject from other projects, use dynamic to avoid any possible circular dependency\n   */\n  @dynamic('AdditionalTrackProps')\n  private additionalTrackProps?: IAdditionalTrackProps;\n\n  @dynamic('Auth')\n  private _auth?: Auth;\n\n  @dynamic('ExtensionInfo')\n  private _extensionInfo?: ExtensionInfo;\n\n  @dynamic('ExtensionFeatures')\n  private _extensionFeatures?: ExtensionFeatures;\n\n  private readonly extensionInfoReady$ = defer(\n    // use defer to use easy to mock in the test\n    () =>\n      this._extensionInfo?.dataReady$.pipe(\n        // max wait 10s for the extension info ready before the tracking event send\n        timeout({\n          each: 10_000,\n          with: () => of('timeout' as const),\n        }),\n      ) ?? of(null),\n  );\n\n  @computed\n  private get extensionPermission(): Record<string, boolean> | UNKNOWN_STRING {\n    const features = this._extensionFeatures?.features;\n    if (features) {\n      const display = Object.entries(features).reduce(\n        (permissions, [key, value]) => {\n          permissions[key] = !!value.available;\n          return permissions;\n        },\n        {} as Record<string, boolean>,\n      );\n\n      if (Object.keys(display).length > 0) {\n        return display;\n      }\n    }\n\n    return DEFAULT_UNKNOWN_VALUE;\n  }\n\n  autoHeartBeatProps$ = fromWatchValue(this, () => this._auth).pipe(\n    switchMap((auth) => {\n      if (!auth) return EMPTY;\n\n      return auth.ownerId$.pipe(\n        switchMap((ownerId) => {\n          if (ownerId) {\n            return fromWatchValue(this, () => this._extensionFeatures).pipe(\n              switchMap((extensionFeatures) => {\n                if (!extensionFeatures) return of(null);\n\n                return extensionFeatures.ready$.pipe(\n                  map(() => {\n                    return this.autoHeartBeatProps;\n                  }),\n                );\n              }),\n            );\n          }\n\n          return of(null);\n        }),\n      );\n    }),\n    map(() => this.autoHeartBeatProps),\n  );\n\n  /**\n   * this data must wait the account info ready, so we can get the extension permission, keep that be private, outside must use the autoHeartBeatProps$ to get the data\n   */\n  private get autoHeartBeatProps() {\n    if (!this.additionalTrackProps?.autoHeartBeatProps) {\n      return {\n        extensionPermission: this.extensionPermission,\n      };\n    }\n\n    const autoHeartBeatProps = this.additionalTrackProps?.autoHeartBeatProps;\n    return {\n      extensionPermission: this.extensionPermission,\n      ...(typeof autoHeartBeatProps === 'function'\n        ? autoHeartBeatProps()\n        : autoHeartBeatProps),\n    };\n  }\n\n  constructor(\n    private _brand: Brand,\n    private _uAParsedInfo: UAParsedInfo,\n    private _locale: Locale,\n    @inject('AnalyticsOptions') private _analyticsOptions: AnalyticsOptions,\n  ) {\n    super();\n  }\n\n  /**\n   * Gets event super properties for analytics tracking\n   */\n  get eventSuperProperties(): EventSuperProperties {\n    const userAgentResult = this._uAParsedInfo.userAgentResult;\n    const device = userAgentResult?.device;\n    return {\n      Device:\n        (Object.keys(device || {}).length > 0\n          ? device\n          : // when be virtual device, that will be {}, we also show that as unknown\n            DEFAULT_UNKNOWN_VALUE) ?? DEFAULT_UNKNOWN_VALUE,\n      osVersion: userAgentResult?.os.version ?? DEFAULT_UNKNOWN_VALUE,\n      appName:\n        (this._brand.defaultConfig.appName as string) ?? DEFAULT_UNKNOWN_VALUE,\n      appVersion: this._analyticsOptions.appVersion,\n      appVersionMFE: (this.mfeInfo as any).version ?? DEFAULT_UNKNOWN_VALUE,\n      'Browser Language': this._locale.browserLocale ?? DEFAULT_UNKNOWN_VALUE,\n      'App Language': this._locale.currentLocale ?? DEFAULT_UNKNOWN_VALUE,\n      'CPU core': navigator.hardwareConcurrency ?? DEFAULT_UNKNOWN_VALUE,\n      'RAM size':\n        ('deviceMemory' in navigator\n          ? (navigator.deviceMemory as number)\n          : 0) ?? DEFAULT_UNKNOWN_VALUE,\n    };\n  }\n\n  /**\n   * Gets profile properties for analytics tracking\n   */\n  private get profileProperties(): ProfileProperties {\n    return {\n      accountId: this._extensionInfo?.accountId ?? DEFAULT_UNKNOWN_VALUE,\n      extensionType: this._extensionInfo?.info.type ?? DEFAULT_UNKNOWN_VALUE,\n      adminPermission:\n        this._extensionInfo?.info.permissions?.admin?.enabled ??\n        DEFAULT_UNKNOWN_VALUE,\n    };\n  }\n\n  private get trackProps() {\n    const trackProps = this.additionalTrackProps?.trackProps;\n    return {\n      ...this.eventSuperProperties,\n      ...this.profileProperties,\n      ...(typeof trackProps === 'function' ? trackProps() : trackProps),\n    };\n  }\n\n  async getTrackProps() {\n    const infoProps = {} as Record<string, unknown>;\n    // when the user is logged in, we need to wait the extension info ready before the tracking event send\n    if (this._auth?.ownerId) {\n      const result = await firstValueFrom(this.extensionInfoReady$);\n\n      if (result === 'timeout') {\n        this.logger.error('Timeout 10s for the extension info ready');\n        infoProps.comment = 'Timeout 10s for the extension info ready';\n      }\n    }\n\n    return {\n      ...this.trackProps,\n      ...infoProps,\n    };\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAKA,IAAAC,SAAA,GAAAD,OAAA;AAQA,IAAAE,UAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAH,OAAA;AAQc,IAAAI,IAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,OAAA,EAAAC,WAAA,EAAAC,YAAA,EAAAC,YAAA,EAAAC,YAAA;AAAA,SAAAC,aAAA,IArBd,uKAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,wBAAAC,MAAA,GAAAA,MAAA,OAAAC,CAAA,GAAAF,CAAA,CAAAG,QAAA,kBAAAC,CAAA,GAAAJ,CAAA,CAAAK,WAAA,8BAAAC,EAAAN,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAE,CAAA,QAAAC,CAAA,GAAAL,CAAA,IAAAA,CAAA,CAAAM,SAAA,YAAAC,SAAA,GAAAP,CAAA,GAAAO,SAAA,EAAAC,CAAA,GAAAC,MAAA,CAAAC,MAAA,CAAAL,CAAA,CAAAC,SAAA,UAAAK,mBAAA,CAAAH,CAAA,uBAAAV,CAAA,EAAAE,CAAA,EAAAE,CAAA,QAAAE,CAAA,EAAAC,CAAA,EAAAG,CAAA,EAAAI,CAAA,MAAAC,CAAA,GAAAX,CAAA,QAAAY,CAAA,OAAAC,CAAA,KAAAF,CAAA,KAAAb,CAAA,KAAAgB,CAAA,EAAApB,CAAA,EAAAqB,CAAA,EAAAC,CAAA,EAAAN,CAAA,EAAAM,CAAA,CAAAC,IAAA,CAAAvB,CAAA,MAAAsB,CAAA,WAAAA,EAAArB,CAAA,EAAAC,CAAA,WAAAM,CAAA,GAAAP,CAAA,EAAAQ,CAAA,MAAAG,CAAA,GAAAZ,CAAA,EAAAmB,CAAA,CAAAf,CAAA,GAAAF,CAAA,EAAAmB,CAAA,gBAAAC,EAAApB,CAAA,EAAAE,CAAA,SAAAK,CAAA,GAAAP,CAAA,EAAAU,CAAA,GAAAR,CAAA,EAAAH,CAAA,OAAAiB,CAAA,IAAAF,CAAA,KAAAV,CAAA,IAAAL,CAAA,GAAAgB,CAAA,CAAAO,MAAA,EAAAvB,CAAA,UAAAK,CAAA,EAAAE,CAAA,GAAAS,CAAA,CAAAhB,CAAA,GAAAqB,CAAA,GAAAH,CAAA,CAAAF,CAAA,EAAAQ,CAAA,GAAAjB,CAAA,KAAAN,CAAA,QAAAI,CAAA,GAAAmB,CAAA,KAAArB,CAAA,MAAAQ,CAAA,GAAAJ,CAAA,EAAAC,CAAA,GAAAD,CAAA,YAAAC,CAAA,WAAAD,CAAA,MAAAA,CAAA,MAAAR,CAAA,IAAAQ,CAAA,OAAAc,CAAA,MAAAhB,CAAA,GAAAJ,CAAA,QAAAoB,CAAA,GAAAd,CAAA,QAAAC,CAAA,MAAAU,CAAA,CAAAC,CAAA,GAAAhB,CAAA,EAAAe,CAAA,CAAAf,CAAA,GAAAI,CAAA,OAAAc,CAAA,GAAAG,CAAA,KAAAnB,CAAA,GAAAJ,CAAA,QAAAM,CAAA,MAAAJ,CAAA,IAAAA,CAAA,GAAAqB,CAAA,MAAAjB,CAAA,MAAAN,CAAA,EAAAM,CAAA,MAAAJ,CAAA,EAAAe,CAAA,CAAAf,CAAA,GAAAqB,CAAA,EAAAhB,CAAA,cAAAH,CAAA,IAAAJ,CAAA,aAAAmB,CAAA,QAAAH,CAAA,OAAAd,CAAA,qBAAAE,CAAA,EAAAW,CAAA,EAAAQ,CAAA,QAAAT,CAAA,YAAAU,SAAA,uCAAAR,CAAA,UAAAD,CAAA,IAAAK,CAAA,CAAAL,CAAA,EAAAQ,CAAA,GAAAhB,CAAA,GAAAQ,CAAA,EAAAL,CAAA,GAAAa,CAAA,GAAAxB,CAAA,GAAAQ,CAAA,OAAAT,CAAA,GAAAY,CAAA,MAAAM,CAAA,KAAAV,CAAA,KAAAC,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAU,CAAA,CAAAf,CAAA,QAAAkB,CAAA,CAAAb,CAAA,EAAAG,CAAA,KAAAO,CAAA,CAAAf,CAAA,GAAAQ,CAAA,GAAAO,CAAA,CAAAC,CAAA,GAAAR,CAAA,aAAAI,CAAA,MAAAR,CAAA,QAAAC,CAAA,KAAAH,CAAA,YAAAL,CAAA,GAAAO,CAAA,CAAAF,CAAA,WAAAL,CAAA,GAAAA,CAAA,CAAA0B,IAAA,CAAAnB,CAAA,EAAAI,CAAA,UAAAc,SAAA,2CAAAzB,CAAA,CAAA2B,IAAA,SAAA3B,CAAA,EAAAW,CAAA,GAAAX,CAAA,CAAA4B,KAAA,EAAApB,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAR,CAAA,GAAAO,CAAA,eAAAP,CAAA,CAAA0B,IAAA,CAAAnB,CAAA,GAAAC,CAAA,SAAAG,CAAA,GAAAc,SAAA,uCAAApB,CAAA,gBAAAG,CAAA,OAAAD,CAAA,GAAAR,CAAA,cAAAC,CAAA,IAAAiB,CAAA,GAAAC,CAAA,CAAAf,CAAA,QAAAQ,CAAA,GAAAV,CAAA,CAAAyB,IAAA,CAAAvB,CAAA,EAAAe,CAAA,OAAAE,CAAA,kBAAApB,CAAA,IAAAO,CAAA,GAAAR,CAAA,EAAAS,CAAA,MAAAG,CAAA,GAAAX,CAAA,cAAAe,CAAA,mBAAAa,KAAA,EAAA5B,CAAA,EAAA2B,IAAA,EAAAV,CAAA,SAAAhB,CAAA,EAAAI,CAAA,EAAAE,CAAA,QAAAI,CAAA,QAAAS,CAAA,gBAAAV,UAAA,cAAAmB,kBAAA,cAAAC,2BAAA,KAAA9B,CAAA,GAAAY,MAAA,CAAAmB,cAAA,MAAAvB,CAAA,MAAAL,CAAA,IAAAH,CAAA,CAAAA,CAAA,IAAAG,CAAA,SAAAW,mBAAA,CAAAd,CAAA,OAAAG,CAAA,iCAAAH,CAAA,GAAAW,CAAA,GAAAmB,0BAAA,CAAArB,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAAG,MAAA,CAAAC,MAAA,CAAAL,CAAA,YAAAO,EAAAhB,CAAA,WAAAa,MAAA,CAAAoB,cAAA,GAAApB,MAAA,CAAAoB,cAAA,CAAAjC,CAAA,EAAA+B,0BAAA,KAAA/B,CAAA,CAAAkC,SAAA,GAAAH,0BAAA,EAAAhB,mBAAA,CAAAf,CAAA,EAAAM,CAAA,yBAAAN,CAAA,CAAAU,SAAA,GAAAG,MAAA,CAAAC,MAAA,CAAAF,CAAA,GAAAZ,CAAA,WAAA8B,iBAAA,CAAApB,SAAA,GAAAqB,0BAAA,EAAAhB,mBAAA,CAAAH,CAAA,iBAAAmB,0BAAA,GAAAhB,mBAAA,CAAAgB,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAK,WAAA,wBAAApB,mBAAA,CAAAgB,0BAAA,EAAAzB,CAAA,wBAAAS,mBAAA,CAAAH,CAAA,GAAAG,mBAAA,CAAAH,CAAA,EAAAN,CAAA,gBAAAS,mBAAA,CAAAH,CAAA,EAAAR,CAAA,iCAAAW,mBAAA,CAAAH,CAAA,8DAAAb,YAAA,YAAAA,aAAA,aAAAqC,CAAA,EAAA5B,CAAA,EAAA6B,CAAA,EAAArB,CAAA;AAAA,SAAAD,oBAAAf,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA,QAAAO,CAAA,GAAAK,MAAA,CAAAyB,cAAA,QAAA9B,CAAA,uBAAAR,CAAA,IAAAQ,CAAA,QAAAO,mBAAA,YAAAwB,mBAAAvC,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA,aAAAK,EAAAJ,CAAA,EAAAE,CAAA,IAAAW,mBAAA,CAAAf,CAAA,EAAAE,CAAA,YAAAF,CAAA,gBAAAwC,OAAA,CAAAtC,CAAA,EAAAE,CAAA,EAAAJ,CAAA,SAAAE,CAAA,GAAAM,CAAA,GAAAA,CAAA,CAAAR,CAAA,EAAAE,CAAA,IAAA2B,KAAA,EAAAzB,CAAA,EAAAqC,UAAA,GAAAxC,CAAA,EAAAyC,YAAA,GAAAzC,CAAA,EAAA0C,QAAA,GAAA1C,CAAA,MAAAD,CAAA,CAAAE,CAAA,IAAAE,CAAA,IAAAE,CAAA,aAAAA,CAAA,cAAAA,CAAA,mBAAAS,mBAAA,CAAAf,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAH,CAAA;AAAA,SAAA2C,mBAAAxC,CAAA,EAAAH,CAAA,EAAAD,CAAA,EAAAE,CAAA,EAAAI,CAAA,EAAAe,CAAA,EAAAZ,CAAA,cAAAD,CAAA,GAAAJ,CAAA,CAAAiB,CAAA,EAAAZ,CAAA,GAAAG,CAAA,GAAAJ,CAAA,CAAAqB,KAAA,WAAAzB,CAAA,gBAAAJ,CAAA,CAAAI,CAAA,KAAAI,CAAA,CAAAoB,IAAA,GAAA3B,CAAA,CAAAW,CAAA,IAAAiC,OAAA,CAAAC,OAAA,CAAAlC,CAAA,EAAAmC,IAAA,CAAA7C,CAAA,EAAAI,CAAA;AAAA,SAAA0C,kBAAA5C,CAAA,6BAAAH,CAAA,SAAAD,CAAA,GAAAiD,SAAA,aAAAJ,OAAA,WAAA3C,CAAA,EAAAI,CAAA,QAAAe,CAAA,GAAAjB,CAAA,CAAA8C,KAAA,CAAAjD,CAAA,EAAAD,CAAA,YAAAmD,MAAA/C,CAAA,IAAAwC,kBAAA,CAAAvB,CAAA,EAAAnB,CAAA,EAAAI,CAAA,EAAA6C,KAAA,EAAAC,MAAA,UAAAhD,CAAA,cAAAgD,OAAAhD,CAAA,IAAAwC,kBAAA,CAAAvB,CAAA,EAAAnB,CAAA,EAAAI,CAAA,EAAA6C,KAAA,EAAAC,MAAA,WAAAhD,CAAA,KAAA+C,KAAA;AAAA,SAAAE,QAAArD,CAAA,EAAAE,CAAA,QAAAD,CAAA,GAAAY,MAAA,CAAAyC,IAAA,CAAAtD,CAAA,OAAAa,MAAA,CAAA0C,qBAAA,QAAAjD,CAAA,GAAAO,MAAA,CAAA0C,qBAAA,CAAAvD,CAAA,GAAAE,CAAA,KAAAI,CAAA,GAAAA,CAAA,CAAAkD,MAAA,WAAAtD,CAAA,WAAAW,MAAA,CAAA4C,wBAAA,CAAAzD,CAAA,EAAAE,CAAA,EAAAuC,UAAA,OAAAxC,CAAA,CAAAyD,IAAA,CAAAR,KAAA,CAAAjD,CAAA,EAAAK,CAAA,YAAAL,CAAA;AAAA,SAAA0D,cAAA3D,CAAA,aAAAE,CAAA,MAAAA,CAAA,GAAA+C,SAAA,CAAAzB,MAAA,EAAAtB,CAAA,UAAAD,CAAA,WAAAgD,SAAA,CAAA/C,CAAA,IAAA+C,SAAA,CAAA/C,CAAA,QAAAA,CAAA,OAAAmD,OAAA,CAAAxC,MAAA,CAAAZ,CAAA,OAAA2D,OAAA,WAAA1D,CAAA,IAAA2D,eAAA,CAAA7D,CAAA,EAAAE,CAAA,EAAAD,CAAA,CAAAC,CAAA,SAAAW,MAAA,CAAAiD,yBAAA,GAAAjD,MAAA,CAAAkD,gBAAA,CAAA/D,CAAA,EAAAa,MAAA,CAAAiD,yBAAA,CAAA7D,CAAA,KAAAoD,OAAA,CAAAxC,MAAA,CAAAZ,CAAA,GAAA2D,OAAA,WAAA1D,CAAA,IAAAW,MAAA,CAAAyB,cAAA,CAAAtC,CAAA,EAAAE,CAAA,EAAAW,MAAA,CAAA4C,wBAAA,CAAAxD,CAAA,EAAAC,CAAA,iBAAAF,CAAA;AAAA,SAAA6D,gBAAA7D,CAAA,EAAAE,CAAA,EAAAD,CAAA,YAAAC,CAAA,GAAA8D,cAAA,CAAA9D,CAAA,MAAAF,CAAA,GAAAa,MAAA,CAAAyB,cAAA,CAAAtC,CAAA,EAAAE,CAAA,IAAA2B,KAAA,EAAA5B,CAAA,EAAAwC,UAAA,MAAAC,YAAA,MAAAC,QAAA,UAAA3C,CAAA,CAAAE,CAAA,IAAAD,CAAA,EAAAD,CAAA;AAAA,SAAAiE,eAAA/D,CAAA,EAAAF,CAAA,WAAAkE,eAAA,CAAAhE,CAAA,KAAAiE,qBAAA,CAAAjE,CAAA,EAAAF,CAAA,KAAAoE,2BAAA,CAAAlE,CAAA,EAAAF,CAAA,KAAAqE,gBAAA;AAAA,SAAAA,iBAAA,cAAA3C,SAAA;AAAA,SAAA0C,4BAAAlE,CAAA,EAAAmB,CAAA,QAAAnB,CAAA,2BAAAA,CAAA,SAAAoE,iBAAA,CAAApE,CAAA,EAAAmB,CAAA,OAAApB,CAAA,MAAAsE,QAAA,CAAA5C,IAAA,CAAAzB,CAAA,EAAAsE,KAAA,6BAAAvE,CAAA,IAAAC,CAAA,CAAAuE,WAAA,KAAAxE,CAAA,GAAAC,CAAA,CAAAuE,WAAA,CAAAC,IAAA,aAAAzE,CAAA,cAAAA,CAAA,GAAA0E,KAAA,CAAAC,IAAA,CAAA1E,CAAA,oBAAAD,CAAA,+CAAA4E,IAAA,CAAA5E,CAAA,IAAAqE,iBAAA,CAAApE,CAAA,EAAAmB,CAAA;AAAA,SAAAiD,kBAAApE,CAAA,EAAAmB,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAnB,CAAA,CAAAsB,MAAA,MAAAH,CAAA,GAAAnB,CAAA,CAAAsB,MAAA,YAAAxB,CAAA,MAAAI,CAAA,GAAAuE,KAAA,CAAAtD,CAAA,GAAArB,CAAA,GAAAqB,CAAA,EAAArB,CAAA,IAAAI,CAAA,CAAAJ,CAAA,IAAAE,CAAA,CAAAF,CAAA,UAAAI,CAAA;AAAA,SAAA+D,sBAAAjE,CAAA,EAAAuB,CAAA,QAAAxB,CAAA,WAAAC,CAAA,gCAAAC,MAAA,IAAAD,CAAA,CAAAC,MAAA,CAAAE,QAAA,KAAAH,CAAA,4BAAAD,CAAA,QAAAD,CAAA,EAAAI,CAAA,EAAAI,CAAA,EAAAI,CAAA,EAAAS,CAAA,OAAAL,CAAA,OAAAV,CAAA,iBAAAE,CAAA,IAAAP,CAAA,GAAAA,CAAA,CAAA0B,IAAA,CAAAzB,CAAA,GAAA4E,IAAA,QAAArD,CAAA,QAAAZ,MAAA,CAAAZ,CAAA,MAAAA,CAAA,UAAAe,CAAA,uBAAAA,CAAA,IAAAhB,CAAA,GAAAQ,CAAA,CAAAmB,IAAA,CAAA1B,CAAA,GAAA2B,IAAA,MAAAP,CAAA,CAAAqC,IAAA,CAAA1D,CAAA,CAAA6B,KAAA,GAAAR,CAAA,CAAAG,MAAA,KAAAC,CAAA,GAAAT,CAAA,iBAAAd,CAAA,IAAAI,CAAA,OAAAF,CAAA,GAAAF,CAAA,yBAAAc,CAAA,YAAAf,CAAA,eAAAW,CAAA,GAAAX,CAAA,cAAAY,MAAA,CAAAD,CAAA,MAAAA,CAAA,2BAAAN,CAAA,QAAAF,CAAA,aAAAiB,CAAA;AAAA,SAAA6C,gBAAAhE,CAAA,QAAAyE,KAAA,CAAAI,OAAA,CAAA7E,CAAA,UAAAA,CAAA;AAAA,SAAA8E,2BAAAhF,CAAA,EAAAQ,CAAA,EAAAN,CAAA,EAAAuB,CAAA,IAAAvB,CAAA,IAAAW,MAAA,CAAAyB,cAAA,CAAAtC,CAAA,EAAAQ,CAAA,IAAAiC,UAAA,EAAAvC,CAAA,CAAAuC,UAAA,EAAAC,YAAA,EAAAxC,CAAA,CAAAwC,YAAA,EAAAC,QAAA,EAAAzC,CAAA,CAAAyC,QAAA,EAAAd,KAAA,EAAA3B,CAAA,CAAA+E,WAAA,GAAA/E,CAAA,CAAA+E,WAAA,CAAAtD,IAAA,CAAAF,CAAA;AAAA,SAAAyD,gBAAA7D,CAAA,EAAAjB,CAAA,UAAAiB,CAAA,YAAAjB,CAAA,aAAAsB,SAAA;AAAA,SAAAyD,kBAAAnF,CAAA,EAAAE,CAAA,aAAAD,CAAA,MAAAA,CAAA,GAAAC,CAAA,CAAAsB,MAAA,EAAAvB,CAAA,UAAAK,CAAA,GAAAJ,CAAA,CAAAD,CAAA,GAAAK,CAAA,CAAAmC,UAAA,GAAAnC,CAAA,CAAAmC,UAAA,QAAAnC,CAAA,CAAAoC,YAAA,kBAAApC,CAAA,KAAAA,CAAA,CAAAqC,QAAA,QAAA9B,MAAA,CAAAyB,cAAA,CAAAtC,CAAA,EAAAgE,cAAA,CAAA1D,CAAA,CAAA8E,GAAA,GAAA9E,CAAA;AAAA,SAAA+E,aAAArF,CAAA,EAAAE,CAAA,EAAAD,CAAA,WAAAC,CAAA,IAAAiF,iBAAA,CAAAnF,CAAA,CAAAU,SAAA,EAAAR,CAAA,GAAAD,CAAA,IAAAkF,iBAAA,CAAAnF,CAAA,EAAAC,CAAA,GAAAY,MAAA,CAAAyB,cAAA,CAAAtC,CAAA,iBAAA2C,QAAA,SAAA3C,CAAA;AAAA,SAAAgE,eAAA/D,CAAA,QAAAO,CAAA,GAAA8E,YAAA,CAAArF,CAAA,gCAAAsF,OAAA,CAAA/E,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAA8E,aAAArF,CAAA,EAAAC,CAAA,oBAAAqF,OAAA,CAAAtF,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAD,CAAA,GAAAC,CAAA,CAAAE,MAAA,CAAAqF,WAAA,kBAAAxF,CAAA,QAAAQ,CAAA,GAAAR,CAAA,CAAA2B,IAAA,CAAA1B,CAAA,EAAAC,CAAA,gCAAAqF,OAAA,CAAA/E,CAAA,UAAAA,CAAA,YAAAkB,SAAA,yEAAAxB,CAAA,GAAAuF,MAAA,GAAAC,MAAA,EAAAzF,CAAA;AAAA,SAAA0F,WAAA1F,CAAA,EAAAK,CAAA,EAAAN,CAAA,WAAAM,CAAA,GAAAsF,eAAA,CAAAtF,CAAA,GAAAuF,0BAAA,CAAA5F,CAAA,EAAA6F,yBAAA,KAAAC,OAAA,CAAAC,SAAA,CAAA1F,CAAA,EAAAN,CAAA,QAAA4F,eAAA,CAAA3F,CAAA,EAAAwE,WAAA,IAAAnE,CAAA,CAAA4C,KAAA,CAAAjD,CAAA,EAAAD,CAAA;AAAA,SAAA6F,2BAAA5F,CAAA,EAAAD,CAAA,QAAAA,CAAA,iBAAAuF,OAAA,CAAAvF,CAAA,0BAAAA,CAAA,UAAAA,CAAA,iBAAAA,CAAA,YAAA0B,SAAA,qEAAAuE,sBAAA,CAAAhG,CAAA;AAAA,SAAAgG,uBAAAjG,CAAA,mBAAAA,CAAA,YAAAkG,cAAA,sEAAAlG,CAAA;AAAA,SAAA8F,0BAAA,cAAA7F,CAAA,IAAAkG,OAAA,CAAAzF,SAAA,CAAA0F,OAAA,CAAAzE,IAAA,CAAAoE,OAAA,CAAAC,SAAA,CAAAG,OAAA,iCAAAlG,CAAA,aAAA6F,yBAAA,YAAAA,0BAAA,aAAA7F,CAAA;AAAA,SAAA2F,gBAAA3F,CAAA,WAAA2F,eAAA,GAAA/E,MAAA,CAAAoB,cAAA,GAAApB,MAAA,CAAAmB,cAAA,CAAAT,IAAA,eAAAtB,CAAA,WAAAA,CAAA,CAAAiC,SAAA,IAAArB,MAAA,CAAAmB,cAAA,CAAA/B,CAAA,MAAA2F,eAAA,CAAA3F,CAAA;AAAA,SAAAoG,UAAApG,CAAA,EAAAD,CAAA,6BAAAA,CAAA,aAAAA,CAAA,YAAA0B,SAAA,wDAAAzB,CAAA,CAAAS,SAAA,GAAAG,MAAA,CAAAC,MAAA,CAAAd,CAAA,IAAAA,CAAA,CAAAU,SAAA,IAAA+D,WAAA,IAAA5C,KAAA,EAAA5B,CAAA,EAAA0C,QAAA,MAAAD,YAAA,WAAA7B,MAAA,CAAAyB,cAAA,CAAArC,CAAA,iBAAA0C,QAAA,SAAA3C,CAAA,IAAAsG,eAAA,CAAArG,CAAA,EAAAD,CAAA;AAAA,SAAAsG,gBAAArG,CAAA,EAAAD,CAAA,WAAAsG,eAAA,GAAAzF,MAAA,CAAAoB,cAAA,GAAApB,MAAA,CAAAoB,cAAA,CAAAV,IAAA,eAAAtB,CAAA,EAAAD,CAAA,WAAAC,CAAA,CAAAiC,SAAA,GAAAlC,CAAA,EAAAC,CAAA,KAAAqG,eAAA,CAAArG,CAAA,EAAAD,CAAA;AAAA,SAAAuG,0BAAA/F,CAAA,EAAAR,CAAA,EAAAE,CAAA,EAAAE,CAAA,EAAAqB,CAAA,QAAAJ,CAAA,cAAAR,MAAA,CAAAyC,IAAA,CAAAlD,CAAA,EAAAwD,OAAA,WAAApD,CAAA,IAAAa,CAAA,CAAAb,CAAA,IAAAJ,CAAA,CAAAI,CAAA,OAAAa,CAAA,CAAAoB,UAAA,KAAApB,CAAA,CAAAoB,UAAA,EAAApB,CAAA,CAAAqB,YAAA,KAAArB,CAAA,CAAAqB,YAAA,cAAArB,CAAA,IAAAA,CAAA,CAAA4D,WAAA,MAAA5D,CAAA,CAAAsB,QAAA,QAAAtB,CAAA,GAAAnB,CAAA,CAAAsE,KAAA,GAAAgC,OAAA,GAAAC,MAAA,WAAAvG,CAAA,EAAAE,CAAA,WAAAA,CAAA,CAAAI,CAAA,EAAAR,CAAA,EAAAE,CAAA,KAAAA,CAAA,KAAAmB,CAAA,GAAAI,CAAA,eAAAJ,CAAA,CAAA4D,WAAA,KAAA5D,CAAA,CAAAQ,KAAA,GAAAR,CAAA,CAAA4D,WAAA,GAAA5D,CAAA,CAAA4D,WAAA,CAAAtD,IAAA,CAAAF,CAAA,YAAAJ,CAAA,CAAA4D,WAAA,uBAAA5D,CAAA,CAAA4D,WAAA,IAAApE,MAAA,CAAAyB,cAAA,CAAA9B,CAAA,EAAAR,CAAA,EAAAqB,CAAA,WAAAA,CAAA;AAAA,SAAAqF,0BAAAxG,CAAA,EAAAF,CAAA,UAAA2G,KAAA;AA6BO,IAAMC,qBAAqB,GAAAC,OAAA,CAAAD,qBAAA,GAAG,SAAS;;AA0B9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzCA,IAwDaE,iBAAiB,GAAAD,OAAA,CAAAC,iBAAA,IAAAnI,IAAA,GAH7B,IAAAoI,oBAAU,EAAC;EACVrC,IAAI,EAAE;AACR,CAAC,CAAC,EAAA9F,KAAA,YAAAA,MAAAoI,MAAA,EAAA5B,GAAA;EAAA,OAqGG,IAAA6B,gBAAM,EAAC,kBAAkB,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAArI,KAAA,GAAAkH,OAAA,CAAAoB,QAAA,gBAAAC,QAAA,GAAAtI,KAAA,GAAAiH,OAAA,CAAAoB,QAAA,8BAAA7I,SAAA,CAAA+I,KAAA,mBAAAxG,MAAA,GAAAvC,SAAA,CAAA+I,KAAA,SAAA/I,SAAA,CAAAgJ,YAAA,mBAAAzG,MAAA,GAAAvC,SAAA,CAAAgJ,YAAA,SAAAhJ,SAAA,CAAAiJ,MAAA,mBAAA1G,MAAA,GAAAvC,SAAA,CAAAiJ,MAAA,SAAAC,gBAAA,mBAAA3G,MAAA,GAAA2G,gBAAA,IAAAzI,KAAA,GA9F5B,IAAA0I,iBAAO,EAAC,sBAAsB,CAAC,EAAAzI,KAAA,GAAA+G,OAAA,CAAAoB,QAAA,uBAAAO,qBAAA,mBAAA7G,MAAA,GAAA6G,qBAAA,GAAAzI,KAAA,GAG/B,IAAAwI,iBAAO,EAAC,MAAM,CAAC,EAAAvI,KAAA,GAAA6G,OAAA,CAAAoB,QAAA,uBAAAQ,IAAA,mBAAA9G,MAAA,GAAA8G,IAAA,GAAAxI,KAAA,GAGf,IAAAsI,iBAAO,EAAC,eAAe,CAAC,EAAArI,KAAA,GAAA2G,OAAA,CAAAoB,QAAA,uBAAAS,aAAA,mBAAA/G,MAAA,GAAA+G,aAAA,GAAAvI,KAAA,GAGxB,IAAAoI,iBAAO,EAAC,mBAAmB,CAAC,EAAAnI,MAAA,GAAAyG,OAAA,CAAAoB,QAAA,uBAAAU,iBAAA,mBAAAhH,MAAA,GAAAgH,iBAAA,GAAAtI,MAAA,GAAAwG,OAAA,CAAAoB,QAAA,gBAAAC,QAAA,GAAA5H,MAAA,GAAAuG,OAAA,CAAAoB,QAAA,2BAAAxI,IAAA,CAAAc,MAAA,GAAAb,KAAA,CAAAa,MAAA,GAAAZ,KAAA,CAAAY,MAAA,GAAAX,KAAA,CAAAW,MAAA,IAAAC,OAAA,0BAAAoI,SAAA;EAiF7B,SAAAhB,kBACUiB,MAAa,EACbC,aAA2B,EAC3BC,OAAe,EACaC,iBAAmC,EACvE;IAAA,IAAAC,KAAA;IAAAjD,eAAA,OAAA4B,iBAAA;IACAqB,KAAA,GAAAxC,UAAA,OAAAmB,iBAAA;IAAQqB,KAAA,CALAJ,MAAa,GAAbA,MAAa;IAAAI,KAAA,CACbH,aAA2B,GAA3BA,aAA2B;IAAAG,KAAA,CAC3BF,OAAe,GAAfA,OAAe;IAAAE,KAAA,CACaD,iBAAmC,GAAnCA,iBAAmC;IAAAC,KAAA,CAnGjEC,OAAO,GAAG,IAAAC,qBAAU,EAAC;MAAEC,WAAW,EAAE;IAAK,CAAC,CAAC;IAEnD;AACF;AACA;IAFEtD,0BAAA,CAAAmD,KAAA,0BAAAxI,WAAA,EAAAwI,KAAA;IAAAnD,0BAAA,CAAAmD,KAAA,WAAAvI,YAAA,EAAAuI,KAAA;IAAAnD,0BAAA,CAAAmD,KAAA,oBAAAtI,YAAA,EAAAsI,KAAA;IAAAnD,0BAAA,CAAAmD,KAAA,wBAAArI,YAAA,EAAAqI,KAAA;IAAAA,KAAA,CAeiBI,mBAAmB,GAAG,IAAAC,WAAK;IAC1C;IACA;MAAA,IAAAC,qBAAA,EAAAC,oBAAA;MAAA,QAAAD,qBAAA,IAAAC,oBAAA,GACEP,KAAA,CAAKQ,cAAc,cAAAD,oBAAA,uBAAnBA,oBAAA,CAAqBE,UAAU,CAACC,IAAI;MAClC;MACA,IAAAC,aAAO,EAAC;QACNC,IAAI,EAAE,KAAM;QACZ,QAAM,SAANC,KAAIA,CAAA;UAAA,OAAQ,IAAAC,QAAE,EAAC,SAAkB,CAAC;QAAA;MACpC,CAAC,CACH,CAAC,cAAAR,qBAAA,cAAAA,qBAAA,GAAI,IAAAQ,QAAE,EAAC,IAAI,CAAC;IAAA,CACjB,CAAC;IAAAd,KAAA,CAsBDe,mBAAmB,GAAG,IAAAC,wBAAc,EAAAhB,KAAA,EAAO;MAAA,OAAMA,KAAA,CAAKiB,KAAK;IAAA,EAAC,CAACP,IAAI,CAC/D,IAAAQ,eAAS,EAAC,UAACC,IAAI,EAAK;MAClB,IAAI,CAACA,IAAI,EAAE,OAAOC,WAAK;MAEvB,OAAOD,IAAI,CAACE,QAAQ,CAACX,IAAI,CACvB,IAAAQ,eAAS,EAAC,UAACI,OAAO,EAAK;QACrB,IAAIA,OAAO,EAAE;UACX,OAAO,IAAAN,wBAAc,EAAAhB,KAAA,EAAO;YAAA,OAAMA,KAAA,CAAKuB,kBAAkB;UAAA,EAAC,CAACb,IAAI,CAC7D,IAAAQ,eAAS,EAAC,UAACM,iBAAiB,EAAK;YAC/B,IAAI,CAACA,iBAAiB,EAAE,OAAO,IAAAV,QAAE,EAAC,IAAI,CAAC;YAEvC,OAAOU,iBAAiB,CAACC,MAAM,CAACf,IAAI,CAClC,IAAAgB,SAAG,EAAC,YAAM;cACR,OAAO1B,KAAA,CAAK2B,kBAAkB;YAChC,CAAC,CACH,CAAC;UACH,CAAC,CACH,CAAC;QACH;QAEA,OAAO,IAAAb,QAAE,EAAC,IAAI,CAAC;MACjB,CAAC,CACH,CAAC;IACH,CAAC,CAAC,EACF,IAAAY,SAAG,EAAC;MAAA,OAAM1B,KAAA,CAAK2B,kBAAkB;IAAA,EACnC,CAAC;IAAA,OAAA3B,KAAA;EA4BD;;EAEA;AACF;AACA;EAFE9B,SAAA,CAAAS,iBAAA,EAAAgB,SAAA;EAAA,OAAAzC,YAAA,CAAAyB,iBAAA;IAAA1B,GAAA;IAAA2E,GAAA,EA3EA,SAAAA,IAAA,EAC4E;MAAA,IAAAC,qBAAA;MAC1E,IAAMC,QAAQ,IAAAD,qBAAA,GAAG,IAAI,CAACN,kBAAkB,cAAAM,qBAAA,uBAAvBA,qBAAA,CAAyBC,QAAQ;MAClD,IAAIA,QAAQ,EAAE;QACZ,IAAMC,OAAO,GAAGrJ,MAAM,CAACsJ,OAAO,CAACF,QAAQ,CAAC,CAACxD,MAAM,CAC7C,UAAC2D,WAAW,EAAAC,IAAA,EAAmB;UAAA,IAAAC,KAAA,GAAArG,cAAA,CAAAoG,IAAA;YAAhBjF,GAAG,GAAAkF,KAAA;YAAEzI,KAAK,GAAAyI,KAAA;UACvBF,WAAW,CAAChF,GAAG,CAAC,GAAG,CAAC,CAACvD,KAAK,CAAC0I,SAAS;UACpC,OAAOH,WAAW;QACpB,CAAC,EACD,CAAC,CACH,CAAC;QAED,IAAIvJ,MAAM,CAACyC,IAAI,CAAC4G,OAAO,CAAC,CAAC1I,MAAM,GAAG,CAAC,EAAE;UACnC,OAAO0I,OAAO;QAChB;MACF;MAEA,OAAOtD,qBAAqB;IAC9B;EAAC;IAAAxB,GAAA;IAAA2E,GAAA;IA6BD;AACF;AACA;IACE,SAAAA,IAAA,EAAiC;MAAA,IAAAS,qBAAA,EAAAC,sBAAA;MAC/B,IAAI,GAAAD,qBAAA,GAAC,IAAI,CAACE,oBAAoB,cAAAF,qBAAA,uBAAzBA,qBAAA,CAA2BV,kBAAkB,GAAE;QAClD,OAAO;UACLa,mBAAmB,EAAE,IAAI,CAACA;QAC5B,CAAC;MACH;MAEA,IAAMb,kBAAkB,IAAAW,sBAAA,GAAG,IAAI,CAACC,oBAAoB,cAAAD,sBAAA,uBAAzBA,sBAAA,CAA2BX,kBAAkB;MACxE,OAAAnG,aAAA;QACEgH,mBAAmB,EAAE,IAAI,CAACA;MAAmB,GACzC,OAAOb,kBAAkB,KAAK,UAAU,GACxCA,kBAAkB,CAAC,CAAC,GACpBA,kBAAkB;IAE1B;EAAC;IAAA1E,GAAA;IAAA2E,GAAA,EAcD,SAAAA,IAAA,EAAiD;MAAA,IAAAa,KAAA,EAAAC,qBAAA,EAAAC,KAAA,EAAAC,QAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,KAAA;MAC/C,IAAMC,eAAe,GAAG,IAAI,CAACpD,aAAa,CAACoD,eAAe;MAC1D,IAAMC,MAAM,GAAGD,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEC,MAAM;MACtC,OAAO;QACLC,MAAM,GAAAV,KAAA,GACH/J,MAAM,CAACyC,IAAI,CAAC+H,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC7J,MAAM,GAAG,CAAC,GACjC6J,MAAM;QACN;QACAzE,qBAAqB,cAAAgE,KAAA,cAAAA,KAAA,GAAKhE,qBAAqB;QACrD2E,SAAS,GAAAV,qBAAA,GAAEO,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAEI,EAAE,CAACC,OAAO,cAAAZ,qBAAA,cAAAA,qBAAA,GAAIjE,qBAAqB;QAC/D8E,OAAO,GAAAZ,KAAA,GACJ,IAAI,CAAC/C,MAAM,CAAC4D,aAAa,CAACD,OAAO,cAAAZ,KAAA,cAAAA,KAAA,GAAelE,qBAAqB;QACxEgF,UAAU,EAAE,IAAI,CAAC1D,iBAAiB,CAAC0D,UAAU;QAC7CC,aAAa,GAAAd,QAAA,GAAG,IAAI,CAAC3C,OAAO,CAASqD,OAAO,cAAAV,QAAA,cAAAA,QAAA,GAAInE,qBAAqB;QACrE,kBAAkB,GAAAoE,qBAAA,GAAE,IAAI,CAAC/C,OAAO,CAAC6D,aAAa,cAAAd,qBAAA,cAAAA,qBAAA,GAAIpE,qBAAqB;QACvE,cAAc,GAAAqE,qBAAA,GAAE,IAAI,CAAChD,OAAO,CAAC8D,aAAa,cAAAd,qBAAA,cAAAA,qBAAA,GAAIrE,qBAAqB;QACnE,UAAU,GAAAsE,qBAAA,GAAEc,SAAS,CAACC,mBAAmB,cAAAf,qBAAA,cAAAA,qBAAA,GAAItE,qBAAqB;QAClE,UAAU,GAAAuE,KAAA,GACP,cAAc,IAAIa,SAAS,GACvBA,SAAS,CAACE,YAAY,GACvB,CAAC,cAAAf,KAAA,cAAAA,KAAA,GAAKvE;MACd,CAAC;IACH;;IAEA;AACF;AACA;EAFE;IAAAxB,GAAA;IAAA2E,GAAA,EAGA,SAAAA,IAAA,EAAmD;MAAA,IAAAoC,sBAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,qBAAA,EAAAC,sBAAA,EAAAC,qBAAA,EAAAC,qBAAA,EAAAC,qBAAA;MACjD,OAAO;QACLC,SAAS,GAAAR,sBAAA,IAAAC,qBAAA,GAAE,IAAI,CAACzD,cAAc,cAAAyD,qBAAA,uBAAnBA,qBAAA,CAAqBO,SAAS,cAAAR,sBAAA,cAAAA,sBAAA,GAAIvF,qBAAqB;QAClEgG,aAAa,GAAAP,sBAAA,IAAAC,qBAAA,GAAE,IAAI,CAAC3D,cAAc,cAAA2D,qBAAA,uBAAnBA,qBAAA,CAAqBO,IAAI,CAACC,IAAI,cAAAT,sBAAA,cAAAA,sBAAA,GAAIzF,qBAAqB;QACtEmG,eAAe,GAAAR,sBAAA,IAAAC,qBAAA,GACb,IAAI,CAAC7D,cAAc,cAAA6D,qBAAA,wBAAAC,qBAAA,GAAnBD,qBAAA,CAAqBK,IAAI,CAACzC,WAAW,cAAAqC,qBAAA,wBAAAC,qBAAA,GAArCD,qBAAA,CAAuCO,KAAK,cAAAN,qBAAA,uBAA5CA,qBAAA,CAA8CO,OAAO,cAAAV,sBAAA,cAAAA,sBAAA,GACrD3F;MACJ,CAAC;IACH;EAAC;IAAAxB,GAAA;IAAA2E,GAAA,EAED,SAAAA,IAAA,EAAyB;MAAA,IAAAmD,sBAAA;MACvB,IAAMC,UAAU,IAAAD,sBAAA,GAAG,IAAI,CAACxC,oBAAoB,cAAAwC,sBAAA,uBAAzBA,sBAAA,CAA2BC,UAAU;MACxD,OAAAxJ,aAAA,CAAAA,aAAA,CAAAA,aAAA,KACK,IAAI,CAACyJ,oBAAoB,GACzB,IAAI,CAACC,iBAAiB,GACrB,OAAOF,UAAU,KAAK,UAAU,GAAGA,UAAU,CAAC,CAAC,GAAGA,UAAU;IAEpE;EAAC;IAAA/H,GAAA;IAAAvD,KAAA;MAAA,IAAAyL,cAAA,GAAAtK,iBAAA,cAAAjD,YAAA,GAAAsC,CAAA,CAED,SAAAkL,QAAA;QAAA,IAAAC,WAAA;QAAA,IAAAC,SAAA,EAAAC,MAAA;QAAA,OAAA3N,YAAA,GAAAqC,CAAA,WAAAuL,QAAA;UAAA,kBAAAA,QAAA,CAAAvN,CAAA;YAAA;cACQqN,SAAS,GAAG,CAAC,CAAC,EACpB;cAAA,OAAAD,WAAA,GACI,IAAI,CAACpE,KAAK,cAAAoE,WAAA,uBAAVA,WAAA,CAAY/D,OAAO;gBAAAkE,QAAA,CAAAvN,CAAA;gBAAA;cAAA;cAAAuN,QAAA,CAAAvN,CAAA;cAAA,OACA,IAAAwN,oBAAc,EAAC,IAAI,CAACrF,mBAAmB,CAAC;YAAA;cAAvDmF,MAAM,GAAAC,QAAA,CAAAvM,CAAA;cAEZ,IAAIsM,MAAM,KAAK,SAAS,EAAE;gBACxB,IAAI,CAACG,MAAM,CAACC,KAAK,CAAC,0CAA0C,CAAC;gBAC7DL,SAAS,CAACM,OAAO,GAAG,0CAA0C;cAChE;YAAC;cAAA,OAAAJ,QAAA,CAAAtM,CAAA,IAAAsC,aAAA,CAAAA,aAAA,KAIE,IAAI,CAACwJ,UAAU,GACfM,SAAS;UAAA;QAAA,GAAAF,OAAA;MAAA,CAEf;MAAA,SAhBKS,aAAaA,CAAA;QAAA,OAAAV,cAAA,CAAApK,KAAA,OAAAD,SAAA;MAAA;MAAA,OAAb+K,aAAa;IAAA;EAAA;AAAA,EA1JkBC,kBAAQ,GAAAtO,WAAA,GAAA4G,yBAAA,CAAA7G,OAAA,CAAAgB,SAAA,2BAAA3B,KAAA,EAAAC,KAAA;EAAA0D,YAAA;EAAAD,UAAA;EAAAE,QAAA;EAAAsC,WAAA;AAAA,IAAArF,YAAA,GAAA2G,yBAAA,CAAA7G,OAAA,CAAAgB,SAAA,YAAAzB,KAAA,EAAAC,KAAA;EAAAwD,YAAA;EAAAD,UAAA;EAAAE,QAAA;EAAAsC,WAAA;AAAA,IAAApF,YAAA,GAAA0G,yBAAA,CAAA7G,OAAA,CAAAgB,SAAA,qBAAAvB,KAAA,EAAAC,KAAA;EAAAsD,YAAA;EAAAD,UAAA;EAAAE,QAAA;EAAAsC,WAAA;AAAA,IAAAnF,YAAA,GAAAyG,yBAAA,CAAA7G,OAAA,CAAAgB,SAAA,yBAAArB,KAAA,EAAAC,MAAA;EAAAoD,YAAA;EAAAD,UAAA;EAAAE,QAAA;EAAAsC,WAAA;AAAA,IAAAsB,yBAAA,CAAA7G,OAAA,CAAAgB,SAAA,0BA8B5CwN,kBAAQ,EAAA3O,MAAA,EAAAC,MAAA,GAAAqB,MAAA,CAAA4C,wBAAA,CAAA/D,OAAA,CAAAgB,SAAA,0BAAAhB,OAAA,CAAAgB,SAAA,GAAAhB,OAAA,MAAAD,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA","ignoreList":[]}