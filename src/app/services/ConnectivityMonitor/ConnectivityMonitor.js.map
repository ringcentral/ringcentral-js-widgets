{"version":3,"file":"ConnectivityMonitor.js","names":["_nextCore","require","_rxjs","_errorMessages","_Client","_Environment","_errorMessages2","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_class","_class2","_descriptor","_descriptor2","_initializerDefineProperty","e","i","r","l","Object","defineProperty","enumerable","configurable","writable","value","initializer","call","_regenerator","t","Symbol","n","iterator","o","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","TypeError","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","_regeneratorDefine","_invoke","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_initializerWarningHelper","Error","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","_next","_throw","DEFAULT_TIME_TO_RETRY","exports","DEFAULT_HEART_BEAT_INTERVAL","errorMessageTypes","rateLimiterErrorMessage","rateLimitReached","availabilityMonitorErrorMessages","serviceLimited","defaultCheckConnectionFn","_defaultCheckConnectionFn","_callee4","response","_context4","fetch","method","mode","type","status","ConnectivityMonitor","injectable","name","target","optional","undefined","metadata","Function","Root","PortManager","Client","Environment","ConnectivityMonitorOptions","delegate","_RcModule","_root","_portManager","_client","_environment","_connectivityMonitorOptions","_this$_connectivityMo","_this$_connectivityMo2","_this$_connectivityMo3","_this$_connectivityMo4","_this","_timeToRetry","timeToRetry","_heartBeatInterval","heartBeatInterval","_checkConnectionFunc","_callee","_this$_connectivityMo5","_this$_connectivityMo6","checkConnectionFunc","_t","_context","_requestSuccessHandler","_requestErrorHandler","_retryTimeoutId","_lastEnvironmentCounter","_unbindHandlers","connectivity","setConnectSuccess","_retry","error","message","includes","setConnectFail","_networkErrorHandler","handlerNetworkError","_networkOnlineHandler","_checkConnection","networkLoss$","fromEvent","global","networkOnline$","enable","shared","onMainTab","_bindNetworkHandler","get","_this$_connectivityMo7","_this$_connectivityMo8","_handlerNetworkError","_callee2","_context2","networkLoss","setNetworkLoss","_shouldInit","pending","ready","_shouldRebindHandlers","_this$_environment","changeCounter","onInit","_bindHandlers","onInitSuccess","onStateChange","_this$_unbindHandlers","_this2","client","service","on","events","requestSuccess","requestError","removeListener","_this3","pipe","tap","takeUntilAppDestroy","subscribe","_checkConnection2","_callee3","_t2","_context3","_clearTimeout","clearTimeout","_this4","setTimeout","RcModule","getOwnPropertyDescriptor","state","action"],"sources":["src/app/services/ConnectivityMonitor/ConnectivityMonitor.ts"],"sourcesContent":["import {\n  action,\n  injectable,\n  optional,\n  delegate,\n  RcModule,\n  state,\n  PortManager,\n  Root,\n} from '@ringcentral-integration/next-core';\nimport type { ApiError } from '@ringcentral/sdk';\nimport { fromEvent, tap } from 'rxjs';\n\nimport { errorMessages as availabilityMonitorErrorMessages } from '../AvailabilityMonitor/errorMessages';\nimport { Client } from '../Client';\nimport { Environment } from '../Environment';\nimport { errorMessages as rateLimiterErrorMessage } from '../RateLimiter/errorMessages';\n\nimport type { ConnectivityMonitorOptions } from './ConnectivityMonitor.interface';\n\nexport const DEFAULT_TIME_TO_RETRY = 5 * 1000;\nexport const DEFAULT_HEART_BEAT_INTERVAL = 60 * 1000;\n\nconst errorMessageTypes = [\n  rateLimiterErrorMessage.rateLimitReached,\n  availabilityMonitorErrorMessages.serviceLimited,\n];\n\nasync function defaultCheckConnectionFn() {\n  const response = await fetch(\n    'https://apps.ringcentral.com/integration/ping',\n    {\n      method: 'HEAD',\n      mode: 'no-cors',\n    },\n  );\n  if (response.type !== 'opaque' && response.status !== 200) {\n    throw new Error('Network check failed');\n  }\n}\n\n/**\n * Monitors network connectivity and handles connection state\n *\n * @class\n */\n@injectable({\n  name: 'ConnectivityMonitor',\n})\nexport class ConnectivityMonitor extends RcModule {\n  protected _timeToRetry =\n    this._connectivityMonitorOptions?.timeToRetry ?? DEFAULT_TIME_TO_RETRY;\n\n  protected _heartBeatInterval =\n    this._connectivityMonitorOptions?.heartBeatInterval ??\n    DEFAULT_HEART_BEAT_INTERVAL;\n\n  get enable() {\n    return this._connectivityMonitorOptions?.enable ?? true;\n  }\n\n  _checkConnectionFunc = async () => {\n    try {\n      const checkConnectionFunc =\n        this._connectivityMonitorOptions?.checkConnectionFunc ??\n        defaultCheckConnectionFn;\n      await checkConnectionFunc();\n      this._requestSuccessHandler();\n    } catch (error) {\n      this._requestErrorHandler(error as any);\n    }\n  };\n\n  protected _retryTimeoutId: NodeJS.Timeout | null = null;\n\n  protected _lastEnvironmentCounter = 0;\n\n  _unbindHandlers?: (() => void) | null = null;\n\n  _requestSuccessHandler = () => {\n    if (!this.connectivity) {\n      this.setConnectSuccess();\n    }\n    this._retry();\n  };\n\n  _requestErrorHandler = (error: ApiError) => {\n    if (error.message && errorMessageTypes.includes(error.message)) return;\n\n    if (!error.response) {\n      if (this.connectivity) {\n        this.setConnectFail();\n      }\n    }\n    this._retry();\n  };\n\n  protected _networkErrorHandler = () => {\n    this.handlerNetworkError();\n  };\n\n  protected _networkOnlineHandler = () => {\n    this._checkConnection();\n  };\n\n  @delegate('server')\n  async handlerNetworkError() {\n    if (!this.networkLoss) {\n      this.setNetworkLoss();\n    }\n    this._retry();\n  }\n\n  constructor(\n    private _root: Root,\n    private _portManager: PortManager,\n    protected _client: Client,\n    @optional() protected _environment?: Environment,\n    @optional('ConnectivityMonitorOptions')\n    protected _connectivityMonitorOptions?: ConnectivityMonitorOptions,\n  ) {\n    super();\n\n    if (!this.enable) return;\n\n    if (this._portManager.shared) {\n      this._portManager.onMainTab(() => {\n        this._bindNetworkHandler();\n      });\n    } else {\n      this._bindNetworkHandler();\n    }\n  }\n\n  /**\n   * Current connectivity status\n   * @type {boolean}\n   */\n  @state\n  connectivity = true;\n\n  /**\n   * Flag indicating if network connection is lost\n   * @type {boolean}\n   */\n  @state\n  networkLoss = false;\n\n  @action\n  setNetworkLoss() {\n    this.connectivity = false;\n    this.networkLoss = true;\n  }\n\n  @action\n  setConnectSuccess() {\n    this.connectivity = true;\n    this.networkLoss = false;\n  }\n\n  @action\n  setConnectFail() {\n    this.connectivity = false;\n  }\n\n  /**\n   * Indicates if the ConnectivityMonitor is ready to be used\n   * @type {boolean}\n   */\n  override _shouldInit() {\n    return !!(this.pending && (!this._environment || this._environment.ready));\n  }\n\n  _shouldRebindHandlers() {\n    return !!(\n      this.ready &&\n      this._environment?.ready &&\n      this._environment.changeCounter !== this._lastEnvironmentCounter\n    );\n  }\n\n  override onInit() {\n    if (this.enable) {\n      this._bindHandlers();\n    }\n  }\n\n  override onInitSuccess() {\n    if (this.enable) {\n      this._retry();\n    }\n  }\n\n  override onStateChange() {\n    if (!this._shouldInit() && this._shouldRebindHandlers()) {\n      if (this._environment) {\n        this._lastEnvironmentCounter = this._environment.changeCounter;\n      }\n\n      this._bindHandlers();\n    }\n  }\n\n  _bindHandlers() {\n    this._unbindHandlers?.();\n    const client = this._client.service.client();\n    client.on(client.events.requestSuccess, this._requestSuccessHandler);\n    client.on(client.events.requestError, this._requestErrorHandler);\n    this._unbindHandlers = () => {\n      client.removeListener(\n        client.events.requestSuccess,\n        this._requestSuccessHandler,\n      );\n      client.removeListener(\n        client.events.requestError,\n        this._requestErrorHandler,\n      );\n      this._unbindHandlers = null;\n    };\n  }\n\n  networkLoss$ = fromEvent(global, 'offline');\n\n  networkOnline$ = fromEvent(global, 'online');\n\n  private _bindNetworkHandler() {\n    this.networkLoss$\n      .pipe(\n        tap(() => this.handlerNetworkError()),\n        this._root.takeUntilAppDestroy,\n      )\n      .subscribe();\n    this.networkOnline$\n      .pipe(\n        tap(() => this._networkOnlineHandler()),\n        this._root.takeUntilAppDestroy,\n      )\n      .subscribe();\n  }\n\n  @delegate('server')\n  async _checkConnection() {\n    try {\n      await this._checkConnectionFunc();\n    } catch (error) {\n      // catch error\n    }\n  }\n\n  _clearTimeout() {\n    if (this._retryTimeoutId) {\n      clearTimeout(this._retryTimeoutId);\n      this._retryTimeoutId = null;\n    }\n  }\n\n  _retry(t = this.connectivity ? this._heartBeatInterval : this._timeToRetry) {\n    this._clearTimeout();\n    this._retryTimeoutId = setTimeout(() => {\n      this._retryTimeoutId = null;\n      this._checkConnection();\n    }, t);\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAWA,IAAAC,KAAA,GAAAD,OAAA;AAEA,IAAAE,cAAA,GAAAF,OAAA;AACA,IAAAG,OAAA,GAAAH,OAAA;AACA,IAAAI,YAAA,GAAAJ,OAAA;AACA,IAAAK,eAAA,GAAAL,OAAA;AAAwF,IAAAM,IAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,MAAA,EAAAC,OAAA,EAAAC,WAAA,EAAAC,YAAA;AAAA,SAAAC,2BAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,EAAAC,CAAA,IAAAD,CAAA,IAAAE,MAAA,CAAAC,cAAA,CAAAL,CAAA,EAAAC,CAAA,IAAAK,UAAA,EAAAJ,CAAA,CAAAI,UAAA,EAAAC,YAAA,EAAAL,CAAA,CAAAK,YAAA,EAAAC,QAAA,EAAAN,CAAA,CAAAM,QAAA,EAAAC,KAAA,EAAAP,CAAA,CAAAQ,WAAA,GAAAR,CAAA,CAAAQ,WAAA,CAAAC,IAAA,CAAAR,CAAA;AAAA,SAAAS,aAAA,IAfxF,uKAAAZ,CAAA,EAAAa,CAAA,EAAAX,CAAA,wBAAAY,MAAA,GAAAA,MAAA,OAAAC,CAAA,GAAAb,CAAA,CAAAc,QAAA,kBAAAC,CAAA,GAAAf,CAAA,CAAAgB,WAAA,8BAAAjB,EAAAC,CAAA,EAAAa,CAAA,EAAAE,CAAA,EAAAhB,CAAA,QAAAkB,CAAA,GAAAJ,CAAA,IAAAA,CAAA,CAAAK,SAAA,YAAAC,SAAA,GAAAN,CAAA,GAAAM,SAAA,EAAAC,CAAA,GAAAlB,MAAA,CAAAmB,MAAA,CAAAJ,CAAA,CAAAC,SAAA,UAAAI,mBAAA,CAAAF,CAAA,uBAAApB,CAAA,EAAAa,CAAA,EAAAE,CAAA,QAAAhB,CAAA,EAAAkB,CAAA,EAAAG,CAAA,EAAAG,CAAA,MAAAC,CAAA,GAAAT,CAAA,QAAAU,CAAA,OAAAC,CAAA,KAAAF,CAAA,KAAAX,CAAA,KAAAc,CAAA,EAAA7B,CAAA,EAAA8B,CAAA,EAAAC,CAAA,EAAAN,CAAA,EAAAM,CAAA,CAAAC,IAAA,CAAAhC,CAAA,MAAA+B,CAAA,WAAAA,EAAAlB,CAAA,EAAAX,CAAA,WAAAD,CAAA,GAAAY,CAAA,EAAAM,CAAA,MAAAG,CAAA,GAAAtB,CAAA,EAAA4B,CAAA,CAAAb,CAAA,GAAAb,CAAA,EAAA4B,CAAA,gBAAAC,EAAA7B,CAAA,EAAAa,CAAA,SAAAI,CAAA,GAAAjB,CAAA,EAAAoB,CAAA,GAAAP,CAAA,EAAAF,CAAA,OAAAc,CAAA,IAAAF,CAAA,KAAAR,CAAA,IAAAJ,CAAA,GAAAa,CAAA,CAAAO,MAAA,EAAApB,CAAA,UAAAI,CAAA,EAAAhB,CAAA,GAAAyB,CAAA,CAAAb,CAAA,GAAAkB,CAAA,GAAAH,CAAA,CAAAF,CAAA,EAAAvB,CAAA,GAAAF,CAAA,KAAAC,CAAA,QAAAe,CAAA,GAAAd,CAAA,KAAAY,CAAA,MAAAO,CAAA,GAAArB,CAAA,EAAAkB,CAAA,GAAAlB,CAAA,YAAAkB,CAAA,WAAAlB,CAAA,MAAAA,CAAA,MAAAD,CAAA,IAAAC,CAAA,OAAA8B,CAAA,MAAAd,CAAA,GAAAf,CAAA,QAAA6B,CAAA,GAAA9B,CAAA,QAAAkB,CAAA,MAAAS,CAAA,CAAAC,CAAA,GAAAd,CAAA,EAAAa,CAAA,CAAAb,CAAA,GAAAd,CAAA,OAAA8B,CAAA,GAAA5B,CAAA,KAAAc,CAAA,GAAAf,CAAA,QAAAD,CAAA,MAAAc,CAAA,IAAAA,CAAA,GAAAZ,CAAA,MAAAF,CAAA,MAAAC,CAAA,EAAAD,CAAA,MAAAc,CAAA,EAAAa,CAAA,CAAAb,CAAA,GAAAZ,CAAA,EAAAgB,CAAA,cAAAF,CAAA,IAAAf,CAAA,aAAA4B,CAAA,QAAAH,CAAA,OAAAZ,CAAA,qBAAAE,CAAA,EAAAS,CAAA,EAAAvB,CAAA,QAAAsB,CAAA,YAAAS,SAAA,uCAAAP,CAAA,UAAAD,CAAA,IAAAK,CAAA,CAAAL,CAAA,EAAAvB,CAAA,GAAAgB,CAAA,GAAAO,CAAA,EAAAJ,CAAA,GAAAnB,CAAA,GAAAU,CAAA,GAAAM,CAAA,OAAAnB,CAAA,GAAAsB,CAAA,MAAAK,CAAA,KAAA1B,CAAA,KAAAkB,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAS,CAAA,CAAAb,CAAA,QAAAgB,CAAA,CAAAZ,CAAA,EAAAG,CAAA,KAAAM,CAAA,CAAAb,CAAA,GAAAO,CAAA,GAAAM,CAAA,CAAAC,CAAA,GAAAP,CAAA,aAAAG,CAAA,MAAAxB,CAAA,QAAAkB,CAAA,KAAAF,CAAA,YAAAJ,CAAA,GAAAZ,CAAA,CAAAgB,CAAA,WAAAJ,CAAA,GAAAA,CAAA,CAAAF,IAAA,CAAAV,CAAA,EAAAqB,CAAA,UAAAY,SAAA,2CAAArB,CAAA,CAAAsB,IAAA,SAAAtB,CAAA,EAAAS,CAAA,GAAAT,CAAA,CAAAJ,KAAA,EAAAU,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAN,CAAA,GAAAZ,CAAA,eAAAY,CAAA,CAAAF,IAAA,CAAAV,CAAA,GAAAkB,CAAA,SAAAG,CAAA,GAAAY,SAAA,uCAAAjB,CAAA,gBAAAE,CAAA,OAAAlB,CAAA,GAAAD,CAAA,cAAAa,CAAA,IAAAc,CAAA,GAAAC,CAAA,CAAAb,CAAA,QAAAO,CAAA,GAAApB,CAAA,CAAAS,IAAA,CAAAI,CAAA,EAAAa,CAAA,OAAAE,CAAA,kBAAAjB,CAAA,IAAAZ,CAAA,GAAAD,CAAA,EAAAmB,CAAA,MAAAG,CAAA,GAAAT,CAAA,cAAAY,CAAA,mBAAAhB,KAAA,EAAAI,CAAA,EAAAsB,IAAA,EAAAR,CAAA,SAAAzB,CAAA,EAAAe,CAAA,EAAAhB,CAAA,QAAAqB,CAAA,QAAAQ,CAAA,gBAAAT,UAAA,cAAAe,kBAAA,cAAAC,2BAAA,KAAAxB,CAAA,GAAAT,MAAA,CAAAkC,cAAA,MAAAnB,CAAA,MAAAJ,CAAA,IAAAF,CAAA,CAAAA,CAAA,IAAAE,CAAA,SAAAS,mBAAA,CAAAX,CAAA,OAAAE,CAAA,iCAAAF,CAAA,GAAAS,CAAA,GAAAe,0BAAA,CAAAjB,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAAhB,MAAA,CAAAmB,MAAA,CAAAJ,CAAA,YAAAM,EAAAzB,CAAA,WAAAI,MAAA,CAAAmC,cAAA,GAAAnC,MAAA,CAAAmC,cAAA,CAAAvC,CAAA,EAAAqC,0BAAA,KAAArC,CAAA,CAAAwC,SAAA,GAAAH,0BAAA,EAAAb,mBAAA,CAAAxB,CAAA,EAAAiB,CAAA,yBAAAjB,CAAA,CAAAoB,SAAA,GAAAhB,MAAA,CAAAmB,MAAA,CAAAD,CAAA,GAAAtB,CAAA,WAAAoC,iBAAA,CAAAhB,SAAA,GAAAiB,0BAAA,EAAAb,mBAAA,CAAAF,CAAA,iBAAAe,0BAAA,GAAAb,mBAAA,CAAAa,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAK,WAAA,wBAAAjB,mBAAA,CAAAa,0BAAA,EAAApB,CAAA,wBAAAO,mBAAA,CAAAF,CAAA,GAAAE,mBAAA,CAAAF,CAAA,EAAAL,CAAA,gBAAAO,mBAAA,CAAAF,CAAA,EAAAP,CAAA,iCAAAS,mBAAA,CAAAF,CAAA,8DAAAV,YAAA,YAAAA,aAAA,aAAA8B,CAAA,EAAAzC,CAAA,EAAA0C,CAAA,EAAAlB,CAAA;AAAA,SAAAD,oBAAAxB,CAAA,EAAAE,CAAA,EAAAa,CAAA,EAAAF,CAAA,QAAAZ,CAAA,GAAAG,MAAA,CAAAC,cAAA,QAAAJ,CAAA,uBAAAD,CAAA,IAAAC,CAAA,QAAAuB,mBAAA,YAAAoB,mBAAA5C,CAAA,EAAAE,CAAA,EAAAa,CAAA,EAAAF,CAAA,aAAAI,EAAAf,CAAA,EAAAa,CAAA,IAAAS,mBAAA,CAAAxB,CAAA,EAAAE,CAAA,YAAAF,CAAA,gBAAA6C,OAAA,CAAA3C,CAAA,EAAAa,CAAA,EAAAf,CAAA,SAAAE,CAAA,GAAAD,CAAA,GAAAA,CAAA,CAAAD,CAAA,EAAAE,CAAA,IAAAO,KAAA,EAAAM,CAAA,EAAAT,UAAA,GAAAO,CAAA,EAAAN,YAAA,GAAAM,CAAA,EAAAL,QAAA,GAAAK,CAAA,MAAAb,CAAA,CAAAE,CAAA,IAAAa,CAAA,IAAAE,CAAA,aAAAA,CAAA,cAAAA,CAAA,mBAAAO,mBAAA,CAAAxB,CAAA,EAAAE,CAAA,EAAAa,CAAA,EAAAF,CAAA;AAAA,SAAAiC,gBAAAhB,CAAA,EAAAf,CAAA,UAAAe,CAAA,YAAAf,CAAA,aAAAmB,SAAA;AAAA,SAAAa,kBAAA/C,CAAA,EAAAE,CAAA,aAAAW,CAAA,MAAAA,CAAA,GAAAX,CAAA,CAAA+B,MAAA,EAAApB,CAAA,UAAAI,CAAA,GAAAf,CAAA,CAAAW,CAAA,GAAAI,CAAA,CAAAX,UAAA,GAAAW,CAAA,CAAAX,UAAA,QAAAW,CAAA,CAAAV,YAAA,kBAAAU,CAAA,KAAAA,CAAA,CAAAT,QAAA,QAAAJ,MAAA,CAAAC,cAAA,CAAAL,CAAA,EAAAgD,cAAA,CAAA/B,CAAA,CAAAgC,GAAA,GAAAhC,CAAA;AAAA,SAAAiC,aAAAlD,CAAA,EAAAE,CAAA,EAAAW,CAAA,WAAAX,CAAA,IAAA6C,iBAAA,CAAA/C,CAAA,CAAAoB,SAAA,EAAAlB,CAAA,GAAAW,CAAA,IAAAkC,iBAAA,CAAA/C,CAAA,EAAAa,CAAA,GAAAT,MAAA,CAAAC,cAAA,CAAAL,CAAA,iBAAAQ,QAAA,SAAAR,CAAA;AAAA,SAAAgD,eAAAnC,CAAA,QAAAZ,CAAA,GAAAkD,YAAA,CAAAtC,CAAA,gCAAAuC,OAAA,CAAAnD,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAkD,aAAAtC,CAAA,EAAAX,CAAA,oBAAAkD,OAAA,CAAAvC,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAb,CAAA,GAAAa,CAAA,CAAAC,MAAA,CAAAuC,WAAA,kBAAArD,CAAA,QAAAC,CAAA,GAAAD,CAAA,CAAAW,IAAA,CAAAE,CAAA,EAAAX,CAAA,gCAAAkD,OAAA,CAAAnD,CAAA,UAAAA,CAAA,YAAAiC,SAAA,yEAAAhC,CAAA,GAAAoD,MAAA,GAAAC,MAAA,EAAA1C,CAAA;AAAA,SAAA2C,WAAA3C,CAAA,EAAAI,CAAA,EAAAjB,CAAA,WAAAiB,CAAA,GAAAwC,eAAA,CAAAxC,CAAA,GAAAyC,0BAAA,CAAA7C,CAAA,EAAA8C,yBAAA,KAAAC,OAAA,CAAAC,SAAA,CAAA5C,CAAA,EAAAjB,CAAA,QAAAyD,eAAA,CAAA5C,CAAA,EAAAiD,WAAA,IAAA7C,CAAA,CAAA8C,KAAA,CAAAlD,CAAA,EAAAb,CAAA;AAAA,SAAA0D,2BAAA7C,CAAA,EAAAb,CAAA,QAAAA,CAAA,iBAAAoD,OAAA,CAAApD,CAAA,0BAAAA,CAAA,UAAAA,CAAA,iBAAAA,CAAA,YAAAkC,SAAA,qEAAA8B,sBAAA,CAAAnD,CAAA;AAAA,SAAAmD,uBAAAhE,CAAA,mBAAAA,CAAA,YAAAiE,cAAA,sEAAAjE,CAAA;AAAA,SAAA2D,0BAAA,cAAA9C,CAAA,IAAAqD,OAAA,CAAA9C,SAAA,CAAA+C,OAAA,CAAAxD,IAAA,CAAAiD,OAAA,CAAAC,SAAA,CAAAK,OAAA,iCAAArD,CAAA,aAAA8C,yBAAA,YAAAA,0BAAA,aAAA9C,CAAA;AAAA,SAAA4C,gBAAA5C,CAAA,WAAA4C,eAAA,GAAArD,MAAA,CAAAmC,cAAA,GAAAnC,MAAA,CAAAkC,cAAA,CAAAN,IAAA,eAAAnB,CAAA,WAAAA,CAAA,CAAA2B,SAAA,IAAApC,MAAA,CAAAkC,cAAA,CAAAzB,CAAA,MAAA4C,eAAA,CAAA5C,CAAA;AAAA,SAAAuD,UAAAvD,CAAA,EAAAb,CAAA,6BAAAA,CAAA,aAAAA,CAAA,YAAAkC,SAAA,wDAAArB,CAAA,CAAAO,SAAA,GAAAhB,MAAA,CAAAmB,MAAA,CAAAvB,CAAA,IAAAA,CAAA,CAAAoB,SAAA,IAAA0C,WAAA,IAAArD,KAAA,EAAAI,CAAA,EAAAL,QAAA,MAAAD,YAAA,WAAAH,MAAA,CAAAC,cAAA,CAAAQ,CAAA,iBAAAL,QAAA,SAAAR,CAAA,IAAAqE,eAAA,CAAAxD,CAAA,EAAAb,CAAA;AAAA,SAAAqE,gBAAAxD,CAAA,EAAAb,CAAA,WAAAqE,eAAA,GAAAjE,MAAA,CAAAmC,cAAA,GAAAnC,MAAA,CAAAmC,cAAA,CAAAP,IAAA,eAAAnB,CAAA,EAAAb,CAAA,WAAAa,CAAA,CAAA2B,SAAA,GAAAxC,CAAA,EAAAa,CAAA,KAAAwD,eAAA,CAAAxD,CAAA,EAAAb,CAAA;AAAA,SAAAsE,0BAAApE,CAAA,EAAAF,CAAA,UAAAuE,KAAA;AAAA,SAAAC,0BAAAvE,CAAA,EAAAD,CAAA,EAAAE,CAAA,EAAAa,CAAA,EAAAZ,CAAA,QAAA2B,CAAA,cAAA1B,MAAA,CAAAqE,IAAA,CAAA1D,CAAA,EAAA2D,OAAA,WAAAzE,CAAA,IAAA6B,CAAA,CAAA7B,CAAA,IAAAc,CAAA,CAAAd,CAAA,OAAA6B,CAAA,CAAAxB,UAAA,KAAAwB,CAAA,CAAAxB,UAAA,EAAAwB,CAAA,CAAAvB,YAAA,KAAAuB,CAAA,CAAAvB,YAAA,cAAAuB,CAAA,IAAAA,CAAA,CAAApB,WAAA,MAAAoB,CAAA,CAAAtB,QAAA,QAAAsB,CAAA,GAAA5B,CAAA,CAAAyE,KAAA,GAAAC,OAAA,GAAAC,MAAA,WAAA3E,CAAA,EAAAa,CAAA,WAAAA,CAAA,CAAAd,CAAA,EAAAD,CAAA,EAAAE,CAAA,KAAAA,CAAA,KAAA4B,CAAA,GAAA3B,CAAA,eAAA2B,CAAA,CAAApB,WAAA,KAAAoB,CAAA,CAAArB,KAAA,GAAAqB,CAAA,CAAApB,WAAA,GAAAoB,CAAA,CAAApB,WAAA,CAAAC,IAAA,CAAAR,CAAA,YAAA2B,CAAA,CAAApB,WAAA,uBAAAoB,CAAA,CAAApB,WAAA,IAAAN,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAD,CAAA,EAAA8B,CAAA,WAAAA,CAAA;AAAA,SAAAgD,mBAAA/D,CAAA,EAAAF,CAAA,EAAAb,CAAA,EAAAE,CAAA,EAAAe,CAAA,EAAAa,CAAA,EAAAX,CAAA,cAAAlB,CAAA,GAAAc,CAAA,CAAAe,CAAA,EAAAX,CAAA,GAAAG,CAAA,GAAArB,CAAA,CAAAQ,KAAA,WAAAM,CAAA,gBAAAf,CAAA,CAAAe,CAAA,KAAAd,CAAA,CAAAkC,IAAA,GAAAtB,CAAA,CAAAS,CAAA,IAAAyD,OAAA,CAAAC,OAAA,CAAA1D,CAAA,EAAA2D,IAAA,CAAA/E,CAAA,EAAAe,CAAA;AAAA,SAAAiE,kBAAAnE,CAAA,6BAAAF,CAAA,SAAAb,CAAA,GAAAmF,SAAA,aAAAJ,OAAA,WAAA7E,CAAA,EAAAe,CAAA,QAAAa,CAAA,GAAAf,CAAA,CAAAgD,KAAA,CAAAlD,CAAA,EAAAb,CAAA,YAAAoF,MAAArE,CAAA,IAAA+D,kBAAA,CAAAhD,CAAA,EAAA5B,CAAA,EAAAe,CAAA,EAAAmE,KAAA,EAAAC,MAAA,UAAAtE,CAAA,cAAAsE,OAAAtE,CAAA,IAAA+D,kBAAA,CAAAhD,CAAA,EAAA5B,CAAA,EAAAe,CAAA,EAAAmE,KAAA,EAAAC,MAAA,WAAAtE,CAAA,KAAAqE,KAAA;AAmBO,IAAME,qBAAqB,GAAAC,OAAA,CAAAD,qBAAA,GAAG,CAAC,GAAG,IAAI;AACtC,IAAME,2BAA2B,GAAAD,OAAA,CAAAC,2BAAA,GAAG,EAAE,GAAG,IAAI;AAEpD,IAAMC,iBAAiB,GAAG,CACxBC,6BAAuB,CAACC,gBAAgB,EACxCC,4BAAgC,CAACC,cAAc,CAChD;AAAC,SAEaC,wBAAwBA,CAAA;EAAA,OAAAC,yBAAA,CAAAhC,KAAA,OAAAoB,SAAA;AAAA;AAavC;AACA;AACA;AACA;AACA;AAJA,SAAAY,0BAAA;EAAAA,yBAAA,GAAAb,iBAAA,cAAAtE,YAAA,GAAA+B,CAAA,CAbA,SAAAqD,SAAA;IAAA,IAAAC,QAAA;IAAA,OAAArF,YAAA,GAAA8B,CAAA,WAAAwD,SAAA;MAAA,kBAAAA,SAAA,CAAAnF,CAAA;QAAA;UAAAmF,SAAA,CAAAnF,CAAA;UAAA,OACyBoF,KAAK,CAC1B,+CAA+C,EAC/C;YACEC,MAAM,EAAE,MAAM;YACdC,IAAI,EAAE;UACR,CACF,CAAC;QAAA;UANKJ,QAAQ,GAAAC,SAAA,CAAArE,CAAA;UAAA,MAOVoE,QAAQ,CAACK,IAAI,KAAK,QAAQ,IAAIL,QAAQ,CAACM,MAAM,KAAK,GAAG;YAAAL,SAAA,CAAAnF,CAAA;YAAA;UAAA;UAAA,MACjD,IAAIwD,KAAK,CAAC,sBAAsB,CAAC;QAAA;UAAA,OAAA2B,SAAA,CAAApE,CAAA;MAAA;IAAA,GAAAkE,QAAA;EAAA,CAE1C;EAAA,OAAAD,yBAAA,CAAAhC,KAAA,OAAAoB,SAAA;AAAA;AAAA,IAUYqB,mBAAmB,GAAAjB,OAAA,CAAAiB,mBAAA,IAAA9H,IAAA,GAH/B,IAAA+H,oBAAU,EAAC;EACVC,IAAI,EAAE;AACR,CAAC,CAAC,EAAA/H,KAAA,YAAAA,MAAAgI,MAAA,EAAA1D,GAAA;EAAA,OAqEG,IAAA2D,kBAAQ,EAAC,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAAjI,KAAA,YAAAA,MAAA+H,MAAA,EAAA1D,GAAA;EAAA,OACV,IAAA2D,kBAAQ,EAAC,4BAA4B,CAAC,CAAAD,MAAA,EAAAE,SAAA;AAAA,GAAAhI,KAAA,GAAA+E,OAAA,CAAAkD,QAAA,gBAAAC,QAAA,GAAAjI,KAAA,GAAA8E,OAAA,CAAAkD,QAAA,8BAAA3I,SAAA,CAAA6I,IAAA,mBAAA5G,MAAA,GAAAjC,SAAA,CAAA6I,IAAA,SAAA7I,SAAA,CAAA8I,WAAA,mBAAA7G,MAAA,GAAAjC,SAAA,CAAA8I,WAAA,SAAA1I,OAAA,CAAA2I,MAAA,mBAAA9G,MAAA,GAAA7B,OAAA,CAAA2I,MAAA,SAAA1I,YAAA,CAAA2I,WAAA,mBAAA/G,MAAA,GAAA5B,YAAA,CAAA2I,WAAA,SAAAC,0BAAA,mBAAAhH,MAAA,GAAAgH,0BAAA,IAAArI,KAAA,GAbxC,IAAAsI,kBAAQ,EAAC,QAAQ,CAAC,EAAArI,KAAA,GAAA4E,OAAA,CAAAkD,QAAA,gBAAAC,QAAA,GAAA9H,KAAA,GAAA2E,OAAA,CAAAkD,QAAA,2BAAA5H,KAAA,GAAA0E,OAAA,CAAAkD,QAAA,gBAAAC,QAAA,GAAA5H,KAAA,GAAAyE,OAAA,CAAAkD,QAAA,2BAAA1H,KAAA,GAAAwE,OAAA,CAAAkD,QAAA,gBAAAC,QAAA,GAAA1H,MAAA,GAAAuE,OAAA,CAAAkD,QAAA,2BAAAxH,MAAA,GAAAsE,OAAA,CAAAkD,QAAA,gBAAAC,QAAA,GAAAxH,MAAA,GAAAqE,OAAA,CAAAkD,QAAA,2BAAAtH,MAAA,GAuIlB,IAAA6H,kBAAQ,EAAC,QAAQ,CAAC,EAAA5H,MAAA,GAAAmE,OAAA,CAAAkD,QAAA,gBAAAC,QAAA,GAAArH,MAAA,GAAAkE,OAAA,CAAAkD,QAAA,2BAAApI,IAAA,CAAAiB,MAAA,GAAAhB,KAAA,CAAAgB,MAAA,GAAAf,KAAA,CAAAe,MAAA,GAAAd,KAAA,CAAAc,MAAA,GAAAb,KAAA,CAAAa,MAAA,IAAAC,OAAA,0BAAA0H,SAAA;EA/HnB,SAAAd,oBACUe,KAAW,EACXC,YAAyB,EACvBC,OAAe,EACHC,YAA0B,EAEtCC,2BAAwD,EAClE;IAAA,IAAAC,qBAAA,EAAAC,sBAAA,EAAAC,sBAAA,EAAAC,sBAAA;IAAA,IAAAC,KAAA;IAAAlF,eAAA,OAAA0D,mBAAA;IACAwB,KAAA,GAAAxE,UAAA,OAAAgD,mBAAA;IAAQwB,KAAA,CAPAT,KAAW,GAAXA,KAAW;IAAAS,KAAA,CACXR,YAAyB,GAAzBA,YAAyB;IAAAQ,KAAA,CACvBP,OAAe,GAAfA,OAAe;IAAAO,KAAA,CACHN,YAA0B,GAA1BA,YAA0B;IAAAM,KAAA,CAEtCL,2BAAwD,GAAxDA,2BAAwD;IAAAK,KAAA,CArE1DC,YAAY,IAAAL,qBAAA,IAAAC,sBAAA,GACpBG,KAAA,CAAKL,2BAA2B,cAAAE,sBAAA,uBAAhCA,sBAAA,CAAkCK,WAAW,cAAAN,qBAAA,cAAAA,qBAAA,GAAItC,qBAAqB;IAAA0C,KAAA,CAE9DG,kBAAkB,IAAAL,sBAAA,IAAAC,sBAAA,GAC1BC,KAAA,CAAKL,2BAA2B,cAAAI,sBAAA,uBAAhCA,sBAAA,CAAkCK,iBAAiB,cAAAN,sBAAA,cAAAA,sBAAA,GACnDtC,2BAA2B;IAAAwC,KAAA,CAM7BK,oBAAoB,gBAAAnD,iBAAA,cAAAtE,YAAA,GAAA+B,CAAA,CAAG,SAAA2F,QAAA;MAAA,IAAAC,sBAAA,EAAAC,sBAAA,EAAAC,mBAAA,EAAAC,EAAA;MAAA,OAAA9H,YAAA,GAAA8B,CAAA,WAAAiG,QAAA;QAAA,kBAAAA,QAAA,CAAAjH,CAAA,GAAAiH,QAAA,CAAA5H,CAAA;UAAA;YAAA4H,QAAA,CAAAjH,CAAA;YAEb+G,mBAAmB,IAAAF,sBAAA,IAAAC,sBAAA,GACvBR,KAAA,CAAKL,2BAA2B,cAAAa,sBAAA,uBAAhCA,sBAAA,CAAkCC,mBAAmB,cAAAF,sBAAA,cAAAA,sBAAA,GACrDzC,wBAAwB;YAAA6C,QAAA,CAAA5H,CAAA;YAAA,OACpB0H,mBAAmB,CAAC,CAAC;UAAA;YAC3BT,KAAA,CAAKY,sBAAsB,CAAC,CAAC;YAACD,QAAA,CAAA5H,CAAA;YAAA;UAAA;YAAA4H,QAAA,CAAAjH,CAAA;YAAAgH,EAAA,GAAAC,QAAA,CAAA9G,CAAA;YAE9BmG,KAAA,CAAKa,oBAAoB,CAAAH,EAAa,CAAC;UAAC;YAAA,OAAAC,QAAA,CAAA7G,CAAA;QAAA;MAAA,GAAAwG,OAAA;IAAA,CAE3C;IAAAN,KAAA,CAESc,eAAe,GAA0B,IAAI;IAAAd,KAAA,CAE7Ce,uBAAuB,GAAG,CAAC;IAAAf,KAAA,CAErCgB,eAAe,GAAyB,IAAI;IAAAhB,KAAA,CAE5CY,sBAAsB,GAAG,YAAM;MAC7B,IAAI,CAACZ,KAAA,CAAKiB,YAAY,EAAE;QACtBjB,KAAA,CAAKkB,iBAAiB,CAAC,CAAC;MAC1B;MACAlB,KAAA,CAAKmB,MAAM,CAAC,CAAC;IACf,CAAC;IAAAnB,KAAA,CAEDa,oBAAoB,GAAG,UAACO,KAAe,EAAK;MAC1C,IAAIA,KAAK,CAACC,OAAO,IAAI5D,iBAAiB,CAAC6D,QAAQ,CAACF,KAAK,CAACC,OAAO,CAAC,EAAE;MAEhE,IAAI,CAACD,KAAK,CAACnD,QAAQ,EAAE;QACnB,IAAI+B,KAAA,CAAKiB,YAAY,EAAE;UACrBjB,KAAA,CAAKuB,cAAc,CAAC,CAAC;QACvB;MACF;MACAvB,KAAA,CAAKmB,MAAM,CAAC,CAAC;IACf,CAAC;IAAAnB,KAAA,CAESwB,oBAAoB,GAAG,YAAM;MACrCxB,KAAA,CAAKyB,mBAAmB,CAAC,CAAC;IAC5B,CAAC;IAAAzB,KAAA,CAES0B,qBAAqB,GAAG,YAAM;MACtC1B,KAAA,CAAK2B,gBAAgB,CAAC,CAAC;IACzB,CAAC;IA+BD;AACF;AACA;AACA;IAHE5J,0BAAA,CAAAiI,KAAA,kBAAAnI,WAAA,EAAAmI,KAAA;IAOA;AACF;AACA;AACA;IAHEjI,0BAAA,CAAAiI,KAAA,iBAAAlI,YAAA,EAAAkI,KAAA;IAAAA,KAAA,CAgFA4B,YAAY,GAAG,IAAAC,eAAS,EAACC,MAAM,EAAE,SAAS,CAAC;IAAA9B,KAAA,CAE3C+B,cAAc,GAAG,IAAAF,eAAS,EAACC,MAAM,EAAE,QAAQ,CAAC;IApG1C,IAAI,CAAC9B,KAAA,CAAKgC,MAAM,EAAE,OAAAtG,0BAAA,CAAAsE,KAAA;IAElB,IAAIA,KAAA,CAAKR,YAAY,CAACyC,MAAM,EAAE;MAC5BjC,KAAA,CAAKR,YAAY,CAAC0C,SAAS,CAAC,YAAM;QAChClC,KAAA,CAAKmC,mBAAmB,CAAC,CAAC;MAC5B,CAAC,CAAC;IACJ,CAAC,MAAM;MACLnC,KAAA,CAAKmC,mBAAmB,CAAC,CAAC;IAC5B;IAAC,OAAAnC,KAAA;EACH;EAAC5D,SAAA,CAAAoC,mBAAA,EAAAc,SAAA;EAAA,OAAApE,YAAA,CAAAsD,mBAAA;IAAAvD,GAAA;IAAAmH,GAAA,EA3ED,SAAAA,IAAA,EAAa;MAAA,IAAAC,sBAAA,EAAAC,sBAAA;MACX,QAAAD,sBAAA,IAAAC,sBAAA,GAAO,IAAI,CAAC3C,2BAA2B,cAAA2C,sBAAA,uBAAhCA,sBAAA,CAAkCN,MAAM,cAAAK,sBAAA,cAAAA,sBAAA,GAAI,IAAI;IACzD;EAAC;IAAApH,GAAA;IAAAxC,KAAA;MAAA,IAAA8J,oBAAA,GAAArF,iBAAA,cAAAtE,YAAA,GAAA+B,CAAA,CA8CD,SAAA6H,SAAA;QAAA,OAAA5J,YAAA,GAAA8B,CAAA,WAAA+H,SAAA;UAAA,kBAAAA,SAAA,CAAA1J,CAAA;YAAA;cAEE,IAAI,CAAC,IAAI,CAAC2J,WAAW,EAAE;gBACrB,IAAI,CAACC,cAAc,CAAC,CAAC;cACvB;cACA,IAAI,CAACxB,MAAM,CAAC,CAAC;YAAC;cAAA,OAAAsB,SAAA,CAAA3I,CAAA;UAAA;QAAA,GAAA0I,QAAA;MAAA,CACf;MAAA,SALKf,mBAAmBA,CAAA;QAAA,OAAAc,oBAAA,CAAAxG,KAAA,OAAAoB,SAAA;MAAA;MAAA,OAAnBsE,mBAAmB;IAAA;EAAA;IAAAxG,GAAA;IAAAxC,KAAA,EA0CzB,SACAkK,cAAcA,CAAA,EAAG;MACf,IAAI,CAAC1B,YAAY,GAAG,KAAK;MACzB,IAAI,CAACyB,WAAW,GAAG,IAAI;IACzB;EAAC;IAAAzH,GAAA;IAAAxC,KAAA,EAED,SACAyI,iBAAiBA,CAAA,EAAG;MAClB,IAAI,CAACD,YAAY,GAAG,IAAI;MACxB,IAAI,CAACyB,WAAW,GAAG,KAAK;IAC1B;EAAC;IAAAzH,GAAA;IAAAxC,KAAA,EAED,SACA8I,cAAcA,CAAA,EAAG;MACf,IAAI,CAACN,YAAY,GAAG,KAAK;IAC3B;;IAEA;AACF;AACA;AACA;EAHE;IAAAhG,GAAA;IAAAxC,KAAA,EAIA,SAASmK,WAAWA,CAAA,EAAG;MACrB,OAAO,CAAC,EAAE,IAAI,CAACC,OAAO,KAAK,CAAC,IAAI,CAACnD,YAAY,IAAI,IAAI,CAACA,YAAY,CAACoD,KAAK,CAAC,CAAC;IAC5E;EAAC;IAAA7H,GAAA;IAAAxC,KAAA,EAED,SAAAsK,qBAAqBA,CAAA,EAAG;MAAA,IAAAC,kBAAA;MACtB,OAAO,CAAC,EACN,IAAI,CAACF,KAAK,MAAAE,kBAAA,GACV,IAAI,CAACtD,YAAY,cAAAsD,kBAAA,uBAAjBA,kBAAA,CAAmBF,KAAK,KACxB,IAAI,CAACpD,YAAY,CAACuD,aAAa,KAAK,IAAI,CAAClC,uBAAuB,CACjE;IACH;EAAC;IAAA9F,GAAA;IAAAxC,KAAA,EAED,SAASyK,MAAMA,CAAA,EAAG;MAChB,IAAI,IAAI,CAAClB,MAAM,EAAE;QACf,IAAI,CAACmB,aAAa,CAAC,CAAC;MACtB;IACF;EAAC;IAAAlI,GAAA;IAAAxC,KAAA,EAED,SAAS2K,aAAaA,CAAA,EAAG;MACvB,IAAI,IAAI,CAACpB,MAAM,EAAE;QACf,IAAI,CAACb,MAAM,CAAC,CAAC;MACf;IACF;EAAC;IAAAlG,GAAA;IAAAxC,KAAA,EAED,SAAS4K,aAAaA,CAAA,EAAG;MACvB,IAAI,CAAC,IAAI,CAACT,WAAW,CAAC,CAAC,IAAI,IAAI,CAACG,qBAAqB,CAAC,CAAC,EAAE;QACvD,IAAI,IAAI,CAACrD,YAAY,EAAE;UACrB,IAAI,CAACqB,uBAAuB,GAAG,IAAI,CAACrB,YAAY,CAACuD,aAAa;QAChE;QAEA,IAAI,CAACE,aAAa,CAAC,CAAC;MACtB;IACF;EAAC;IAAAlI,GAAA;IAAAxC,KAAA,EAED,SAAA0K,aAAaA,CAAA,EAAG;MAAA,IAAAG,qBAAA;QAAAC,MAAA;MACd,CAAAD,qBAAA,OAAI,CAACtC,eAAe,cAAAsC,qBAAA,uBAApBA,qBAAA,CAAA3K,IAAA,KAAuB,CAAC;MACxB,IAAM6K,MAAM,GAAG,IAAI,CAAC/D,OAAO,CAACgE,OAAO,CAACD,MAAM,CAAC,CAAC;MAC5CA,MAAM,CAACE,EAAE,CAACF,MAAM,CAACG,MAAM,CAACC,cAAc,EAAE,IAAI,CAAChD,sBAAsB,CAAC;MACpE4C,MAAM,CAACE,EAAE,CAACF,MAAM,CAACG,MAAM,CAACE,YAAY,EAAE,IAAI,CAAChD,oBAAoB,CAAC;MAChE,IAAI,CAACG,eAAe,GAAG,YAAM;QAC3BwC,MAAM,CAACM,cAAc,CACnBN,MAAM,CAACG,MAAM,CAACC,cAAc,EAC5BL,MAAI,CAAC3C,sBACP,CAAC;QACD4C,MAAM,CAACM,cAAc,CACnBN,MAAM,CAACG,MAAM,CAACE,YAAY,EAC1BN,MAAI,CAAC1C,oBACP,CAAC;QACD0C,MAAI,CAACvC,eAAe,GAAG,IAAI;MAC7B,CAAC;IACH;EAAC;IAAA/F,GAAA;IAAAxC,KAAA,EAMD,SAAQ0J,mBAAmBA,CAAA,EAAG;MAAA,IAAA4B,MAAA;MAC5B,IAAI,CAACnC,YAAY,CACdoC,IAAI,CACH,IAAAC,SAAG,EAAC;QAAA,OAAMF,MAAI,CAACtC,mBAAmB,CAAC,CAAC;MAAA,EAAC,EACrC,IAAI,CAAClC,KAAK,CAAC2E,mBACb,CAAC,CACAC,SAAS,CAAC,CAAC;MACd,IAAI,CAACpC,cAAc,CAChBiC,IAAI,CACH,IAAAC,SAAG,EAAC;QAAA,OAAMF,MAAI,CAACrC,qBAAqB,CAAC,CAAC;MAAA,EAAC,EACvC,IAAI,CAACnC,KAAK,CAAC2E,mBACb,CAAC,CACAC,SAAS,CAAC,CAAC;IAChB;EAAC;IAAAlJ,GAAA;IAAAxC,KAAA;MAAA,IAAA2L,iBAAA,GAAAlH,iBAAA,cAAAtE,YAAA,GAAA+B,CAAA,CAED,SAAA0J,SAAA;QAAA,IAAAC,GAAA;QAAA,OAAA1L,YAAA,GAAA8B,CAAA,WAAA6J,SAAA;UAAA,kBAAAA,SAAA,CAAA7K,CAAA,GAAA6K,SAAA,CAAAxL,CAAA;YAAA;cAAAwL,SAAA,CAAA7K,CAAA;cAAA6K,SAAA,CAAAxL,CAAA;cAAA,OAGU,IAAI,CAACsH,oBAAoB,CAAC,CAAC;YAAA;cAAAkE,SAAA,CAAAxL,CAAA;cAAA;YAAA;cAAAwL,SAAA,CAAA7K,CAAA;cAAA4K,GAAA,GAAAC,SAAA,CAAA1K,CAAA;YAAA;cAAA,OAAA0K,SAAA,CAAAzK,CAAA;UAAA;QAAA,GAAAuK,QAAA;MAAA,CAIpC;MAAA,SANK1C,gBAAgBA,CAAA;QAAA,OAAAyC,iBAAA,CAAArI,KAAA,OAAAoB,SAAA;MAAA;MAAA,OAAhBwE,gBAAgB;IAAA;EAAA;IAAA1G,GAAA;IAAAxC,KAAA,EAQtB,SAAA+L,aAAaA,CAAA,EAAG;MACd,IAAI,IAAI,CAAC1D,eAAe,EAAE;QACxB2D,YAAY,CAAC,IAAI,CAAC3D,eAAe,CAAC;QAClC,IAAI,CAACA,eAAe,GAAG,IAAI;MAC7B;IACF;EAAC;IAAA7F,GAAA;IAAAxC,KAAA,EAED,SAAA0I,MAAMA,CAAA,EAAsE;MAAA,IAAAuD,MAAA;MAAA,IAArE7L,CAAC,GAAAsE,SAAA,CAAAlD,MAAA,QAAAkD,SAAA,QAAA0B,SAAA,GAAA1B,SAAA,MAAG,IAAI,CAAC8D,YAAY,GAAG,IAAI,CAACd,kBAAkB,GAAG,IAAI,CAACF,YAAY;MACxE,IAAI,CAACuE,aAAa,CAAC,CAAC;MACpB,IAAI,CAAC1D,eAAe,GAAG6D,UAAU,CAAC,YAAM;QACtCD,MAAI,CAAC5D,eAAe,GAAG,IAAI;QAC3B4D,MAAI,CAAC/C,gBAAgB,CAAC,CAAC;MACzB,CAAC,EAAE9I,CAAC,CAAC;IACP;EAAC;AAAA,EArNsC+L,kBAAQ,GAAApI,yBAAA,CAAA5E,OAAA,CAAAwB,SAAA,0BAAArC,KAAA,EAAAC,KAAA,EAAAC,KAAA,GAAAmB,MAAA,CAAAyM,wBAAA,CAAAjN,OAAA,CAAAwB,SAAA,0BAAAxB,OAAA,CAAAwB,SAAA,GAAAvB,WAAA,GAAA2E,yBAAA,CAAA5E,OAAA,CAAAwB,SAAA,mBAyF9C0L,eAAK;EAAAvM,YAAA;EAAAD,UAAA;EAAAE,QAAA;EAAAE,WAAA,WAAAA,YAAA;IAAA,OACS,IAAI;EAAA;AAAA,IAAAZ,YAAA,GAAA0E,yBAAA,CAAA5E,OAAA,CAAAwB,SAAA,kBAMlB0L,eAAK;EAAAvM,YAAA;EAAAD,UAAA;EAAAE,QAAA;EAAAE,WAAA,WAAAA,YAAA;IAAA,OACQ,KAAK;EAAA;AAAA,IAAA8D,yBAAA,CAAA5E,OAAA,CAAAwB,SAAA,qBAElB2L,gBAAM,EAAA7N,KAAA,EAAAC,KAAA,GAAAiB,MAAA,CAAAyM,wBAAA,CAAAjN,OAAA,CAAAwB,SAAA,qBAAAxB,OAAA,CAAAwB,SAAA,GAAAoD,yBAAA,CAAA5E,OAAA,CAAAwB,SAAA,wBAMN2L,gBAAM,EAAA3N,KAAA,EAAAC,MAAA,GAAAe,MAAA,CAAAyM,wBAAA,CAAAjN,OAAA,CAAAwB,SAAA,wBAAAxB,OAAA,CAAAwB,SAAA,GAAAoD,yBAAA,CAAA5E,OAAA,CAAAwB,SAAA,qBAMN2L,gBAAM,EAAAzN,MAAA,EAAAC,MAAA,GAAAa,MAAA,CAAAyM,wBAAA,CAAAjN,OAAA,CAAAwB,SAAA,qBAAAxB,OAAA,CAAAwB,SAAA,GAAAoD,yBAAA,CAAA5E,OAAA,CAAAwB,SAAA,uBAAA5B,MAAA,EAAAC,MAAA,EAAAC,MAAA,GAAAU,MAAA,CAAAyM,wBAAA,CAAAjN,OAAA,CAAAwB,SAAA,uBAAAxB,OAAA,CAAAwB,SAAA,GAAAxB,OAAA,MAAAD,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA,KAAAA,MAAA","ignoreList":[]}