{"version":3,"file":"getCssVariablesFromObject.js","names":["_css","require","_typeof","o","Symbol","iterator","constructor","prototype","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","t","toString","call","slice","name","Array","from","test","length","n","l","i","u","f","next","Object","done","push","value","isArray","cutNumber","number","toFixed","getColor","color","includes","input","oklch","c","h","concat","parseFloat","error","getCssVariablesFromObject","exports","palette","prefix","arguments","undefined","cssVariable","entries","reduce","acc","_ref","_ref2","key","nestedVariables","nestedAcc","_ref3","_ref4","nestedKey","nestedValue"],"sources":["src/app/plugins/ThemePlugin/utils/getCssVariablesFromObject.ts"],"sourcesContent":["// @ts-ignore\n// eslint-disable-next-line import/no-unresolved\nimport { oklch } from 'culori/css';\n\ninterface Palette {\n  [key: string]: string | Palette;\n}\n\nconst cutNumber = (number: number) => {\n  if (number) {\n    return +number.toFixed(6);\n  } else {\n    return 0;\n  }\n};\n\nconst getColor = (color: any) => {\n  if (!color) return null;\n\n  try {\n    if (\n      typeof color === 'string' &&\n      (color.includes('rgba') || color === 'transparent')\n    )\n      return color;\n\n    const input = oklch(color);\n\n    if (!input) return color;\n\n    const { l, c, h } = input;\n    return `${parseFloat((cutNumber(l) * 100).toFixed(6))}% ${cutNumber(\n      c,\n    )} ${cutNumber(h)}`;\n  } catch (error) {\n    return color;\n  }\n};\n\n/**\n * Converts a Juno palette object into a string of CSS variables.\n * @param palette - The Juno palette object.\n * @returns A string of CSS variables representing the Juno palette.\n */\nexport const getCssVariablesFromObject = (palette?: Palette, prefix = '') => {\n  const cssVariable =\n    palette &&\n    Object.entries(palette).reduce((acc, [key, value]) => {\n      if (key === 'type') return acc;\n\n      if (typeof value === 'object') {\n        const nestedVariables = Object.entries(value).reduce(\n          (nestedAcc, [nestedKey, nestedValue]) => {\n            const color = getColor(nestedValue);\n            if (!color) return nestedAcc;\n\n            return `${nestedAcc}--${prefix}${key}-${nestedKey}: ${color};\\n`;\n          },\n          '',\n        );\n        return `${acc}${nestedVariables}`;\n      } else {\n        const color = getColor(value);\n        if (!color) return acc;\n        return `${acc}--${prefix}${key}: ${color};\\n`;\n      }\n    }, '');\n  return cssVariable;\n};\n"],"mappings":"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","ignoreList":[]}