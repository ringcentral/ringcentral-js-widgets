{"version":3,"file":"Block.plugin.js","names":["_nextCore","require","_components","_SpinnerOverlay","_Portal","_react","_interopRequireDefault","_rxjs","_uuid","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_dec24","_dec25","_class","_class2","_descriptor","_descriptor2","e","__esModule","_regenerator","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_extends","assign","hasOwnProperty","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","_initializerWarningHelper","Error","BlockPlugin","exports","injectable","name","target","optional","undefined","metadata","Function","BlockPluginOptions","Array","Record","computed","that","blockIds","blockMapping","blocks","BlockItem","delegate","_PluginModule","_blockPluginOptions","_this","provider","_ref","_this$_blockPluginOpt","children","currentBlock","useConnector","Component","process","env","THEME_SYSTEM","SpringSpinnerOverlay","SpinnerOverlay","BlockPanel","component","createElement","Fragment","RcPortal","loading","keepMounted","get","_this2","map","id","_blocks$","block","props","v4","_setListItem","unblock","_removeListItem","_next2","_callee","cb","_this3","result","_context","next","_x","next$","obs","_this4","of","pipe","tap","switchMap","finalize","unblockAll","_clearAllItem","__setListItem","data","push","_setListItem2","_callee2","_context2","_x2","_x3","__removeListItem","filter","blockId","_removeListItem2","_callee3","_context3","_x4","__clearAllItem","_clearAllItem2","_callee4","_context4","PluginModule","state","getOwnPropertyDescriptor","action"],"sources":["src/app/plugins/BlockPlugin/Block.plugin.tsx"],"sourcesContent":["import {\n  action,\n  computed,\n  delegate,\n  injectable,\n  optional,\n  PluginModule,\n  state,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport { SpringSpinnerOverlay } from '@ringcentral-integration/next-widgets/components';\nimport { SpinnerOverlay } from '@ringcentral-integration/next-widgets/components/SpinnerOverlay';\nimport { RcPortal } from '@ringcentral/juno';\nimport React, { PropsWithChildren } from 'react';\nimport { finalize, Observable, of, switchMap, tap } from 'rxjs';\nimport { v4 } from 'uuid';\n\nimport type { BlockItem, BlockPluginOptions } from './Block.plugin.interface';\n\n@injectable({\n  name: 'BlockPlugin',\n})\nexport class BlockPlugin extends PluginModule {\n  @state\n  blockIds: string[] = [];\n\n  @state\n  blockMapping: Record<string, BlockItem> = {};\n\n  @computed((that: BlockPlugin) => [that.blockIds, that.blockMapping])\n  get blocks() {\n    return this.blockIds.map((id) => this.blockMapping[id]);\n  }\n\n  @computed((that: BlockPlugin) => [that.blocks])\n  get currentBlock(): BlockItem | null {\n    const blocks = this.blocks;\n    return blocks[0] ?? null;\n  }\n\n  constructor(\n    @optional('BlockPluginOptions')\n    protected _blockPluginOptions?: BlockPluginOptions,\n  ) {\n    super();\n  }\n\n  /**\n   * block view with `SpinnerOverlay`\n   * @param props props for show in `SpinnerOverlay`\n   */\n  block(props: BlockItem = {}) {\n    const id = v4();\n\n    this._setListItem(id, props);\n\n    return id;\n  }\n\n  /**\n   * that will unblock one of pass id\n   * @param id for unblock id\n   */\n  unblock(id: string) {\n    this._removeListItem(id);\n  }\n\n  /**\n   * Show block and wait for call back method complete that block will auto close\n   * @param cb the method you want to wait for complete\n   */\n  async next<T extends () => Promise<unknown>>(cb: T) {\n    const id = this.block();\n    const result = await cb().finally(() => {\n      this.unblock(id);\n    });\n\n    return result as ReturnType<T>;\n  }\n\n  next$<T>(obs: Observable<T>, props?: BlockItem): Observable<T> {\n    let id: string;\n\n    return of(null).pipe(\n      tap(() => (id = this.block(props))),\n      switchMap(() => obs),\n      finalize(() => this.unblock(id)),\n    );\n  }\n\n  /**\n   * clear all block item, and unblock view\n   */\n  unblockAll() {\n    this._clearAllItem();\n  }\n\n  @action\n  private __setListItem(id: string, data: BlockItem) {\n    this.blockIds.push(id);\n    this.blockMapping[id] = data;\n  }\n\n  @delegate('server')\n  private async _setListItem(id: string, data: BlockItem) {\n    this.__setListItem(id, data);\n  }\n\n  @action\n  private __removeListItem(id: string) {\n    this.blockIds = this.blockIds.filter((blockId) => blockId !== id);\n    delete this.blockMapping[id];\n  }\n\n  @delegate('server')\n  private async _removeListItem(id: string) {\n    this.__removeListItem(id);\n  }\n\n  @action\n  private __clearAllItem() {\n    this.blockIds.length = 0;\n    this.blockMapping = {};\n  }\n\n  @delegate('server')\n  private async _clearAllItem() {\n    this.__clearAllItem();\n  }\n\n  override provider = ({ children }: PropsWithChildren<{}>) => {\n    const currentBlock = useConnector(() => this.currentBlock);\n\n    const Component =\n      process.env.THEME_SYSTEM === 'spring-ui'\n        ? SpringSpinnerOverlay\n        : SpinnerOverlay;\n\n    const BlockPanel = this._blockPluginOptions?.component || Component;\n\n    return (\n      <>\n        {children}\n        <RcPortal>\n          <BlockPanel\n            {...currentBlock}\n            loading={!!currentBlock}\n            keepMounted={false}\n          >\n            {null}\n          </BlockPanel>\n        </RcPortal>\n      </>\n    );\n  };\n}\n"],"mappings":"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","ignoreList":[]}