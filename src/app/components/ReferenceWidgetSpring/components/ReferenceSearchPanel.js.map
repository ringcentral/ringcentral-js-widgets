{"version":3,"file":"ReferenceSearchPanel.js","names":["_components","require","_hooks","_components2","_springIcon","_springUi","_react","_interopRequireWildcard","_FilterAndSearchHint","_ReferenceList","_i18n","_interopRequireDefault","_no_search_results","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","next","push","isArray","ReferenceSearchPanel","exports","_ref","initValue","searchFn","selectedMap","onItemClick","expandMode","closePageFn","onCreateEntity","addEntityMenu","onBack","useMenuList","getIcon","addEntityTooltip","_useLocale","useLocale","i18n","_React$useState","React","useState","_React$useState2","searchValue","setSearchValue","_React$useState3","_React$useState4","noChangeSearchTerm","setNoChangeSearchTerm","_React$useState5","_React$useState6","searching","setSearching","_React$useState7","_React$useState8","searchError","setSearchError","_React$useState9","_React$useState0","searchResult","setSearchResult","_useState","_useState2","menuOpen","setMenuOpen","addEntityButtonRef","useRef","handleMenuOpen","handleMenuClose","displayList","useMemo","filter","record","_record$name","toLowerCase","includes","searchHandler","useCallback","_ref2","_callee","searchTerm","res","_t","_context","_x","useEffect","searchTitle","notFoundAnyResult","noResultMainContent","createElement","className","height","width","searchingContent","CircularProgressIndicator","size","onPressEnter","key","handleItemClick","item","selected","ExpandedLayoutPopper","expanded","Boolean","FocusTrap","open","tabIndex","PageHeader","onBackClick","endAdornment","IconButton","TooltipProps","title","symbol","PlusMd","color","variant","ref","onClick","TextField","inputProps","disabled","fullWidth","onChange","target","clearBtn","startAdornment","Icon","SearchMd","onKeyDown","FilterAndSearchHint","onClickHandler","enableSearch","ReferenceList","list","highLightText","Menu","anchorEl","current","onClose","options","map","option","MenuItem","type","onSelect","icon","MenuItemText","label"],"sources":["src/app/components/ReferenceWidgetSpring/components/ReferenceSearchPanel.tsx"],"sourcesContent":["import { ExpandedLayoutPopper } from '@ringcentral-integration/micro-core/src/app/components';\nimport { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { PageHeader } from '@ringcentral-integration/next-widgets/components';\nimport { PlusMd, SearchMd } from '@ringcentral/spring-icon';\nimport {\n  CircularProgressIndicator,\n  FocusTrap,\n  Icon,\n  IconButton,\n  Menu,\n  MenuItem,\n  MenuItemText,\n  TextField,\n} from '@ringcentral/spring-ui';\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport {\n  displayList,\n  ReferenceItemClickHandler,\n  ReferenceWidgetAddEntityMenuProps,\n  ReferenceWidgetProps,\n  SelectedIdMap,\n  SimpleCrmObject,\n} from '../ReferenceWidget.interface';\n\nimport { FilterAndSearchHint } from './FilterAndSearchHint';\nimport { ReferenceList } from './ReferenceList';\nimport i18n, { I18nKey } from './i18n';\nimport NoResult from './no_search_results.svg';\n\ninterface ReferenceSearchPanelProps {\n  initValue: string;\n  searchFn: ReferenceWidgetProps['searchFn'];\n  selectedMap: SelectedIdMap;\n  onItemClick: ReferenceItemClickHandler;\n  onCreateEntity?: () => void;\n  addEntityMenu?: ReferenceWidgetAddEntityMenuProps;\n  onBack?: () => void;\n  closePageFn: () => void;\n  expandMode?: boolean;\n  useMenuList?: boolean;\n  getIcon?: (item: SimpleCrmObject) => React.ReactNode;\n  addEntityTooltip?: string;\n}\n\nexport const ReferenceSearchPanel: React.FC<ReferenceSearchPanelProps> = ({\n  initValue,\n  searchFn,\n  selectedMap,\n  onItemClick,\n  expandMode,\n  closePageFn,\n  onCreateEntity,\n  addEntityMenu,\n  onBack,\n  useMenuList,\n  getIcon,\n  addEntityTooltip,\n}) => {\n  const { t } = useLocale(i18n);\n\n  const [searchValue, setSearchValue] = React.useState(initValue);\n  const [noChangeSearchTerm, setNoChangeSearchTerm] = React.useState(false);\n  const [searching, setSearching] = React.useState(false);\n  const [searchError, setSearchError] = React.useState(false);\n  const [searchResult, setSearchResult] = React.useState<\n    displayList['values'] | undefined\n  >();\n\n  // Menu state for search panel\n  const [menuOpen, setMenuOpen] = useState(false);\n  const addEntityButtonRef = useRef<HTMLButtonElement>(null);\n\n  const handleMenuOpen = () => setMenuOpen(true);\n  const handleMenuClose = () => setMenuOpen(false);\n\n  const displayList = useMemo(\n    () =>\n      searchResult?.filter((record) => {\n        return record.name?.toLowerCase().includes(searchValue.toLowerCase());\n      }),\n    [searchResult, searchValue],\n  );\n\n  const searchHandler = useCallback(\n    async (searchTerm) => {\n      setSearching(true);\n      setSearchResult(void 0);\n      try {\n        const res = await searchFn?.(searchTerm);\n        setSearchResult(res);\n        setNoChangeSearchTerm(true);\n      } catch (error) {\n        setSearchError(true);\n        setSearchResult(void 0);\n      } finally {\n        setSearching(false);\n      }\n    },\n    [searchFn],\n  );\n\n  useEffect(() => {\n    // init search\n    searchHandler(searchValue);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const searchTitle = t('search');\n  const notFoundAnyResult = noChangeSearchTerm && searchResult?.length === 0;\n\n  const noResultMainContent = (\n    <div className=\"flex-col flex justify-center items-center gpa-3 mt-24\">\n      <NoResult height={120} width={120} />\n      <div className=\"text-center text-14 text-gray-500\">\n        {t('noSearchResult')}\n      </div>\n    </div>\n  );\n\n  const searchingContent = (\n    <div className=\"flex-col flex justify-center items-center gpa-4 mt-40\">\n      <CircularProgressIndicator size=\"large\" />\n    </div>\n  );\n\n  const onPressEnter = useCallback(\n    (e: React.KeyboardEvent) => {\n      if (e.key === 'Enter') {\n        if (searching || notFoundAnyResult) return;\n        searchHandler(searchValue);\n      }\n    },\n    [searchHandler, searchValue, searching, notFoundAnyResult],\n  );\n\n  // Wrap onItemClick to close the panel after selection in menuList (single select) mode\n  const handleItemClick = useCallback(\n    (item, selected) => {\n      onItemClick(item, selected);\n      if (useMenuList) {\n        closePageFn();\n      }\n    },\n    [onItemClick, useMenuList, closePageFn],\n  );\n\n  return (\n    <ExpandedLayoutPopper expanded={Boolean(expandMode)}>\n      <FocusTrap open>\n        <div\n          className=\"outline-none flex flex-col h-full\"\n          data-sign=\"referenceSearchPanel\"\n          tabIndex={-1}\n        >\n          <PageHeader\n            onBackClick={() => {\n              closePageFn();\n              onBack?.();\n            }}\n            endAdornment={\n              <IconButton\n                TooltipProps={{\n                  title: addEntityTooltip,\n                }}\n                data-sign=\"addEntity\"\n                symbol={PlusMd}\n                color=\"secondary\"\n                variant=\"icon\"\n                ref={addEntityButtonRef}\n                onClick={() => {\n                  if (addEntityMenu) {\n                    handleMenuOpen();\n                  } else {\n                    onCreateEntity?.();\n                  }\n                }}\n              />\n            }\n            className=\"h-14\"\n          >\n            <span\n              className=\"sui-text sui-text-root truncate\"\n              title={searchTitle}\n            >\n              {searchTitle}\n            </span>\n          </PageHeader>\n          <div className=\"gap-3\">\n            <div className=\"mx-4\">\n              <TextField\n                size=\"medium\"\n                inputProps={{\n                  'data-sign': 'searchPanelSearchInput',\n                }}\n                value={searchValue}\n                disabled={searching}\n                fullWidth\n                onChange={(e) => {\n                  setSearchValue(e.target.value);\n                  setNoChangeSearchTerm(false);\n                }}\n                clearBtn\n                startAdornment={<Icon symbol={SearchMd} size=\"small\" />}\n                onKeyDown={onPressEnter}\n              />\n            </div>\n            {searching && searchingContent}\n\n            {!searching && !notFoundAnyResult && (\n              <FilterAndSearchHint\n                searchValue={searchValue}\n                onClickHandler={() => searchHandler(searchValue)}\n                enableSearch={true}\n              />\n            )}\n          </div>\n\n          {!notFoundAnyResult && displayList && displayList.length > 0 && (\n            <ReferenceList\n              list={displayList}\n              onItemClick={handleItemClick}\n              selectedMap={selectedMap}\n              highLightText={searchValue}\n              useMenuList={useMenuList}\n              getIcon={getIcon}\n            />\n          )}\n\n          {notFoundAnyResult && noResultMainContent}\n        </div>\n      </FocusTrap>\n      {addEntityMenu && (\n        <Menu\n          open={menuOpen}\n          anchorEl={() => addEntityButtonRef.current}\n          onClose={handleMenuClose}\n        >\n          {addEntityMenu.options.map((option) => (\n            <MenuItem\n              key={option.type}\n              onClick={() => {\n                addEntityMenu.onSelect(option.type);\n                handleMenuClose();\n              }}\n            >\n              <span className=\"mr-2\">{option.icon}</span>\n              <MenuItemText>{option.label}</MenuItemText>\n            </MenuItem>\n          ))}\n        </Menu>\n      )}\n    </ExpandedLayoutPopper>\n  );\n};\n"],"mappings":"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","ignoreList":[]}