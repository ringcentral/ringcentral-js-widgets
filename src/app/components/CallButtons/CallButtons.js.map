{"version":3,"file":"CallButtons.js","names":["_Tooltip","require","_springIcon","_springUi","_clsx","_interopRequireDefault","_react","_excluded","_excluded2","_excluded3","e","__esModule","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","_objectWithoutProperties","o","i","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","CallButtonContainer","exports","_ref","children","size","label","TooltipProps","className","onMouseOver","onMouseLeave","createElement","Tooltip","twMerge","CUSTOM_SIZE_MAP","small","answer","action","medium","large","xlarge","ICON_MAP","iconSize","ICON_CONTAINER_MAP","GroupButton","_ref2","onClick","rest","handleKeyDown","useA11yKeyEvent","tabIndex","role","onKeyDown","clsx","EndAndAnswerButton","_ref3","disabled","iconSizes","customClasses","icon","IconButton","symbol","CallFilledMd","color","variant","AnswerAndHoldButton","_ref4","HoldFilledMd"],"sources":["src/app/components/CallButtons/CallButtons.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/mouse-events-have-key-events */\nimport { Tooltip } from '@ringcentral-integration/next-widgets/components/Tooltip';\nimport { CallFilledMd, HoldFilledMd } from '@ringcentral/spring-icon';\nimport {\n  IconButton,\n  IconButtonProps,\n  twMerge,\n  useA11yKeyEvent,\n} from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { FunctionComponent } from 'react';\n\nexport type EndAndHoldProps = {\n  size: 'large' | 'xlarge' | 'small' | 'medium';\n} & Omit<IconButtonProps, 'size'>;\n\nexport const CallButtonContainer: FunctionComponent<EndAndHoldProps> = ({\n  children,\n  size,\n  label,\n  TooltipProps,\n  className,\n  onMouseOver,\n  onMouseLeave,\n}) => {\n  // TODO: spring-ui issue focus inside on children should also show the tooltip\n  return (\n    <Tooltip {...TooltipProps}>\n      <div\n        onMouseOver={onMouseOver as any}\n        onMouseLeave={onMouseLeave as any}\n        data-button-container\n        className={twMerge(\n          'inline-flex items-center justify-start flex-col',\n          size === 'small' && 'gap-1',\n          size === 'large' && 'gap-1',\n          size === 'xlarge' && 'gap-2 w-20',\n          className,\n        )}\n      >\n        {children}\n\n        {label && (\n          <div className=\"typography-descriptorMini text-center\">{label}</div>\n        )}\n      </div>\n    </Tooltip>\n  );\n};\n\nconst CUSTOM_SIZE_MAP = {\n  small: {\n    answer: 'size-7',\n    action: 'size-5',\n  },\n  medium: {\n    answer: 'size-6',\n    action: 'size-4',\n  },\n  large: null,\n  xlarge: null,\n};\n\nconst ICON_MAP = {\n  small: { size: 'small' as const, iconSize: 'xsmall' as const },\n  medium: { size: 'small' as const, iconSize: 'xsmall' as const },\n  large: { size: 'small' as const, iconSize: 'xsmall' as const },\n  xlarge: { size: 'medium' as const, iconSize: 'small' as const },\n};\nconst ICON_CONTAINER_MAP = {\n  small: 'size-9',\n  medium: 'size-8',\n  large: 'size-[48px]',\n  xlarge: 'size-16',\n};\n\nconst GroupButton: FunctionComponent<EndAndHoldProps> = ({\n  size,\n  children,\n  onClick,\n  ...rest\n}) => {\n  const handleKeyDown = useA11yKeyEvent(onClick);\n\n  return (\n    <div\n      {...(rest as any)}\n      tabIndex={0}\n      role=\"button\"\n      onClick={onClick as any}\n      onKeyDown={handleKeyDown}\n      className={clsx(\n        'relative focus-visible:focus-ring-normal outline-none',\n        ICON_CONTAINER_MAP[size],\n      )}\n    >\n      <div className=\"pointer-events-none\">{children}</div>\n      <div className=\"hover:bg-neutral-base/20 active:bg-neutral-base/30 absolute top-0 left-0 size-full\"></div>\n    </div>\n  );\n};\n\nexport const EndAndAnswerButton: FunctionComponent<EndAndHoldProps> = ({\n  onClick,\n  disabled,\n  size,\n  ...rest\n}) => {\n  const iconSizes = ICON_MAP[size];\n  const customClasses = CUSTOM_SIZE_MAP[size];\n\n  const icon = (\n    <GroupButton\n      size={size}\n      onClick={onClick}\n      data-sign={(rest as any)['data-sign']}\n    >\n      <IconButton\n        tabIndex={-1}\n        className={clsx(\n          customClasses?.action,\n          'absolute top-0 left-0 rotate-[135deg]',\n        )}\n        {...iconSizes}\n        symbol={CallFilledMd}\n        color=\"danger\"\n        variant=\"contained\"\n        disabled={disabled}\n      />\n      <IconButton\n        tabIndex={-1}\n        className={clsx(customClasses?.answer, 'absolute bottom-0 right-0')}\n        size={size}\n        symbol={CallFilledMd}\n        color=\"success\"\n        variant=\"contained\"\n        disabled={disabled}\n      />\n    </GroupButton>\n  );\n\n  return (\n    <CallButtonContainer size={size} {...rest}>\n      {icon}\n    </CallButtonContainer>\n  );\n};\n\nexport const AnswerAndHoldButton: FunctionComponent<EndAndHoldProps> = ({\n  onClick,\n  disabled,\n  size,\n  ...rest\n}) => {\n  const iconSizes = ICON_MAP[size];\n  const customClasses = CUSTOM_SIZE_MAP[size];\n\n  const icon = (\n    <GroupButton\n      size={size}\n      onClick={onClick}\n      data-sign={(rest as any)['data-sign']}\n    >\n      <IconButton\n        tabIndex={-1}\n        className={clsx(customClasses?.action, 'absolute top-0 left-0')}\n        {...iconSizes}\n        symbol={HoldFilledMd}\n        color=\"primary\"\n        variant=\"contained\"\n        disabled={disabled}\n      />\n      <IconButton\n        tabIndex={-1}\n        className={clsx(customClasses?.answer, 'absolute bottom-0 right-0')}\n        size={size}\n        symbol={CallFilledMd}\n        color=\"success\"\n        variant=\"contained\"\n        disabled={disabled}\n      />\n    </GroupButton>\n  );\n\n  return (\n    <CallButtonContainer size={size} {...rest}>\n      {icon}\n    </CallButtonContainer>\n  );\n};\n"],"mappings":"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","ignoreList":[]}