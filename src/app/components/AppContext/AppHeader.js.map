{"version":3,"file":"AppHeader.js","names":["_react","require","_AppContext","AppHeaderNav","exports","_ref","children","_ref$override","override","title","_ref$resetImmediately","resetImmediately","process","env","THEME_SYSTEM","_useContext","useContext","AppContext","setNav","setNavOverrideMode","setTitle","reset","cancelReset","useLayoutEffect","useAppHeader","_ref2","defaultNav","_useContext2","nav","navOverrideMode"],"sources":["src/app/components/AppContext/AppHeader.tsx"],"sourcesContent":["import React, { FunctionComponent, useContext, useLayoutEffect } from 'react';\n\nimport { AppContext } from './AppContext';\n\n/**\n * render content at the header navigation area.\n *\n * by default that is not override the default nav header, will keep the default user avatar and title\n *\n * if you need full customize that header, set the `override` to `true` to override the default nav header.\n */\nexport const AppHeaderNav: FunctionComponent<{\n  children: React.ReactNode;\n  override?: boolean;\n  title?: React.ReactNode;\n  resetImmediately?: boolean;\n}> = ({ children, override = false, title, resetImmediately = true }) => {\n  // for non spring-ui project, just return the children\n  if (process.env.THEME_SYSTEM !== 'spring-ui') {\n    return children as any;\n  }\n\n  const { setNav, setNavOverrideMode, setTitle, reset, cancelReset } =\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useContext(AppContext);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useLayoutEffect(() => {\n    cancelReset();\n    setNav(children);\n    setNavOverrideMode(override);\n    setTitle(title);\n\n    return () => reset(resetImmediately);\n  }, [\n    children,\n    title,\n    override,\n    setNavOverrideMode,\n    setNav,\n    setTitle,\n    cancelReset,\n    reset,\n    resetImmediately,\n  ]);\n\n  return null;\n};\n\nexport const useAppHeader = ({\n  defaultNav,\n}: {\n  defaultNav: React.ReactNode;\n}) => {\n  const { nav, navOverrideMode: override, title } = useContext(AppContext);\n\n  return {\n    nav: nav || defaultNav,\n    override,\n    title,\n  };\n};\n"],"mappings":";;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAEA,IAAAC,WAAA,GAAAD,OAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,IAAME,YAKX,GAAAC,OAAA,CAAAD,YAAA,GAAG,SALQA,YAKXA,CAAAE,IAAA,EAAuE;EAAA,IAAjEC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IAAAC,aAAA,GAAAF,IAAA,CAAEG,QAAQ;IAARA,QAAQ,GAAAD,aAAA,cAAG,KAAK,GAAAA,aAAA;IAAEE,KAAK,GAAAJ,IAAA,CAALI,KAAK;IAAAC,qBAAA,GAAAL,IAAA,CAAEM,gBAAgB;IAAhBA,gBAAgB,GAAAD,qBAAA,cAAG,IAAI,GAAAA,qBAAA;EAChE;EACA,IAAIE,OAAO,CAACC,GAAG,CAACC,YAAY,KAAK,WAAW,EAAE;IAC5C,OAAOR,QAAQ;EACjB;EAEA,IAAAS,WAAA;IACE;IACA,IAAAC,iBAAU,EAACC,sBAAU,CAAC;IAFhBC,MAAM,GAAAH,WAAA,CAANG,MAAM;IAAEC,kBAAkB,GAAAJ,WAAA,CAAlBI,kBAAkB;IAAEC,QAAQ,GAAAL,WAAA,CAARK,QAAQ;IAAEC,KAAK,GAAAN,WAAA,CAALM,KAAK;IAAEC,WAAW,GAAAP,WAAA,CAAXO,WAAW;;EAIhE;EACA,IAAAC,sBAAe,EAAC,YAAM;IACpBD,WAAW,CAAC,CAAC;IACbJ,MAAM,CAACZ,QAAQ,CAAC;IAChBa,kBAAkB,CAACX,QAAQ,CAAC;IAC5BY,QAAQ,CAACX,KAAK,CAAC;IAEf,OAAO;MAAA,OAAMY,KAAK,CAACV,gBAAgB,CAAC;IAAA;EACtC,CAAC,EAAE,CACDL,QAAQ,EACRG,KAAK,EACLD,QAAQ,EACRW,kBAAkB,EAClBD,MAAM,EACNE,QAAQ,EACRE,WAAW,EACXD,KAAK,EACLV,gBAAgB,CACjB,CAAC;EAEF,OAAO,IAAI;AACb,CAAC;AAEM,IAAMa,YAAY,GAAApB,OAAA,CAAAoB,YAAA,GAAG,SAAfA,YAAYA,CAAAC,KAAA,EAInB;EAAA,IAHJC,UAAU,GAAAD,KAAA,CAAVC,UAAU;EAIV,IAAAC,YAAA,GAAkD,IAAAX,iBAAU,EAACC,sBAAU,CAAC;IAAhEW,GAAG,GAAAD,YAAA,CAAHC,GAAG;IAAmBpB,QAAQ,GAAAmB,YAAA,CAAzBE,eAAe;IAAYpB,KAAK,GAAAkB,YAAA,CAALlB,KAAK;EAE7C,OAAO;IACLmB,GAAG,EAAEA,GAAG,IAAIF,UAAU;IACtBlB,QAAQ,EAARA,QAAQ;IACRC,KAAK,EAALA;EACF,CAAC;AACH,CAAC","ignoreList":[]}