{"version":3,"file":"AppFooter.js","names":["_react","_interopRequireWildcard","require","_AppContext","_ToastPositionAdjustor","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","empty","createElement","Fragment","AppFooterNav","exports","_ref","_ref$children","children","_ref$additionalHeight","additionalHeight","process","env","THEME_SYSTEM","_useContext","useContext","AppContext","setFooter","additionalFooterHeightRef","useLayoutEffect","current","useAppFooter","_ref2","defaultFooter","_ref2$calculateHeight","calculateHeight","additionalFooterHeight","_useContext2","footer","footerElement","useMemo","ToastPositionAdjustor","useFooterHeight","_useContext3","footerHeight"],"sources":["src/app/components/AppContext/AppFooter.tsx"],"sourcesContent":["import React, {\n  FunctionComponent,\n  useContext,\n  useLayoutEffect,\n  useMemo,\n} from 'react';\n\nimport { AppContext } from './AppContext';\nimport { ToastPositionAdjustor } from './ToastPositionAdjustor';\n\nconst empty = <></>;\n\n/**\n * render content at the footer navigation area.\n *\n * by default will render the app nav, if you not want show the, just put `<AppFooterNav />` in the component.\n */\nexport const AppFooterNav: FunctionComponent<{\n  additionalHeight?: number;\n  children?: React.ReactNode;\n}> = ({ children = empty, additionalHeight = 0 }) => {\n  // for non spring-ui project, just return the children\n  if (process.env.THEME_SYSTEM !== 'spring-ui') {\n    return children as any;\n  }\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const { setFooter, additionalFooterHeightRef } = useContext(AppContext);\n\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  useLayoutEffect(() => {\n    additionalFooterHeightRef.current = additionalHeight;\n    setFooter(children);\n\n    return () => {\n      additionalFooterHeightRef.current = 0;\n      setFooter(null);\n    };\n  }, [additionalHeight, children, additionalFooterHeightRef, setFooter]);\n\n  return null;\n};\n\ntype UseAppFooterProps = {\n  defaultFooter: React.ReactNode;\n  calculateHeight?: boolean;\n  additionalFooterHeight?: number;\n};\n\nexport const useAppFooter = ({\n  defaultFooter,\n  calculateHeight = true,\n  additionalFooterHeight,\n}: UseAppFooterProps) => {\n  const { footer } = useContext(AppContext);\n\n  const footerElement = useMemo(\n    () => <footer>{footer || defaultFooter}</footer>,\n    [defaultFooter, footer],\n  );\n\n  return {\n    footer: calculateHeight ? (\n      <ToastPositionAdjustor additionalFooterHeight={additionalFooterHeight}>\n        {footerElement}\n      </ToastPositionAdjustor>\n    ) : (\n      footerElement\n    ),\n  };\n};\n\nexport const useFooterHeight = () => {\n  const { footerHeight } = useContext(AppContext);\n  return footerHeight;\n};\n"],"mappings":"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","ignoreList":[]}