{"version":3,"file":"SelectableTextField.js","names":["_springUi","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","u","next","done","push","value","isArray","motionProps","getGrow","direction","transformOrigin","vertical","horizontal","SelectableTextField","exports","_ref","label","options","onChange","_ref$disabled","disabled","_ref$searchable","searchable","_ref$freeSoloOptionLa","freeSoloOptionLabel","inputRef","useRef","ref","focusedIndexRef","_useState","useState","_useState2","inputFocus","setInputFocus","_useState3","_useState4","menuOpened","_setMenuOpened","_useState5","_useState6","searching","setSearching","_useRefState","useRefState","_useRefState2","innerValueRef","setInnerValue","forceUpdate","useForceUpdate","innerValue","current","displayOptions","useMemo","filter","_ref2","includes","selectedLabel","selected","find","option","hasOptions","setMenuOpened","val","focusInput","_inputRef$current","focus","_useEventListener","useEventListener","once","startImmediately","listenRootKeyDown","listen","stopListenRootKeyDown","remove","focusRoot","rootElm","tabIndex","selectItem","_useKeyboardMoveFocus","useKeyboardMoveFocus","infinite","columns","onFocusedIndexChange","event","toIndex","preventDefault","onKeyFocusedIndexHandle","hideLabel","createElement","TextField","classes","formFieldContent","RootProps","className","onClick","onBlur","fullWidth","clsx","size","clearBtn","inputProps","maxLength","startAdornment","title","endAdornment","Squircle","interactive","ExpandCollapseCaret","expanded","undefined","variant","currentValue","target","onFocus","onKeyDown","key","trim","_options$","Menu","disableAutoFocus","disableRestoreFocus","disableBackdropClick","hideBackdrop","placement","PopperProps","offset","matchAnchorWidth","open","Boolean","anchorEl","onClose","map","_ref3","ListItem","divider","focused","onMouseDown"],"sources":["src/app/components/SelectableTextField/SelectableTextField.tsx"],"sourcesContent":["import {\n  ExpandCollapseCaret,\n  getGrow,\n  ListItem,\n  Menu,\n  Squircle,\n  TextField,\n  useEventListener,\n  useForceUpdate,\n  useKeyboardMoveFocus,\n  useRefState,\n} from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { useMemo, useRef, useState } from 'react';\n\ninterface SelectableTextFieldProps {\n  label: string;\n  options: { label: string; value: string }[];\n  value: string;\n  onChange: (newValue: string) => void;\n  disabled?: boolean;\n  searchable?: boolean;\n  /**\n   * Label for the custom option\n   */\n  freeSoloOptionLabel?: string;\n}\n\nconst motionProps = getGrow({\n  direction: 'y',\n  transformOrigin: {\n    vertical: 'bottom',\n    horizontal: 'center',\n  },\n});\n\n/**\n * A text field with a dropdown menu that allows selecting from a list of options.\n *\n * also support search feature when `searchable` is `true`\n */\nexport const SelectableTextField: React.FC<SelectableTextFieldProps> = ({\n  label,\n  options,\n  value,\n  onChange,\n  disabled = false,\n  searchable = false,\n  freeSoloOptionLabel = 'Custom',\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const ref = useRef<HTMLDivElement>(null);\n  const focusedIndexRef = useRef(-1);\n\n  const [inputFocus, setInputFocus] = useState(false);\n  const [menuOpened, _setMenuOpened] = useState(false);\n  const [searching, setSearching] = useState(false);\n  const [innerValueRef, setInnerValue] = useRefState(value);\n  const forceUpdate = useForceUpdate();\n\n  const innerValue = innerValueRef.current;\n\n  const displayOptions = useMemo(() => {\n    if (!searching || !searchable) return options;\n\n    return options.filter(({ value }) => value.includes(innerValue));\n  }, [options, innerValue, searching, searchable]);\n\n  const selectedLabel = useMemo(() => {\n    if (!value) return '';\n\n    const selected = options.find((option) => option.value === value);\n    return selected ? selected.label : freeSoloOptionLabel;\n  }, [value, options, freeSoloOptionLabel]);\n\n  const hasOptions = options.length > 0;\n\n  const setMenuOpened = (val: boolean) => {\n    if (menuOpened && menuOpened !== val) {\n      focusedIndexRef.current = -1;\n      setSearching(false);\n    }\n    _setMenuOpened(val);\n  };\n\n  const focusInput = () => {\n    inputRef.current?.focus();\n  };\n\n  const { listen: listenRootKeyDown, remove: stopListenRootKeyDown } =\n    useEventListener(\n      ref,\n      'keydown',\n      () => {\n        focusInput();\n      },\n      {\n        once: true,\n        startImmediately: false,\n      },\n    );\n\n  const focusRoot = () => {\n    const rootElm = ref.current;\n    if (rootElm) {\n      rootElm.tabIndex = 0;\n      rootElm.focus();\n      listenRootKeyDown();\n    }\n  };\n\n  const selectItem = (value: string) => {\n    setMenuOpened(false);\n    setInnerValue(value);\n    onChange(value);\n    setInputFocus(false);\n    focusRoot();\n  };\n\n  const { onKeyFocusedIndexHandle } = useKeyboardMoveFocus({\n    options: displayOptions,\n    focusedIndexRef,\n    infinite: true,\n    columns: 1,\n    onFocusedIndexChange: (event, toIndex) => {\n      event.preventDefault();\n      focusedIndexRef.current = toIndex;\n      forceUpdate();\n    },\n  });\n\n  const hideLabel = inputFocus || !hasOptions;\n\n  return (\n    <div>\n      <TextField\n        ref={ref}\n        classes={{\n          formFieldContent: 'pointer-events-none pr-2',\n        }}\n        RootProps={{\n          className: 'outline-none',\n          onClick: focusInput,\n          onBlur: () => {\n            stopListenRootKeyDown();\n            ref.current!.tabIndex = -1;\n          },\n        }}\n        inputRef={inputRef}\n        fullWidth\n        label={label}\n        className={clsx(!inputFocus && hasOptions && '[&_input]:text-right')}\n        size=\"large\"\n        clearBtn={false}\n        disabled={disabled}\n        inputProps={{\n          maxLength: 30,\n          'data-sign': 'autocompleteInput',\n        }}\n        startAdornment={\n          !!selectedLabel &&\n          !hideLabel && (\n            <span\n              data-sign=\"selectedLabel\"\n              className={clsx(\n                'typography-mainText max-w-20 truncate pointer-events-auto',\n              )}\n              title={selectedLabel}\n            >\n              {selectedLabel}\n            </span>\n          )\n        }\n        endAdornment={\n          hasOptions ? (\n            <Squircle\n              className={clsx(\n                'sui-select-chevron',\n                menuOpened\n                  ? 'text-primary-f sui-squircle-bg-color-neutral-b4'\n                  : '',\n              )}\n              interactive={false}\n            >\n              <ExpandCollapseCaret\n                tabIndex={-1}\n                size={'small'}\n                expanded={menuOpened}\n              />\n            </Squircle>\n          ) : undefined\n        }\n        value={inputFocus ? innerValueRef.current : value}\n        variant=\"outlined\"\n        onChange={(e) => {\n          focusedIndexRef.current = -1;\n          const currentValue = e.target.value;\n          setInnerValue(currentValue);\n          if (searchable && menuOpened) {\n            setSearching(true);\n          }\n          setMenuOpened(true);\n        }}\n        onFocus={() => {\n          setMenuOpened(true);\n          setInputFocus(true);\n        }}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter') {\n            if (menuOpened && focusedIndexRef.current >= 0) {\n              selectItem(displayOptions[focusedIndexRef.current].value);\n            } else {\n              focusRoot();\n            }\n            e.preventDefault();\n            return;\n          }\n\n          if (!menuOpened && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n            setMenuOpened(true);\n            focusedIndexRef.current = 0;\n            e.preventDefault();\n            return;\n          }\n\n          if (e.key === 'Escape') {\n            if (menuOpened) {\n              setMenuOpened(false);\n            } else {\n              setInnerValue(value, false);\n              focusRoot();\n            }\n            e.preventDefault();\n            return;\n          }\n\n          onKeyFocusedIndexHandle(e);\n        }}\n        onBlur={() => {\n          setMenuOpened(false);\n          setInputFocus(false);\n          const innerValue = innerValueRef.current;\n          if (!innerValue.trim()) {\n            setInnerValue(value);\n          } else {\n            onChange(innerValue || options?.[0]?.value || '');\n          }\n        }}\n      />\n      {!!hasOptions && (\n        <Menu\n          data-sign=\"autocompleteMenu\"\n          disableAutoFocus\n          disableRestoreFocus\n          disableBackdropClick\n          hideBackdrop\n          placement=\"bottom\"\n          PopperProps={{\n            offset: 0,\n            matchAnchorWidth: true,\n          }}\n          motionProps={motionProps}\n          open={Boolean(ref.current) && menuOpened}\n          anchorEl={ref.current}\n          onClose={() => {\n            setMenuOpened(false);\n          }}\n        >\n          {displayOptions.map(({ label, value }, i) => (\n            <ListItem\n              data-sign=\"selectMenuItem\"\n              key={value}\n              divider={false}\n              focused={focusedIndexRef.current === i}\n              onClick={() => {\n                selectItem(value);\n              }}\n              onMouseDown={(e) => {\n                e.preventDefault();\n              }}\n            >\n              <div className=\"flex justify-between w-full\">\n                <span>{label}</span>\n                <span>{value}</span>\n              </div>\n            </ListItem>\n          ))}\n        </Menu>\n      )}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}