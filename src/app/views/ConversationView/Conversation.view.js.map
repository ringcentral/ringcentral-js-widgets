{"version":3,"file":"Conversation.view.js","names":["_trackEvents","require","_formatNumber","_services","_services2","_services3","_views","_nextCore","_ConversationPanel","_interopRequireDefault","_react","_interopRequireWildcard","_services4","_excluded","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_class","_class2","_descriptor","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","ConversationView","exports","injectable","name","target","optional","undefined","metadata","Function","AppFeatures","Brand","Locale","DateTimeFormat","RegionSettings","Conversations","RateLimiter","ConnectivityMonitor","MessageStore","RouterPlugin","AccountInfo","ExtensionInfo","ConversationLogger","ContactMatcher","ConversationViewOptions","dynamic","Theme","track","_","href","linkType","startsWith","trackEvents","clickConversationHyperlink","_RcViewModule","_appFeatures","_brand","_locale","_dateTimeFormat","_regionSettings","_conversations","_rateLimiter","_connectivityMonitor","_messageStore","_router","_accountInfo","_extensionInfo","_conversationLogger","_contactMatcher","_conversationViewOptions","_this","params","_defaultOnLogConversation","_ref2","_callee","_ref","_this$_conversationLo","_ref$redirect","redirect","options","_context","logConversation","_x","_defaultDateTimeFormatter","formatDateTime","getMatcherContactList","phoneNumber","_this$_contactMatcher","ready","matcherNames","dataMapping","map","matcher","_matcher$phoneNumbers","concat","phoneNumbers","phoneType","getMatcherContactNameList","_this$_contactMatcher2","getMatcherContactName","join","conversationId","getUIProps","_ref3","_this$_conversationLo2","_this$_conversationLo3","_this$_conversationLo4","_this$_conversationLo5","_this$_extensionInfo","_this$_extensionInfo2","_this$_extensionInfo3","_ref3$enableContactFa","enableContactFallback","_ref3$showGroupNumber","showGroupNumberName","process","env","THEME_SYSTEM","_ref3$supportAttachme","supportAttachment","_ref3$supportEmoji","supportEmoji","_ref3$showContactDisp","showContactDisplayPlaceholder","_ref3$inputExpandable","inputExpandable","_ref3$perPage","perPage","disableLinks","restricted","connectivity","showSpinner","currentConversation","hasInputContent","messageText","attachments","isLogged","getIsInLoggedStatus","brand","hasSendMMSPermission","currentLocale","sendButtonDisabled","pushing","areaCode","countryCode","recipients","messages","conversation","autoLog","serverAutoLog","loadingNextPage","loadingOldMessages","enableCDC","isCDCEnabled","isMultipleSiteEnabled","currentSiteCode","site","code","maxExtensionNumberLength","disableAutoSelect","acceptFileTypes","getUIFunctions","_ref4","_this2","_ref4$dateTimeFormatt","dateTimeFormatter","_ref4$onLogConversati","onLogConversation","_ref4$conversationsPa","conversationsPath","renderExtraButton","replyToReceivers","text","unloadConversation","loadConversation","id","updateMessageText","_updateMessageText","_callee2","_context2","_x2","addAttachments","removeAttachment","attachment","formatPhone","formatNumber","goBack","_goBack","_callee3","_this2$_theme","_context3","slideOutViewTransition","_theme","reducedMotion","readMessages","loadPreviousMessages","fetchOldMessages","onLinkClick","_trackClickConversationHyperlink","component","props","_this3","_this$_conversationVi","useParams","_useRef","useRef","uiFunctions","current","_props","useConnector","uiProps","Component","JunoConversationPanel","createElement","RcViewModule"],"sources":["src/app/views/ConversationView/Conversation.view.tsx"],"sourcesContent":["import { trackEvents } from '@ringcentral-integration/commons/enums/trackEvents';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport {\n  AccountInfo,\n  AppFeatures,\n  ConnectivityMonitor,\n  ExtensionInfo,\n  RateLimiter,\n  RegionSettings,\n  track,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport { ContactMatcher } from '@ringcentral-integration/micro-contacts/src/app/services';\nimport {\n  Brand,\n  DateTimeFormat,\n  Locale,\n  type Theme,\n} from '@ringcentral-integration/micro-core/src/app/services';\nimport { slideOutViewTransition } from '@ringcentral-integration/micro-core/src/app/views';\nimport type { UIFunctions, UIProps } from '@ringcentral-integration/next-core';\nimport {\n  dynamic,\n  injectable,\n  optional,\n  RcViewModule,\n  RouterPlugin,\n  useConnector,\n  useParams,\n} from '@ringcentral-integration/next-core';\nimport JunoConversationPanel from '@ringcentral-integration/widgets/components/ConversationPanel';\nimport React, { useRef } from 'react';\n\nimport {\n  ConversationLogger,\n  Conversations,\n  MessageStore,\n} from '../../services';\n\nimport type {\n  ConversationPanelProps,\n  ConversationViewOptions,\n  ConversationViewProps,\n  IParams,\n} from './Conversation.view.interface';\n\n@injectable({\n  name: 'ConversationView',\n})\nexport class ConversationView extends RcViewModule {\n  @dynamic('Theme')\n  private _theme?: Theme;\n\n  private params: IParams = {};\n\n  get conversationId() {\n    return this.params.conversationId!;\n  }\n\n  constructor(\n    protected _appFeatures: AppFeatures,\n    protected _brand: Brand,\n    protected _locale: Locale,\n    protected _dateTimeFormat: DateTimeFormat,\n    protected _regionSettings: RegionSettings,\n    protected _conversations: Conversations,\n    protected _rateLimiter: RateLimiter,\n    protected _connectivityMonitor: ConnectivityMonitor,\n    protected _messageStore: MessageStore,\n    protected _router: RouterPlugin,\n    protected _accountInfo: AccountInfo,\n    protected _extensionInfo: ExtensionInfo,\n    @optional() protected _conversationLogger?: ConversationLogger,\n    @optional() protected _contactMatcher?: ContactMatcher,\n    @optional('ConversationViewOptions')\n    protected _conversationViewOptions?: ConversationViewOptions,\n  ) {\n    super();\n  }\n\n  getUIProps({\n    enableContactFallback = false,\n    showGroupNumberName = process.env.THEME_SYSTEM === 'spring-ui',\n    supportAttachment = process.env.THEME_SYSTEM === 'spring-ui',\n    supportEmoji = process.env.THEME_SYSTEM === 'spring-ui',\n    showContactDisplayPlaceholder = process.env.THEME_SYSTEM === 'spring-ui',\n    inputExpandable = process.env.THEME_SYSTEM === 'spring-ui',\n    perPage = 20,\n  }: ConversationViewProps): UIProps<ConversationPanelProps> {\n    const disableLinks =\n      this._rateLimiter.restricted || !this._connectivityMonitor.connectivity;\n    const showSpinner = !(\n      this._dateTimeFormat.ready &&\n      (!this._contactMatcher || this._contactMatcher.ready) &&\n      this._regionSettings.ready &&\n      this._conversations.ready &&\n      this._rateLimiter.ready &&\n      this._connectivityMonitor.ready &&\n      (!this._conversationLogger || this._conversationLogger.ready)\n    );\n    const currentConversation = this._conversations.currentConversation;\n    const hasInputContent =\n      (this._conversations.messageText &&\n        this._conversations.messageText.length > 0) ||\n      (this._conversations.attachments &&\n        this._conversations.attachments.length > 0);\n    const conversationId = this.conversationId;\n    const isLogged = !!(\n      conversationId &&\n      this._conversationLogger?.getIsInLoggedStatus?.(conversationId)\n    );\n    return {\n      brand: this._brand.name as string,\n      enableContactFallback,\n      showContactDisplayPlaceholder,\n      showGroupNumberName,\n      supportAttachment:\n        this._appFeatures.hasSendMMSPermission && supportAttachment,\n      supportEmoji,\n      currentLocale: this._locale.currentLocale,\n      conversationId: conversationId,\n      sendButtonDisabled:\n        this._conversations.pushing ||\n        disableLinks ||\n        !hasInputContent ||\n        showSpinner,\n      areaCode: this._regionSettings.areaCode,\n      countryCode: this._regionSettings.countryCode,\n      showSpinner,\n      recipients: currentConversation.recipients,\n      messages: currentConversation.messages,\n      messageText: this._conversations.messageText,\n      attachments: this._conversations.attachments,\n      // TODO: remove the currentConversation, should just messages, not need bring with other data, that already be inside `formattedConversations`\n      conversation: currentConversation,\n      disableLinks,\n      autoLog:\n        !!this._conversationLogger?.autoLog ||\n        !!this._conversationLogger?.serverAutoLog,\n      perPage,\n      loadingNextPage: this._conversations.loadingOldMessages,\n      inputExpandable: !!inputExpandable,\n      enableCDC: this._appFeatures.isCDCEnabled,\n      isMultipleSiteEnabled: this._extensionInfo?.isMultipleSiteEnabled,\n      currentSiteCode: this._extensionInfo?.site?.code,\n      maxExtensionNumberLength: this._accountInfo.maxExtensionNumberLength,\n      disableAutoSelect: true,\n      acceptFileTypes: this._conversations.acceptFileTypes,\n    };\n  }\n\n  private _defaultOnLogConversation: NonNullable<\n    ConversationViewProps['onLogConversation']\n  > = async ({ redirect = true, ...options }) => {\n    await this._conversationLogger?.logConversation({\n      ...options,\n      redirect,\n    });\n  };\n\n  private _defaultDateTimeFormatter: NonNullable<\n    ConversationViewProps['dateTimeFormatter']\n  > = (options) => this._dateTimeFormat.formatDateTime(options)!;\n\n  // let getMatcherContactName: ConversationPanelProps['getMatcherContactName'];\n  // let getMatcherContactList: ;\n  // let getMatcherContactNameList: ConversationPanelProps['getMatcherContactNameList'];\n  getMatcherContactList: ConversationPanelProps['getMatcherContactList'] = (\n    phoneNumber,\n  ) => {\n    if (this._contactMatcher?.ready) {\n      const matcherNames = this._contactMatcher.dataMapping[phoneNumber];\n      if (matcherNames?.length > 0) {\n        return matcherNames.map(\n          (matcher) =>\n            `${matcher.name} | ${matcher.phoneNumbers?.[0].phoneType}`,\n        );\n      }\n    }\n\n    return [];\n  };\n  getMatcherContactNameList: ConversationPanelProps['getMatcherContactNameList'] =\n    (phoneNumber) => {\n      if (this._contactMatcher?.ready) {\n        const matcherNames = this._contactMatcher.dataMapping[phoneNumber];\n        if (matcherNames?.length > 0) {\n          return matcherNames.map((matcher) => matcher.name);\n        }\n      }\n\n      return [];\n    };\n\n  getMatcherContactName: ConversationPanelProps['getMatcherContactName'] = (\n    phoneNumber,\n  ) => {\n    const matcherNames = this.getMatcherContactNameList(phoneNumber);\n    return matcherNames?.length > 0 ? matcherNames.join('&') : null;\n  };\n\n  getUIFunctions({\n    dateTimeFormatter = this._defaultDateTimeFormatter,\n    onLogConversation = this._defaultOnLogConversation,\n    conversationsPath = '/messages',\n    renderExtraButton,\n  }: ConversationViewProps): UIFunctions<ConversationPanelProps> {\n    return {\n      replyToReceivers: (text, attachments) =>\n        this._conversations.replyToReceivers(text, attachments),\n      unloadConversation: () => this._conversations.unloadConversation(),\n      loadConversation: (id) => this._conversations.loadConversation(id),\n      updateMessageText: async (text) =>\n        !!(await this._conversations.updateMessageText(text)),\n      addAttachments: (attachments) =>\n        this._conversations.addAttachments(attachments),\n      removeAttachment: (attachment) =>\n        this._conversations.removeAttachment(attachment),\n      dateTimeFormatter,\n      formatPhone: (phoneNumber) =>\n        formatNumber({\n          phoneNumber,\n          areaCode: this._regionSettings.areaCode,\n          countryCode: this._regionSettings.countryCode,\n        })!,\n      getMatcherContactName: this.getMatcherContactName,\n      getMatcherContactList: this.getMatcherContactList,\n      getMatcherContactNameList: this.getMatcherContactNameList,\n      onLogConversation,\n      goBack: async () => {\n        await slideOutViewTransition(\n          () => this._router.push(conversationsPath),\n          this._theme?.reducedMotion,\n        );\n      },\n      readMessages: (id) => {\n        this._messageStore.readMessages(id);\n      },\n      loadPreviousMessages: () => {\n        this._conversations.fetchOldMessages();\n      },\n      renderExtraButton,\n      onLinkClick: (href) => this._trackClickConversationHyperlink(href),\n    };\n  }\n\n  @track((_: ConversationView, href: string) => {\n    let linkType = 'website';\n    if (href.startsWith('mailto:')) {\n      linkType = 'email';\n    }\n    return [\n      trackEvents.clickConversationHyperlink,\n      { 'Hyperlink type': linkType },\n    ];\n  })\n  private _trackClickConversationHyperlink(href: string) {\n    //\n  }\n\n  component(props: ConversationViewProps) {\n    this.params = useParams<IParams>();\n\n    const { current: uiFunctions } = useRef(this.getUIFunctions(props));\n\n    const _props = useConnector(() => {\n      const uiProps = this.getUIProps(props);\n\n      return {\n        ...props,\n        ...uiProps,\n      };\n    });\n\n    const Component =\n      this._conversationViewOptions?.component || JunoConversationPanel;\n\n    return <Component {..._props} {...uiFunctions} />;\n  }\n}\n"],"mappings":"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","ignoreList":[]}