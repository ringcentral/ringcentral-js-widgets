{"version":3,"file":"ModalItemPanel.js","names":["_react","_interopRequireWildcard","require","_styles","_hooks","_components","_contexts","_i18n","_interopRequireDefault","_excluded","_excluded2","_excluded3","_excluded4","_excluded5","_templateObject","_templateObject2","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_extends","assign","bind","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","iterator","u","next","done","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","_taggedTemplateLiteral","freeze","raw","Dialog","styled","RcDialog","highContrastBorderStyle","RcDialogContent","palette2","Drawer","RcDrawer","DrawerWithNextOpen","exports","_ref","open","children","rest","_useState","useState","_useState2","drawerOpen","setDrawerOpen","useLayoutEffect","createElement","ModalItemPanel","memo","props","type","childrenSize","footerProp","footer","loadingOverlay","loading","confirmButtonTextProp","confirmButtonText","confirmButtonProps","onConfirm","cancelButtonTextProp","cancelButtonText","cancelButtonProps","onCancel","TitleProps","ContentProps","variant","disableBackdropClickProp","disableBackdropClick","ActionsProps","onClose","autoDisableBackdropClick","header","_useLocale","useLocale","i18n","isBlockClose","isLoading","handleClose","useEventCallback","reason","_useMemo","useMemo","_confirmButtonText","_confirmButtonText2","_cancelButtonText","showDefaultFooter","DefaultActionsFooter","loadingMode","payload","footerText","headerText","restProps","contextProps","modalMode","disableEscapeKeyDown","action","close","cancel","confirm","data","loadingMode2","payload2","footerText2","headerText2","restApplyProps","render","_Loading","RcLoading","_DialogContent","fullScreen","restApplyDrawerProps","ModalItemViewContext","Provider","anchor","PaperProps","role"],"sources":["src/app/views/ModalView/ModalItemView/ModalItemPanel/ModalItemPanel.tsx"],"sourcesContent":["import {\n  palette2,\n  RcDialog,\n  RcDialogContent,\n  RcDrawer,\n  RcLoading,\n  RcPopupBoxProps,\n  styled,\n  useEventCallback,\n} from '@ringcentral/juno';\nimport { DialogContent } from '@ringcentral/spring-ui';\nimport React, {\n  ComponentProps,\n  FunctionComponent,\n  memo,\n  ReactNode,\n  useLayoutEffect,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { highContrastBorderStyle } from '../../../../../styles';\nimport { useLocale } from '../../../../hooks';\nimport { DefaultActionsFooter } from '../../components';\nimport { ModalItemViewContext, ModalViewContextValue } from '../contexts';\n\nimport i18n from './i18n';\n\nexport type ModalItemProps<\n  T extends Record<string, any> = Record<string, any>,\n> = Omit<RcPopupBoxProps, 'data' | 'title'> & {\n  key: string;\n  /**\n   * variant of the modal\n   *\n   * @default 'modal'\n   */\n  type?: 'modal' | 'drawer';\n  /**\n   * variant of modal\n   *\n   * - `alert` alert modal with `confirm` button\n   * - `confirm` confirm modal with `confirm` and `cancel` button\n   * - `info` info modal no with any button, and have `close` button\n   */\n  variant?: 'alert' | 'confirm' | 'info';\n  /**\n   * loading mode, when `onConfirm` be call and that be a promise.\n   *\n   * @default 'button'\n   */\n  loadingMode?: 'overlap' | 'button' | 'none';\n  /**\n   * auto disableBackdropClick handling when loading,\n   * only works when `disableBackdropClick` is set to `false`\n   *\n   * @default true\n   */\n  autoDisableBackdropClick?: boolean;\n  /**\n   * If `true`, clicking the backdrop will not fire the `onClose` callback.\n   *\n   * @default true\n   */\n  disableBackdropClick?: boolean;\n  /**\n   * JSON payload pass when open\n   */\n  payload?: T;\n  /**\n   * header view node\n   */\n  header?: ReactNode | null;\n  /**\n   * controlls padding\n   * of title, action btns and body content\n   * along with width of the modal,\n   *\n   * @default false\n   */\n  isCompact?: boolean;\n  /**\n   * props passed to DialogContent component\n   */\n  ContentProps?: ComponentProps<typeof DialogContent>;\n};\n\nconst Dialog = styled(RcDialog)`\n  ${highContrastBorderStyle('top')};\n\n  ${RcDialogContent} {\n    color: ${palette2('neutral', 'f06')};\n  }\n`;\n\nconst Drawer = styled(RcDrawer)`\n  ${highContrastBorderStyle('top')};\n\n  ${RcDialogContent} {\n    color: ${palette2('neutral', 'f06')};\n  }\n`;\n\n/**\n * drawer will need the open change state, if init be open directly that will miss the animation\n */\nexport const DrawerWithNextOpen: FunctionComponent<\n  ComponentProps<typeof Drawer>\n> = ({ open, children, ...rest }) => {\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  useLayoutEffect(() => {\n    setDrawerOpen(open || false);\n  }, [open]);\n\n  return (\n    <Drawer open={drawerOpen} {...rest}>\n      {children}\n    </Drawer>\n  );\n};\n\ntype AdditionModalItemContextPass = {\n  headerText?: string | null;\n  footerText?: null;\n};\n\nexport type ModalItemPanelProps = ModalItemProps &\n  AdditionModalItemContextPass & {\n    renderType?: ModalItemProps['type'];\n  };\n\nexport const ModalItemPanel: FunctionComponent<ModalItemPanelProps> = memo(\n  (props) => {\n    const {\n      type,\n      childrenSize,\n      footer: footerProp,\n      loadingOverlay,\n      loading,\n      confirmButtonText: confirmButtonTextProp,\n      confirmButtonProps,\n      onConfirm,\n      cancelButtonText: cancelButtonTextProp,\n      cancelButtonProps,\n      onCancel,\n      TitleProps,\n      ContentProps,\n      variant,\n      disableBackdropClick: disableBackdropClickProp,\n      ActionsProps,\n      children,\n      onClose,\n      autoDisableBackdropClick,\n      open,\n      header,\n      ...rest\n    } = props;\n\n    const { t } = useLocale(i18n);\n\n    const isBlockClose =\n      (autoDisableBackdropClick && (loading || loadingOverlay)) ||\n      disableBackdropClickProp;\n\n    const isLoading = loading || loadingOverlay || isBlockClose;\n\n    const disableBackdropClick = disableBackdropClickProp || isLoading;\n\n    const handleClose = useEventCallback((e, reason) => {\n      if (!open) return;\n\n      if (reason === 'backdropClick' && disableBackdropClick) return;\n\n      onClose?.(e, reason);\n      onCancel?.(e, reason);\n    });\n\n    const { confirmButtonText, cancelButtonText } = useMemo(() => {\n      let confirmButtonText = confirmButtonTextProp;\n      let cancelButtonText = cancelButtonTextProp;\n\n      switch (variant) {\n        case 'alert':\n          confirmButtonText = confirmButtonText ?? t('ok');\n          break;\n\n        case 'confirm':\n          confirmButtonText = confirmButtonText ?? t('ok');\n          cancelButtonText = cancelButtonText ?? t('cancel');\n          break;\n        default:\n          break;\n      }\n\n      return { confirmButtonText, cancelButtonText };\n    }, [confirmButtonTextProp, cancelButtonTextProp, variant, t]);\n\n    const showDefaultFooter = cancelButtonText || confirmButtonText;\n\n    const footer = showDefaultFooter ? <DefaultActionsFooter /> : footerProp;\n\n    const {\n      loadingMode,\n      payload,\n      // pick only\n      footerText,\n      headerText,\n      ...restProps\n    } = props;\n\n    const contextProps: ModalViewContextValue = {\n      modalMode: true,\n      props: {\n        disableEscapeKeyDown: isLoading,\n        disableBackdropClick,\n        ...restProps,\n        loadingMode,\n        payload,\n        confirmButtonText,\n        cancelButtonText,\n        footer: footerText,\n        header: headerText,\n        // as any for we change onEvent callback reason value os must to do that.\n        onClose: handleClose as any,\n        onCancel: onCancel as any,\n      },\n      action: {\n        close: (reason) => {\n          onClose?.({}, reason as any);\n        },\n        cancel: (reason) => {\n          onCancel?.({}, reason as any);\n        },\n        confirm: (data) => {\n          onConfirm?.(data as any);\n        },\n      },\n    };\n\n    const {\n      // pick only\n      loadingMode: loadingMode2,\n      payload: payload2,\n      footerText: footerText2,\n      headerText: headerText2,\n      ...restApplyProps\n    } = rest;\n\n    const render = (\n      <RcLoading loading={loadingOverlay!}>\n        {header}\n        <RcDialogContent {...ContentProps}>{children}</RcDialogContent>\n        {footer}\n      </RcLoading>\n    );\n\n    const {\n      // pick only\n      fullScreen,\n      ...restApplyDrawerProps\n    } = restApplyProps;\n\n    return (\n      <ModalItemViewContext.Provider value={contextProps}>\n        {type === 'drawer' ? (\n          <DrawerWithNextOpen\n            disableEscapeKeyDown={isLoading}\n            onClose={handleClose}\n            anchor=\"bottom\"\n            open={open}\n            PaperProps={{\n              role: 'dialog',\n            }}\n            {...restApplyDrawerProps}\n          >\n            {render}\n          </DrawerWithNextOpen>\n        ) : (\n          <Dialog\n            childrenSize={childrenSize}\n            disableEscapeKeyDown={isLoading}\n            onClose={handleClose}\n            open={open}\n            {...restApplyProps}\n          >\n            {render}\n          </Dialog>\n        )}\n      </ModalItemViewContext.Provider>\n    );\n  },\n);\n"],"mappings":"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","ignoreList":[]}