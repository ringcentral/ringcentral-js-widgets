{"version":3,"file":"SmsTemplate.view.js","names":["_services","require","_hooks","_services2","_views","_i18n","_interopRequireDefault","_nextCore","_springUi","_copyToClipboard","_react","_services3","_TemplatePopover","_i18n2","_interopRequireWildcard","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_class","_class2","_descriptor","_descriptor2","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Symbol","iterator","constructor","prototype","_regenerator","toStringTag","c","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","_initializerWarningHelper","Error","SmsTemplateView","exports","injectable","name","target","optional","undefined","metadata","Function","ModalView","SmsTemplate","Toast","SmsTemplateViewOptions","delegate","_RcViewModule","_modalView","smsTemplate","toast","_smsTemplateViewOptions","_this","_openDeleteConfirmDialog","_callee","id","_this$_modalView$open","closed","success","_context","open","deleteConfirmDialog","openDeleteConfirmDialog","_x","_openReplaceOrAddTemplateDialog","_callee2","_this$_modalView$open2","result","_context2","replaceOrAddTemplateDialog","openReplaceOrAddTemplateDialog","_x2","copyTemplate","content","_this2","writeText","uniqueManager","unique","getFinalContent","type","textarea","currentValue","_textarea$dataset$lat","latestPos","JSON","parse","dataset","start","position","end","endContent","newContent","_handleApplyTemplate","_callee3","targetInputRef","doesShowConfirm","info","finalContent","truncatedValue","newPosition","setNewPosition","_t","_context3","current","trim","dispatchEvent","CustomEvent","bubbles","detail","setSelectionPosition","scrollIntoView","setTimeout","requestAnimationFrame","trackEvent","templateActions","handleApplyTemplate","_x3","_x4","component","_ref","_this3","_useConnector","useConnector","templates","isLoading","handleCopyTemplate","handleDeleteTemplate","handleAddTemplate","_ref2","_callee4","title","_context4","createTemplate","_x5","_x6","handleUpdateTemplate","_ref3","_callee5","_context5","updateTemplate","_x7","_x8","_x9","createElement","TemplatePopover","onApplyTemplate","onCopy","onDelete","onAddTemplate","onUpdateTemplate","RcViewModule","portal","_this4","props","_ref4","header","variant","confirmButtonText","confirmButtonProps","color","onConfirm","_onConfirm","_callee6","_context6","deleteTemplate","view","_useLocale","useLocale","i18n","modalI18n","useModalItemView","action","Fragment","DialogTitle","DialogContent","DialogActions","Button","onClick","close","confirm"],"sources":["src/app/views/SmsTemplateView/SmsTemplate.view.tsx"],"sourcesContent":["import { trackEvent } from '@ringcentral-integration/micro-auth/src/app/services';\nimport { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { Toast } from '@ringcentral-integration/micro-core/src/app/services';\nimport {\n  ModalView,\n  useModalItemView,\n} from '@ringcentral-integration/micro-core/src/app/views';\nimport modalI18n from '@ringcentral-integration/micro-core/src/app/views/ModalView/ModalItemView/ModalItemPanel/i18n';\nimport {\n  delegate,\n  injectable,\n  optional,\n  portal,\n  RcViewModule,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport {\n  Button,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  type getSelectionPosition,\n  setSelectionPosition,\n} from '@ringcentral/spring-ui';\nimport writeText from 'copy-to-clipboard';\nimport React from 'react';\n\nimport { SmsTemplate } from '../../services';\n\nimport type {\n  SmsTemplateViewOptions,\n  SmsTemplateViewProps,\n} from './SmsTemplate.view.interface';\nimport { TemplatePopover } from './TemplatePopover';\nimport i18n, { t } from './i18n';\n\ntype UpdateTemplateType = 'add' | 'replace';\n\n@injectable({\n  name: 'SmsTemplateView',\n})\nexport class SmsTemplateView extends RcViewModule {\n  @portal\n  private deleteConfirmDialog = this._modalView.create<{\n    id: string;\n  }>({\n    props: ({ id }) => ({\n      'data-sign': 'deleteSmsTemplateConfirmDialog',\n      header: t('deleteTemplateConfirm'),\n      variant: 'confirm',\n      confirmButtonText: t('delete'),\n      confirmButtonProps: {\n        color: 'danger',\n      },\n      onConfirm: async () => {\n        const result = await this.smsTemplate.deleteTemplate(id);\n\n        if (result) {\n          trackEvent('Int_Text_useTemplate', {\n            templateActions: 'Delete',\n          });\n        }\n      },\n    }),\n  });\n\n  @portal\n  private replaceOrAddTemplateDialog = this._modalView.create({\n    view: () => {\n      const { t } = useLocale(i18n, modalI18n);\n\n      const info = useModalItemView();\n      const action = info.action!;\n\n      return (\n        <>\n          <DialogTitle>{t('replaceOrAddTemplate')}</DialogTitle>\n          <DialogContent>{t('replaceOrAddTemplateContent')}</DialogContent>\n          <DialogActions>\n            <Button\n              data-sign=\"DialogCancelButton\"\n              color=\"secondary\"\n              variant=\"outlined\"\n              onClick={() => {\n                action.close();\n              }}\n            >\n              {t('cancel')}\n            </Button>\n            <Button\n              data-sign=\"DialogAddButton\"\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => {\n                action.confirm({\n                  type: 'add',\n                });\n              }}\n            >\n              {t('add')}\n            </Button>\n            <Button\n              data-sign=\"DialogReplaceButton\"\n              color=\"primary\"\n              variant=\"contained\"\n              onClick={() => {\n                action.confirm({\n                  type: 'replace',\n                });\n              }}\n            >\n              {t('replace')}\n            </Button>\n          </DialogActions>\n        </>\n      );\n    },\n    props: () => ({\n      'data-sign': 'replaceOrAddTemplateDialog',\n      'aria-label': 'the dialog for replace or add template',\n      header: null,\n    }),\n  });\n\n  constructor(\n    private _modalView: ModalView,\n    private smsTemplate: SmsTemplate,\n    private toast: Toast,\n    @optional('SmsTemplateViewOptions')\n    private _smsTemplateViewOptions?: SmsTemplateViewOptions,\n  ) {\n    super();\n  }\n\n  @delegate('server')\n  async openDeleteConfirmDialog(id: string) {\n    const { closed } = this._modalView.open(this.deleteConfirmDialog, {\n      id,\n    });\n    const success = await closed;\n    return !!success;\n  }\n\n  @delegate('server')\n  async openReplaceOrAddTemplateDialog(id: string) {\n    const { closed } = this._modalView.open(this.replaceOrAddTemplateDialog, {\n      id,\n    });\n    const result = await closed;\n\n    return result;\n  }\n\n  copyTemplate(content: string) {\n    if (content && writeText(content)) {\n      this.smsTemplate.uniqueManager.unique(() =>\n        this.toast.success(t('copyTemplateSuccess')),\n      );\n      return true;\n    }\n\n    return false;\n  }\n\n  getFinalContent(\n    type: UpdateTemplateType,\n    textarea: HTMLTextAreaElement,\n    content: string,\n  ) {\n    const currentValue = textarea.value;\n\n    if (type === 'add') {\n      const latestPos = JSON.parse(\n        textarea.dataset.latestPos ?? 'null',\n      ) as ReturnType<typeof getSelectionPosition> | null;\n\n      if (latestPos) {\n        const start = latestPos.position.start;\n        const end = latestPos.position.end;\n        const endContent = currentValue.slice(0, start) + content;\n        const newContent =\n          endContent + currentValue.slice(end, currentValue.length);\n        return { content: newContent, position: endContent.length };\n      }\n    }\n\n    return { content };\n  }\n\n  async handleApplyTemplate(\n    targetInputRef: React.RefObject<HTMLTextAreaElement>,\n    content: string,\n  ) {\n    const textarea = targetInputRef.current;\n    if (!textarea) return false;\n\n    const currentValue = textarea.value;\n    const doesShowConfirm =\n      currentValue.length > 0 && currentValue.trim() !== '';\n    const result = doesShowConfirm\n      ? await this.openReplaceOrAddTemplateDialog(content)\n      : { type: 'replace' };\n\n    if (!result || typeof result !== 'object') return false;\n\n    const type: UpdateTemplateType = result.type;\n    const info = this.getFinalContent(type, textarea, content);\n    const { content: finalContent, position } = info;\n\n    // Limit to 1000 characters\n    const truncatedValue = finalContent.slice(0, 1000);\n\n    // in mui, that is not able to trigger the change event, so we need to dispatch a custom event and listen it in the MessageInput component\n    textarea.dispatchEvent(\n      new CustomEvent('change-programmatically', {\n        bubbles: false,\n        detail: truncatedValue,\n      }),\n    );\n\n    const newPosition = position ?? truncatedValue.length;\n\n    const setNewPosition = () => {\n      const textarea = targetInputRef.current;\n      if (!textarea) return;\n      setSelectionPosition(textarea, {\n        start: newPosition,\n        end: newPosition,\n        scrollIntoView: true,\n      });\n    };\n\n    if (doesShowConfirm) {\n      setTimeout(setNewPosition, 195);\n    } else {\n      requestAnimationFrame(setNewPosition);\n    }\n\n    trackEvent('Int_Text_useTemplate', {\n      templateActions: 'Apply',\n    });\n\n    return true;\n  }\n\n  component({ targetInputRef }: SmsTemplateViewProps) {\n    const { templates, isLoading } = useConnector(() => ({\n      templates: this.smsTemplate.templates,\n      isLoading: this.smsTemplate.isLoading,\n    }));\n\n    const handleCopyTemplate = (content: string) => {\n      const result = this.copyTemplate(content);\n\n      if (result) {\n        trackEvent('Int_Text_useTemplate', {\n          templateActions: 'Copy',\n        });\n      }\n\n      return result;\n    };\n\n    const handleDeleteTemplate = (id: string) => {\n      return this.openDeleteConfirmDialog(id);\n    };\n\n    const handleAddTemplate = async (title: string, content: string) => {\n      const result = await this.smsTemplate.createTemplate({\n        title,\n        content,\n      });\n\n      // the result also have the error message, so we need to check if it is true\n      if (result === true) {\n        trackEvent('Int_Text_useTemplate', {\n          templateActions: 'Add',\n        });\n      }\n\n      return result;\n    };\n\n    const handleUpdateTemplate = async (\n      id: string,\n      title: string,\n      content: string,\n    ) => {\n      const result = await this.smsTemplate.updateTemplate({\n        id,\n        title,\n        content,\n      });\n\n      // the result also have the error message, so we need to check if it is true\n      if (result === true) {\n        trackEvent('Int_Text_useTemplate', {\n          templateActions: 'Edit',\n        });\n      }\n\n      return result;\n    };\n\n    return (\n      <TemplatePopover\n        onApplyTemplate={(content) =>\n          this.handleApplyTemplate(targetInputRef, content)\n        }\n        templates={templates}\n        onCopy={handleCopyTemplate}\n        onDelete={handleDeleteTemplate}\n        onAddTemplate={handleAddTemplate}\n        onUpdateTemplate={handleUpdateTemplate}\n        isLoading={isLoading}\n      />\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}