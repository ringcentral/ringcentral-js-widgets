{"version":3,"file":"TemplateForm.js","names":["_hooks","require","_springUi","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_i18n","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TemplateForm","exports","_ref","title","content","onTitleChange","onContentChange","onSave","onCancel","className","isLoading","error","_useLocale","useLocale","i18n","initDataRef","useRef","isDisabled","initData","current","isChanged","scrollAnchorRef","useEffect","scrollIntoView","block","createElement","ref","clsx","TextField","label","value","size","fullWidth","inputProps","maxLength","showCharacterCount","onChange","target","placeholder","clearBtn","helperText","Textarea","minRows","maxRows","Button","variant","onClick","disabled","loading"],"sources":["src/app/views/SmsTemplateView/TemplatePopover/TemplateForm.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { Button, Textarea, TextField } from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { useEffect, useRef } from 'react';\n\nimport i18n from './i18n';\n\nexport interface TemplateFormProps {\n  title: string;\n  content: string;\n  onTitleChange: (title: string) => void;\n  onContentChange: (content: string) => void;\n  onSave: () => void;\n  onCancel: () => void;\n  className?: string;\n  isLoading: boolean;\n  error: string | null;\n}\n\nexport const TemplateForm: React.FunctionComponent<TemplateFormProps> = ({\n  title,\n  content,\n  onTitleChange,\n  onContentChange,\n  onSave,\n  onCancel,\n  className,\n  isLoading,\n  error,\n}) => {\n  const { t } = useLocale(i18n);\n\n  const initDataRef = useRef<{ title: string; content: string }>({\n    title,\n    content,\n  });\n\n  const isDisabled = !title || !content;\n  const initData = initDataRef.current;\n  const isChanged = initData.title !== title || initData.content !== content;\n\n  const scrollAnchorRef = useRef<HTMLDivElement>(null);\n\n  // when that display, scroll to the form for display the form\n  useEffect(() => {\n    if (scrollAnchorRef.current) {\n      scrollAnchorRef.current.scrollIntoView({\n        block: 'center',\n      });\n    }\n  }, []);\n\n  return (\n    <div\n      ref={scrollAnchorRef}\n      data-sign=\"editTemplateForm\"\n      className={clsx(\n        'px-2 pb-2 border border-neutral-b4 relative rounded',\n        className,\n      )}\n    >\n      <TextField\n        label={t('fieldTitle')}\n        value={title}\n        size=\"medium\"\n        fullWidth\n        inputProps={{\n          maxLength: 250,\n          'data-sign': 'editTemplateTitleInput',\n        }}\n        showCharacterCount\n        onChange={(e) => onTitleChange(e.target.value)}\n        placeholder={t('fieldTitlePlaceholder')}\n        clearBtn={false}\n        error={!!error}\n        helperText={error}\n      />\n      <Textarea\n        label={t('fieldContent')}\n        value={content}\n        size=\"medium\"\n        fullWidth\n        inputProps={{\n          maxLength: 1000,\n          'data-sign': 'editTemplateContentInput',\n        }}\n        showCharacterCount\n        onChange={(e) => onContentChange(e.target.value)}\n        minRows={2}\n        maxRows={10}\n        placeholder={t('fieldContentPlaceholder')}\n        clearBtn={false}\n      />\n      <div className=\"flex gap-2 mt-3 justify-end\">\n        <Button\n          variant=\"outlined\"\n          size=\"small\"\n          onClick={onCancel}\n          data-sign=\"cancelEditTemplateButton\"\n          disabled={isLoading}\n        >\n          {t('cancel')}\n        </Button>\n        <Button\n          variant=\"contained\"\n          size=\"small\"\n          onClick={onSave}\n          disabled={isDisabled || isLoading || !isChanged}\n          data-sign=\"saveEditTemplateButton\"\n          loading={isLoading}\n        >\n          {t('save')}\n        </Button>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}