{"version":3,"file":"Conversations.view.js","names":["_messageTypes","require","_messageHelper","_services","_services2","_services3","_views","_hooks","_services4","_nextCore","_react","_interopRequireWildcard","_rxjs","_services5","_MessageThreadsView","_ConversationsPage","_i18n","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","l","TypeError","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","isArray","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","reverse","reduce","_initializerWarningHelper","Error","dangerButtonProps","color","ConversationsViewSpring","exports","injectable","target","optional","undefined","metadata","Function","ModalView","Locale","Conversations","RegionSettings","AppFeatures","ConnectivityMonitor","RateLimiter","MessageStore","ConnectivityManager","RouterPlugin","Toast","ComposeText","PortManager","VoicemailAudio","IntegrationConfig","SmsConversations","ContactMatcher","ConversationLogger","SmsOptOut","ConversationsViewSpringOptions","SmsConversationsOptions","dynamic","ConversationsViewableManager","MessageThreadsView","Theme","Call","DialerView","Record","StateSnapshot","delegate","_RcViewModule","_modalView","_locale","_conversations","_regionSettings","_appFeatures","_connectivityMonitor","_rateLimiter","_messageStore","_connectivityManager","_router","_toast","_composeText","_portManager","_voicemailAudio","_integrationConfig","_smsConversations","_contactMatcher","_conversationLogger","_smsOptOut","_conversationsViewOptions","_smsConversationsOptions","_this","useConversationItemInfo","conversation","_this$_messageThreads","_this$_messageThreads2","_this$_smsOptOut$getI","_this$_smsOptOut","_ref","_ref$pageType","pageType","beTextMessage","messageIsTextMessage","conversationId","_useConnector","useConnector","_this$_conversationLo","_this$_conversationLo2","_this$_conversationLo3","disableLinks","isOfflineMode","isWebphoneUnavailableMode","isWebphoneInitializing","restricted","isIdle","_call","hasInternalSMSPermission","hasOutboundSMSPermission","isCallingEnabled","hasComposeTextPermission","displayCRMLog","checkIsSupportLog","isLogged","getIsInLoggedStatus","autoLog","serverAutoLog","_ref2","_messageThreadsView","useThreadConversationItemInfo","threadInfo","extensionId","_ref2$actions","actions","threadActions","isOptOut","getIsOptOutConversation","info","useContactRenderInfoFromConversation","timePresentationMode","displayLogStatus","hasCrmLogged","phoneNumberDisplayMode","isTextMessage","isFax","isVoicemail","voicemailAttachmentExist","voicemailAttachmentUri","markAble","unreadCounts","faxAttachmentExist","signalTo","faxAttachmentDownloadUri","signalSourceInfo","formattedPhoneNumber","matchedContact","useMemo","_this$_smsConversatio","enableModifyLog","type","disabled","label","crmName","href","extensionNumber","dialToPhoneNumber","phoneNumber","integrateActions","getActionButtons","useActionsHandler","location","_ref3","_callee2","actionType","data","_this$_integrationCon","_this$_integrationCon2","_this$_integrationCon3","_this$_integrationCon4","_this$_integrationCon5","_this$_integrationCon6","_this$_theme","_this$_integrationCon7","_this$_integrationCon8","actionInfo","_actionInfo","_this$_composeText","result","_this$_messageThreads3","_result","_t","_context2","logger","log","slideInViewTransition","_callee","_this$_smsConversatio2","_this$_smsConversatio3","_context","checkDncStatusOfConversation","concat","_theme","reducedMotion","onCreateEntity","onViewLog","onViewEntity","onCreateLog","getActionInfo","_dialerView","trackCallingEvent","recipient","onClickToCall","fromType","SyncTabId","DIALPAD","process","env","NODE_ENV","error","addToNumber","onClickToSMS","console","unreadMessage","readMessages","onUnmarkMessages","open","confirmDeleteModal","faxAttachmentUri","window","download","copyNumber","_alertSuccess","processThreadAction","warn","_x","_x2","shared","onServer","bindClearSearchInputListener","isVoipOnlyMode","_this2","fromWatchValue","currentPath","pipe","includes","distinctUntilChanged","tap","updateSearchInput","takeUntilAppDestroy","subscribe","_setLastPosition","page","val","lastPosition","_setLastPosition2","_callee3","_context3","setLastPosition","_x3","_x4","message","ttl","success","allowDuplicates","getUIProps","_ref5","_this$_conversationsV","typeFilter","readStatusFilter","readStatusFilterMap","preparing","ready","searchInput","showNewButton","hasSendFaxPermission","conversations","typeFilteredConversationsMap","loadingNextPage","loadingOldConversations","showLogPopover","createNewEntityTooltip","getUIFunctions","_","_this3","_this$_conversationsV2","position","useItemRender","_conversationsViewableManager","onNewClick","updateReadStatusFilterMap","status","onSearchInputChange","currentTarget","component","props","_this4","_this$_conversationsV3","_useRef","useRef","uiFunctions","current","isText","messageTypes","text","_props","uiProps","PersonalComponent","ConversationsPage","header","createElement","ConversationsHeader","children","Fragment","RcViewModule","portal","_this5","_ref6","messageIsFax","variant","loadingMode","content","confirmButtonText","disableBackdropClick","disableRestoreFocus","confirmButtonProps","onConfirm","deleteConversation","state","action"],"sources":["src/app/views/ConversationsViewSpring/Conversations.view.tsx"],"sourcesContent":["import { messageTypes } from '@ringcentral-integration/commons/enums/messageTypes';\nimport {\n  messageIsFax,\n  messageIsTextMessage,\n} from '@ringcentral-integration/commons/lib/messageHelper';\nimport {\n  AppFeatures,\n  type CallMadeLocation,\n  ConnectivityManager,\n  ConnectivityMonitor,\n  RateLimiter,\n  RegionSettings,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport { ContactMatcher } from '@ringcentral-integration/micro-contacts/src/app/services';\nimport {\n  Locale,\n  type Theme,\n  Toast,\n} from '@ringcentral-integration/micro-core/src/app/services';\nimport {\n  ModalView,\n  slideInViewTransition,\n  SyncTabId,\n} from '@ringcentral-integration/micro-core/src/app/views';\nimport { useContactRenderInfoFromConversation } from '@ringcentral-integration/micro-phone/src/app/hooks';\nimport type { Call } from '@ringcentral-integration/micro-phone/src/app/services';\nimport type { DialerView } from '@ringcentral-integration/micro-phone/src/app/views';\nimport { IntegrationConfig } from '@ringcentral-integration/micro-setting/src/app/services';\nimport {\n  action,\n  delegate,\n  dynamic,\n  fromWatchValue,\n  injectable,\n  optional,\n  portal,\n  PortManager,\n  RcViewModule,\n  RouterPlugin,\n  state,\n  takeUntilAppDestroy,\n  UIFunctions,\n  UIProps,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport {\n  HistoryAction,\n  HistoryActionType,\n} from '@ringcentral-integration/next-widgets/components/ActionMenuList/useHistoryActionButtons';\nimport React, { useMemo, useRef } from 'react';\nimport type { StateSnapshot } from 'react-virtuoso';\nimport { distinctUntilChanged, filter, tap } from 'rxjs';\n\nimport {\n  ComposeText,\n  ConversationLogger,\n  Conversations,\n  type FilteredConversation,\n  MessageStore,\n  SmsConversations,\n  SmsOptOut,\n  ThreadInfoRecord,\n  VoicemailAudio,\n} from '../../services';\nimport type { SmsConversationsOptions } from '../../services/Sms/SmsConversations.interface';\nimport { MessageThreadsView } from '../MessageThreadsView';\n\nimport type {\n  ConversationsPanelSpringProps,\n  ConversationsViewSpringOptions,\n  ConversationsViewSpringProps,\n} from './Conversations.view.interface';\nimport { ConversationsHeader, ConversationsPage } from './ConversationsPage';\nimport type { ConversationsViewableManager } from './ConversationsViewableManager';\nimport { t } from './i18n';\n\nconst dangerButtonProps = {\n  color: 'danger',\n};\n\n@injectable({\n  name: 'ConversationsViewSpring',\n})\nexport class ConversationsViewSpring extends RcViewModule {\n  @dynamic('ConversationsViewableManager')\n  private _conversationsViewableManager?: ConversationsViewableManager;\n\n  @dynamic('MessageThreadsView')\n  protected _messageThreadsView?: MessageThreadsView;\n\n  @portal\n  private confirmDeleteModal = this._modalView.create<{\n    conversation: FilteredConversation;\n  }>({\n    props: ({ conversation }) => {\n      const isFax = messageIsFax(conversation);\n      return {\n        variant: 'confirm',\n        loadingMode: 'button',\n        header: t(isFax ? 'deleteFax' : 'deleteVoiceMail'),\n        content: t(isFax ? 'sureToDeleteFax' : 'sureToDeleteVoiceMail'),\n        confirmButtonText: t('delete'),\n        // avoid the action menu be focus back, because that already be hidden\n        disableBackdropClick: false,\n        disableRestoreFocus: true,\n        confirmButtonProps: dangerButtonProps,\n        onConfirm: () => {\n          const conversationId = conversation.conversationId;\n          if (!conversationId) return;\n          this._conversations.deleteConversation(conversationId);\n        },\n        ['data-sign']: 'deleteModal',\n      };\n    },\n  });\n\n  private get disableLinks() {\n    return (\n      this._connectivityManager.isOfflineMode ||\n      this._connectivityManager.isVoipOnlyMode ||\n      this._rateLimiter.restricted\n    );\n  }\n\n  @dynamic('Theme')\n  private _theme?: Theme;\n\n  constructor(\n    protected _modalView: ModalView,\n    protected _locale: Locale,\n    protected _conversations: Conversations,\n    protected _regionSettings: RegionSettings,\n    protected _appFeatures: AppFeatures,\n    protected _connectivityMonitor: ConnectivityMonitor,\n    protected _rateLimiter: RateLimiter,\n    protected _messageStore: MessageStore,\n    protected _connectivityManager: ConnectivityManager,\n    protected _router: RouterPlugin,\n    protected _toast: Toast,\n    protected _composeText: ComposeText,\n    protected _portManager: PortManager,\n    protected _voicemailAudio: VoicemailAudio,\n    protected _integrationConfig: IntegrationConfig,\n    protected _smsConversations: SmsConversations,\n    @optional() protected _contactMatcher?: ContactMatcher,\n    @optional() protected _conversationLogger?: ConversationLogger,\n    @optional() protected _smsOptOut?: SmsOptOut,\n    @optional('ConversationsViewOptions')\n    protected _conversationsViewOptions?: ConversationsViewSpringOptions,\n    @optional('SmsConversationsOptions')\n    protected _smsConversationsOptions?: SmsConversationsOptions,\n  ) {\n    super();\n\n    if (this._portManager.shared) {\n      this._portManager.onServer(() => {\n        this.bindClearSearchInputListener();\n      });\n    } else {\n      this.bindClearSearchInputListener();\n    }\n  }\n\n  private bindClearSearchInputListener() {\n    fromWatchValue(this, () => this._router.currentPath)\n      .pipe(\n        filter((currentPath) =>\n          ['/fax', '/messages', '/dialer'].includes(currentPath),\n        ),\n        distinctUntilChanged(),\n        tap(() => {\n          this._conversations.updateSearchInput('');\n        }),\n        takeUntilAppDestroy,\n      )\n      .subscribe();\n  }\n\n  @dynamic('Call')\n  protected readonly _call?: Call;\n\n  @dynamic('DialerView')\n  protected readonly _dialerView?: DialerView;\n\n  @state\n  lastPosition: Record<string, StateSnapshot | undefined> = {};\n\n  @action\n  private _setLastPosition(page: string, val?: StateSnapshot) {\n    this.lastPosition[page] = val;\n  }\n\n  @delegate('server')\n  async setLastPosition(page: string, val?: StateSnapshot) {\n    this._setLastPosition(page, val);\n  }\n\n  private _alertSuccess(message: string, ttl?: number) {\n    this._toast.success({\n      message,\n      allowDuplicates: false,\n      ttl,\n    });\n  }\n\n  useConversationItemInfo = (\n    conversation: FilteredConversation,\n    {\n      pageType = 'list',\n    }: { pageType?: 'list' | 'text' | 'voicemail' | 'fax' } = {},\n  ): {\n    info: ReturnType<typeof useContactRenderInfoFromConversation>;\n    actions: HistoryAction[];\n    extensionId?: number;\n    threadInfo?: ThreadInfoRecord;\n  } => {\n    const beTextMessage = messageIsTextMessage(conversation);\n    const conversationId = conversation.conversationId;\n    const {\n      disableLinks,\n      isOfflineMode,\n      isWebphoneUnavailableMode,\n      isWebphoneInitializing,\n      restricted,\n      isIdle,\n      hasInternalSMSPermission,\n      hasOutboundSMSPermission,\n      isCallingEnabled,\n      hasComposeTextPermission,\n      displayCRMLog,\n      isLogged,\n      autoLog,\n    } = useConnector(() => ({\n      disableLinks: this.disableLinks,\n      isOfflineMode: this._connectivityManager.isOfflineMode,\n      isWebphoneUnavailableMode:\n        this._connectivityManager.isWebphoneUnavailableMode,\n      isWebphoneInitializing: this._connectivityManager.isWebphoneInitializing,\n      restricted: this._rateLimiter.restricted,\n      isIdle: Boolean(this._call && this._call.isIdle),\n      hasInternalSMSPermission: this._appFeatures.hasInternalSMSPermission,\n      hasOutboundSMSPermission: this._appFeatures.hasOutboundSMSPermission,\n      isCallingEnabled: this._appFeatures.isCallingEnabled,\n      hasComposeTextPermission: this._appFeatures.hasComposeTextPermission,\n      displayCRMLog: this._smsConversations.checkIsSupportLog(conversation),\n      isLogged:\n        // only text message able to log to avoid accidental match the dataMapping\n        beTextMessage &&\n        !!conversationId &&\n        this._conversationLogger?.getIsInLoggedStatus(conversationId),\n      autoLog:\n        !!this._conversationLogger?.autoLog ||\n        !!this._conversationLogger?.serverAutoLog,\n    }));\n\n    const {\n      threadInfo,\n      extensionId,\n      actions: threadActions = [],\n    } = this._messageThreadsView?.useThreadConversationItemInfo(conversation) ??\n    {};\n\n    const isOptOut =\n      this._smsOptOut?.getIsOptOutConversation(conversation) ?? false;\n\n    const info = useContactRenderInfoFromConversation(conversation, {\n      timePresentationMode: 'withoutTime',\n      displayLogStatus: displayCRMLog,\n      hasCrmLogged: isLogged,\n      phoneNumberDisplayMode: pageType !== 'list' ? 'unknown' : 'phoneNumber',\n      isOptOut,\n    });\n    const {\n      isTextMessage,\n      isFax,\n      isVoicemail,\n      voicemailAttachmentExist,\n      voicemailAttachmentUri,\n      markAble,\n      unreadCounts,\n      faxAttachmentExist,\n      signalTo,\n      faxAttachmentDownloadUri,\n      signalSourceInfo,\n      formattedPhoneNumber,\n      matchedContact,\n    } = info;\n\n    const actions = useMemo(() => {\n      const enableModifyLog = this._smsConversationsOptions?.enableModifyLog;\n\n      const actions: HistoryAction[] = [];\n\n      // CRM Log actions - available on all page types\n      if (\n        (pageType === 'list' || pageType === 'text') &&\n        displayCRMLog &&\n        signalTo\n      ) {\n        if (autoLog && !enableModifyLog) {\n          actions.push({\n            type: 'selectRecordsForAutoLog',\n            disabled: disableLinks,\n          });\n        } else {\n          if (!isLogged || enableModifyLog) {\n            actions.push({\n              type: 'createLog',\n              disabled: disableLinks,\n            });\n          }\n        }\n\n        if (isLogged && !enableModifyLog) {\n          actions.push({\n            type: 'viewLog',\n            disabled: disableLinks,\n            label:\n              this._integrationConfig.name &&\n              t('viewInCrm', {\n                crmName: this._integrationConfig.name,\n              }),\n          });\n        }\n      }\n      // Fax actions - available on all page types\n      if (pageType === 'list' && faxAttachmentExist) {\n        actions.push(\n          {\n            type: 'viewFax',\n            disabled: disableLinks,\n            href: faxAttachmentDownloadUri,\n          },\n          {\n            type: 'downloadFax',\n            disabled: disableLinks,\n            href: faxAttachmentDownloadUri,\n          },\n        );\n      }\n\n      // Phone number actions - available on all page types\n      if (signalTo) {\n        if (\n          (pageType === 'list' || pageType === 'voicemail') &&\n          !isFax &&\n          formattedPhoneNumber &&\n          isCallingEnabled\n        ) {\n          actions.push({\n            type: 'call',\n            disabled:\n              isOfflineMode ||\n              isWebphoneUnavailableMode ||\n              isWebphoneInitializing ||\n              restricted ||\n              !isIdle ||\n              disableLinks,\n          });\n        }\n\n        if (\n          (pageType === 'list' || pageType === 'voicemail') &&\n          !isFax &&\n          !isTextMessage &&\n          formattedPhoneNumber &&\n          hasComposeTextPermission\n        ) {\n          actions.push({\n            type: 'text',\n            disabled:\n              disableLinks ||\n              (signalSourceInfo?.extensionNumber\n                ? !hasInternalSMSPermission\n                : !hasOutboundSMSPermission),\n          });\n        }\n\n        // Use the normalized phone number (not formatted) for dataMapping lookup\n        // dialToPhoneNumber should be the normalized number, not the formatted display version\n        const dialToPhoneNumber =\n          signalSourceInfo?.phoneNumber || signalSourceInfo?.extensionNumber;\n        const integrateActions = this._integrationConfig.getActionButtons({\n          dialToPhoneNumber: dialToPhoneNumber,\n          matchedContact: matchedContact,\n          disabled: disableLinks,\n          isLogged,\n        });\n        actions.push(...integrateActions);\n      }\n\n      // Mark actions - only available on list page\n      if (pageType === 'list' && markAble) {\n        actions.push({\n          type: unreadCounts === 0 ? 'mark' : 'unmark',\n          disabled: disableLinks,\n        });\n      }\n\n      // Voicemail actions - available on all page types\n      if (pageType === 'list' && isVoicemail && voicemailAttachmentExist) {\n        actions.push({\n          type: 'downloadVoicemail',\n          href: voicemailAttachmentUri,\n          disabled: disableLinks,\n        });\n      }\n\n      // Copy number action - available on all page types\n      if (pageType === 'list' && formattedPhoneNumber) {\n        actions.push({\n          type: 'copyNumber',\n        });\n      }\n      // Delete action - only available on detail pages\n      if (pageType === 'list' && (isVoicemail || isFax)) {\n        actions.push({\n          type: 'delete',\n          disabled: disableLinks,\n        });\n      }\n\n      // add the thread actions into conversation actions\n      actions.push(...threadActions);\n\n      return actions;\n    }, [\n      pageType,\n      displayCRMLog,\n      signalTo,\n      faxAttachmentExist,\n      markAble,\n      isVoicemail,\n      voicemailAttachmentExist,\n      formattedPhoneNumber,\n      isFax,\n      threadActions,\n      autoLog,\n      isLogged,\n      disableLinks,\n      faxAttachmentDownloadUri,\n      isTextMessage,\n      matchedContact,\n      isOfflineMode,\n      isWebphoneUnavailableMode,\n      isWebphoneInitializing,\n      restricted,\n      isIdle,\n      signalSourceInfo?.extensionNumber,\n      signalSourceInfo?.phoneNumber,\n      hasInternalSMSPermission,\n      hasOutboundSMSPermission,\n      isCallingEnabled,\n      hasComposeTextPermission,\n      unreadCounts,\n      voicemailAttachmentUri,\n    ]);\n\n    return {\n      info,\n      actions,\n      extensionId,\n      threadInfo,\n    };\n  };\n\n  useActionsHandler = (\n    conversation: FilteredConversation,\n    info: ReturnType<typeof useContactRenderInfoFromConversation>,\n    location: CallMadeLocation,\n  ) => {\n    // TODO: select contact auto log when autoLog be enable\n\n    const conversationId = conversation.conversationId;\n    return async <T extends HistoryActionType>(actionType: T, data?: any) => {\n      this.logger.log(`exec actionType`, actionType, conversation);\n      const { signalSourceInfo, matchedContact, isTextMessage, isVoicemail } =\n        info;\n\n      switch (actionType) {\n        case 'viewDetail':\n          // TODO: the fax type of viewDetail should also be handle\n          if (isTextMessage || isVoicemail) {\n            await slideInViewTransition(async () => {\n              if (isTextMessage) {\n                await this._smsConversationsOptions?.checkDncStatusOfConversation?.(\n                  conversationId!,\n                );\n\n                await this._router.push(`/conversations/${conversationId}`);\n                return;\n              }\n\n              if (isVoicemail) {\n                await this._router.push(`/voicemails/${conversationId}`);\n                return;\n              }\n            }, this._theme?.reducedMotion);\n          }\n          break;\n        case 'addEntity':\n          this._integrationConfig.onCreateEntity?.(signalSourceInfo);\n          break;\n        case 'viewLog':\n          this._integrationConfig.onViewLog?.(data || matchedContact);\n          break;\n        case 'viewEntity':\n          this._integrationConfig.onViewEntity?.(matchedContact, {\n            conversation,\n          });\n          break;\n        case 'createLog':\n        case 'selectRecordsForAutoLog':\n          if (conversationId) {\n            this._integrationConfig?.onCreateLog?.(conversationId, actionType);\n          }\n          break;\n        case 'call':\n          {\n            const actionInfo = info.getActionInfo();\n\n            if (actionInfo && this._dialerView) {\n              this._dialerView.trackCallingEvent(location);\n              this._dialerView.call({ recipient: actionInfo });\n\n              this._messageStore.onClickToCall({\n                // for track conversation.type\n                fromType: conversation.type,\n              });\n\n              this._router.push('/dialer', {\n                [SyncTabId.DIALPAD]: 'keypad',\n              });\n            } else if (process.env.NODE_ENV !== 'production') {\n              this.logger.error('can\\'t handle \"call\" action', {\n                signalSourceInfo,\n                matchedContact,\n                conversation,\n              });\n            }\n          }\n          break;\n        case 'text': {\n          const actionInfo = info.getActionInfo();\n          if (actionInfo) {\n            this._composeText?.addToNumber(actionInfo);\n\n            this._router.push('/composeText');\n            // for track\n            this._messageStore.onClickToSMS();\n          } else if (process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.error('[ConversationsView], can\\'t handle \"call\" action', {\n              signalSourceInfo,\n              matchedContact,\n              conversation,\n            });\n          }\n          break;\n        }\n        case 'mark':\n          if (!conversationId) return;\n          this._messageStore.unreadMessage(conversationId);\n          break;\n        case 'read':\n          this._messageStore.readMessages(conversationId);\n          break;\n        case 'unmark':\n          this._messageStore.readMessages(conversationId);\n          this._messageStore.onUnmarkMessages();\n\n          break;\n        case 'delete':\n          if (!conversationId) return;\n          this._modalView.open(this.confirmDeleteModal, {\n            conversation,\n          });\n\n          break;\n        case 'viewFax':\n          {\n            if (!info.faxAttachmentUri) return;\n\n            window.open(info.faxAttachmentUri);\n            this._messageStore.readMessages(conversationId);\n          }\n          break;\n        case 'downloadFax':\n          // for download also mark as read done\n          this._messageStore.readMessages(conversationId);\n          break;\n        case 'downloadVoicemail': {\n          this._voicemailAudio.download(\n            conversationId,\n            info.voicemailAttachmentUri,\n          );\n\n          break;\n        }\n        case 'copyNumber': {\n          const result = info.copyNumber();\n          if (result) {\n            this._alertSuccess(result);\n          }\n          break;\n        }\n\n        default: {\n          // if both of action is not basic action, process the action in message threads view\n          const result = await this._messageThreadsView?.processThreadAction(\n            conversationId,\n            actionType,\n          );\n          // if still not catch the action, log the error\n          if (!result) {\n            this.logger.warn(`can't handle \"${actionType}\" action`);\n          }\n        }\n      }\n    };\n  };\n\n  getUIProps({\n    typeFilter,\n  }: ConversationsViewSpringProps): UIProps<ConversationsPanelSpringProps> {\n    const readStatusFilter =\n      this._conversations.readStatusFilterMap[typeFilter];\n\n    return {\n      lastPosition: this.lastPosition[`${typeFilter}-${readStatusFilter}`],\n      preparing: !(\n        this._locale.ready &&\n        this._conversations.ready &&\n        (!this._contactMatcher || this._contactMatcher.ready) &&\n        this._regionSettings.ready &&\n        this._appFeatures.ready &&\n        this._connectivityMonitor.ready &&\n        this._rateLimiter.ready &&\n        (!this._call || this._call.ready) &&\n        (!this._conversationLogger || this._conversationLogger.ready)\n      ),\n      searchInput: this._conversations.searchInput,\n      typeFilter,\n      readStatusFilter,\n      showNewButton:\n        // do not block new text entry for current stage\n        typeFilter === 'Text'\n          ? true\n          : typeFilter === 'Fax'\n          ? this._appFeatures.hasSendFaxPermission\n          : false,\n      conversations:\n        this._conversations.typeFilteredConversationsMap[typeFilter],\n      loadingNextPage: this._conversations.loadingOldConversations,\n      crmName: this._integrationConfig.name,\n      showLogPopover: this._conversationsViewOptions?.showLogPopover,\n      disableLinks: this.disableLinks,\n      createNewEntityTooltip: this._integrationConfig.createNewEntityTooltip,\n    };\n  }\n\n  getUIFunctions(\n    _: ConversationsViewSpringProps,\n  ): UIFunctions<ConversationsPanelSpringProps> {\n    return {\n      setLastPosition: (page, position) => {\n        this.setLastPosition(page, position);\n      },\n      useConversationItemInfo: (conversation: FilteredConversation) =>\n        this.useConversationItemInfo(conversation, { pageType: 'list' }),\n      useActionsHandler: this.useActionsHandler,\n      useItemRender: this._conversationsViewableManager?.useItemRender,\n      onNewClick: (type) => {\n        switch (type) {\n          case 'Text':\n            this._router.push('/composeText');\n            break;\n          case 'Fax':\n            this._router.push('/composeFax');\n            break;\n\n          default:\n            break;\n        }\n      },\n      updateReadStatusFilterMap: (status, type) => {\n        this._conversations.updateReadStatusFilterMap(status, type!);\n      },\n      onSearchInputChange: (e) => {\n        this._conversations.updateSearchInput(e.currentTarget.value);\n      },\n    };\n  }\n\n  component(props: ConversationsViewSpringProps) {\n    const { current: uiFunctions } = useRef(this.getUIFunctions(props));\n\n    const isText = props.typeFilter === messageTypes.text;\n\n    const _props = useConnector(() => {\n      const uiProps = this.getUIProps(props);\n\n      return {\n        ...props,\n        ...uiProps,\n      };\n    });\n\n    const PersonalComponent =\n      this._conversationsViewOptions?.component || ConversationsPage;\n\n    const header = <ConversationsHeader {..._props} {...uiFunctions} />;\n    const children = <PersonalComponent {..._props} {...uiFunctions} />;\n\n    if (!this._messageThreadsView || !isText) {\n      return (\n        <>\n          {header}\n          {children}\n        </>\n      );\n    }\n\n    return (\n      <>\n        {header}\n        <this._messageThreadsView.component {...uiFunctions}>\n          {children}\n        </this._messageThreadsView.component>\n      </>\n    );\n  }\n}\n\nexport type UseConversationsActions = InstanceType<\n  typeof ConversationsViewSpring\n>['useActionsHandler'];\n\nexport type OnConversationsActionsType = ReturnType<UseConversationsActions>;\n"],"mappings":"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","ignoreList":[]}