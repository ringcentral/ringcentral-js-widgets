{"version":3,"file":"ConversationsListItem.js","names":["_springUi","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_useThreadInfoDisplay2","_useConversationActionButtons","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_ConversationsListItem","_ref","typeFilter","conversation","index","useConversationItemInfo","useActionsHandler","useItemRender","showLogPopover","createNewEntityTooltip","_useConversationItemI","info","actions","extensionId","threadInfo","onAction","DisplayName","displayType","Avatar","Unread","unreadCounts","displayDescription","isFax","creationTime","logged","_useThreadInfoDisplay","useThreadInfoDisplay","ThreadStatus","queueName","buttons","useConversationActionButtons","createElement","Fragment","ListItem","key","conversationId","size","className","clickable","classes","content","onClick","ListItemText","primary","clsx","displayControl","maybe","matchCounts","secondary","type","color","ConversationsListItem","exports","memo"],"sources":["src/app/views/ConversationsViewSpring/ConversationsPage/ConversationsListItem/ConversationsListItem.tsx"],"sourcesContent":["import { ListItem, ListItemText } from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { memo } from 'react';\n\nimport type { FormattedConversation } from '../../../../services';\nimport { useThreadInfoDisplay } from '../../../MessageThreadsView/useThreadInfoDisplay';\nimport type { ConversationsPanelSpringProps } from '../../Conversations.view.interface';\nimport { useConversationActionButtons } from '../../useConversationActionButtons';\n\nexport type ConversationsListItemProps = {\n  conversation: FormattedConversation;\n  index: number;\n} & Pick<\n  ConversationsPanelSpringProps,\n  | 'useConversationItemInfo'\n  | 'useActionsHandler'\n  | 'useItemRender'\n  | 'showLogPopover'\n  | 'typeFilter'\n  | 'createNewEntityTooltip'\n>;\n\nconst _ConversationsListItem: React.FC<ConversationsListItemProps> = ({\n  typeFilter,\n  conversation,\n  index,\n  useConversationItemInfo,\n  useActionsHandler,\n  useItemRender,\n  showLogPopover,\n  createNewEntityTooltip,\n}) => {\n  const { info, actions, extensionId, threadInfo } =\n    useConversationItemInfo(conversation);\n\n  const onAction = useActionsHandler(\n    conversation,\n    info,\n    typeFilter === 'Text'\n      ? 'Text list'\n      : typeFilter === 'Fax'\n      ? 'Fax list'\n      : 'Voicemail list',\n  );\n\n  useItemRender?.(conversation, index);\n\n  const {\n    DisplayName,\n    displayType,\n    Avatar,\n    Unread,\n    unreadCounts,\n    displayDescription,\n    isFax,\n    creationTime,\n    logged,\n  } = info;\n\n  const { ThreadStatus, queueName } = useThreadInfoDisplay({\n    info: threadInfo,\n    extensionId,\n    onAction,\n  });\n\n  const buttons = useConversationActionButtons({\n    actions,\n    conversation,\n    showLogPopover,\n    onAction,\n    createNewEntityTooltip,\n  });\n\n  return (\n    <>\n      <ListItem\n        key={conversation.conversationId}\n        data-sign=\"conversationItem\"\n        size=\"auto\"\n        className=\"group\"\n        clickable={!isFax}\n        classes={{\n          content: 'bg-inherit !px-3 !py-2', // need ! because its not overriding SpringUI styles without it\n        }}\n        onClick={() => {\n          onAction('viewDetail');\n        }}\n      >\n        <Unread className=\"mr-1 -ml-3\" data-sign=\"unread-conversationItem\" />\n        <Avatar />\n        <ListItemText\n          primary={\n            <div\n              className={clsx('flex items-center gap-1 truncate', {\n                'font-bold': unreadCounts > 0,\n              })}\n              data-sign=\"currentName\"\n              data-display-type={displayType}\n            >\n              <DisplayName\n                displayControl={{\n                  maybe: true,\n                  matchCounts: true,\n                }}\n              />\n            </div>\n          }\n          secondary={\n            queueName ? (\n              <div>\n                {displayDescription}\n                {queueName}\n              </div>\n            ) : (\n              displayDescription\n            )\n          }\n        />\n        <div className=\"text-right min-h-11\">\n          <div className=\"flex items-center gap-1\">\n            <Unread type=\"standard\" color=\"secondary\" size=\"small\" />\n            <ThreadStatus />\n            <span\n              className=\"typography-descriptor text-neutral-b2\"\n              data-sign=\"conversationItemTime\"\n            >\n              {creationTime}\n            </span>\n          </div>\n          {logged}\n        </div>\n\n        {buttons}\n      </ListItem>\n    </>\n  );\n};\n\nexport const ConversationsListItem = memo(_ConversationsListItem);\n"],"mappings":"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","ignoreList":[]}