{"version":3,"file":"ToastItemPanel.js","names":["_springUi","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_excluded","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","getLevelType","level","type","ToastItemPanel","exports","_ref","id","loading","action","children","dismiss","backdrop","onClose","allowDuplicates","messageAlign","fullWidth","className","rest","snackbarContentRef","useRef","handleClose","undefined","useEffect","_snackbarContentRef$c","close","current","querySelector","setAttribute","createElement","SnackbarContent","ref","severity","icon","clsx"],"sources":["src/app/views/SpringToastView/ToastItemView/ToastItemPanel/ToastItemPanel.tsx"],"sourcesContent":["// import { Xmd } from '@ringcentral/spring-icon';\n\n/* eslint-disable @typescript-eslint/no-unused-vars */\nimport {\n  AlertProps, // IconButton,\n  SnackbarContent,\n} from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { FunctionComponent, useEffect, useRef } from 'react';\n\nimport type { ToastItem, ToastItemPanelProps } from '../../../../services';\n\nexport function getLevelType(level: ToastItem['level']) {\n  let type: AlertProps['severity'];\n  switch (level) {\n    case 'warning':\n      type = 'warning';\n      break;\n    case 'danger':\n      type = 'error';\n      break;\n    case 'hint':\n      type = 'neutral';\n      break;\n    default:\n      type = level;\n  }\n  return type;\n}\n\nexport const ToastItemPanel: FunctionComponent<ToastItemPanelProps> = ({\n  id,\n  level,\n  loading,\n  action,\n  children,\n  dismiss,\n  // pick only\n  backdrop,\n  onClose,\n  allowDuplicates,\n  // juno props\n  messageAlign,\n  fullWidth,\n  className,\n  ...rest\n}) => {\n  const type = getLevelType(level);\n\n  const snackbarContentRef = useRef<HTMLDivElement>(null);\n\n  const handleClose =\n    action === undefined\n      ? () => {\n          dismiss(id, 'removeButtonClick');\n        }\n      : undefined;\n  // TODO: spring ui still not support pass any props to close or custom action in correct place, need wait spring update\n  // UXSYS-3822\n  // UXSYS-3821\n  useEffect(() => {\n    if (!handleClose) return;\n    const close = snackbarContentRef.current?.querySelector('.sui-alert-close');\n\n    close?.setAttribute('data-sign', 'dismiss');\n  });\n\n  return (\n    <SnackbarContent\n      ref={snackbarContentRef}\n      aria-live=\"polite\"\n      aria-atomic=\"true\"\n      data-id={id}\n      data-sign=\"Toast\"\n      data-sign-type={type}\n      severity={type}\n      // TODO: currently always show icon\n      // icon={typeof children === 'string'}\n      icon\n      // TODO: still not support loading\n      // loading={loading}\n      // TODO: that action is render in wrong place, need wait spring update\n      // action={\n      //   action === undefined ? (\n      //     <IconButton\n      //       className=\"sui-snackbar-content-close\"\n      //       symbol={Xmd}\n      //       variant=\"icon\"\n      //       shape=\"squircle\"\n      //       color=\"secondary\"\n      //       size=\"small\"\n      //       background={false}\n      //       data-sign=\"dismiss\"\n      //       onClick={() => {\n      //         dismiss(id, 'removeButtonClick');\n      //       }}\n      //     />\n      //   ) : (\n      //     action\n      //   )\n      // }\n      action={action}\n      onClose={handleClose}\n      {...rest}\n      className={clsx('min-w-auto flex-none', className)}\n    >\n      {children}\n    </SnackbarContent>\n  );\n};\n"],"mappings":"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","ignoreList":[]}