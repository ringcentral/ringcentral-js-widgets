{"version":3,"file":"IncomingCall.view.js","names":["_callDirections","_interopRequireDefault","require","_callLogHelpers","_formatNumber","_services","_services2","_services3","_nextCore","_IncomingCallView","_checkShouldHidePhoneNumber","_react","_interopRequireWildcard","_services4","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_class","_class2","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_classCallCheck","a","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","_inherits","create","_setPrototypeOf","_applyDecoratedDescriptor","l","initializer","slice","reverse","reduce","IncomingCallView","exports","injectable","name","target","optional","undefined","metadata","Function","Webphone","Locale","ContactSearch","RegionSettings","ForwardingNumber","Brand","ExtensionInfo","AppFeatures","AccountInfo","ContactMatcher","IncomingCallViewOptions","computed","that","_webphone","ringingCallOnView","_that$_contactMatcher","currentSession","from","_contactMatcher","dataMapping","_that$_contactMatcher2","to","_RcViewModule","_locale","_contactSearch","_regionSettings","_forwardingNumber","_brand","_extensionInfo","_appFeatures","_accountInfo","_incomingCallViewOptions","_this","_this$_webphone$ringi","_this$_contactMatcher","_this$_contactMatcher2","_this$_contactMatcher3","_this$_contactMatcher4","nameMatches","direction","callDirections","outbound","toMatches","fromMatches","phoneNumber","isCDCEnabled","checkShouldHidePhoneNumber","getWebphoneSessionDisplayName","getUIProps","_ref","_ref$showContactDispl","showContactDisplayPlaceholder","showCallQueueName","sourceIcons","brand","currentLocale","session","activeSessionId","areaCode","countryCode","forwardingNumbers","searchContactList","sortedResult","getUIFunctions","_ref2","_this2","phoneTypeRenderer","phoneSourceNameRenderer","_ref2$getAvatarUrl","getAvatarUrl","formatPhone","_this2$_extensionInfo","_this2$_extensionInfo2","_this2$_extensionInfo3","_this2$_extensionInfo4","_this2$_extensionInfo5","formatNumber","siteCode","site","code","isMultipleSiteEnabled","maxExtensionLength","maxExtensionNumberLength","answer","sessionId","reject","toVoiceMail","onForward","forwardNumber","forward","replyWithMessage","message","toggleMinimized","updateSessionMatchedContact","contact","hangup","onHold","hold","searchContact","pattern","debouncedSearch","searchString","component","props","_this3","_this$_incomingCallVi","_useRef","useRef","uiFunctions","current","_props","useConnector","uiProps","Component","IncomingCallPanel","createElement","RcViewModule"],"sources":["src/app/views/IncomingCallView/IncomingCall.view.tsx"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport type { NormalizedSession } from '@ringcentral-integration/commons/interfaces/Webphone.interface';\nimport { getWebphoneSessionDisplayName } from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport {\n  AccountInfo,\n  AppFeatures,\n  ExtensionInfo,\n  RegionSettings,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport {\n  ContactMatcher,\n  ContactSearch,\n} from '@ringcentral-integration/micro-contacts/src/app/services';\nimport {\n  Brand,\n  Locale,\n} from '@ringcentral-integration/micro-core/src/app/services';\nimport type { UIFunctions, UIProps } from '@ringcentral-integration/next-core';\nimport {\n  computed,\n  injectable,\n  optional,\n  RcViewModule,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport { IncomingCallView as IncomingCallPanel } from '@ringcentral-integration/widgets/components/IncomingCallView';\nimport { checkShouldHidePhoneNumber } from '@ringcentral-integration/widgets/lib/checkShouldHidePhoneNumber';\nimport React, { useRef } from 'react';\n\nimport { ForwardingNumber, Webphone } from '../../services';\n\nimport type {\n  IncomingCallViewOptions,\n  IncomingCallViewPanelProps,\n  IncomingCallViewProps,\n} from './IncomingCall.view.interface';\n\n@injectable({\n  name: 'IncomingCallView',\n})\nclass IncomingCallView extends RcViewModule {\n  constructor(\n    protected _webphone: Webphone,\n    protected _locale: Locale,\n    protected _contactSearch: ContactSearch,\n    protected _regionSettings: RegionSettings,\n    protected _forwardingNumber: ForwardingNumber,\n    protected _brand: Brand,\n    protected _extensionInfo: ExtensionInfo,\n    protected _appFeatures: AppFeatures,\n    protected _accountInfo: AccountInfo,\n    @optional() protected _contactMatcher?: ContactMatcher,\n    @optional('IncomingCallViewOptions')\n    protected _incomingCallViewOptions?: IncomingCallViewOptions,\n  ) {\n    super();\n  }\n\n  @computed((that: IncomingCallView) => [that._webphone.ringingCallOnView])\n  get currentSession(): Partial<NormalizedSession> {\n    return this._webphone.ringingCallOnView ?? {};\n  }\n\n  @computed((that: IncomingCallView) => [\n    that.currentSession.from,\n    that._contactMatcher?.dataMapping,\n  ])\n  get fromMatches() {\n    return this._contactMatcher?.dataMapping[this.currentSession.from!] ?? [];\n  }\n\n  @computed((that: IncomingCallView) => [\n    that.currentSession.to,\n    that._contactMatcher?.dataMapping,\n  ])\n  get toMatches() {\n    return this._contactMatcher?.dataMapping[this.currentSession.to!] ?? [];\n  }\n\n  get nameMatches() {\n    const nameMatches =\n      this.currentSession.direction === callDirections.outbound\n        ? this.toMatches\n        : this.fromMatches;\n\n    return nameMatches;\n  }\n\n  get phoneNumber() {\n    const phoneNumber =\n      this.currentSession.direction === callDirections.outbound\n        ? this.currentSession.to\n        : this.currentSession.from;\n\n    if (\n      this._appFeatures.isCDCEnabled &&\n      checkShouldHidePhoneNumber(phoneNumber!, this.nameMatches)\n    ) {\n      return null;\n    }\n\n    return phoneNumber;\n  }\n\n  get name() {\n    return getWebphoneSessionDisplayName(this.currentSession as any);\n  }\n\n  getUIProps({\n    showContactDisplayPlaceholder = false,\n    showCallQueueName,\n    sourceIcons,\n  }: IncomingCallViewProps): UIProps<IncomingCallViewPanelProps> {\n    return {\n      sourceIcons,\n      brand: this._brand.name,\n      nameMatches: this.nameMatches,\n      currentLocale: this._locale.currentLocale,\n      session: this.currentSession,\n      activeSessionId: this._webphone.activeSessionId,\n      areaCode: this._regionSettings.areaCode,\n      countryCode: this._regionSettings.countryCode,\n      forwardingNumbers: this._forwardingNumber.forwardingNumbers,\n      showContactDisplayPlaceholder,\n      searchContactList: this._contactSearch.sortedResult,\n      showCallQueueName,\n      phoneNumber: this.phoneNumber,\n      name: this.name,\n    };\n  }\n\n  getUIFunctions({\n    phoneTypeRenderer,\n    phoneSourceNameRenderer,\n    getAvatarUrl = () => null,\n  }: IncomingCallViewProps): UIFunctions<IncomingCallViewPanelProps> {\n    return {\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      formatPhone: (phoneNumber) =>\n        formatNumber({\n          phoneNumber,\n          areaCode: this._regionSettings.areaCode,\n          countryCode: this._regionSettings.countryCode,\n          siteCode: this._extensionInfo?.site?.code ?? '',\n          isMultipleSiteEnabled:\n            this._extensionInfo?.isMultipleSiteEnabled ?? false,\n          maxExtensionLength: this._accountInfo.maxExtensionNumberLength,\n        })!,\n      answer: (sessionId) => {\n        this._webphone.answer(sessionId);\n      },\n      reject: (sessionId) => this._webphone.reject(sessionId),\n      toVoiceMail: (sessionId) => this._webphone.toVoiceMail(sessionId),\n      onForward: (sessionId, forwardNumber) =>\n        this._webphone.forward(sessionId, forwardNumber),\n      replyWithMessage: (sessionId, message) =>\n        this._webphone.replyWithMessage(sessionId, message),\n      toggleMinimized: (sessionId) => this._webphone.toggleMinimized(sessionId),\n      updateSessionMatchedContact: (sessionId, contact) =>\n        this._webphone.updateSessionMatchedContact(sessionId, contact),\n      getAvatarUrl,\n      hangup: (sessionId) => this._webphone.hangup(sessionId),\n      onHold: (sessionId) => this._webphone.hold(sessionId),\n      searchContact: (pattern) =>\n        this._contactSearch.debouncedSearch({ searchString: pattern }),\n    };\n  }\n\n  component(props: IncomingCallViewProps) {\n    const { current: uiFunctions } = useRef(this.getUIFunctions(props));\n\n    const _props = useConnector(() => {\n      const uiProps = this.getUIProps(props);\n\n      return {\n        ...props,\n        ...uiProps,\n      };\n    });\n\n    const Component =\n      this._incomingCallViewOptions?.component || IncomingCallPanel;\n\n    // TODO: fix type\n    return <Component {...(_props as any)} {...uiFunctions} />;\n  }\n}\n\nexport { IncomingCallView };\n"],"mappings":"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","ignoreList":[]}