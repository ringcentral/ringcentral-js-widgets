{"version":3,"file":"ZoomAction.js","names":["_utils","require","_IconButton","_Text","_useInterval3","_useLongPress3","_ResetZoom","_interopRequireDefault","_ZoomIn","_ZoomOut","_react","_interopRequireWildcard","_excluded","_excluded2","_excluded3","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","u","next","done","push","value","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ZoomAction","exports","forwardRef","_ref","ref","onZoom","min","max","props","_useState","useState","_useState2","rate","setRate","useImperativeHandle","_useInterval","useInterval","times","Math","pow","zoomOutStart","play","zoomOutCancel","cancel","_useInterval2","zoomInStart","zoomInCancel","cancelEvents","useMemo","cancelZoom","onMouseUp","onTouchEnd","onKeyUp","_useLongPress","useLongPress","onPress","onTap","zoomOutRef","zoomOutEvents","_useLongPress2","zoomInRef","zoomInEvents","createElement","onClick","stopPropagation","className","RcIconButton","variant","symbol","ZoomOut","disabled","RcText","color","round","ZoomIn","ResetZoom"],"sources":["src/app/views/SpringGalleryView/styles/ZoomAction.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/no-static-element-interactions */\n\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport { stopPropagation } from '@ringcentral-integration/utils';\nimport {\n  RcIconButton,\n  RcText,\n  useInterval,\n  useLongPress,\n} from '@ringcentral/juno';\nimport { ResetZoom, ZoomIn, ZoomOut } from '@ringcentral/juno-icon';\nimport React, {\n  forwardRef,\n  HTMLAttributes,\n  useImperativeHandle,\n  useMemo,\n  useState,\n} from 'react';\n\nexport type ZoomActionType = {\n  setRate: React.Dispatch<React.SetStateAction<number>>;\n};\n\nconst ZoomAction = forwardRef<\n  ZoomActionType,\n  {\n    onZoom: (scale: number) => void;\n    min: number;\n    max: number;\n  } & HTMLAttributes<HTMLDivElement>\n>(({ onZoom, min, max, ...props }, ref) => {\n  const [rate, setRate] = useState(1);\n\n  useImperativeHandle(ref, () => ({\n    setRate,\n  }));\n\n  const { play: zoomOutStart, cancel: zoomOutCancel } = useInterval(\n    (times) => {\n      // use power to make zoom out faster\n      onZoom(rate - 0.1 * Math.pow(times, 2));\n    },\n    300,\n    false,\n  );\n\n  const { play: zoomInStart, cancel: zoomInCancel } = useInterval(\n    (times) => {\n      // use power to make zoom in faster\n      onZoom(rate + 0.1 * Math.pow(times, 2));\n    },\n    300,\n    false,\n  );\n\n  const cancelEvents = useMemo(() => {\n    const cancelZoom = () => {\n      zoomOutCancel();\n      zoomInCancel();\n    };\n    return {\n      onMouseUp: cancelZoom,\n      onTouchEnd: cancelZoom,\n      onKeyUp: cancelZoom,\n    };\n  }, [zoomInCancel, zoomOutCancel]);\n\n  const { ref: zoomOutRef, ...zoomOutEvents } = useLongPress(\n    {\n      onPress: zoomOutStart,\n      onTap: () => {\n        onZoom(rate - 0.1);\n      },\n    },\n    cancelEvents,\n  );\n\n  const { ref: zoomInRef, ...zoomInEvents } = useLongPress(\n    {\n      onPress: zoomInStart,\n      onTap: () => {\n        onZoom(rate + 0.1);\n      },\n    },\n    cancelEvents,\n  );\n\n  return (\n    <div\n      {...props}\n      onClick={stopPropagation}\n      className=\"flex gap-2 h-10 items-center absolute bottom-6 left-1/2 transform -translate-x-1/2 bg-neutral-b5 rounded-full px-4 shadow-lg\"\n    >\n      <RcIconButton\n        ref={zoomOutRef}\n        variant=\"plain\"\n        aria-label=\"Zoom out\"\n        symbol={ZoomOut}\n        disabled={rate === min}\n        {...zoomOutEvents}\n      />\n      <RcText color=\"neutral.f06\">{Math.round(rate * 100)}%</RcText>\n      <RcIconButton\n        variant=\"plain\"\n        aria-label=\"Zoom in\"\n        symbol={ZoomIn}\n        disabled={rate === max}\n        ref={zoomInRef}\n        {...zoomInEvents}\n      />\n      <RcIconButton\n        variant=\"plain\"\n        aria-label=\"Reset zoom\"\n        symbol={ResetZoom}\n        disabled={rate === 1}\n        onClick={() => {\n          onZoom(1);\n        }}\n      />\n    </div>\n  );\n});\n\nexport { ZoomAction };\n"],"mappings":"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","ignoreList":[]}