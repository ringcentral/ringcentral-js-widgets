{"version":3,"file":"FaxSendPanel.js","names":["_components","require","_hooks","_components2","_FileAttacher","_utils","_springIcon","_springUi","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_uuid","_getMimeType","_FaxCoverPageSelect","_i18n","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","next","push","isArray","FaxSendPanel","exports","_ref","_faxInfo$coverNotes","acceptFileTypes","faxInfo","covers","canSendNow","maxAllowedAttachmentSize","showCoverTextInput","typingToNumber","senderNumber","senderNumbers","maxRecipients","currentFilesSize","updateSenderNumber","cleanTypingToNumber","addToNumbers","removeToNumber","updateTypingToNumber","onCoverTextChange","onCoverIndexChange","onUploadFiles","onRemoveFile","onSendNow","onCancel","formatPhone","showSpinner","ToContactSearch","ContactSearch","_useState","useState","_useState2","contactSearchExpanded","setContactSearchExpanded","maxLength","addToRecipients","_ref2","_callee","receiver","isAdded","_context","_x","removeFromRecipients","phoneNumber","_useLocale","useLocale","i18n","fileSize","useFileSize","title","createElement","Fragment","AppHeaderNav","override","PageHeader","onBackClick","className","SpringSpinnerOverlay","loading","FromField","fromNumber","fromPlaceholder","fromNumbers","onChange","hidden","showAnonymous","filterCallQueueExtension","excludeCompanyExtension","defaultTab","source","open","inputValue","toNumbers","recipients","onSelect","onInputValueChange","onRemove","placeholder","onExpanded","autoFocusInput","clsx","FaxCoverPageSelect","selectedCoverId","coverIndex","label","onSelectChange","Textarea","fullWidth","minRows","clearBtn","coverNotes","_ref3","target","substring","inputProps","AttachButton","multiple","type","size","startIcon","Icon","symbol","LinkMd","acceptTypes","onUpload","_ref4","_callee3","data","files","_context3","all","map","_ref5","_callee2","file","id","formattedType","newFile","base64Url","_context2","concat","uuid","getMimeTypeByFile","File","fileToBase64","_x3","_x2","Text","maxAllowedSize","attachments","AttachmentList","onRemoveAttachment","_ref6","Divider","Button","variant","onClick","disabled","AppFooterNav"],"sources":["src/app/views/FaxSenderView/FaxSendPanel/FaxSendPanel.tsx"],"sourcesContent":["import {\n  AppFooterNav,\n  AppHeaderNav,\n} from '@ringcentral-integration/micro-core/src/app/components';\nimport { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport {\n  FromField,\n  PageHeader,\n  SpringSpinnerOverlay as SpinnerOverlay,\n} from '@ringcentral-integration/next-widgets/components';\nimport {\n  useFileSize,\n  AttachButton,\n  AttachmentList,\n} from '@ringcentral-integration/next-widgets/components/MessageInput/FileAttacher';\nimport { fileToBase64 } from '@ringcentral-integration/utils';\nimport { LinkMd } from '@ringcentral/spring-icon';\nimport { Textarea, Text, Divider, Button, Icon } from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { FC, useState } from 'react';\nimport { v4 as uuid } from 'uuid';\n\nimport type { Recipient } from '../../../services';\nimport { getMimeTypeByFile } from '../../../services/Fax/utils/getMimeType';\nimport { FaxSendPanelProps } from '../FaxSend.view.interface';\n\nimport { FaxCoverPageSelect } from './FaxCoverPageSelect';\nimport i18n from './i18n';\n\nexport const FaxSendPanel: FC<FaxSendPanelProps> = ({\n  acceptFileTypes,\n  faxInfo,\n  covers,\n  canSendNow,\n  maxAllowedAttachmentSize,\n  showCoverTextInput,\n  typingToNumber,\n  senderNumber,\n  senderNumbers,\n  maxRecipients,\n  currentFilesSize,\n  updateSenderNumber,\n  cleanTypingToNumber,\n  addToNumbers,\n  removeToNumber,\n  updateTypingToNumber,\n  onCoverTextChange,\n  onCoverIndexChange,\n  onUploadFiles,\n  onRemoveFile,\n  onSendNow,\n  onCancel,\n  formatPhone,\n  showSpinner,\n  ContactSearch: ToContactSearch,\n}) => {\n  const [contactSearchExpanded, setContactSearchExpanded] = useState(false);\n  const maxLength = 1024;\n\n  const addToRecipients = async (receiver: Recipient[]) => {\n    const isAdded = await addToNumbers(receiver);\n\n    if (isAdded) {\n      cleanTypingToNumber();\n    }\n  };\n  const removeFromRecipients = (phoneNumber: string) => {\n    removeToNumber({ phoneNumber });\n  };\n  const { t } = useLocale(i18n);\n  const fileSize = useFileSize(currentFilesSize);\n\n  const title = t('createNewFax');\n  return (\n    <>\n      <AppHeaderNav override>\n        <PageHeader onBackClick={onCancel!}>\n          <span className=\"sui-text sui-text-root truncate\" title={title}>\n            {title}\n          </span>\n        </PageHeader>\n      </AppHeaderNav>\n      <SpinnerOverlay loading={!!showSpinner}>\n        <div className=\"flex flex-col w-full h-full px-4 gap-4 overflow-auto\">\n          <FromField\n            fromNumber={senderNumber}\n            fromPlaceholder={t('from')}\n            fromNumbers={senderNumbers as any}\n            onChange={(value) => {\n              updateSenderNumber(value);\n            }}\n            hidden={!(senderNumbers.length > 0)}\n            showAnonymous={false}\n          />\n          {/* @ts-ignore */}\n          <ToContactSearch\n            filterCallQueueExtension\n            excludeCompanyExtension\n            defaultTab=\"thirdParty\"\n            source=\"fax\"\n            open={contactSearchExpanded}\n            inputValue={typingToNumber}\n            toNumbers={faxInfo?.recipients}\n            onSelect={addToRecipients}\n            maxRecipients={maxRecipients}\n            formatPhone={formatPhone}\n            onInputValueChange={updateTypingToNumber}\n            onRemove={removeFromRecipients}\n            placeholder={t('toPlaceholder')}\n            onExpanded={setContactSearchExpanded}\n            autoFocusInput={false}\n          />\n          <div\n            className={clsx(\n              'flex flex-auto flex-col gap-2',\n              contactSearchExpanded && 'hidden',\n            )}\n          >\n            <FaxCoverPageSelect\n              selectedCoverId={faxInfo?.coverIndex}\n              covers={covers}\n              label={t('coverPage')}\n              onSelectChange={onCoverIndexChange}\n            />\n            {showCoverTextInput ? (\n              <Textarea\n                fullWidth\n                minRows={4}\n                clearBtn={!!faxInfo?.coverNotes?.length}\n                value={faxInfo?.coverNotes}\n                label={t('coverPageNote')}\n                onChange={({ target: { value } }) => {\n                  onCoverTextChange?.(value?.substring(0, maxLength));\n                }}\n                inputProps={{\n                  maxLength,\n                  'data-sign': 'fax-cover-page-note',\n                }}\n              />\n            ) : null}\n            <div className={clsx('flex items-center gap-2')}>\n              <AttachButton\n                multiple\n                type=\"button\"\n                size=\"medium\"\n                startIcon={<Icon symbol={LinkMd} />}\n                acceptTypes={acceptFileTypes}\n                label={t('attach')}\n                title={t('attachFiles')}\n                onUpload={async (data) => {\n                  if (data?.length) {\n                    const files = await Promise.all(\n                      data.map(async (file) => {\n                        const id = `fax-attachment-${uuid()}`;\n                        const formattedType = getMimeTypeByFile(file);\n                        const { name, size } = file;\n                        const newFile = new File([file], file.name, {\n                          type: formattedType,\n                        });\n                        const base64Url = await fileToBase64(file);\n                        return {\n                          id,\n                          name,\n                          size,\n                          file: newFile,\n                          type: formattedType,\n                          base64Url,\n                        };\n                      }),\n                    );\n                    onUploadFiles?.(files);\n                  }\n                }}\n              />\n              <Text\n                className=\"text-xs text-neutral-b2\"\n                data-sign=\"attachments-summary\"\n              >\n                {t('attachmentDescription', {\n                  maxAllowedSize: maxAllowedAttachmentSize,\n                })}\n                {currentFilesSize && (\n                  <>\n                    <span>{' - '}</span>\n                    <span className=\"text-primary-b\">{fileSize}</span>\n                  </>\n                )}\n              </Text>\n            </div>\n            {faxInfo.attachments.length > 0 && (\n              <div\n                className={clsx(\n                  'mt-4 max-h-[125px] overflow-y-auto overflow-x-hidden',\n                )}\n              >\n                <AttachmentList\n                  files={faxInfo.attachments}\n                  onRemoveAttachment={({ id }) => {\n                    onRemoveFile?.(id);\n                  }}\n                  data-sign=\"faxAttachmentsList\"\n                />\n              </div>\n            )}\n          </div>\n        </div>\n        <div>\n          <Divider />\n          <div className=\"px-4 py-2 flex justify-between items-center\">\n            <Button variant=\"text\" size=\"large\" onClick={onCancel}>\n              {t('cancel')}\n            </Button>\n            <Button\n              variant=\"contained\"\n              size=\"large\"\n              disabled={!canSendNow}\n              onClick={onSendNow}\n            >\n              {t('sendNow')}\n            </Button>\n          </div>\n        </div>\n      </SpinnerOverlay>\n      <AppFooterNav />\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]}