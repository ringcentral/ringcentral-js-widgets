{"version":3,"file":"FaxCoverPageSelect.js","names":["_hooks","require","_springIcon","_springUi","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_constant","_i18n","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","u","next","done","push","value","isArray","getCoverNameById","covers","targetId","cover","find","_ref","id","FaxCoverPageSelect","exports","_ref2","_ref2$label","label","selectedCoverId","className","onSelectChange","_useLocale","useLocale","i18n","_useState","useState","_useState2","focusVisibleIdx","setFocusVisibleIdx","renderValue","useCallback","createElement","Text","flexFull","Number","Select","variant","clsx","onChange","_ref3","target","String","size","map","idx","Option","key","onMouseEnter","FAX_COVER_NONE_VALUE","url","IconButton","TooltipProps","title","onMouseDown","preventDefault","stopPropagation","onClick","event","window","open","symbol","ShowMd"],"sources":["src/app/views/FaxSenderView/FaxSendPanel/FaxCoverPageSelect.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { ShowMd } from '@ringcentral/spring-icon';\nimport { IconButton, Select, Option, Text } from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { FC, useCallback, useState } from 'react';\n\nimport type { CoverInfo } from '../../../services/Fax/FaxCover/interfaces';\nimport { FAX_COVER_NONE_VALUE } from '../../../services/Fax/constant';\n\nimport i18n from './i18n';\n\ninterface FaxCoverPageSelectProps {\n  className?: string;\n  covers?: CoverInfo[];\n  label?: string;\n  selectedCoverId?: number;\n  onSelectChange?: (index: number) => void;\n}\n\nconst getCoverNameById = (covers: CoverInfo[], targetId: CoverInfo['id']) => {\n  const cover = covers?.find(({ id }) => id === targetId);\n  return cover ? cover.name : '';\n};\n\nexport const FaxCoverPageSelect: FC<FaxCoverPageSelectProps> = ({\n  covers,\n  label = 'Cover page',\n  selectedCoverId,\n  className,\n  onSelectChange,\n}) => {\n  const { t } = useLocale(i18n);\n  const [focusVisibleIdx, setFocusVisibleIdx] = useState(-1);\n\n  const renderValue = useCallback(\n    (value: string) => {\n      return <Text flexFull>{getCoverNameById(covers!, Number(value))}</Text>;\n    },\n    [covers],\n  );\n\n  return (\n    <Select\n      variant=\"outlined\"\n      className={clsx('w-full', className)}\n      data-sign=\"fax-cover-page-select\"\n      onChange={({ target: { value } }: any) => {\n        const id = Number(value);\n        onSelectChange?.(id);\n      }}\n      label={label}\n      value={String(selectedCoverId)}\n      renderValue={renderValue}\n      id=\"fax-coverPage\"\n      size=\"medium\"\n    >\n      <div className=\"max-h-60 overflow-y-auto overflow-x-hidden\">\n        {covers?.map((cover, idx) => (\n          <Option\n            data-sign=\"fax-cover-page-select-item\"\n            value={cover.id}\n            key={cover.id}\n            onMouseEnter={() => setFocusVisibleIdx(idx)}\n          >\n            <div className=\"w-full flex justify-between align-middle\">\n              <Text className=\"leading-6\">\n                {cover.id === FAX_COVER_NONE_VALUE\n                  ? t('coverNone')\n                  : cover.name}\n              </Text>\n              {cover.url && (\n                <IconButton\n                  className={focusVisibleIdx === idx ? '' : 'hidden'}\n                  TooltipProps={{\n                    title: t('preview'),\n                  }}\n                  variant=\"icon\"\n                  data-sign=\"fax-cover-page-select-button\"\n                  data-value={cover.url}\n                  onMouseDown={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n                  }}\n                  onClick={(event) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    window.open(cover.url, '_blank');\n                  }}\n                  size=\"small\"\n                  symbol={ShowMd}\n                />\n              )}\n            </div>\n          </Option>\n        ))}\n      </div>\n    </Select>\n  );\n};\n"],"mappings":"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","ignoreList":[]}