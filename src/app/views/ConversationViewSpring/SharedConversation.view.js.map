{"version":3,"file":"SharedConversation.view.js","names":["_trackEvents","require","_services","_services2","_plugins","_services3","_views","_services4","_nextCore","_react","_interopRequireWildcard","_services5","_ConversationsViewSpring","_SmsOptOutView","_SmsTemplateView","_ConversationAlert","_ConversationPanel","_excluded","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_class","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ownKeys","keys","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","l","TypeError","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","SharedConversationView","exports","injectable","name","target","optional","undefined","metadata","Function","SmsTemplateView","Theme","ExtensionInfo","RegionSettings","RateLimiter","ConnectivityMonitor","RouterPlugin","IntegrationConfig","ConversationsViewSpring","MessageThread","BlockPlugin","ConversationAlert","ConversationLogger","ContactMatcher","ConversationViewSpringOptions","SmsOptOutView","_RcViewModule","_smsTemplateView","_theme","_extensionInfo","_regionSettings","_rateLimiter","_connectivityMonitor","_router","_integrationConfig","_conversationsViewSpring","_messageThread","_block","_conversationAlert","_conversationLogger","_contactMatcher","_conversationViewOptions","_smsOptOutView","_this","getUIProps","_ref","_this$_conversationVi","_this$_extensionInfo","conversationId","disableLinks","restricted","connectivity","showSpinner","ready","conversation","getThreadConversation","sendButtonDisabled","threadConversationId","thread","getThread","threadMetadata","getThreadMetadata","threadInputValue","getInputValue","_this$_conversationAl","getAlertInfo","showAlert","alertProps","createNewEntityTooltip","showLogPopover","messageText","loading","threadInfo","extensionId","id","supportAttachment","getUIFunctions","_ref2","_this2","useConversationItemInfo","pageType","useActionsHandler","replyToReceivers","_replyToReceivers","_callee2","text","threads","isResolved","_context2","data","status","next","_callee","response","_context","sendThreadMessage","concat","threadId","_x","updateMessageText","_updateMessageText","_callee3","_context3","setInputValue","_x2","onLinkClick","href","linkType","startsWith","trackEvent","trackEvents","clickConversationHyperlink","goBack","_goBack","_callee4","_this2$_theme","_context4","slideOutViewTransition","reducedMotion","component","props","_this3","_this$_conversationVi2","inputRef","useRef","uiFunctions","useMemo","messages","useConnector","getThreadMessages","_props","uiProps","rest","logger","error","Component","ConversationPanel","createElement","timeKey","toolbar","Fragment","targetInputRef","endAdornment","Chip","RcViewModule"],"sources":["src/app/views/ConversationViewSpring/SharedConversation.view.tsx"],"sourcesContent":["import { trackEvents } from '@ringcentral-integration/commons/enums/trackEvents';\nimport {\n  ConnectivityMonitor,\n  ExtensionInfo,\n  RateLimiter,\n  RegionSettings,\n  trackEvent,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport { ContactMatcher } from '@ringcentral-integration/micro-contacts/src/app/services';\nimport { BlockPlugin } from '@ringcentral-integration/micro-core/src/app/plugins';\nimport { Theme } from '@ringcentral-integration/micro-core/src/app/services';\nimport { slideOutViewTransition } from '@ringcentral-integration/micro-core/src/app/views';\nimport { IntegrationConfig } from '@ringcentral-integration/micro-setting/src/app/services';\nimport {\n  injectable,\n  optional,\n  RcViewModule,\n  RouterPlugin,\n  type UIFunctions,\n  type UIProps,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport React, { useMemo, useRef } from 'react';\n\nimport { ConversationLogger, MessageThread } from '../../services';\nimport { ConversationsViewSpring } from '../ConversationsViewSpring';\nimport { SmsOptOutView } from '../SmsOptOutView';\nimport { SmsTemplateView } from '../SmsTemplateView';\n\nimport type {\n  ConversationViewSpringOptions,\n  ConversationViewSpringPanelProps,\n} from './Conversation.view.interface';\nimport { ConversationAlert } from './ConversationAlert';\nimport { ConversationPanel } from './ConversationPanel';\n\ntype SharedConversationViewProps = {\n  conversationId: string;\n};\n\n@injectable({\n  name: 'SharedConversationView',\n})\nexport class SharedConversationView extends RcViewModule {\n  constructor(\n    private _smsTemplateView: SmsTemplateView,\n    private _theme: Theme,\n    private _extensionInfo: ExtensionInfo,\n    private _regionSettings: RegionSettings,\n    private _rateLimiter: RateLimiter,\n    private _connectivityMonitor: ConnectivityMonitor,\n    private _router: RouterPlugin,\n    private _integrationConfig: IntegrationConfig,\n    private _conversationsViewSpring: ConversationsViewSpring,\n    private _messageThread: MessageThread,\n    private _block: BlockPlugin,\n    private _conversationAlert: ConversationAlert,\n    @optional() private _conversationLogger?: ConversationLogger,\n    @optional() private _contactMatcher?: ContactMatcher,\n    @optional('ConversationViewOptions')\n    private _conversationViewOptions?: ConversationViewSpringOptions,\n    @optional() private _smsOptOutView?: SmsOptOutView,\n  ) {\n    super();\n  }\n\n  getUIProps({\n    conversationId,\n  }: SharedConversationViewProps): Omit<\n    UIProps<ConversationViewSpringPanelProps>,\n    'messages' | 'conversation'\n  > &\n    Partial<Pick<UIProps<ConversationViewSpringPanelProps>, 'conversation'>> {\n    const disableLinks =\n      this._rateLimiter.restricted || !this._connectivityMonitor.connectivity;\n\n    const showSpinner = !(\n      (!this._contactMatcher || this._contactMatcher.ready) &&\n      this._regionSettings.ready &&\n      this._rateLimiter.ready &&\n      this._connectivityMonitor.ready &&\n      (!this._conversationLogger || this._conversationLogger.ready)\n    );\n\n    const conversation =\n      this._messageThread.getThreadConversation(conversationId);\n\n    if (!conversation) {\n      return {\n        conversation,\n        sendButtonDisabled: false,\n      };\n    }\n\n    // use the result conversation id, because the exist conversationId from domain may be wrong because there already have new messages coming in\n    const threadConversationId = conversation.conversationId!;\n\n    const thread = this._messageThread.getThread(threadConversationId);\n    const threadMetadata =\n      this._messageThread.getThreadMetadata(threadConversationId);\n    const threadInputValue =\n      this._messageThread.getInputValue(threadConversationId);\n\n    const { showAlert, alertProps } =\n      this._conversationAlert.getAlertInfo(conversation);\n\n    return {\n      createNewEntityTooltip: this._integrationConfig.createNewEntityTooltip,\n      showLogPopover: this._conversationViewOptions?.showLogPopover,\n      conversation,\n      messageText: threadInputValue,\n      sendButtonDisabled: Boolean(\n        disableLinks ||\n          !threadInputValue.length ||\n          showSpinner ||\n          threadMetadata?.loading,\n      ),\n      threadInfo: thread?.threadInfo,\n      threadMetadata,\n      extensionId: this._extensionInfo?.id,\n      supportAttachment: false,\n      showAlert,\n      alertProps,\n    };\n  }\n\n  getUIFunctions({\n    conversationId,\n  }: SharedConversationViewProps): UIFunctions<ConversationViewSpringPanelProps> {\n    return {\n      useConversationItemInfo: (conversation) =>\n        this._conversationsViewSpring.useConversationItemInfo(conversation, {\n          pageType: 'text',\n        }),\n      useActionsHandler: this._conversationsViewSpring.useActionsHandler,\n      replyToReceivers: async (text) => {\n        if (!conversationId) return;\n\n        const threads = this._messageThread.data.threads;\n        const thread = threads[conversationId];\n        const threadInfo = thread?.threadInfo;\n        const isResolved = threadInfo?.status === 'Resolved';\n\n        if (isResolved) {\n          await this._block.next(async () => {\n            const response = await this._messageThread.sendThreadMessage(\n              conversationId,\n              text,\n              // For resolved threads, don't send threadId (backend will create new thread)\n              true,\n            );\n\n            if (response) {\n              await this._router.push(`/conversations/${response.threadId}`);\n            }\n          });\n\n          return;\n        }\n\n        // For active threads, use sendThreadMessage\n        await this._messageThread.sendThreadMessage(conversationId, text);\n      },\n      updateMessageText: async (text) => {\n        if (!conversationId) return;\n        this._messageThread.setInputValue(conversationId, text);\n        return true;\n      },\n      onLinkClick: (href: string) => {\n        let linkType = 'website';\n        if (href.startsWith('mailto:')) {\n          linkType = 'email';\n        }\n\n        trackEvent<any>(trackEvents.clickConversationHyperlink, {\n          'Hyperlink type': linkType,\n        });\n      },\n      goBack: async () => {\n        await slideOutViewTransition(\n          () => this._router.push('/messages'),\n          this._theme?.reducedMotion,\n        );\n      },\n    };\n  }\n\n  component(props: SharedConversationViewProps) {\n    const inputRef = useRef<HTMLTextAreaElement>(null);\n\n    const uiFunctions = useMemo(() => this.getUIFunctions(props), [props]);\n\n    const messages = useConnector(() =>\n      this._messageThread.getThreadMessages(props.conversationId),\n    );\n\n    const _props = useConnector(() => {\n      const uiProps = this.getUIProps(props);\n\n      return {\n        ...props,\n        ...uiProps,\n      };\n    });\n\n    const { conversation, ...rest } = _props;\n\n    if (!conversation) {\n      this.logger.error('Conversation not found', {\n        conversationId: props.conversationId,\n      });\n      return null;\n    }\n\n    const Component =\n      this._conversationViewOptions?.component || ConversationPanel;\n    return (\n      <Component\n        {...rest}\n        {...uiFunctions}\n        conversation={conversation}\n        timeKey=\"lastModifiedTime\"\n        messages={messages}\n        inputRef={inputRef}\n        toolbar={\n          <>\n            <this._smsTemplateView.component targetInputRef={inputRef} />\n            {this._smsOptOutView && (\n              <this._smsOptOutView.component conversation={conversation} />\n            )}\n          </>\n        }\n        endAdornment={\n          this._smsOptOutView ? (\n            <this._smsOptOutView.Chip conversation={conversation} />\n          ) : undefined\n        }\n      />\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}