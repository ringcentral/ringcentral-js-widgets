{"version":3,"file":"FileAttachmentRender.js","names":["_components","require","_FileAttacher","_constant","_fileHandler","_springIcon","_springUi","_clsx","_interopRequireDefault","_react","_styles","e","__esModule","FileAttachmentRender","exports","_ref","attachment","onLinkClick","fileName","removeExtension","id","fileExt","getFileExtension","CONTENT_TYPE_TO_EXTENSION","contentType","fileSize","useFileSize","size","downloadUrl","concat","uri","createElement","key","className","Icon","symbol","FileMd","clsx","styles","ext","DownloadButton","url","name","onClick"],"sources":["src/app/views/ConversationViewSpring/ConversationPanel/ConversationMessageList/FileAttachmentRender.tsx"],"sourcesContent":["import { DownloadButton } from '@ringcentral-integration/next-widgets/components';\nimport { useFileSize } from '@ringcentral-integration/next-widgets/components/MessageInput/FileAttacher';\nimport { CONTENT_TYPE_TO_EXTENSION } from '@ringcentral-integration/utils/src/utils/fileHandler/constant';\nimport {\n  getFileExtension,\n  removeExtension,\n} from '@ringcentral-integration/utils/src/utils/fileHandler/fileHandler';\nimport { FileMd } from '@ringcentral/spring-icon';\nimport { Icon } from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React from 'react';\n\nimport styles from './styles.scss';\n\ninterface IFileAttachmentRenderProps {\n  attachment: {\n    contentType: string;\n    fileName: string;\n    height: number;\n    width: number;\n    id: number;\n    size: number;\n    type: 'MmsAttachment';\n    uri: string;\n  };\n  currentLocale: string;\n  onLinkClick?: (href?: string) => void;\n}\n\nexport const FileAttachmentRender: FunctionComponent<\n  IFileAttachmentRenderProps\n> = ({ attachment, onLinkClick }) => {\n  const fileName = attachment.fileName\n    ? removeExtension(attachment.fileName)\n    : attachment.id;\n  const fileExt = attachment.fileName\n    ? getFileExtension(attachment.fileName)\n    : CONTENT_TYPE_TO_EXTENSION[attachment.contentType];\n  const fileSize = useFileSize(attachment.size);\n  const downloadUrl = `${attachment.uri}&contentDisposition=Attachment`;\n  return (\n    <div key={attachment.id} className=\"flex items-center w-full space-x-2\">\n      <Icon size=\"large\" symbol={FileMd} />\n      <div className=\"flex-1 min-w-0\">\n        <div\n          className=\"flex items-center text-neutral-b1 typography-mainText overflow-hidden\"\n          data-sign=\"file-full-name\"\n        >\n          <div className=\"truncate\">{fileName}</div>\n          <div className={clsx('flex-none', styles.ext)}>.{fileExt}</div>\n        </div>\n        <div className=\"text-neutral-b2 typography-mainText\">{fileSize}</div>\n      </div>\n      <div>\n        <DownloadButton\n          size=\"large\"\n          url={downloadUrl}\n          name={`${fileName}.${fileExt}`}\n          onClick={onLinkClick}\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":";;;;;;;;AAAA,IAAAA,WAAA,GAAAC,OAAA;AACA,IAAAC,aAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AAIA,IAAAI,WAAA,GAAAJ,OAAA;AACA,IAAAK,SAAA,GAAAL,OAAA;AACA,IAAAM,KAAA,GAAAC,sBAAA,CAAAP,OAAA;AAEA,IAAAQ,MAAA,GAAAD,sBAAA,CAAAP,OAAA;AAEA,IAAAS,OAAA,GAAAF,sBAAA,CAAAP,OAAA;AAAmC,SAAAO,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAiB5B,IAAME,oBAEZ,GAAAC,OAAA,CAAAD,oBAAA,GAAG,SAFSA,oBAEZA,CAAAE,IAAA,EAAoC;EAAA,IAA9BC,UAAU,GAAAD,IAAA,CAAVC,UAAU;IAAEC,WAAW,GAAAF,IAAA,CAAXE,WAAW;EAC5B,IAAMC,QAAQ,GAAGF,UAAU,CAACE,QAAQ,GAChC,IAAAC,4BAAe,EAACH,UAAU,CAACE,QAAQ,CAAC,GACpCF,UAAU,CAACI,EAAE;EACjB,IAAMC,OAAO,GAAGL,UAAU,CAACE,QAAQ,GAC/B,IAAAI,6BAAgB,EAACN,UAAU,CAACE,QAAQ,CAAC,GACrCK,mCAAyB,CAACP,UAAU,CAACQ,WAAW,CAAC;EACrD,IAAMC,QAAQ,GAAG,IAAAC,yBAAW,EAACV,UAAU,CAACW,IAAI,CAAC;EAC7C,IAAMC,WAAW,MAAAC,MAAA,CAAMb,UAAU,CAACc,GAAG,mCAAgC;EACrE,oBACErB,MAAA,YAAAsB,aAAA;IAAKC,GAAG,EAAEhB,UAAU,CAACI,EAAG;IAACa,SAAS,EAAC;EAAoC,gBACrExB,MAAA,YAAAsB,aAAA,CAACzB,SAAA,CAAA4B,IAAI;IAACP,IAAI,EAAC,OAAO;IAACQ,MAAM,EAAEC;EAAO,CAAE,CAAC,eACrC3B,MAAA,YAAAsB,aAAA;IAAKE,SAAS,EAAC;EAAgB,gBAC7BxB,MAAA,YAAAsB,aAAA;IACEE,SAAS,EAAC,uEAAuE;IACjF,aAAU;EAAgB,gBAE1BxB,MAAA,YAAAsB,aAAA;IAAKE,SAAS,EAAC;EAAU,GAAEf,QAAc,CAAC,eAC1CT,MAAA,YAAAsB,aAAA;IAAKE,SAAS,EAAE,IAAAI,gBAAI,EAAC,WAAW,EAAEC,kBAAM,CAACC,GAAG;EAAE,GAAC,GAAC,EAAClB,OAAa,CAC3D,CAAC,eACNZ,MAAA,YAAAsB,aAAA;IAAKE,SAAS,EAAC;EAAqC,GAAER,QAAc,CACjE,CAAC,eACNhB,MAAA,YAAAsB,aAAA,2BACEtB,MAAA,YAAAsB,aAAA,CAAC/B,WAAA,CAAAwC,cAAc;IACbb,IAAI,EAAC,OAAO;IACZc,GAAG,EAAEb,WAAY;IACjBc,IAAI,KAAAb,MAAA,CAAKX,QAAQ,OAAAW,MAAA,CAAIR,OAAO,CAAG;IAC/BsB,OAAO,EAAE1B;EAAY,CACtB,CACE,CACF,CAAC;AAEV,CAAC","ignoreList":[]}