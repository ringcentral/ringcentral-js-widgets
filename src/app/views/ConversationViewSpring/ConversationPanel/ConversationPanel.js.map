{"version":3,"file":"ConversationPanel.js","names":["_components","require","_hooks","_components2","_components3","_reactHooks","_utils","_springUi","_react","_interopRequireWildcard","_useConversationActionButtons","_useThreadInfoDisplay2","_ConversationMessageList","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_extends","assign","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","next","push","isArray","ConversationPanel","exports","_ref","_threadMetadata$loadi","_ref$messageText","messageText","_messageText","_ref$updateMessageTex","updateMessageText","_ref$attachments","attachments","_ref$supportAttachmen","supportAttachment","_ref$addAttachments","addAttachments","_ref$removeAttachment","removeAttachment","conversation","messages","replyToReceivers","sendButtonDisabled","acceptFileTypes","onLinkClick","goBack","inputRef","toolbar","createNewEntityTooltip","alertProps","showAlert","_ref$displayLogStatus","displayLogStatus","showLogPopover","useConversationItemInfo","useActionsHandler","threadInfo","extensionId","threadMetadata","timeKey","endAdornment","viewLogAnchorRef","useRef","_useAsyncState","useAsyncState","_useAsyncState2","setMessageText","_useContactRenderInfo","useContactRenderInfoFromConversation","timePresentationMode","DisplayName","correspondentsDisplayInfoMap","_useConversationItemI","info","_useConversationItemI2","actions","onAction","_useThreadInfoDisplay","useThreadInfoDisplay","metadata","bannerDisplay","ThreadBanner","ThreadStatus","threadShowInput","showInput","isLoading","loading","buttons","useConversationActionButtons","variant","displayCount","moreButtonProps","createElement","Fragment","AppHeaderNav","override","PageHeader","onBackClick","className","displayControl","maybe","matchCounts","ref","CircularProgressIndicator","size","ConversationMessageList","renderSenderName","message","_message$from$extensi","phoneNumber","extensionNumber","displayInfo","undefined","ContactDisplayRender","AppFooterNav","Alert","severity","startSlot","MessageInput","inputText","onChange","sendDisabled","onSend","onAddAttachment","_ref2","_callee2","data","files","_context2","all","map","_ref3","_callee","file","base64Url","_context","fileToBase64","_x2","_x","onRemoveAttachment"],"sources":["src/app/views/ConversationViewSpring/ConversationPanel/ConversationPanel.tsx"],"sourcesContent":["import {\n  AppFooterNav,\n  AppHeaderNav,\n} from '@ringcentral-integration/micro-core/src/app/components';\nimport { useContactRenderInfoFromConversation } from '@ringcentral-integration/micro-phone/src/app/hooks';\nimport { ContactDisplayRender } from '@ringcentral-integration/micro-phone/src/app/hooks/useContactRenderInfo/components';\nimport {\n  MessageInput,\n  PageHeader,\n} from '@ringcentral-integration/next-widgets/components';\nimport { useAsyncState } from '@ringcentral-integration/react-hooks';\nimport { fileToBase64 } from '@ringcentral-integration/utils';\nimport { Alert, CircularProgressIndicator } from '@ringcentral/spring-ui';\nimport React, { FC, useRef } from 'react';\n\nimport type { FileItem } from '../../../services';\nimport { useConversationActionButtons } from '../../ConversationsViewSpring/useConversationActionButtons';\nimport { useThreadInfoDisplay } from '../../MessageThreadsView/useThreadInfoDisplay';\nimport { ConversationViewSpringPanelProps } from '../Conversation.view.interface';\n\nimport {\n  ConversationMessageList,\n  type ConversationMessageListProps,\n} from './ConversationMessageList';\n\nexport const ConversationPanel: FC<\n  ConversationViewSpringPanelProps &\n    Pick<ConversationMessageListProps, 'timeKey'>\n> = ({\n  messageText: _messageText = '',\n  updateMessageText = () => null,\n  attachments = [],\n  supportAttachment = false,\n  addAttachments = () => null,\n  removeAttachment = () => null,\n  conversation,\n  messages,\n  replyToReceivers,\n  sendButtonDisabled,\n  acceptFileTypes,\n  onLinkClick,\n  goBack,\n  inputRef,\n  toolbar,\n  createNewEntityTooltip,\n  alertProps,\n  showAlert,\n  displayLogStatus = false,\n  showLogPopover,\n  useConversationItemInfo,\n  useActionsHandler,\n  threadInfo,\n  extensionId,\n  threadMetadata,\n  timeKey,\n  endAdornment,\n}) => {\n  const viewLogAnchorRef = useRef<HTMLDivElement>(null);\n  const [messageText, setMessageText] = useAsyncState(\n    _messageText,\n    updateMessageText,\n  );\n\n  const { DisplayName, correspondentsDisplayInfoMap } =\n    useContactRenderInfoFromConversation(conversation, {\n      timePresentationMode: 'withTime',\n      displayLogStatus,\n    });\n\n  const { info, actions = [] } = useConversationItemInfo(conversation);\n  const onAction = useActionsHandler(\n    conversation,\n    info,\n    'Text conversation page',\n  );\n\n  const {\n    bannerDisplay,\n    ThreadBanner,\n    ThreadStatus,\n    showInput: threadShowInput,\n  } = useThreadInfoDisplay({\n    info: threadInfo,\n    extensionId,\n    onAction,\n    metadata: threadMetadata,\n  });\n\n  const isLoading = threadMetadata?.loading ?? false;\n  // Hide input when alert is shown (e.g., opt out)\n  const showInput = !showAlert && threadShowInput;\n\n  const buttons = useConversationActionButtons({\n    actions,\n    conversation,\n    showLogPopover,\n    onAction,\n    createNewEntityTooltip,\n    variant: 'plain',\n    displayCount: 2,\n    moreButtonProps: { variant: 'contained' },\n  });\n\n  return (\n    <>\n      <AppHeaderNav override>\n        <PageHeader onBackClick={() => goBack()} endAdornment={buttons}>\n          <div\n            data-sign=\"currentName\"\n            className=\"flex justify-center items-center gap-1 overflow-hidden\"\n          >\n            <DisplayName\n              displayControl={{\n                maybe: true,\n                matchCounts: true,\n              }}\n            />\n            <ThreadStatus />\n          </div>\n        </PageHeader>\n      </AppHeaderNav>\n\n      <div\n        data-sign=\"conversationPanel\"\n        ref={viewLogAnchorRef}\n        className=\"relative h-full\"\n      >\n        {isLoading && (\n          <div className=\"absolute bottom-2 left-2\">\n            <CircularProgressIndicator size=\"xsmall\" />\n          </div>\n        )}\n        <ConversationMessageList\n          messages={messages}\n          className=\"h-full\"\n          timeKey={timeKey}\n          renderSenderName={(message) => {\n            const phoneNumber =\n              message.from &&\n              (message.from.extensionNumber ?? message.from.phoneNumber);\n\n            const displayInfo = phoneNumber\n              ? correspondentsDisplayInfoMap?.get(phoneNumber)\n              : undefined;\n\n            if (!displayInfo) return null;\n\n            return (\n              <div className=\"text-neutral-b2 typography-detailBold mb-1\">\n                <ContactDisplayRender info={displayInfo} />\n              </div>\n            );\n          }}\n          onLinkClick={onLinkClick}\n        />\n      </div>\n      <AppFooterNav>\n        {showAlert ? (\n          <Alert\n            className=\"m-4\"\n            severity=\"error\"\n            startSlot={null}\n            {...alertProps}\n          />\n        ) : bannerDisplay ? (\n          <ThreadBanner />\n        ) : null}\n\n        {showInput ? (\n          <div className=\"border-t border-neutral-b0-t20\">\n            <MessageInput\n              inputText={messageText}\n              acceptFileTypes={acceptFileTypes}\n              onChange={setMessageText}\n              sendDisabled={sendButtonDisabled}\n              onSend={replyToReceivers}\n              attachments={attachments as FileItem[]}\n              supportAttachment={supportAttachment}\n              onAddAttachment={async (data) => {\n                const files = await Promise.all(\n                  data.map(async (file) => {\n                    const { name, size } = file;\n                    const base64Url = await fileToBase64(file);\n                    return {\n                      name,\n                      size,\n                      file,\n                      base64Url,\n                    };\n                  }),\n                );\n                addAttachments(files);\n              }}\n              onRemoveAttachment={removeAttachment}\n              inputRef={inputRef}\n              endAdornment={endAdornment}\n              toolbar={toolbar}\n            />\n          </div>\n        ) : null}\n      </AppFooterNav>\n    </>\n  );\n};\n\nConversationPanel.displayName = 'ConversationPanel';\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,WAAA,GAAAC,OAAA;AAIA,IAAAC,MAAA,GAAAD,OAAA;AACA,IAAAE,YAAA,GAAAF,OAAA;AACA,IAAAG,YAAA,GAAAH,OAAA;AAIA,IAAAI,WAAA,GAAAJ,OAAA;AACA,IAAAK,MAAA,GAAAL,OAAA;AACA,IAAAM,SAAA,GAAAN,OAAA;AACA,IAAAO,MAAA,GAAAC,uBAAA,CAAAR,OAAA;AAGA,IAAAS,6BAAA,GAAAT,OAAA;AACA,IAAAU,sBAAA,GAAAV,OAAA;AAGA,IAAAW,wBAAA,GAAAX,OAAA;AAGmC,SAAAQ,wBAAAI,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAN,uBAAA,YAAAA,wBAAAI,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,mBAAAT,CAAA,iBAAAA,CAAA,gBAAAU,OAAA,CAAAV,CAAA,0BAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAAAmB,aAAA,IAtBnC,uKAAApB,CAAA,EAAAC,CAAA,EAAAE,CAAA,wBAAAkB,MAAA,GAAAA,MAAA,OAAAjB,CAAA,GAAAD,CAAA,CAAAmB,QAAA,kBAAAhB,CAAA,GAAAH,CAAA,CAAAoB,WAAA,8BAAAhB,EAAAJ,CAAA,EAAAC,CAAA,EAAAE,CAAA,EAAAC,CAAA,QAAAiB,CAAA,GAAApB,CAAA,IAAAA,CAAA,CAAAqB,SAAA,YAAAC,SAAA,GAAAtB,CAAA,GAAAsB,SAAA,EAAAC,CAAA,GAAAV,MAAA,CAAAW,MAAA,CAAAJ,CAAA,CAAAC,SAAA,UAAAI,mBAAA,CAAAF,CAAA,uBAAAxB,CAAA,EAAAC,CAAA,EAAAE,CAAA,QAAAC,CAAA,EAAAiB,CAAA,EAAAG,CAAA,EAAAnB,CAAA,MAAAsB,CAAA,GAAAxB,CAAA,QAAAyB,CAAA,OAAAC,CAAA,KAAAF,CAAA,KAAA1B,CAAA,KAAA6B,CAAA,EAAAjC,CAAA,EAAAkC,CAAA,EAAAC,CAAA,EAAA3B,CAAA,EAAA2B,CAAA,CAAAC,IAAA,CAAApC,CAAA,MAAAmC,CAAA,WAAAA,EAAAlC,CAAA,EAAAE,CAAA,WAAAI,CAAA,GAAAN,CAAA,EAAAuB,CAAA,MAAAG,CAAA,GAAA3B,CAAA,EAAAgC,CAAA,CAAA5B,CAAA,GAAAD,CAAA,EAAA+B,CAAA,gBAAAC,EAAAhC,CAAA,EAAAC,CAAA,SAAAoB,CAAA,GAAArB,CAAA,EAAAwB,CAAA,GAAAvB,CAAA,EAAAH,CAAA,OAAA8B,CAAA,IAAAvB,CAAA,KAAAF,CAAA,IAAAL,CAAA,GAAA6B,CAAA,CAAAO,MAAA,EAAApC,CAAA,UAAAK,CAAA,EAAAC,CAAA,GAAAuB,CAAA,CAAA7B,CAAA,GAAAkC,CAAA,GAAAH,CAAA,CAAAF,CAAA,EAAAQ,CAAA,GAAA/B,CAAA,KAAAJ,CAAA,QAAAG,CAAA,GAAAgC,CAAA,KAAAlC,CAAA,MAAAuB,CAAA,GAAApB,CAAA,EAAAiB,CAAA,GAAAjB,CAAA,YAAAiB,CAAA,WAAAjB,CAAA,MAAAA,CAAA,MAAAP,CAAA,IAAAO,CAAA,OAAA4B,CAAA,MAAA7B,CAAA,GAAAH,CAAA,QAAAgC,CAAA,GAAA5B,CAAA,QAAAiB,CAAA,MAAAQ,CAAA,CAAAC,CAAA,GAAA7B,CAAA,EAAA4B,CAAA,CAAA5B,CAAA,GAAAG,CAAA,OAAA4B,CAAA,GAAAG,CAAA,KAAAhC,CAAA,GAAAH,CAAA,QAAAI,CAAA,MAAAH,CAAA,IAAAA,CAAA,GAAAkC,CAAA,MAAA/B,CAAA,MAAAJ,CAAA,EAAAI,CAAA,MAAAH,CAAA,EAAA4B,CAAA,CAAA5B,CAAA,GAAAkC,CAAA,EAAAd,CAAA,cAAAlB,CAAA,IAAAH,CAAA,aAAA+B,CAAA,QAAAH,CAAA,OAAA3B,CAAA,qBAAAE,CAAA,EAAAwB,CAAA,EAAAQ,CAAA,QAAA9B,CAAA,YAAA+B,SAAA,uCAAAR,CAAA,UAAAD,CAAA,IAAAK,CAAA,CAAAL,CAAA,EAAAQ,CAAA,GAAAd,CAAA,GAAAM,CAAA,EAAAH,CAAA,GAAAW,CAAA,GAAArC,CAAA,GAAAuB,CAAA,OAAAxB,CAAA,GAAA2B,CAAA,MAAAI,CAAA,KAAAxB,CAAA,KAAAiB,CAAA,GAAAA,CAAA,QAAAA,CAAA,SAAAQ,CAAA,CAAA5B,CAAA,QAAA+B,CAAA,CAAAX,CAAA,EAAAG,CAAA,KAAAK,CAAA,CAAA5B,CAAA,GAAAuB,CAAA,GAAAK,CAAA,CAAAC,CAAA,GAAAN,CAAA,aAAAnB,CAAA,MAAAD,CAAA,QAAAiB,CAAA,KAAAlB,CAAA,YAAAL,CAAA,GAAAM,CAAA,CAAAD,CAAA,WAAAL,CAAA,GAAAA,CAAA,CAAAe,IAAA,CAAAT,CAAA,EAAAoB,CAAA,UAAAY,SAAA,2CAAAtC,CAAA,CAAAuC,IAAA,SAAAvC,CAAA,EAAA0B,CAAA,GAAA1B,CAAA,CAAAwC,KAAA,EAAAjB,CAAA,SAAAA,CAAA,oBAAAA,CAAA,KAAAvB,CAAA,GAAAM,CAAA,eAAAN,CAAA,CAAAe,IAAA,CAAAT,CAAA,GAAAiB,CAAA,SAAAG,CAAA,GAAAY,SAAA,uCAAAjC,CAAA,gBAAAkB,CAAA,OAAAjB,CAAA,GAAAP,CAAA,cAAAC,CAAA,IAAA8B,CAAA,GAAAC,CAAA,CAAA5B,CAAA,QAAAuB,CAAA,GAAAxB,CAAA,CAAAa,IAAA,CAAAZ,CAAA,EAAA4B,CAAA,OAAAE,CAAA,kBAAAjC,CAAA,IAAAM,CAAA,GAAAP,CAAA,EAAAwB,CAAA,MAAAG,CAAA,GAAA1B,CAAA,cAAAO,CAAA,mBAAAiC,KAAA,EAAAxC,CAAA,EAAAuC,IAAA,EAAAT,CAAA,SAAA5B,CAAA,EAAAG,CAAA,EAAAC,CAAA,QAAAoB,CAAA,QAAAO,CAAA,gBAAAR,UAAA,cAAAgB,kBAAA,cAAAC,2BAAA,KAAA1C,CAAA,GAAAgB,MAAA,CAAA2B,cAAA,MAAApB,CAAA,MAAApB,CAAA,IAAAH,CAAA,CAAAA,CAAA,IAAAG,CAAA,SAAAyB,mBAAA,CAAA5B,CAAA,OAAAG,CAAA,iCAAAH,CAAA,GAAA0B,CAAA,GAAAgB,0BAAA,CAAAlB,SAAA,GAAAC,SAAA,CAAAD,SAAA,GAAAR,MAAA,CAAAW,MAAA,CAAAJ,CAAA,YAAAhB,EAAAR,CAAA,WAAAiB,MAAA,CAAA4B,cAAA,GAAA5B,MAAA,CAAA4B,cAAA,CAAA7C,CAAA,EAAA2C,0BAAA,KAAA3C,CAAA,CAAAS,SAAA,GAAAkC,0BAAA,EAAAd,mBAAA,CAAA7B,CAAA,EAAAM,CAAA,yBAAAN,CAAA,CAAAyB,SAAA,GAAAR,MAAA,CAAAW,MAAA,CAAAD,CAAA,GAAA3B,CAAA,WAAA0C,iBAAA,CAAAjB,SAAA,GAAAkB,0BAAA,EAAAd,mBAAA,CAAAF,CAAA,iBAAAgB,0BAAA,GAAAd,mBAAA,CAAAc,0BAAA,iBAAAD,iBAAA,GAAAA,iBAAA,CAAAI,WAAA,wBAAAjB,mBAAA,CAAAc,0BAAA,EAAArC,CAAA,wBAAAuB,mBAAA,CAAAF,CAAA,GAAAE,mBAAA,CAAAF,CAAA,EAAArB,CAAA,gBAAAuB,mBAAA,CAAAF,CAAA,EAAAvB,CAAA,iCAAAyB,mBAAA,CAAAF,CAAA,8DAAAP,YAAA,YAAAA,aAAA,aAAA2B,CAAA,EAAAxC,CAAA,EAAAyC,CAAA,EAAAxC,CAAA;AAAA,SAAAqB,oBAAA7B,CAAA,EAAAG,CAAA,EAAAC,CAAA,EAAAH,CAAA,QAAAM,CAAA,GAAAU,MAAA,CAAAC,cAAA,QAAAX,CAAA,uBAAAP,CAAA,IAAAO,CAAA,QAAAsB,mBAAA,YAAAoB,mBAAAjD,CAAA,EAAAG,CAAA,EAAAC,CAAA,EAAAH,CAAA,aAAAK,EAAAH,CAAA,EAAAC,CAAA,IAAAyB,mBAAA,CAAA7B,CAAA,EAAAG,CAAA,YAAAH,CAAA,gBAAAkD,OAAA,CAAA/C,CAAA,EAAAC,CAAA,EAAAJ,CAAA,SAAAG,CAAA,GAAAI,CAAA,GAAAA,CAAA,CAAAP,CAAA,EAAAG,CAAA,IAAAsC,KAAA,EAAArC,CAAA,EAAA+C,UAAA,GAAAlD,CAAA,EAAAmD,YAAA,GAAAnD,CAAA,EAAAoD,QAAA,GAAApD,CAAA,MAAAD,CAAA,CAAAG,CAAA,IAAAC,CAAA,IAAAE,CAAA,aAAAA,CAAA,cAAAA,CAAA,mBAAAuB,mBAAA,CAAA7B,CAAA,EAAAG,CAAA,EAAAC,CAAA,EAAAH,CAAA;AAAA,SAAAqD,mBAAAlD,CAAA,EAAAH,CAAA,EAAAD,CAAA,EAAAG,CAAA,EAAAG,CAAA,EAAA4B,CAAA,EAAAV,CAAA,cAAAjB,CAAA,GAAAH,CAAA,CAAA8B,CAAA,EAAAV,CAAA,GAAAG,CAAA,GAAApB,CAAA,CAAAkC,KAAA,WAAArC,CAAA,gBAAAJ,CAAA,CAAAI,CAAA,KAAAG,CAAA,CAAAiC,IAAA,GAAAvC,CAAA,CAAA0B,CAAA,IAAA4B,OAAA,CAAAC,OAAA,CAAA7B,CAAA,EAAA8B,IAAA,CAAAtD,CAAA,EAAAG,CAAA;AAAA,SAAAoD,kBAAAtD,CAAA,6BAAAH,CAAA,SAAAD,CAAA,GAAA2D,SAAA,aAAAJ,OAAA,WAAApD,CAAA,EAAAG,CAAA,QAAA4B,CAAA,GAAA9B,CAAA,CAAAwD,KAAA,CAAA3D,CAAA,EAAAD,CAAA,YAAA6D,MAAAzD,CAAA,IAAAkD,kBAAA,CAAApB,CAAA,EAAA/B,CAAA,EAAAG,CAAA,EAAAuD,KAAA,EAAAC,MAAA,UAAA1D,CAAA,cAAA0D,OAAA1D,CAAA,IAAAkD,kBAAA,CAAApB,CAAA,EAAA/B,CAAA,EAAAG,CAAA,EAAAuD,KAAA,EAAAC,MAAA,WAAA1D,CAAA,KAAAyD,KAAA;AAAA,SAAAE,SAAA,WAAAA,QAAA,GAAA9C,MAAA,CAAA+C,MAAA,GAAA/C,MAAA,CAAA+C,MAAA,CAAA5B,IAAA,eAAAhC,CAAA,aAAAJ,CAAA,MAAAA,CAAA,GAAA2D,SAAA,CAAAtB,MAAA,EAAArC,CAAA,UAAAC,CAAA,GAAA0D,SAAA,CAAA3D,CAAA,YAAAG,CAAA,IAAAF,CAAA,OAAAc,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAE,CAAA,MAAAC,CAAA,CAAAD,CAAA,IAAAF,CAAA,CAAAE,CAAA,aAAAC,CAAA,KAAA2D,QAAA,CAAAH,KAAA,OAAAD,SAAA;AAAA,SAAAM,eAAA9D,CAAA,EAAAH,CAAA,WAAAkE,eAAA,CAAA/D,CAAA,KAAAgE,qBAAA,CAAAhE,CAAA,EAAAH,CAAA,KAAAoE,2BAAA,CAAAjE,CAAA,EAAAH,CAAA,KAAAqE,gBAAA;AAAA,SAAAA,iBAAA,cAAA9B,SAAA;AAAA,SAAA6B,4BAAAjE,CAAA,EAAA+B,CAAA,QAAA/B,CAAA,2BAAAA,CAAA,SAAAmE,iBAAA,CAAAnE,CAAA,EAAA+B,CAAA,OAAAjC,CAAA,MAAAsE,QAAA,CAAAvD,IAAA,CAAAb,CAAA,EAAAqE,KAAA,6BAAAvE,CAAA,IAAAE,CAAA,CAAAsE,WAAA,KAAAxE,CAAA,GAAAE,CAAA,CAAAsE,WAAA,CAAAC,IAAA,aAAAzE,CAAA,cAAAA,CAAA,GAAA0E,KAAA,CAAAC,IAAA,CAAAzE,CAAA,oBAAAF,CAAA,+CAAA4E,IAAA,CAAA5E,CAAA,IAAAqE,iBAAA,CAAAnE,CAAA,EAAA+B,CAAA;AAAA,SAAAoC,kBAAAnE,CAAA,EAAA+B,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAA/B,CAAA,CAAAkC,MAAA,MAAAH,CAAA,GAAA/B,CAAA,CAAAkC,MAAA,YAAArC,CAAA,MAAAI,CAAA,GAAAuE,KAAA,CAAAzC,CAAA,GAAAlC,CAAA,GAAAkC,CAAA,EAAAlC,CAAA,IAAAI,CAAA,CAAAJ,CAAA,IAAAG,CAAA,CAAAH,CAAA,UAAAI,CAAA;AAAA,SAAA+D,sBAAAhE,CAAA,EAAAmC,CAAA,QAAArC,CAAA,WAAAE,CAAA,gCAAAkB,MAAA,IAAAlB,CAAA,CAAAkB,MAAA,CAAAC,QAAA,KAAAnB,CAAA,4BAAAF,CAAA,QAAAD,CAAA,EAAAI,CAAA,EAAAG,CAAA,EAAAoB,CAAA,EAAAO,CAAA,OAAA1B,CAAA,OAAAF,CAAA,iBAAAC,CAAA,IAAAN,CAAA,GAAAA,CAAA,CAAAe,IAAA,CAAAb,CAAA,GAAA2E,IAAA,QAAAxC,CAAA,QAAArB,MAAA,CAAAhB,CAAA,MAAAA,CAAA,UAAAO,CAAA,uBAAAA,CAAA,IAAAR,CAAA,GAAAO,CAAA,CAAAS,IAAA,CAAAf,CAAA,GAAAuC,IAAA,MAAAN,CAAA,CAAA6C,IAAA,CAAA/E,CAAA,CAAAyC,KAAA,GAAAP,CAAA,CAAAG,MAAA,KAAAC,CAAA,GAAA9B,CAAA,iBAAAL,CAAA,IAAAG,CAAA,OAAAF,CAAA,GAAAD,CAAA,yBAAAK,CAAA,YAAAP,CAAA,eAAA0B,CAAA,GAAA1B,CAAA,cAAAgB,MAAA,CAAAU,CAAA,MAAAA,CAAA,2BAAArB,CAAA,QAAAF,CAAA,aAAA8B,CAAA;AAAA,SAAAgC,gBAAA/D,CAAA,QAAAwE,KAAA,CAAAK,OAAA,CAAA7E,CAAA,UAAAA,CAAA;AAwBO,IAAM8E,iBAGZ,GAAAC,OAAA,CAAAD,iBAAA,GAAG,SAHSA,iBAGZA,CAAAE,IAAA,EA4BK;EAAA,IAAAC,qBAAA;EAAA,IAAAC,gBAAA,GAAAF,IAAA,CA3BJG,WAAW;IAAEC,YAAY,GAAAF,gBAAA,cAAG,EAAE,GAAAA,gBAAA;IAAAG,qBAAA,GAAAL,IAAA,CAC9BM,iBAAiB;IAAjBA,iBAAiB,GAAAD,qBAAA,cAAG;MAAA,OAAM,IAAI;IAAA,IAAAA,qBAAA;IAAAE,gBAAA,GAAAP,IAAA,CAC9BQ,WAAW;IAAXA,WAAW,GAAAD,gBAAA,cAAG,EAAE,GAAAA,gBAAA;IAAAE,qBAAA,GAAAT,IAAA,CAChBU,iBAAiB;IAAjBA,iBAAiB,GAAAD,qBAAA,cAAG,KAAK,GAAAA,qBAAA;IAAAE,mBAAA,GAAAX,IAAA,CACzBY,cAAc;IAAdA,cAAc,GAAAD,mBAAA,cAAG;MAAA,OAAM,IAAI;IAAA,IAAAA,mBAAA;IAAAE,qBAAA,GAAAb,IAAA,CAC3Bc,gBAAgB;IAAhBA,gBAAgB,GAAAD,qBAAA,cAAG;MAAA,OAAM,IAAI;IAAA,IAAAA,qBAAA;IAC7BE,YAAY,GAAAf,IAAA,CAAZe,YAAY;IACZC,QAAQ,GAAAhB,IAAA,CAARgB,QAAQ;IACRC,gBAAgB,GAAAjB,IAAA,CAAhBiB,gBAAgB;IAChBC,kBAAkB,GAAAlB,IAAA,CAAlBkB,kBAAkB;IAClBC,eAAe,GAAAnB,IAAA,CAAfmB,eAAe;IACfC,WAAW,GAAApB,IAAA,CAAXoB,WAAW;IACXC,MAAM,GAAArB,IAAA,CAANqB,MAAM;IACNC,QAAQ,GAAAtB,IAAA,CAARsB,QAAQ;IACRC,OAAO,GAAAvB,IAAA,CAAPuB,OAAO;IACPC,sBAAsB,GAAAxB,IAAA,CAAtBwB,sBAAsB;IACtBC,UAAU,GAAAzB,IAAA,CAAVyB,UAAU;IACVC,SAAS,GAAA1B,IAAA,CAAT0B,SAAS;IAAAC,qBAAA,GAAA3B,IAAA,CACT4B,gBAAgB;IAAhBA,gBAAgB,GAAAD,qBAAA,cAAG,KAAK,GAAAA,qBAAA;IACxBE,cAAc,GAAA7B,IAAA,CAAd6B,cAAc;IACdC,uBAAuB,GAAA9B,IAAA,CAAvB8B,uBAAuB;IACvBC,iBAAiB,GAAA/B,IAAA,CAAjB+B,iBAAiB;IACjBC,UAAU,GAAAhC,IAAA,CAAVgC,UAAU;IACVC,WAAW,GAAAjC,IAAA,CAAXiC,WAAW;IACXC,cAAc,GAAAlC,IAAA,CAAdkC,cAAc;IACdC,OAAO,GAAAnC,IAAA,CAAPmC,OAAO;IACPC,YAAY,GAAApC,IAAA,CAAZoC,YAAY;EAEZ,IAAMC,gBAAgB,GAAG,IAAAC,aAAM,EAAiB,IAAI,CAAC;EACrD,IAAAC,cAAA,GAAsC,IAAAC,yBAAa,EACjDpC,YAAY,EACZE,iBACF,CAAC;IAAAmC,eAAA,GAAA3D,cAAA,CAAAyD,cAAA;IAHMpC,WAAW,GAAAsC,eAAA;IAAEC,cAAc,GAAAD,eAAA;EAKlC,IAAAE,qBAAA,GACE,IAAAC,2CAAoC,EAAC7B,YAAY,EAAE;MACjD8B,oBAAoB,EAAE,UAAU;MAChCjB,gBAAgB,EAAhBA;IACF,CAAC,CAAC;IAJIkB,WAAW,GAAAH,qBAAA,CAAXG,WAAW;IAAEC,4BAA4B,GAAAJ,qBAAA,CAA5BI,4BAA4B;EAMjD,IAAAC,qBAAA,GAA+BlB,uBAAuB,CAACf,YAAY,CAAC;IAA5DkC,IAAI,GAAAD,qBAAA,CAAJC,IAAI;IAAAC,sBAAA,GAAAF,qBAAA,CAAEG,OAAO;IAAPA,OAAO,GAAAD,sBAAA,cAAG,EAAE,GAAAA,sBAAA;EAC1B,IAAME,QAAQ,GAAGrB,iBAAiB,CAChChB,YAAY,EACZkC,IAAI,EACJ,wBACF,CAAC;EAED,IAAAI,qBAAA,GAKI,IAAAC,2CAAoB,EAAC;MACvBL,IAAI,EAAEjB,UAAU;MAChBC,WAAW,EAAXA,WAAW;MACXmB,QAAQ,EAARA,QAAQ;MACRG,QAAQ,EAAErB;IACZ,CAAC,CAAC;IATAsB,aAAa,GAAAH,qBAAA,CAAbG,aAAa;IACbC,YAAY,GAAAJ,qBAAA,CAAZI,YAAY;IACZC,YAAY,GAAAL,qBAAA,CAAZK,YAAY;IACDC,eAAe,GAAAN,qBAAA,CAA1BO,SAAS;EAQX,IAAMC,SAAS,IAAA5D,qBAAA,GAAGiC,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAE4B,OAAO,cAAA7D,qBAAA,cAAAA,qBAAA,GAAI,KAAK;EAClD;EACA,IAAM2D,SAAS,GAAG,CAAClC,SAAS,IAAIiC,eAAe;EAE/C,IAAMI,OAAO,GAAG,IAAAC,0DAA4B,EAAC;IAC3Cb,OAAO,EAAPA,OAAO;IACPpC,YAAY,EAAZA,YAAY;IACZc,cAAc,EAAdA,cAAc;IACduB,QAAQ,EAARA,QAAQ;IACR5B,sBAAsB,EAAtBA,sBAAsB;IACtByC,OAAO,EAAE,OAAO;IAChBC,YAAY,EAAE,CAAC;IACfC,eAAe,EAAE;MAAEF,OAAO,EAAE;IAAY;EAC1C,CAAC,CAAC;EAEF,oBACEzJ,MAAA,YAAA4J,aAAA,CAAA5J,MAAA,YAAA6J,QAAA,qBACE7J,MAAA,YAAA4J,aAAA,CAACpK,WAAA,CAAAsK,YAAY;IAACC,QAAQ;EAAA,gBACpB/J,MAAA,YAAA4J,aAAA,CAAChK,YAAA,CAAAoK,UAAU;IAACC,WAAW,EAAE,SAAbA,WAAWA,CAAA;MAAA,OAAQpD,MAAM,CAAC,CAAC;IAAA,CAAC;IAACe,YAAY,EAAE2B;EAAQ,gBAC7DvJ,MAAA,YAAA4J,aAAA;IACE,aAAU,aAAa;IACvBM,SAAS,EAAC;EAAwD,gBAElElK,MAAA,YAAA4J,aAAA,CAACtB,WAAW;IACV6B,cAAc,EAAE;MACdC,KAAK,EAAE,IAAI;MACXC,WAAW,EAAE;IACf;EAAE,CACH,CAAC,eACFrK,MAAA,YAAA4J,aAAA,CAACV,YAAY,MAAE,CACZ,CACK,CACA,CAAC,eAEflJ,MAAA,YAAA4J,aAAA;IACE,aAAU,mBAAmB;IAC7BU,GAAG,EAAEzC,gBAAiB;IACtBqC,SAAS,EAAC;EAAiB,GAE1Bb,SAAS,iBACRrJ,MAAA,YAAA4J,aAAA;IAAKM,SAAS,EAAC;EAA0B,gBACvClK,MAAA,YAAA4J,aAAA,CAAC7J,SAAA,CAAAwK,yBAAyB;IAACC,IAAI,EAAC;EAAQ,CAAE,CACvC,CACN,eACDxK,MAAA,YAAA4J,aAAA,CAACxJ,wBAAA,CAAAqK,uBAAuB;IACtBjE,QAAQ,EAAEA,QAAS;IACnB0D,SAAS,EAAC,QAAQ;IAClBvC,OAAO,EAAEA,OAAQ;IACjB+C,gBAAgB,EAAE,SAAlBA,gBAAgBA,CAAGC,OAAO,EAAK;MAAA,IAAAC,qBAAA;MAC7B,IAAMC,WAAW,GACfF,OAAO,CAAC1F,IAAI,MAAA2F,qBAAA,GACXD,OAAO,CAAC1F,IAAI,CAAC6F,eAAe,cAAAF,qBAAA,cAAAA,qBAAA,GAAID,OAAO,CAAC1F,IAAI,CAAC4F,WAAW,CAAC;MAE5D,IAAME,WAAW,GAAGF,WAAW,GAC3BtC,4BAA4B,aAA5BA,4BAA4B,uBAA5BA,4BAA4B,CAAEtH,GAAG,CAAC4J,WAAW,CAAC,GAC9CG,SAAS;MAEb,IAAI,CAACD,WAAW,EAAE,OAAO,IAAI;MAE7B,oBACE/K,MAAA,YAAA4J,aAAA;QAAKM,SAAS,EAAC;MAA4C,gBACzDlK,MAAA,YAAA4J,aAAA,CAACjK,YAAA,CAAAsL,oBAAoB;QAACxC,IAAI,EAAEsC;MAAY,CAAE,CACvC,CAAC;IAEV,CAAE;IACFnE,WAAW,EAAEA;EAAY,CAC1B,CACE,CAAC,eACN5G,MAAA,YAAA4J,aAAA,CAACpK,WAAA,CAAA0L,YAAY,QACVhE,SAAS,gBACRlH,MAAA,YAAA4J,aAAA,CAAC7J,SAAA,CAAAoL,KAAK,EAAA/G,QAAA;IACJ8F,SAAS,EAAC,KAAK;IACfkB,QAAQ,EAAC,OAAO;IAChBC,SAAS,EAAE;EAAK,GACZpE,UAAU,CACf,CAAC,GACA+B,aAAa,gBACfhJ,MAAA,YAAA4J,aAAA,CAACX,YAAY,MAAE,CAAC,GACd,IAAI,EAEPG,SAAS,gBACRpJ,MAAA,YAAA4J,aAAA;IAAKM,SAAS,EAAC;EAAgC,gBAC7ClK,MAAA,YAAA4J,aAAA,CAAChK,YAAA,CAAA0L,YAAY;IACXC,SAAS,EAAE5F,WAAY;IACvBgB,eAAe,EAAEA,eAAgB;IACjC6E,QAAQ,EAAEtD,cAAe;IACzBuD,YAAY,EAAE/E,kBAAmB;IACjCgF,MAAM,EAAEjF,gBAAiB;IACzBT,WAAW,EAAEA,WAA0B;IACvCE,iBAAiB,EAAEA,iBAAkB;IACrCyF,eAAe;MAAA,IAAAC,KAAA,GAAA7H,iBAAA,cAAAtC,YAAA,GAAA4B,CAAA,CAAE,SAAAwI,SAAOC,IAAI;QAAA,IAAAC,KAAA;QAAA,OAAAtK,YAAA,GAAA2B,CAAA,WAAA4I,SAAA;UAAA,kBAAAA,SAAA,CAAAvL,CAAA;YAAA;cAAAuL,SAAA,CAAAvL,CAAA;cAAA,OACNmD,OAAO,CAACqI,GAAG,CAC7BH,IAAI,CAACI,GAAG;gBAAA,IAAAC,KAAA,GAAApI,iBAAA,cAAAtC,YAAA,GAAA4B,CAAA,CAAC,SAAA+I,QAAOC,IAAI;kBAAA,IAAAtH,IAAA,EAAAyF,IAAA,EAAA8B,SAAA;kBAAA,OAAA7K,YAAA,GAAA2B,CAAA,WAAAmJ,QAAA;oBAAA,kBAAAA,QAAA,CAAA9L,CAAA;sBAAA;wBACVsE,IAAI,GAAWsH,IAAI,CAAnBtH,IAAI,EAAEyF,IAAI,GAAK6B,IAAI,CAAb7B,IAAI;wBAAA+B,QAAA,CAAA9L,CAAA;wBAAA,OACM,IAAA+L,mBAAY,EAACH,IAAI,CAAC;sBAAA;wBAApCC,SAAS,GAAAC,QAAA,CAAAjK,CAAA;wBAAA,OAAAiK,QAAA,CAAAhK,CAAA,IACR;0BACLwC,IAAI,EAAJA,IAAI;0BACJyF,IAAI,EAAJA,IAAI;0BACJ6B,IAAI,EAAJA,IAAI;0BACJC,SAAS,EAATA;wBACF,CAAC;oBAAA;kBAAA,GAAAF,OAAA;gBAAA,CACF;gBAAA,iBAAAK,GAAA;kBAAA,OAAAN,KAAA,CAAAlI,KAAA,OAAAD,SAAA;gBAAA;cAAA,IACH,CAAC;YAAA;cAXK+H,KAAK,GAAAC,SAAA,CAAA1J,CAAA;cAYX8D,cAAc,CAAC2F,KAAK,CAAC;YAAC;cAAA,OAAAC,SAAA,CAAAzJ,CAAA;UAAA;QAAA,GAAAsJ,QAAA;MAAA,CACvB;MAAA,iBAAAa,EAAA;QAAA,OAAAd,KAAA,CAAA3H,KAAA,OAAAD,SAAA;MAAA;IAAA,IAAC;IACF2I,kBAAkB,EAAErG,gBAAiB;IACrCQ,QAAQ,EAAEA,QAAS;IACnBc,YAAY,EAAEA,YAAa;IAC3Bb,OAAO,EAAEA;EAAQ,CAClB,CACE,CAAC,GACJ,IACQ,CACd,CAAC;AAEP,CAAC;AAEDzB,iBAAiB,CAACnC,WAAW,GAAG,mBAAmB","ignoreList":[]}