{"version":3,"file":"QuickCallAction.view.js","names":["_nextCore","require","_observableHooks","_react","_interopRequireWildcard","_rxjs","_services","_QuickCallActionPanel","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_class","_class2","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","l","TypeError","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","initializer","slice","reverse","reduce","QuickCallActionView","exports","injectable","name","target","optional","undefined","metadata","Function","PortManager","CallingSettings","CallAction","QuickCallActionViewOptions","_RcViewModule","_portManager","_callingSettings","_callAction","_QuickCallActionViewOptions","_this","swapMenuOpened$","BehaviorSubject","mergeMenuOpened$","shared","onClient","bindMenuCloseListener","_this2","displayCallList","_this2$_callAction$ac","_this2$_callAction$ac2","metaInfo","getCallMetaInfo","telephonySessionId","open","isOtherDeviceCall","activeCallInfo","mergeCalls","_this3","fromWatchValue","_this3$_callAction$ac","_this3$_callAction$ac2","pipe","tap","next","takeUntilAppDestroy","subscribe","getUIProps","callMap","displayCallsMap","multiple","connectingCalls","ringCalls","ringing","holdingCalls","holding","activeCalls","active","swapCalls","actions","multipleActions","actionInfo","announcementInfo","meta","hidden","currentCall","singleActions","session","_session$isOnMute","isOnMute","_session$isOnHold","isOnHold","disabled","actionsDisabled","isRingingCall","otherDevice","isWebphoneMode","type","beQueueCall","isQueueCall","_actionInfo$meta","getUIFunctions","_this4","onAction","_ref","_callee","actionType","_this4$_callAction$an","_this4$_callAction$an2","handler","_this4$swapCalls$","swapId","_t","_context","createActionsHandler","_x","_x2","component","props","_this5","_this$_QuickCallActio","_useRef","useRef","uiFunctions","current","swapMenuOpened","useObservableState","mergeMenuOpened","_props","useConnector","uiProps","Component","QuickCallActionPanel","createElement","onSwapMenuOpen","opened","onMergeMenuOpen","RcViewModule","computed"],"sources":["src/app/views/QuickCallActionView/QuickCallAction.view.tsx"],"sourcesContent":["import type { UIFunctions, UIProps } from '@ringcentral-integration/next-core';\nimport {\n  computed,\n  fromWatchValue,\n  injectable,\n  optional,\n  PortManager,\n  RcViewModule,\n  takeUntilAppDestroy,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport { useObservableState } from 'observable-hooks';\nimport React, { useRef } from 'react';\nimport { BehaviorSubject, tap } from 'rxjs';\nimport type { SetOptional } from 'type-fest';\n\nimport type { ICallAction } from '../../hooks';\nimport {\n  CallAction,\n  CallingSettings,\n  isOtherDeviceCall,\n  isQueueCall,\n  isRingingCall,\n  OnCallActionType,\n} from '../../services';\n\nimport type {\n  QuickCallActionViewOptions,\n  QuickCallActionViewPanelProps,\n  QuickCallActionViewProps,\n} from './QuickCallAction.view.interface';\nimport { QuickCallActionPanel } from './QuickCallActionPanel';\n\n@injectable({\n  name: 'QuickCallActionView',\n})\nexport class QuickCallActionView extends RcViewModule {\n  swapMenuOpened$ = new BehaviorSubject(false);\n  mergeMenuOpened$ = this._callAction.mergeMenuOpened$;\n\n  @computed\n  private get swapCalls() {\n    return this._callAction.displayCallList.filter((call) => {\n      const metaInfo = this._callAction.getCallMetaInfo(\n        call.telephonySessionId!,\n      );\n      return (\n        !metaInfo?.open &&\n        !isOtherDeviceCall(call) &&\n        // exist active call also should not include in swapCall list\n        call.telephonySessionId !==\n          this._callAction.activeCallInfo?.call?.telephonySessionId\n      );\n    });\n  }\n\n  private get mergeCalls() {\n    return this._callAction.mergeCalls;\n  }\n\n  constructor(\n    private _portManager: PortManager,\n    private _callingSettings: CallingSettings,\n    private _callAction: CallAction,\n    @optional('QuickCallActionViewOptions')\n    private _QuickCallActionViewOptions?: QuickCallActionViewOptions,\n  ) {\n    super();\n\n    if (this._portManager.shared) {\n      this._portManager.onClient(() => {\n        this.bindMenuCloseListener();\n      });\n    } else {\n      this.bindMenuCloseListener();\n    }\n  }\n\n  private bindMenuCloseListener() {\n    fromWatchValue(\n      this,\n      () => this._callAction.activeCallInfo?.call?.telephonySessionId,\n    )\n      .pipe(\n        tap(() => {\n          this.swapMenuOpened$.next(false);\n          this.mergeMenuOpened$.next(false);\n        }),\n        takeUntilAppDestroy,\n      )\n      .subscribe();\n  }\n\n  getUIProps():\n    | UIProps<\n        SetOptional<\n          QuickCallActionViewPanelProps,\n          'swapMenuOpened' | 'mergeMenuOpened'\n        >\n      >\n    | { hidden: true } {\n    const callMap = this._callAction.displayCallsMap;\n\n    const multiple = this._callAction.connectingCalls.length > 1;\n\n    if (multiple) {\n      return {\n        ringCalls: callMap.ringing,\n        holdingCalls: callMap.holding,\n        activeCalls: callMap.active,\n        swapCalls: this.swapCalls,\n        mergeCalls: this.mergeCalls,\n        actions: this.multipleActions,\n      };\n    }\n\n    const actionInfo = this._callAction.announcementInfo;\n\n    if (!actionInfo?.meta) {\n      return { hidden: true };\n    }\n\n    return {\n      currentCall: actionInfo.call,\n      ringCalls: [],\n      holdingCalls: [],\n      activeCalls: [],\n      swapCalls: [],\n      mergeCalls: [],\n      actions: this.singleActions,\n    };\n  }\n\n  @computed\n  get singleActions(): ICallAction[] {\n    const actionInfo = this._callAction.announcementInfo;\n    if (!actionInfo) return [];\n\n    const { session, meta, call } = actionInfo;\n    const { isOnMute = false, isOnHold = false } = session;\n\n    if (!call) return [];\n    const disabled = meta?.actionsDisabled;\n    const ringing = isRingingCall(call);\n    const otherDevice = isOtherDeviceCall(call);\n    const actions: ICallAction[] = [];\n\n    if (ringing) {\n      if (otherDevice) {\n        if (this._callingSettings.isWebphoneMode) {\n          actions.push({ type: 'switch', disabled });\n        }\n\n        actions.push({ type: 'voicemail', disabled });\n        return actions;\n      }\n\n      const beQueueCall = isQueueCall(call);\n      if (beQueueCall) {\n        return [\n          { type: 'ignoreQueue', disabled },\n          { type: 'answer', disabled },\n        ];\n      }\n\n      return [\n        { type: 'voicemail', disabled },\n        { type: 'answer', disabled },\n      ];\n    }\n\n    actions.push({\n      type: isOnMute ? 'unmute' : 'mute',\n      disabled: isOnHold || disabled,\n    });\n\n    if (otherDevice && this._callingSettings.isWebphoneMode) {\n      actions.push({ type: 'switch', disabled });\n    }\n\n    actions.push({ type: 'hangUp', disabled });\n    return actions;\n  }\n\n  @computed\n  get multipleActions(): ICallAction[] {\n    const actions: ICallAction[] = [];\n\n    const actionInfo = this._callAction.announcementInfo;\n    const call = actionInfo?.call;\n\n    const disabled = actionInfo?.meta?.actionsDisabled;\n\n    if (call && isOtherDeviceCall(call)) {\n      if (this._callingSettings.isWebphoneMode) {\n        actions.push({ type: 'switch', disabled });\n      }\n    } else {\n      if (this.swapCalls.length > 0) actions.push({ type: 'swap', disabled });\n      if (this.mergeCalls.length > 0) actions.push({ type: 'merge', disabled });\n    }\n\n    actions.push({ type: 'callList' });\n    return actions;\n  }\n\n  getUIFunctions(): UIFunctions<\n    SetOptional<\n      QuickCallActionViewPanelProps,\n      'onSwapMenuOpen' | 'onMergeMenuOpen'\n    >\n  > {\n    const onAction: OnCallActionType = async (actionType, value) => {\n      const telephonySessionId =\n        this._callAction.announcementInfo?.call?.telephonySessionId;\n\n      const handler = this._callAction.createActionsHandler(telephonySessionId);\n\n      switch (actionType) {\n        case 'swap':\n          if (this.swapCalls.length > 1) {\n            this.swapMenuOpened$.next(true);\n\n            return;\n          }\n\n          if (this.swapCalls.length === 1) {\n            // swap to another call\n            const swapId = this.swapCalls[0]?.telephonySessionId;\n\n            if (!swapId) return;\n\n            await handler('startSwap', swapId);\n            return;\n          }\n          break;\n        default:\n          await handler(actionType, value);\n          break;\n      }\n\n      return false;\n    };\n\n    return {\n      onAction,\n    };\n  }\n\n  component(props: QuickCallActionViewProps) {\n    const { current: uiFunctions } = useRef(this.getUIFunctions());\n    const swapMenuOpened = useObservableState(this.swapMenuOpened$, false);\n    const mergeMenuOpened = useObservableState(this.mergeMenuOpened$, false);\n\n    const _props = useConnector(() => {\n      const uiProps = this.getUIProps();\n\n      return {\n        ...props,\n        ...uiProps,\n      };\n    });\n\n    if ('hidden' in _props) {\n      return null;\n    }\n\n    const Component =\n      this._QuickCallActionViewOptions?.component || QuickCallActionPanel;\n\n    return (\n      <Component\n        swapMenuOpened={swapMenuOpened}\n        onSwapMenuOpen={(opened) => {\n          this.swapMenuOpened$.next(opened);\n        }}\n        mergeMenuOpened={mergeMenuOpened}\n        onMergeMenuOpen={(opened) => {\n          this.mergeMenuOpened$.next(opened);\n        }}\n        {..._props}\n        {...uiFunctions}\n      />\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}