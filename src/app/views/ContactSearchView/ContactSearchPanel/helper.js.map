{"version":3,"file":"helper.js","names":["_ContactSearchPanelEnum","require","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","e","n","_defineProperty","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","_typeof","toPrimitive","String","Number","getCountsRes","counts","getPrimaryCount","items","count","filter","isPrimary","getPrimaryNumber","generateOptionsMap","exports","_ref","showOtherContacts","isAbleToSearch","companyContacts","otherContacts","personalContacts","thirdPartyContacts","TabsEnum","thirdParty","company","personal","other","generateTabs","_ref4","optionsMap","thirdPartySourceName","isLoading","companyTabs","label","number","sort","b","concat","invalidCharsRegExp","numberRegExp","validateValidChars","input","chars","trim"],"sources":["src/app/views/ContactSearchView/ContactSearchPanel/helper.tsx"],"sourcesContent":["import { type IContactSearchItem } from '../ContactSearch.view.interface';\n\nimport { TabsEnum } from './ContactSearchPanelEnum';\n\ninterface GenerateOptionsProps {\n  showOtherContacts?: boolean;\n  isAbleToSearch: boolean;\n  companyContacts: IContactSearchItem[];\n  otherContacts: IContactSearchItem[];\n  personalContacts: IContactSearchItem[];\n  thirdPartyContacts: IContactSearchItem[];\n}\n\ninterface GenerateTabsProps {\n  optionsMap: {\n    [key in keyof typeof TabsEnum]?: IContactSearchItem[];\n  };\n  thirdPartySourceName?: string;\n  showOtherContacts?: boolean;\n  isLoading: boolean;\n  t: any;\n}\n\nconst getCountsRes = (counts: number) => (counts > 99 ? `99+` : counts);\n\nconst getPrimaryCount = (items: any) => {\n  const count = items?.filter((i: any) => i.isPrimary).length;\n  return getCountsRes(count);\n};\n\nconst getPrimaryNumber = (items: any) => {\n  return items?.filter((i: any) => i.isPrimary).length;\n};\n\nexport const generateOptionsMap = ({\n  showOtherContacts,\n  isAbleToSearch,\n  companyContacts,\n  otherContacts,\n  personalContacts,\n  thirdPartyContacts,\n}: GenerateOptionsProps) => {\n  return showOtherContacts\n    ? {\n        [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n        [TabsEnum.company]: companyContacts,\n        [TabsEnum.personal]: personalContacts,\n        [TabsEnum.other]: otherContacts,\n      }\n    : {\n        [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n        [TabsEnum.company]: companyContacts,\n        [TabsEnum.personal]: personalContacts,\n      };\n};\n\nexport const generateTabs = ({\n  optionsMap,\n  thirdPartySourceName,\n  showOtherContacts,\n  isLoading,\n  t,\n}: GenerateTabsProps) => {\n  let companyTabs = [\n    {\n      label: t('companyTabTitle'),\n      value: TabsEnum.company,\n      count: getPrimaryCount(optionsMap[TabsEnum.company]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.company]),\n    },\n    {\n      label: t('personalTabTitle'),\n      value: TabsEnum.personal,\n      count: getPrimaryCount(optionsMap[TabsEnum.personal]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.personal]),\n    },\n    {\n      label: t('other'),\n      value: TabsEnum.other,\n      count: getPrimaryCount(optionsMap[TabsEnum.other]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.other]),\n    },\n  ];\n  if (!showOtherContacts) {\n    companyTabs = companyTabs.slice(0, 2);\n  }\n  companyTabs = companyTabs.sort((a, b) => {\n    // both non-zero, maintain the original order\n    if (a.number !== 0 && b.number !== 0) {\n      return 0;\n    }\n    // If the count of a is 0 and the count of b is not 0, b should come before a\n    if (a.number === 0 && b.number !== 0) {\n      return 1;\n    }\n    // If the count of b is 0 and the count of a is not 0, a should come before b\n    if (a.number !== 0 && b.number === 0) {\n      return -1;\n    }\n    // both zero, maintain the original order\n    return 0;\n  });\n\n  if (thirdPartySourceName) {\n    return [\n      {\n        label: thirdPartySourceName,\n        value: TabsEnum.thirdParty,\n        count: isLoading ? 0 : getPrimaryCount(optionsMap[TabsEnum.thirdParty]),\n      },\n      ...companyTabs,\n    ];\n  }\n  return companyTabs;\n};\n\nconst invalidCharsRegExp = /[^\\d*+#\\-(). ]/;\nconst numberRegExp = /\\d/;\n\nexport const validateValidChars = (input: string): boolean => {\n  const chars = input.trim();\n  return (\n    chars.length > 0 &&\n    !invalidCharsRegExp.test(chars) &&\n    numberRegExp.test(chars)\n  );\n};\n"],"mappings":"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","ignoreList":[]}