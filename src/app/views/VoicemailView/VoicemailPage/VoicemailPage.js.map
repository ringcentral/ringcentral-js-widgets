{"version":3,"file":"VoicemailPage.js","names":["_components","require","_hooks","_components2","_springUi","_clsx","_interopRequireDefault","_react","_components3","_i18n","e","__esModule","VoicemailPage","exports","_ref","_currentVoicemail$voi","currentVoicemail","className","goBack","onDownload","onStartLoad","useConversationItemInfo","useActionsHandler","audioStatus","updateAudioStatus","children","_useLocale","useLocale","i18n","t","_useConversationItemI","info","actions","onAction","DisplayName","formattedPhoneNumber","Avatar","creationTime","myCallerIdTitle","myCallerId","buttons","useHistoryActionButtons","voicemailAttachmentUri","voicemailAttachment","uri","createElement","Fragment","AppHeaderNav","override","PageHeader","onBackClick","clsx","size","displayControl","maybe","matchCounts","align","title","CopyIconButtonSpring","getText","ActionMenuList","variant","Block","BlockHeader","VoicemailPlayer","duration","loadSourceExternally","AppFooterNav","displayName"],"sources":["src/app/views/VoicemailView/VoicemailPage/VoicemailPage.tsx"],"sourcesContent":["import {\n  AppFooterNav,\n  AppHeaderNav,\n  CopyIconButtonSpring,\n} from '@ringcentral-integration/micro-core/src/app/components';\nimport { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport {\n  ActionMenuList,\n  PageHeader,\n  useHistoryActionButtons,\n} from '@ringcentral-integration/next-widgets/components';\nimport { Block, BlockHeader } from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React from 'react';\n\nimport { VoicemailPlayer } from '../../../components';\nimport { VoicemailPagePanelProps } from '../Voicemail.view.interface';\n\nimport i18n from './i18n';\n\nexport const VoicemailPage: FunctionComponent<VoicemailPagePanelProps> = ({\n  currentVoicemail,\n  className,\n  goBack,\n  onDownload,\n  onStartLoad,\n  useConversationItemInfo,\n  useActionsHandler,\n  audioStatus,\n  updateAudioStatus,\n  children,\n}) => {\n  const { t } = useLocale(i18n);\n\n  const { info, actions } = useConversationItemInfo(currentVoicemail);\n  const onAction = useActionsHandler(\n    currentVoicemail,\n    info,\n    'Voicemail detail page',\n  );\n\n  const {\n    DisplayName,\n    formattedPhoneNumber,\n    Avatar,\n    creationTime,\n    myCallerIdTitle,\n    myCallerId,\n  } = info;\n\n  const buttons = useHistoryActionButtons(actions, onAction);\n\n  const voicemailAttachmentUri = currentVoicemail.voicemailAttachment?.uri;\n  return (\n    <>\n      <AppHeaderNav override>\n        <PageHeader onBackClick={goBack} />\n      </AppHeaderNav>\n\n      <div\n        className={clsx(\n          'mt-3 mb-4 flex flex-col gap-4 justify-center items-center',\n          className,\n        )}\n        data-sign=\"contactDetail\"\n      >\n        <Avatar size=\"xxlarge\" />\n        <div className=\"flex flex-col gap-2 items-center\">\n          <h2 className=\"typography-title truncate w-full px-4 text-center text-neutral-b0 flex flex-col items-center gap-1\">\n            <DisplayName\n              displayControl={{\n                maybe: true,\n                matchCounts: true,\n                align: 'center',\n              }}\n            />\n          </h2>\n          {formattedPhoneNumber && (\n            <div className=\"flex gap-1 items-center\">\n              <p\n                className=\"typography-subtitle text-neutral-b2\"\n                title={formattedPhoneNumber}\n              >\n                {formattedPhoneNumber}\n              </p>\n              <CopyIconButtonSpring getText={() => formattedPhoneNumber} />\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex gap-6\">\n          <ActionMenuList buttons={buttons} variant=\"plain\" />\n        </div>\n      </div>\n\n      <div className=\"px-3 py-2\" data-sign=\"toNumber\">\n        <Block className=\"mb-2\">\n          <BlockHeader>\n            <span className=\"typography-descriptorMini\">{myCallerIdTitle}</span>\n            <div className=\"text-neutral-b2 typography-mainText\">\n              {myCallerId} ({t('me')})\n            </div>\n          </BlockHeader>\n        </Block>\n      </div>\n\n      <div className=\"px-3 py-2\">\n        <Block className=\"mb-2\">\n          <BlockHeader>\n            <span\n              className=\"typography-descriptorMini\"\n              data-sign=\"voicemailCreationTime\"\n            >\n              {creationTime}\n            </span>\n            <div className=\"text-neutral-b2\">\n              {currentVoicemail.voicemailAttachment &&\n              voicemailAttachmentUri ? (\n                <VoicemailPlayer\n                  data-sign=\"voicemailPlayer\"\n                  uri={voicemailAttachmentUri}\n                  duration={currentVoicemail.voicemailAttachment.duration}\n                  onStartLoad={onStartLoad}\n                  onDownload={onDownload}\n                  audioStatus={audioStatus}\n                  updateAudioStatus={updateAudioStatus}\n                  loadSourceExternally\n                />\n              ) : (\n                t('notAvailable')\n              )}\n            </div>\n          </BlockHeader>\n        </Block>\n      </div>\n\n      <div data-sign=\"log-notes-transcript-section\">{children}</div>\n\n      <AppFooterNav />\n    </>\n  );\n};\n\nVoicemailPage.displayName = 'VoicemailPage';\n"],"mappings":"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","ignoreList":[]}