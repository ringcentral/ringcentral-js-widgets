{"version":3,"file":"ToastItem.view.js","names":["_nextCore","require","_react","_interopRequireDefault","_ToastItemPanel","_contexts","_excluded","_excluded2","_dec","_dec2","_dec3","_dec4","_class","e","__esModule","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_objectWithoutProperties","i","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","_classCallCheck","a","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","__proto__","_inherits","create","_setPrototypeOf","ToastItemView","exports","injectable","name","target","optional","undefined","metadata","Function","ToastItemViewOptions","_RcViewModule","_toastItemViewOptions","_this","component","_ref","_this$_toastItemViewO","_this$_toastItemViewO2","toast","payload","onClose","props","ViewModule","options","view","isComponent","Action","action","_ref2","useConnector","getPureProps","disableEscapeKeyDown","disableBackdropClick","message","allowDuplicates","toastProps","contextProps","toastMode","close","reason","nonAction","Component","ToastItemPanel","createElement","ToastItemViewContext","Provider","RcViewModule"],"sources":["src/app/views/ToastView/ToastItemView/ToastItem.view.tsx"],"sourcesContent":["import {\n  injectable,\n  optional,\n  RcViewModule,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport React from 'react';\n\nimport type {\n  NonJSXToastItemProps,\n  ToastDehydratedPortal,\n} from '../../../services';\n\nimport type {\n  ToastItemProps,\n  ToastItemViewOptions,\n} from './ToastItem.view.interface';\nimport { ToastItemPanel } from './ToastItemPanel';\nimport { ToastItemViewContext, ToastViewContextValue } from './contexts';\n\nexport type ToastItemViewProps = ToastItemProps & {\n  toast: ToastDehydratedPortal;\n};\n\n@injectable({\n  name: 'ToastItemView',\n})\nexport class ToastItemView extends RcViewModule {\n  constructor(\n    @optional('ToastItemViewOptions')\n    protected _toastItemViewOptions?: ToastItemViewOptions,\n  ) {\n    super();\n  }\n\n  component({ toast, payload, onClose, ...props }: ToastItemViewProps) {\n    const ViewModule = toast.options.view;\n    const isComponent = typeof ViewModule === 'function';\n    const Action = isComponent ? undefined : ViewModule?.action;\n\n    const {\n      disableEscapeKeyDown,\n      disableBackdropClick,\n      message,\n      // TODO: remove that after all alert migrate to toast, that just pick out from alert module\n      // @ts-ignore\n      allowDuplicates,\n      action,\n      ...toastProps\n    } = useConnector(() => {\n      return toast.getPureProps(payload || {});\n    }) as NonJSXToastItemProps;\n\n    const contextProps: ToastViewContextValue = {\n      toastMode: true,\n      props: {\n        ...props,\n        ...toastProps,\n        disableEscapeKeyDown,\n        disableBackdropClick,\n        message: message as any,\n        payload,\n        onClose,\n      },\n      action: {\n        close: (reason) => {\n          onClose?.(reason as any);\n        },\n      },\n    };\n\n    const nonAction = action === null || Action === null;\n\n    const Component = this._toastItemViewOptions?.component ?? ToastItemPanel;\n\n    return (\n      <ToastItemViewContext.Provider value={contextProps}>\n        <Component\n          {...props}\n          {...toastProps}\n          payload={payload}\n          message={message!}\n          action={nonAction ? null : Action ? <Action /> : undefined}\n        >\n          {ViewModule ? (\n            isComponent ? (\n              <ViewModule />\n            ) : (\n              <ViewModule.component />\n            )\n          ) : (\n            message\n          )}\n        </Component>\n      </ToastItemViewContext.Provider>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}