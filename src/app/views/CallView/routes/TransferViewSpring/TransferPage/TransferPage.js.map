{"version":3,"file":"TransferPage.js","names":["_hooks","require","_components","_reactHooks","_springIcon","_springUi","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_rxjs","_i18n","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","u","next","done","push","value","isArray","iconContainerClassName","TransferPage","exports","_ref","_ref$onAction","onAction","noop","callVolume","outputDeviceId","enableWarmTransfer","actionButtonDisabled","toNumberProp","toNumber","onToNumberChange","recipientsProp","recipients","onRecipientsChange","ToContactSearch","ContactSearch","_useLocale","useLocale","i18n","_useAsyncState","useAsyncState","_useAsyncState2","setToNumber","_useAsyncState3","_useAsyncState4","setRecipients","_useState","useState","_useState2","contactSearchExpanded","setContactSearchExpanded","clearRecipient","createElement","Fragment","PageHeader","onBackClick","className","Dialer","defaultTab","source","open","componentType","inputValue","recipient","onInputValueChange","onSelect","onRemove","onExpanded","clsx","DialPad","volume","sinkId","sounds","DialerPadSoundsMPEG","size","IconButton","color","disabled","symbol","AskFirstMd","onClick","TransferCallMd","VoicemailMd","variant"],"sources":["src/app/views/CallView/routes/TransferViewSpring/TransferPage/TransferPage.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { PageHeader } from '@ringcentral-integration/next-widgets/components';\nimport { useAsyncState } from '@ringcentral-integration/react-hooks';\nimport {\n  AskFirstMd,\n  TransferCallMd,\n  VoicemailMd,\n} from '@ringcentral/spring-icon';\nimport {\n  Dialer,\n  DialerPadSoundsMPEG,\n  DialPad,\n  IconButton,\n} from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { FunctionComponent, useState } from 'react';\nimport { noop } from 'rxjs';\n\nimport type { TransferViewPanelProps } from '../Transfer.view.interface';\n\nimport i18n from './i18n';\n\nconst iconContainerClassName =\n  'inline-flex items-center justify-start flex-col gap-2 w-20';\n\nexport const TransferPage: FunctionComponent<TransferViewPanelProps> = ({\n  onAction = noop,\n  callVolume,\n  outputDeviceId,\n  enableWarmTransfer,\n  actionButtonDisabled,\n  toNumber: toNumberProp,\n  onToNumberChange,\n  recipients: recipientsProp,\n  onRecipientsChange,\n  ContactSearch: ToContactSearch,\n}) => {\n  const { t } = useLocale(i18n);\n\n  const [toNumber, setToNumber] = useAsyncState(toNumberProp, onToNumberChange);\n  const [recipients, setRecipients] = useAsyncState(\n    recipientsProp,\n    onRecipientsChange,\n  );\n  const [contactSearchExpanded, setContactSearchExpanded] = useState(false);\n\n  const clearRecipient = () => {\n    setRecipients([]);\n    setToNumber('');\n  };\n\n  return (\n    <>\n      <PageHeader onBackClick={() => onAction('activeCall')}>\n        {t('transferTo')}\n      </PageHeader>\n      <div\n        data-sign=\"transferPage\"\n        className=\"flex flex-col items-center gap-8 pt-8 flex-auto\"\n      >\n        <Dialer>\n          {/* @ts-ignore */}\n          <ToContactSearch\n            defaultTab=\"company\"\n            source=\"transfer\"\n            open={contactSearchExpanded}\n            componentType=\"DialTextField\"\n            inputValue={toNumber}\n            recipient={recipients[0]}\n            onInputValueChange={setToNumber}\n            onSelect={setRecipients}\n            onRemove={clearRecipient}\n            onExpanded={setContactSearchExpanded}\n          />\n\n          <div className={clsx(contactSearchExpanded && 'hidden')}>\n            <DialPad\n              data-sign=\"dialPad\"\n              volume={callVolume}\n              sinkId={outputDeviceId}\n              sounds={DialerPadSoundsMPEG}\n              size=\"medium\"\n              className=\"gap-y-2\"\n            />\n          </div>\n\n          <div\n            className={clsx(\n              'grid grid-cols-3 gap-x-1',\n              contactSearchExpanded && 'hidden',\n            )}\n          >\n            {enableWarmTransfer && (\n              <div className={iconContainerClassName}>\n                <IconButton\n                  size=\"xlarge\"\n                  color=\"primary\"\n                  data-sign=\"warmTransferBtn\"\n                  disabled={actionButtonDisabled}\n                  symbol={AskFirstMd}\n                  value=\"warmTransfer\"\n                  onClick={() => onAction('startWarmTransfer')}\n                />\n                <div className=\"typography-descriptorMini text-center\">\n                  {t('warmTransfer')}\n                </div>\n              </div>\n            )}\n            <div className={iconContainerClassName}>\n              <IconButton\n                size=\"xlarge\"\n                color=\"primary\"\n                data-sign=\"transferBtn\"\n                disabled={actionButtonDisabled}\n                symbol={TransferCallMd}\n                value=\"blindTransfer\"\n                onClick={() => onAction('startTransfer')}\n              />\n              <div className=\"typography-descriptorMini text-center\">\n                {t('blindTransfer')}\n              </div>\n            </div>\n            <div className={iconContainerClassName}>\n              <IconButton\n                size=\"xlarge\"\n                symbol={VoicemailMd}\n                color=\"primary\"\n                variant=\"outlined\"\n                disabled={actionButtonDisabled}\n                data-sign=\"toVoicemailBtn\"\n                onClick={() => onAction('startTransferToVoicemail')}\n              />\n              <div className=\"typography-descriptorMini text-center\">\n                {t('toVoicemail')}\n              </div>\n            </div>\n          </div>\n        </Dialer>\n      </div>\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]}