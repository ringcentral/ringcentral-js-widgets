{"version":3,"file":"KeypadPage.js","names":["_hooks","require","_reactHooks","_KeypadOffSp","_interopRequireDefault","_springUi","_react","_interopRequireWildcard","_rxjs","_CallControlPanel","_i18n","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","u","next","done","push","value","isArray","KeypadPage","exports","props","_props$onAction","onAction","noop","_props$callVolume","callVolume","_props$outputDeviceId","outputDeviceId","toNumberProp","toNumber","onToNumberChange","actionButtonDisabled","expanded","onExpand","_useAsyncState","useAsyncState","_useAsyncState2","setToNumber","inputRef","useRef","usePageAutoFocus","_useLocale","useLocale","i18n","render","useCallControlLayout","main","createElement","Dialer","className","DialTextField","variant","keypadMode","fullWidth","onChange","inputProps","onEmit","newValue","DialPad","volume","sounds","DialerPadSoundsMPEG","size","sinkId","footer","Fragment","CallButton","disabled","onClick","IconButton","shape","color","TooltipProps","title","symbol","KeypadOffSp","onBack","onConferenceClick"],"sources":["src/app/views/CallView/routes/KeypadViewSpring/KeypadPanel/KeypadPage.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport {\n  useAsyncState,\n  usePageAutoFocus,\n} from '@ringcentral-integration/react-hooks';\nimport { KeypadOffSp } from '@ringcentral/juno-icon';\nimport {\n  CallButton,\n  Dialer,\n  DialerPadSoundsMPEG,\n  DialPad,\n  DialTextField,\n  IconButton,\n} from '@ringcentral/spring-ui';\nimport type { FunctionComponent } from 'react';\nimport React, { useRef } from 'react';\nimport { noop } from 'rxjs';\n\nimport { useCallControlLayout } from '../../CallControlViewSpring/CallControlPanel';\nimport type { KeypadViewPanelProps } from '../Keypad.view.interface';\nimport i18n from '../i18n';\n\nexport const KeypadPage: FunctionComponent<KeypadViewPanelProps> = (props) => {\n  const {\n    call,\n    onAction = noop,\n    callVolume = 1,\n    outputDeviceId = '',\n    toNumber: toNumberProp,\n    onToNumberChange,\n    actionButtonDisabled,\n    expanded,\n    onExpand,\n  } = props;\n\n  const [toNumber, setToNumber] = useAsyncState(toNumberProp, onToNumberChange);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  usePageAutoFocus(inputRef);\n  const { t } = useLocale(i18n);\n\n  const render = useCallControlLayout(call, {\n    main: (\n      <Dialer>\n        <div className=\"flex justify-center items-center mb-6 -mt-6\">\n          <DialTextField\n            inputRef={inputRef}\n            variant=\"quiet\"\n            keypadMode\n            fullWidth\n            value={toNumber}\n            onChange={setToNumber}\n            inputProps={{\n              'data-sign': 'dialpad-input',\n            }}\n            onEmit={(newValue) => {\n              onAction('sendDTMF', newValue);\n            }}\n            className=\"max-w-[250px]\"\n          />\n        </div>\n\n        <div>\n          <DialPad\n            data-sign=\"dialPad\"\n            volume={callVolume}\n            sounds={DialerPadSoundsMPEG}\n            size=\"medium\"\n            sinkId={outputDeviceId}\n            className=\"gap-y-2\"\n          />\n        </div>\n      </Dialer>\n    ),\n    footer: (\n      <>\n        <CallButton\n          className=\"-mt-3\"\n          data-sign=\"sendDTMF\"\n          variant=\"end\"\n          size=\"medium\"\n          disabled={actionButtonDisabled}\n          onClick={() => onAction('hangUp')}\n        />\n\n        <IconButton\n          className=\"absolute flex-col translate-x-[80px] -translate-y-1\"\n          data-sign=\"hideKeypad\"\n          shape=\"squircle\"\n          color=\"secondary\"\n          TooltipProps={{\n            title: t('hideKeypad'),\n          }}\n          // TODO: wait spring version icon\n          symbol={KeypadOffSp}\n          onClick={() => onAction('activeCall')}\n        />\n      </>\n    ),\n    onBack: () => {\n      onAction('back');\n    },\n    onConferenceClick: () => {\n      onAction('viewConferenceList');\n    },\n    expanded,\n    onExpand,\n  });\n\n  return render;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,WAAA,GAAAD,OAAA;AAG8C,IAAAE,YAAA,GAAAC,sBAAA,CAAAH,OAAA;AAE9C,IAAAI,SAAA,GAAAJ,OAAA;AASA,IAAAK,MAAA,GAAAC,uBAAA,CAAAN,OAAA;AACA,IAAAO,KAAA,GAAAP,OAAA;AAEA,IAAAQ,iBAAA,GAAAR,OAAA;AAEA,IAAAS,KAAA,GAAAN,sBAAA,CAAAH,OAAA;AAA2B,SAAAM,wBAAAI,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAN,uBAAA,YAAAA,wBAAAI,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,mBAAAT,CAAA,iBAAAA,CAAA,gBAAAU,OAAA,CAAAV,CAAA,0BAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAAAR,uBAAAO,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAK,UAAA,GAAAL,CAAA,gBAAAA,CAAA;AAAA,SAAAoB,eAAAjB,CAAA,EAAAH,CAAA,WAAAqB,eAAA,CAAAlB,CAAA,KAAAmB,qBAAA,CAAAnB,CAAA,EAAAH,CAAA,KAAAuB,2BAAA,CAAApB,CAAA,EAAAH,CAAA,KAAAwB,gBAAA;AAAA,SAAAA,iBAAA,cAAAC,SAAA;AAAA,SAAAF,4BAAApB,CAAA,EAAAuB,CAAA,QAAAvB,CAAA,2BAAAA,CAAA,SAAAwB,iBAAA,CAAAxB,CAAA,EAAAuB,CAAA,OAAAzB,CAAA,MAAA2B,QAAA,CAAAZ,IAAA,CAAAb,CAAA,EAAA0B,KAAA,6BAAA5B,CAAA,IAAAE,CAAA,CAAA2B,WAAA,KAAA7B,CAAA,GAAAE,CAAA,CAAA2B,WAAA,CAAAC,IAAA,aAAA9B,CAAA,cAAAA,CAAA,GAAA+B,KAAA,CAAAC,IAAA,CAAA9B,CAAA,oBAAAF,CAAA,+CAAAiC,IAAA,CAAAjC,CAAA,IAAA0B,iBAAA,CAAAxB,CAAA,EAAAuB,CAAA;AAAA,SAAAC,kBAAAxB,CAAA,EAAAuB,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAvB,CAAA,CAAAgC,MAAA,MAAAT,CAAA,GAAAvB,CAAA,CAAAgC,MAAA,YAAAnC,CAAA,MAAAI,CAAA,GAAA4B,KAAA,CAAAN,CAAA,GAAA1B,CAAA,GAAA0B,CAAA,EAAA1B,CAAA,IAAAI,CAAA,CAAAJ,CAAA,IAAAG,CAAA,CAAAH,CAAA,UAAAI,CAAA;AAAA,SAAAkB,sBAAAnB,CAAA,EAAAiC,CAAA,QAAAnC,CAAA,WAAAE,CAAA,gCAAAkC,MAAA,IAAAlC,CAAA,CAAAkC,MAAA,CAAAC,QAAA,KAAAnC,CAAA,4BAAAF,CAAA,QAAAD,CAAA,EAAAI,CAAA,EAAAG,CAAA,EAAAgC,CAAA,EAAAb,CAAA,OAAAlB,CAAA,OAAAF,CAAA,iBAAAC,CAAA,IAAAN,CAAA,GAAAA,CAAA,CAAAe,IAAA,CAAAb,CAAA,GAAAqC,IAAA,QAAAJ,CAAA,QAAAnB,MAAA,CAAAhB,CAAA,MAAAA,CAAA,UAAAO,CAAA,uBAAAA,CAAA,IAAAR,CAAA,GAAAO,CAAA,CAAAS,IAAA,CAAAf,CAAA,GAAAwC,IAAA,MAAAf,CAAA,CAAAgB,IAAA,CAAA1C,CAAA,CAAA2C,KAAA,GAAAjB,CAAA,CAAAS,MAAA,KAAAC,CAAA,GAAA5B,CAAA,iBAAAL,CAAA,IAAAG,CAAA,OAAAF,CAAA,GAAAD,CAAA,yBAAAK,CAAA,YAAAP,CAAA,eAAAsC,CAAA,GAAAtC,CAAA,cAAAgB,MAAA,CAAAsB,CAAA,MAAAA,CAAA,2BAAAjC,CAAA,QAAAF,CAAA,aAAAsB,CAAA;AAAA,SAAAL,gBAAAlB,CAAA,QAAA6B,KAAA,CAAAY,OAAA,CAAAzC,CAAA,UAAAA,CAAA;AAEpB,IAAM0C,UAAmD,GAAAC,OAAA,CAAAD,UAAA,GAAG,SAAtDA,UAAmDA,CAAIE,KAAK,EAAK;EAC5E,IACE/B,IAAI,GASF+B,KAAK,CATP/B,IAAI;IAAAgC,eAAA,GASFD,KAAK,CARPE,QAAQ;IAARA,QAAQ,GAAAD,eAAA,cAAGE,UAAI,GAAAF,eAAA;IAAAG,iBAAA,GAQbJ,KAAK,CAPPK,UAAU;IAAVA,UAAU,GAAAD,iBAAA,cAAG,CAAC,GAAAA,iBAAA;IAAAE,qBAAA,GAOZN,KAAK,CANPO,cAAc;IAAdA,cAAc,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IACTE,YAAY,GAKpBR,KAAK,CALPS,QAAQ;IACRC,gBAAgB,GAIdV,KAAK,CAJPU,gBAAgB;IAChBC,oBAAoB,GAGlBX,KAAK,CAHPW,oBAAoB;IACpBC,QAAQ,GAENZ,KAAK,CAFPY,QAAQ;IACRC,QAAQ,GACNb,KAAK,CADPa,QAAQ;EAGV,IAAAC,cAAA,GAAgC,IAAAC,yBAAa,EAACP,YAAY,EAAEE,gBAAgB,CAAC;IAAAM,eAAA,GAAA3C,cAAA,CAAAyC,cAAA;IAAtEL,QAAQ,GAAAO,eAAA;IAAEC,WAAW,GAAAD,eAAA;EAC5B,IAAME,QAAQ,GAAG,IAAAC,aAAM,EAAmB,IAAI,CAAC;EAE/C,IAAAC,4BAAgB,EAACF,QAAQ,CAAC;EAC1B,IAAAG,UAAA,GAAc,IAAAC,gBAAS,EAACC,gBAAI,CAAC;IAArBrE,CAAC,GAAAmE,UAAA,CAADnE,CAAC;EAET,IAAMsE,MAAM,GAAG,IAAAC,sCAAoB,EAACxD,IAAI,EAAE;IACxCyD,IAAI,eACF9E,MAAA,YAAA+E,aAAA,CAAChF,SAAA,CAAAiF,MAAM,qBACLhF,MAAA,YAAA+E,aAAA;MAAKE,SAAS,EAAC;IAA6C,gBAC1DjF,MAAA,YAAA+E,aAAA,CAAChF,SAAA,CAAAmF,aAAa;MACZZ,QAAQ,EAAEA,QAAS;MACnBa,OAAO,EAAC,OAAO;MACfC,UAAU;MACVC,SAAS;MACTrC,KAAK,EAAEa,QAAS;MAChByB,QAAQ,EAAEjB,WAAY;MACtBkB,UAAU,EAAE;QACV,WAAW,EAAE;MACf,CAAE;MACFC,MAAM,EAAE,SAARA,MAAMA,CAAGC,QAAQ,EAAK;QACpBnC,QAAQ,CAAC,UAAU,EAAEmC,QAAQ,CAAC;MAChC,CAAE;MACFR,SAAS,EAAC;IAAe,CAC1B,CACE,CAAC,eAENjF,MAAA,YAAA+E,aAAA,2BACE/E,MAAA,YAAA+E,aAAA,CAAChF,SAAA,CAAA2F,OAAO;MACN,aAAU,SAAS;MACnBC,MAAM,EAAElC,UAAW;MACnBmC,MAAM,EAAEC,6BAAoB;MAC5BC,IAAI,EAAC,QAAQ;MACbC,MAAM,EAAEpC,cAAe;MACvBsB,SAAS,EAAC;IAAS,CACpB,CACE,CACC,CACT;IACDe,MAAM,eACJhG,MAAA,YAAA+E,aAAA,CAAA/E,MAAA,YAAAiG,QAAA,qBACEjG,MAAA,YAAA+E,aAAA,CAAChF,SAAA,CAAAmG,UAAU;MACTjB,SAAS,EAAC,OAAO;MACjB,aAAU,UAAU;MACpBE,OAAO,EAAC,KAAK;MACbW,IAAI,EAAC,QAAQ;MACbK,QAAQ,EAAEpC,oBAAqB;MAC/BqC,OAAO,EAAE,SAATA,OAAOA,CAAA;QAAA,OAAQ9C,QAAQ,CAAC,QAAQ,CAAC;MAAA;IAAC,CACnC,CAAC,eAEFtD,MAAA,YAAA+E,aAAA,CAAChF,SAAA,CAAAsG,UAAU;MACTpB,SAAS,EAAC,qDAAqD;MAC/D,aAAU,YAAY;MACtBqB,KAAK,EAAC,UAAU;MAChBC,KAAK,EAAC,WAAW;MACjBC,YAAY,EAAE;QACZC,KAAK,EAAEnG,CAAC,CAAC,YAAY;MACvB;MACA;MAAA;MACAoG,MAAM,EAAEC,uBAAY;MACpBP,OAAO,EAAE,SAATA,OAAOA,CAAA;QAAA,OAAQ9C,QAAQ,CAAC,YAAY,CAAC;MAAA;IAAC,CACvC,CACD,CACH;IACDsD,MAAM,EAAE,SAARA,MAAMA,CAAA,EAAQ;MACZtD,QAAQ,CAAC,MAAM,CAAC;IAClB,CAAC;IACDuD,iBAAiB,EAAE,SAAnBA,iBAAiBA,CAAA,EAAQ;MACvBvD,QAAQ,CAAC,oBAAoB,CAAC;IAChC,CAAC;IACDU,QAAQ,EAARA,QAAQ;IACRC,QAAQ,EAARA;EACF,CAAC,CAAC;EAEF,OAAOW,MAAM;AACf,CAAC","ignoreList":[]}