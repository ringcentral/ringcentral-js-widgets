{"version":3,"file":"IncomingCall.view.js","names":["_services","require","_nextCore","_useResultRef2","_react","_interopRequireDefault","_services2","_IncomingCallPage","_i18n","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_class","_class2","e","__esModule","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_regenerator","Symbol","iterator","toStringTag","i","c","prototype","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","a","d","l","TypeError","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","isArray","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","initializer","reverse","reduce","IncomingCallView","exports","injectable","target","optional","undefined","metadata","Function","Root","CallAction","CallMonitor","ForwardingNumber","AppFeatures","CallingSettings","IncomingCallViewOptions","_RcViewModule","_root","_callAction","_callMonitor","_forwardingNumber","_appFeatures","_callingSettings","_incomingCallViewOptions","_this","classes","miniContainer","expandedLayoutMainClass","get","concat","forwardingNumbers","phoneNumber","label","useCallActions","_ref","_this2","actionsDisabled","_useConnector","useConnector","hasActiveCalls","currDeviceHasActiveCalls","isCallForwardingEnabled","disabled","beQueueCall","isQueueCall","onOtherDevice","isOtherDeviceCall","type","getUIProps","_ref2","minimized","showCloseButton","isWebphoneMode","mode","expanded","getUIFunctions","_ref3","_this3","telephonySessionId","toggleExpanded","onMinimized","_onMinimized","_callee","_context","activeCallInfo","onActiveActions","updateCallMetaInfo","_x","onExpand","onAction","createActionsHandler","component","props","_this4","_this$_incomingCallVi","_useResultRef","useResultRef","uiFunctions","current","_props","uiProps","actions","Component","IncomingCallPage","createElement","RcViewModule","computed"],"sources":["src/app/views/CallView/routes/IncomingCallViewSpring/IncomingCall.view.tsx"],"sourcesContent":["import { AppFeatures } from '@ringcentral-integration/micro-auth/src/app/services';\nimport {\n  computed,\n  injectable,\n  optional,\n  RcViewModule,\n  Root,\n  type UIFunctions,\n  type UIProps,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport { useResultRef } from '@ringcentral/juno';\nimport React from 'react';\nimport type { SetOptional } from 'type-fest';\n\nimport { ICallAction } from '../../../../hooks';\nimport {\n  CallAction,\n  CallingSettings,\n  CallMonitor,\n  ForwardingNumber,\n  isOtherDeviceCall,\n  isQueueCall,\n} from '../../../../services';\n\nimport type {\n  IncomingCallViewOptions,\n  IncomingCallViewPanelProps,\n  IncomingCallViewProps,\n} from './IncomingCall.view.interface';\nimport { IncomingCallPage } from './IncomingCallPage';\nimport { t } from './IncomingCallPage/i18n';\n\n@injectable({\n  name: 'IncomingCallView',\n})\nexport class IncomingCallView extends RcViewModule {\n  @computed\n  get forwardingNumbers() {\n    return [\n      ...this._forwardingNumber.forwardingNumbers,\n      {\n        phoneNumber: 'custom',\n        label: `${t('custom')}...`,\n      },\n    ];\n  }\n\n  constructor(\n    private _root: Root,\n    private _callAction: CallAction,\n    private _callMonitor: CallMonitor,\n    private _forwardingNumber: ForwardingNumber,\n    private _appFeatures: AppFeatures,\n    private _callingSettings: CallingSettings,\n    @optional('IncomingCallViewOptions')\n    private _incomingCallViewOptions?: IncomingCallViewOptions,\n  ) {\n    super();\n  }\n\n  private useCallActions({\n    call,\n    actionsDisabled,\n  }: IncomingCallViewProps): ICallAction[] {\n    const { hasActiveCalls, isCallForwardingEnabled } = useConnector(() => ({\n      hasActiveCalls: this._callMonitor.currDeviceHasActiveCalls,\n      isCallForwardingEnabled: this._appFeatures.isCallForwardingEnabled,\n    }));\n\n    const disabled = actionsDisabled;\n\n    const beQueueCall = isQueueCall(call);\n    const onOtherDevice = isOtherDeviceCall(call);\n\n    if (beQueueCall) {\n      return [\n        { type: 'ignoreQueue', disabled },\n        { type: 'answer', disabled },\n      ];\n    }\n\n    if (onOtherDevice) {\n      return [{ type: 'voicemail', disabled }];\n    }\n\n    if (hasActiveCalls) {\n      return [\n        { type: 'ignore', disabled },\n        { type: 'endAndAnswer', disabled },\n        { type: 'voicemail', disabled },\n        { type: 'holdAndAnswer', disabled },\n        {\n          type: 'forward',\n          disabled: disabled || !isCallForwardingEnabled,\n        },\n        { type: 'reply', disabled },\n      ];\n    }\n\n    return [\n      { type: 'ignore', disabled },\n      { type: 'voicemail', disabled },\n      { type: 'answer', disabled },\n      {\n        type: 'forward',\n        disabled: disabled || !isCallForwardingEnabled,\n      },\n      { type: 'reply', disabled },\n    ];\n  }\n\n  classes = {\n    miniContainer: this._root.expandedLayoutMainClass,\n  };\n\n  getUIProps({\n    call,\n    minimized,\n  }: IncomingCallViewProps): UIProps<\n    SetOptional<IncomingCallViewPanelProps, 'actions'>\n  > {\n    const beQueueCall = isQueueCall(call);\n    return {\n      call,\n      minimized,\n      showCloseButton: !this._callingSettings.isWebphoneMode,\n      // when be queue call, should show queue call mode first, ignore multiple call or single call\n      mode: beQueueCall\n        ? 'queue'\n        : this._callMonitor.currDeviceHasActiveCalls\n        ? 'multiple'\n        : 'single',\n      expanded: Boolean(this._root.expanded),\n      forwardingNumbers: this.forwardingNumbers,\n      classes: this.classes,\n    };\n  }\n\n  getUIFunctions({\n    call,\n  }: IncomingCallViewProps): UIFunctions<IncomingCallViewPanelProps> {\n    const telephonySessionId = call.telephonySessionId!;\n\n    const toggleExpanded = this._callAction.toggleExpanded;\n    return {\n      onMinimized: async (minimized) => {\n        // when not minimized, should close the active call actions\n        if (minimized === false) {\n          if (this._callAction.activeCallInfo) {\n            await this._callAction.onActiveActions('back');\n          }\n\n          // mark current call as active call\n          await this._callAction.onActiveActions(\n            'activeCall',\n            telephonySessionId,\n          );\n        }\n\n        await this._callAction.updateCallMetaInfo(telephonySessionId, {\n          minimized,\n        });\n      },\n      onExpand: toggleExpanded\n        ? () => toggleExpanded(telephonySessionId)\n        : undefined,\n      onAction: (...args) =>\n        this._callAction.createActionsHandler(telephonySessionId)(...args),\n    };\n  }\n\n  component(props: IncomingCallViewProps) {\n    const { current: uiFunctions } = useResultRef(() =>\n      this.getUIFunctions(props),\n    );\n\n    const _props = useConnector(() => {\n      const uiProps = this.getUIProps(props);\n\n      return {\n        ...props,\n        ...uiProps,\n      };\n    });\n\n    const actions = this.useCallActions(props);\n\n    const Component =\n      this._incomingCallViewOptions?.component || IncomingCallPage;\n\n    return <Component {..._props} actions={actions} {...uiFunctions} />;\n  }\n}\n"],"mappings":"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","ignoreList":[]}