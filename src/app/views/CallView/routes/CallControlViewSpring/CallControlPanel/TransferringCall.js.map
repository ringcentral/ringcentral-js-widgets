{"version":3,"file":"TransferringCall.js","names":["_hooks","require","_components","_springIcon","_springUi","_clsx","_interopRequireDefault","_react","_components2","_hooks2","_i18n","_i18n2","e","__esModule","TransferringCallItem","_ref","call","active","dataSign","onAction","telephonySessionId","_useContactRenderInfo","useContactRenderInfoFromCall","phoneNumberDisplayMode","DisplayName","duration","holding","_useLocale","useLocale","useCallActionButtonsI18n","t","createElement","className","clsx","undefined","onClick","Icon","concat","symbol","HoldFilledMd","CallFilledMd","size","CallButton","variant","TooltipProps","title","isConferenceCall","TransferringCall","exports","_ref2","transferringCalls","expanded","onExpand","children","_useLocale2","i18n","activeTelephonySessionId","PageHeader","onBackClick","endAdornment","ExpandLogButton","map","transferringCall","index","currTelephonySessionId","key","IconButton","color","iconSize","TransferCallMd"],"sources":["src/app/views/CallView/routes/CallControlViewSpring/CallControlPanel/TransferringCall.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { PageHeader } from '@ringcentral-integration/next-widgets/components';\nimport {\n  CallFilledMd,\n  HoldFilledMd,\n  TransferCallMd,\n} from '@ringcentral/spring-icon';\nimport { CallButton, Icon, IconButton } from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { type FC } from 'react';\n\nimport { ExpandLogButton } from '../../../../../components';\nimport { useContactRenderInfoFromCall } from '../../../../../hooks';\nimport useCallActionButtonsI18n from '../../../../../hooks/useCallActionButtons/i18n';\nimport { CallControlViewPanelProps } from '../CallControl.view.interface';\n\nimport i18n from './i18n';\n\ntype TransferringCallItemProps = {\n  active: boolean;\n  dataSign: string;\n} & Pick<CallControlViewPanelProps, 'call' | 'onAction'>;\n\nconst TransferringCallItem: FC<TransferringCallItemProps> = ({\n  call,\n  active,\n  dataSign,\n  onAction,\n}) => {\n  const { telephonySessionId } = call;\n  const { DisplayName, duration, holding } = useContactRenderInfoFromCall(\n    call,\n    { phoneNumberDisplayMode: 'phoneNumber' },\n  );\n\n  const { t } = useLocale(useCallActionButtonsI18n);\n\n  return (\n    <li\n      data-telephony-session-id={telephonySessionId}\n      className=\"flex flex-nowrap gap-4\"\n      data-sign={dataSign}\n    >\n      <button\n        className={clsx(\n          'flex flex-nowrap items-center flex-auto gap-2 rounded-full px-4 py-2 text-left typography-mainText hover:bg-neutral-b4/40',\n          active ? 'bg-neutral-b4' : undefined,\n        )}\n        onClick={() => {\n          if (active) return;\n\n          onAction('activeCall', telephonySessionId);\n          onAction('unHold', telephonySessionId);\n        }}\n      >\n        <span\n          className=\"text-neutral-b0 flex-auto truncate w-0\"\n          data-sign=\"displayName\"\n        >\n          <DisplayName />\n        </span>\n        <span className=\"\">{duration}</span>\n        <Icon\n          data-sign={`${holding ? 'holdIcon' : 'callIcon'}`}\n          symbol={holding ? HoldFilledMd : CallFilledMd}\n          size=\"small\"\n        />\n      </button>\n      <CallButton\n        variant=\"end\"\n        size=\"small\"\n        TooltipProps={{\n          title: t(call.isConferenceCall ? 'leaveCall' : 'endCall'),\n        }}\n        data-sign=\"endCall\"\n        className={active ? undefined : 'invisible'}\n        onClick={() => {\n          onAction('hangUpWarmTransfer', telephonySessionId);\n        }}\n      />\n    </li>\n  );\n};\n\nexport const TransferringCall: React.FC<CallControlViewPanelProps> = ({\n  transferringCalls,\n  expanded,\n  onAction,\n  onExpand,\n  call,\n  children,\n}) => {\n  const { t } = useLocale(i18n);\n  const activeTelephonySessionId = call.telephonySessionId;\n\n  return (\n    <div data-sign=\"transferring-calls\">\n      <PageHeader\n        className=\"h-12\"\n        onBackClick={() => onAction('back')}\n        endAdornment={\n          onExpand && typeof expanded === 'boolean' ? (\n            <ExpandLogButton expanded={expanded} onExpand={onExpand} />\n          ) : null\n        }\n      >\n        {t('transferTitle')}\n      </PageHeader>\n      <ul className=\"mx-4 space-y-1 mt-6\">\n        {transferringCalls!.map((transferringCall, index) => {\n          const currTelephonySessionId = transferringCall.telephonySessionId;\n          return (\n            <TransferringCallItem\n              key={currTelephonySessionId}\n              dataSign={`call-item-${index}`}\n              call={transferringCall}\n              active={currTelephonySessionId === activeTelephonySessionId}\n              onAction={onAction}\n            />\n          );\n        })}\n      </ul>\n\n      <div className=\"flex flex-col items-center mt-6 mb-12\">{children}</div>\n\n      <div className=\"flex justify-center items-center relative\">\n        <IconButton\n          color=\"success\"\n          size=\"xxxlarge\"\n          iconSize=\"large\"\n          TooltipProps={{ title: t('completeTransfer') }}\n          variant=\"contained\"\n          data-sign=\"completeWarnTransfer\"\n          symbol={TransferCallMd}\n          onClick={() => {\n            onAction('completeWarmTransfer');\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}