{"version":3,"file":"CallControl.view.js","names":["_callDirections","_interopRequireDefault","require","_calleeTypes","_services","_views","_nextCore","_react","_interopRequireWildcard","_services2","_AudioCardViewSpring","_CallControlPanel","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_class","_class2","_descriptor","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","l","TypeError","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","getLastCallInfoFromWebphoneSession","webphoneSession","sessionNumber","direction","callDirections","outbound","to","from","sessionStatus","callStatus","matchedContact","contactMatch","calleeType","calleeTypes","contacts","unknown","avatarUrl","profileImageUrl","name","status","phoneNumber","CallControlView","exports","injectable","target","optional","undefined","metadata","Function","CallAction","CallingSettings","ActiveCallControl","ForwardingNumber","AppFeatures","Root","SyncTabView","AudioCardView","CallControlViewOptions","AiNoteTipsMap","delegate","_RcViewModule","_callAction","_callingSettings","_activeCallControl","_forwardingNumber","_appFeatures","_root","_syncTabView","_audioCardView","_callControlViewOptions","_this","_updateAiNoteTipsDisplayStatusMap","telephonySessionId","aiNoteTipsDisplayStatusMap","_deleteAiNoteTipsDisplayStatusMap","_updateAiNoteTipsDisplayStatusMap2","_callee","_context","updateAiNoteTipsDisplayStatusMap","_x","_deleteAiNoteTipsDisplayStatusMap2","_callee2","_context2","deleteAiNoteTipsDisplayStatusMap","_x2","useCallActions","_ref","_this2","actionsDisabled","_useConnector","useConnector","enableSmartNotes","isCurrentAiNotesLoading","isCurrentAiNotesPauseable","session","getActiveSession","flipNumbers","isWebphoneMode","hasCallRecordingPermission","preinsert","isPreinsertCall","otherDevice","isOtherDeviceCall","_ref2","_ref2$isOnMute","isOnMute","_ref2$isOnHold","isOnHold","recordStatus","warmTransferInfo","muteDisabled","transferring","addButton","skipConferenceCall","type","disabled","audioButton","enabled","actions","concat","isConferenceCall","isRecording","recordStatuses","recording","recordCtrlDisabled","pending","noAccess","getUIProps","_ref3","displayAiNoteTip","aiNoteTipType","currentAiNoteTipType","expanded","getUIFunctions","_ref4","_this3","onAction","_ref5","_callee3","actionType","handler","_this3$_syncTabView$t","_this3$_syncTabView$t2","result","_this3$_syncTabView$t3","_this3$_syncTabView$t4","_result","_len","args","_key","_args3","_t","_context3","createActionsHandler","tabInfo","SyncTabId","CALL_LOG","active","CallLogSyncTabId","AI_NOTE","Array","_x3","toggleExpanded","viewAiNote","replaceActive","onCloseAiNoteTip","onExpand","useTransferringCalls","props","_this4","relatedCall","_this4$_callAction$ge","relatedTelephonySessionId","getAllInfoByTelephonySessionId","isOriginal","transferringCalls","useMemo","component","_this5","_this$_callControlVie","uiFunctions","_props","uiProps","Component","CallControlPanel","createElement","AudioCardComponent","RcViewModule","state","action","computed"],"sources":["src/app/views/CallView/routes/CallControlViewSpring/CallControl.view.tsx"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport calleeTypes from '@ringcentral-integration/commons/enums/calleeTypes';\nimport type { NormalizedSession } from '@ringcentral-integration/commons/interfaces/Webphone.interface';\nimport { AppFeatures } from '@ringcentral-integration/micro-auth/src/app/services';\nimport {\n  SyncTabId,\n  SyncTabView,\n  CallLogSyncTabId,\n} from '@ringcentral-integration/micro-core/src/app/views';\nimport {\n  injectable,\n  optional,\n  RcViewModule,\n  Root,\n  UIFunctions,\n  UIProps,\n  useConnector,\n  state,\n  action,\n  delegate,\n  computed,\n} from '@ringcentral-integration/next-core';\nimport React, { useMemo } from 'react';\nimport type { SetOptional } from 'type-fest';\n\nimport { ICallAction } from '../../../../hooks';\nimport {\n  ActiveCallControl,\n  CallAction,\n  CallingSettings,\n  ForwardingNumber,\n  isPreinsertCall,\n  recordStatus as recordStatuses,\n  OnCallActionType,\n  isOtherDeviceCall,\n} from '../../../../services';\nimport { AudioCardView } from '../AudioCardViewSpring';\n\nimport type {\n  CallControlViewOptions,\n  CallControlViewPanelProps,\n  CallControlViewProps,\n  AiNoteTipsMap,\n  AiNoteTipType,\n} from './CallControl.view.interface';\nimport { CallControlPanel } from './CallControlPanel';\n\nexport function getLastCallInfoFromWebphoneSession(\n  webphoneSession: NormalizedSession,\n) {\n  const sessionNumber =\n    webphoneSession.direction === callDirections.outbound\n      ? webphoneSession.to\n      : webphoneSession.from;\n  const sessionStatus = webphoneSession.callStatus;\n  const matchedContact = webphoneSession.contactMatch;\n  const calleeType = matchedContact\n    ? calleeTypes.contacts\n    : calleeTypes.unknown;\n  return {\n    calleeType,\n    avatarUrl: matchedContact && matchedContact.profileImageUrl,\n    name: matchedContact && matchedContact.name,\n    status: sessionStatus,\n    phoneNumber: sessionNumber,\n  };\n}\n\n@injectable({\n  name: 'CallControlView',\n})\nexport class CallControlView extends RcViewModule {\n  @state\n  aiNoteTipsDisplayStatusMap: AiNoteTipsMap = {};\n\n  @action\n  private _updateAiNoteTipsDisplayStatusMap(telephonySessionId: string) {\n    this.aiNoteTipsDisplayStatusMap[telephonySessionId] = true;\n  }\n\n  @action\n  private _deleteAiNoteTipsDisplayStatusMap(telephonySessionId: string) {\n    delete this.aiNoteTipsDisplayStatusMap[telephonySessionId];\n  }\n\n  @delegate('server')\n  async updateAiNoteTipsDisplayStatusMap(telephonySessionId: string) {\n    this._updateAiNoteTipsDisplayStatusMap(telephonySessionId);\n  }\n\n  @delegate('server')\n  async deleteAiNoteTipsDisplayStatusMap(telephonySessionId: string) {\n    this._deleteAiNoteTipsDisplayStatusMap(telephonySessionId);\n  }\n\n  constructor(\n    private _callAction: CallAction,\n    private _callingSettings: CallingSettings,\n    private _activeCallControl: ActiveCallControl,\n    private _forwardingNumber: ForwardingNumber,\n    private _appFeatures: AppFeatures,\n    private _root: Root,\n    private _syncTabView: SyncTabView,\n    private _audioCardView: AudioCardView,\n    @optional('CallControlViewOptions')\n    private _callControlViewOptions?: CallControlViewOptions,\n  ) {\n    super();\n  }\n\n  private useCallActions({\n    call,\n    actionsDisabled,\n  }: CallControlViewProps): ICallAction[] {\n    const telephonySessionId = call.telephonySessionId!;\n    const {\n      session,\n      isWebphoneMode,\n      hasCallRecordingPermission,\n      enableSmartNotes,\n      isCurrentAiNotesPauseable,\n      isCurrentAiNotesLoading,\n    } = useConnector(() => ({\n      enableSmartNotes: this._callAction.enableSmartNotes,\n      isCurrentAiNotesLoading: this._callAction.isCurrentAiNotesLoading,\n      isCurrentAiNotesPauseable: this._callAction.isCurrentAiNotesPauseable,\n      session: this._activeCallControl.getActiveSession(telephonySessionId),\n      flipNumbers: this._forwardingNumber.flipNumbers,\n      isWebphoneMode: this._callingSettings.isWebphoneMode,\n      hasCallRecordingPermission: this._appFeatures.hasCallRecordingPermission,\n    }));\n\n    const preinsert = isPreinsertCall(call);\n    const otherDevice = isOtherDeviceCall(call);\n\n    if (!session && !preinsert) return [];\n\n    const { isOnMute = false, isOnHold = false, recordStatus } = session || {};\n\n    const { warmTransferInfo } = call;\n\n    const muteDisabled = isOnHold || actionsDisabled;\n    const transferring = Boolean(warmTransferInfo);\n\n    const addButton: ICallAction[] = this._activeCallControl.skipConferenceCall\n      ? []\n      : [\n          {\n            type: 'add',\n            disabled: !isWebphoneMode || transferring || actionsDisabled,\n          },\n        ];\n    const audioButton: ICallAction[] =\n      otherDevice || !this._audioCardView.enabled\n        ? []\n        : [\n            {\n              type: 'audio',\n              disabled: actionsDisabled,\n            },\n          ];\n    const actions: ICallAction[] = [\n      { type: isOnMute ? 'unmute' : 'mute', disabled: muteDisabled },\n      { type: 'keypad', disabled: !isWebphoneMode },\n      ...audioButton,\n      ...addButton,\n      { type: isOnHold ? 'unHold' : 'hold', disabled: actionsDisabled },\n    ];\n\n    /* --------------------- Transfer --------------------------- */\n    actions.push({\n      type: 'transfer',\n      disabled: transferring || actionsDisabled || call.isConferenceCall,\n    });\n\n    /* --------------------- Record --------------------------- */\n\n    const isRecording = recordStatus === recordStatuses.recording;\n    const recordCtrlDisabled =\n      isOnHold ||\n      recordStatus === recordStatuses.pending ||\n      recordStatus === recordStatuses.noAccess ||\n      actionsDisabled ||\n      !isWebphoneMode ||\n      !hasCallRecordingPermission;\n\n    actions.push(\n      isRecording\n        ? {\n            type: 'stopRecord',\n            disabled: recordCtrlDisabled,\n          }\n        : {\n            type: 'record',\n            disabled: recordCtrlDisabled,\n          },\n    );\n    /* --------------------- Flip --------------------------- */\n\n    // actions.push({\n    //   type: 'flip',\n    //   disabled:\n    //     !isWebphoneMode ||\n    //     transferring ||\n    //     isConferenceCall ||\n    //     isOnHold ||\n    //     flipNumbers.length === 0 ||\n    //     actionsDisabled,\n    // });\n\n    /* --------------------- Park --------------------------- */\n    // if (showPark) {\n    // actions.push({\n    //   type: 'park',\n    //   disabled: disableControlButton || actionsDisabled || !isWebphoneMode,\n    // });\n    // }\n\n    if (enableSmartNotes) {\n      actions.push({\n        type: isCurrentAiNotesPauseable ? 'stopNotes' : 'aiNotes',\n        disabled: isCurrentAiNotesLoading || actionsDisabled,\n      });\n    }\n\n    actions.push({\n      type: 'hangUp',\n      disabled: preinsert ? false : actionsDisabled,\n    });\n\n    return actions;\n  }\n\n  @computed\n  get currentAiNoteTipType(): AiNoteTipType {\n    return this._callAction.isCurrentAiNotesPauseable\n      ? 'viewAiNote'\n      : 'aiNoteStopped';\n  }\n\n  getUIProps({\n    call,\n  }: CallControlViewProps): UIProps<\n    SetOptional<CallControlViewPanelProps, 'actions' | 'transferringCalls'>\n  > {\n    const displayAiNoteTip =\n      this.aiNoteTipsDisplayStatusMap[call.telephonySessionId!];\n    const aiNoteTipType = displayAiNoteTip\n      ? this.currentAiNoteTipType\n      : undefined;\n    return {\n      call,\n      aiNoteTipType,\n      flipNumbers: this._forwardingNumber.flipNumbers,\n      expanded: this._root.expanded,\n    };\n  }\n\n  getUIFunctions({\n    call,\n  }: CallControlViewProps): UIFunctions<CallControlViewPanelProps> {\n    const telephonySessionId = call.telephonySessionId!;\n\n    const onAction: OnCallActionType = async (actionType, ...args) => {\n      const handler = this._callAction.createActionsHandler(telephonySessionId);\n      switch (actionType) {\n        case 'stopNotes': {\n          const result = await handler('stopNotes');\n          if (\n            (result && !this._root.expanded) ||\n            this._syncTabView.tabInfo?.[SyncTabId.CALL_LOG]?.active !==\n              CallLogSyncTabId.AI_NOTE\n          ) {\n            this.updateAiNoteTipsDisplayStatusMap(telephonySessionId);\n          }\n\n          return result;\n        }\n        case 'aiNotes':\n          {\n            const result = await handler('aiNotes');\n            if (\n              result &&\n              (!this._root.expanded ||\n                this._syncTabView.tabInfo?.[SyncTabId.CALL_LOG]?.active !==\n                  CallLogSyncTabId.AI_NOTE)\n            ) {\n              this.updateAiNoteTipsDisplayStatusMap(telephonySessionId);\n            }\n\n            return result;\n          }\n          break;\n        default:\n          await handler(actionType, ...args);\n          break;\n      }\n    };\n\n    const toggleExpanded = this._callAction.toggleExpanded;\n    return {\n      onAction,\n      viewAiNote: () => {\n        if (!this._root.expanded) {\n          toggleExpanded?.(telephonySessionId);\n        }\n        this._syncTabView.replaceActive(\n          SyncTabId.CALL_LOG,\n          CallLogSyncTabId.AI_NOTE,\n        );\n      },\n      onCloseAiNoteTip: () => {\n        this.deleteAiNoteTipsDisplayStatusMap(telephonySessionId);\n      },\n      onExpand: toggleExpanded\n        ? () => toggleExpanded(telephonySessionId)\n        : undefined,\n    };\n  }\n\n  private useTransferringCalls(props: CallControlViewProps) {\n    const { call } = props;\n    const { warmTransferInfo } = call;\n\n    const relatedCall = useConnector(() => {\n      const relatedTelephonySessionId =\n        warmTransferInfo?.relatedTelephonySessionId;\n\n      if (!relatedTelephonySessionId) return null;\n\n      return this._callAction.getAllInfoByTelephonySessionId(\n        relatedTelephonySessionId,\n      )?.call;\n    });\n\n    const isOriginal = relatedCall && warmTransferInfo?.isOriginal;\n    const transferringCalls = useMemo(\n      () =>\n        relatedCall\n          ? isOriginal\n            ? ([relatedCall, call] as const)\n            : ([call, relatedCall] as const)\n          : null,\n      [call, relatedCall, isOriginal],\n    );\n    return transferringCalls;\n  }\n\n  component(props: CallControlViewProps) {\n    const uiFunctions = useMemo(() => this.getUIFunctions(props), [props]);\n\n    const actions = this.useCallActions(props);\n\n    const _props = useConnector(() => {\n      const uiProps = this.getUIProps(props);\n\n      return {\n        ...props,\n        ...uiProps,\n      };\n    });\n\n    const transferringCalls = this.useTransferringCalls(props);\n\n    const Component =\n      this._callControlViewOptions?.component || CallControlPanel;\n    return (\n      <Component\n        {..._props}\n        transferringCalls={transferringCalls}\n        actions={actions}\n        {...uiFunctions}\n        AudioCardComponent={<this._audioCardView.component />}\n      />\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}