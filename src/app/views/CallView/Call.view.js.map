{"version":3,"file":"Call.view.js","names":["_callLogHelpers","require","_services","_components","_hooks","_views","_nextCore","_springUi","_clsx","_interopRequireDefault","_isEqual","_react","_interopRequireWildcard","_rxjs","_services2","_CallLogFormView","_QuickCallActionView","_i18n","_ActiveCallsViewSpring","_AddCallViewSpring","_CallControlViewSpring","_ForwardViewSpring","_IncomingCallViewSpring","_KeypadViewSpring","_PostCallViewSpring","_ReplyWithMessageViewSpring","_TransferViewSpring","_services3","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_dec16","_dec17","_dec18","_dec19","_dec20","_dec21","_dec22","_dec23","_dec24","_dec25","_dec26","_dec27","_dec28","_dec29","_dec30","_dec31","_class","_class2","_descriptor","_descriptor2","_descriptor3","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","u","next","done","push","value","isArray","_regenerator","toStringTag","c","prototype","Generator","create","_regeneratorDefine2","p","y","G","v","d","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","reverse","reduce","_initializerWarningHelper","Error","FullWrapper","_ref","children","createElement","Fragment","tabIndex","className","AppFooterNav","CallView","exports","injectable","target","optional","undefined","metadata","Function","CallAction","CallMonitor","SyncTabView","Root","CallViewState","KeypadView","IncomingCallView","ActiveCallsView","TransferView","CallControlView","ForwardView","ReplyWithMessageView","PostCallView","AddCallView","QuickCallActionView","ActiveCallControl","PreinsertCall","PortManager","RingCentralExtensions","RateLimiter","Webphone","CallLogFormView","CallViewOptions","delegate","dynamic","SmartNotes","SmartNotesView","Call","CallLogFormViewProps","_RcViewModule","_callAction","_callMonitor","_syncTabView","_root","_callViewState","_keypadView","_incomingCallView","_activeCallsView","_transferView","_callControlView","_forwardView","_replyWithMessageView","_postCallView","_addCallView","_quickCallActionView","_activeCallControl","_preInsertCall","_portManager","_ringCentralExtensions","_rateLimiter","_webphone","_callLogFormView","_callViewOptions","_this","shared","onServer","bindCallListeners","onMainTab","bindBeforeunload","onClient","initWebphoneEvent","_setClosedOtherTelephonySessionId","val","closedOtherTelephonySessionId","_setClosedOtherTelephonySessionId2","_callee","_context","setClosedOtherTelephonySessionId","_x","view","hasHiddenCalls","_this$_callViewOption","_this$_callViewOption2","showPostCallView","_this$_callViewOption3","_this$_callViewOption4","expandedAbility","defaultCallLogFormExpanded","_this2","newCallProcess$","addListener","pipe","mergeMap","logger","log","outboundCall","isOutbound","newTelephonySessionId","telephonySessionId","currentCallEnd$","filter","currCall","tap","allCalls","trackCallEventResult","result","processShowPostCallView","_remove","untilCallEnd","switchMap","NEVER","takeUntil","newCall$","defer","processNewCall","newCallTelephonyStatus","telephonyStatus","isRingingView","of","call$","fromCallAllInfo","map","info","distinctUntilChanged","share","ignored$","_call","webphoneSession","take","currentCallConnected$","merge","_callee2","_context2","openAndNavigate","currentPath","minimized","updateCallMetaInfo","open","takeUntilAppDestroy","callListProcess$","combineLatest","fromWatch","closeAllIncomingCalls","_ref3","_ref4","_setView","EMPTY","expandedCallProcess$","displayCallAllInfo","multiple","_ref5","_info$call","_ref6","beQueueCall","isQueueCall","meta","id","expanded","prev","curr","isEqual","state","_ref7","processExpandedCall","subscribe","fullScreenCallActionOpened$","_this$_callAction$exi","_this$_callAction$exi2","_this$_callAction$exi3","inbound","isInbound","actions","activeSessionId","outbound","isConferenceCall","_this$_callAction$act","activeCall","activeCallInfo","isOtherDeviceCall","isHoldingCall","isRingingCall","hold","_updateCallMetaInfo","existRingingOpenCallMetaInfo","closeOtherActives","processWarmTransferEnd","warnTransferringData","transferCallMapping","isDisplayCall","isFullSizeDisplayCall","relatedTelephonySessionId","isOriginal","_transferringOriginal","transferringOriginalTelephonySessionId","isShowPostCallView","isBringInPartyPreinsertStatus","transferringOriginalInfo","getAllInfoByTelephonySessionId","shouldIntoPostCall","includes","targetTelephonySessionId","_setPostCallView","_initWebphoneEvent","_callee4","_this3","_context4","onWebphoneRegistered","_callee3","_t","_context3","restricted","recoverWebSocketConnection","warn","_this4","globalThis","window","addEventListener","event","calling","sessions","preventDefault","returnValue","_this$_callViewOption5","brandAllowsSmartNotes","_smartNotes","_smartNotesView","CallDetailForm","_ref9","_this5","_ref9$variant","variant","_useLocale","useLocale","i18n","afterCallEnd","tabs","useMemo","CallLogSyncTabId","LOG","label","component","enableSmartNote","_this5$_smartNotes","hasSmartNote","AI_NOTE","mode","hasPermission","Divider","SyncTabId","CALL_LOG","pill","clsx","tabClassName","tabRootClassName","CallLogArea","_this6","_useConnector","useConnector","postCallCallLog","isPostCall","shouldRender","useLatestExistCall","renderInfo","logSectionRef","useRef","useLayoutEffect","activeElement","document","logSection","current","contains","scrollIntoView","ExpandedLayoutPopper","VIEW_TRANSITION_DETAIL_IDENTIFY","ref","ToastPositionAdjustor","Save","CallItem","_ref0","error","Announcement","_this7","_useConnector2","showQuickCallAction","IncomingCallList","_this8","_useConnector3","ringingCallInfoList","AppMainContent","_this9","activeRenderCallInfo","useActiveCallInfoWithPreinsert","modeView","notRingingCall","RcViewModule","action","computed","autobind"],"sources":["src/app/views/CallView/Call.view.tsx"],"sourcesContent":["import type { SmartNotes } from '@ringcentral-integration/ai-notes/src/app/services';\nimport type { SmartNotesView } from '@ringcentral-integration/ai-notes/src/app/views';\nimport type { Call } from '@ringcentral-integration/commons/interfaces/Call.interface';\nimport {\n  isInbound,\n  isOutbound,\n} from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport {\n  RateLimiter,\n  RingCentralExtensions,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport {\n  AppFooterNav,\n  AppMainContent,\n  ExpandedLayoutPopper,\n  ToastPositionAdjustor,\n} from '@ringcentral-integration/micro-core/src/app/components';\nimport { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport {\n  CallLogSyncTabId,\n  ModalRef,\n  SyncTabId,\n  SyncTabProps,\n  SyncTabView,\n  VIEW_TRANSITION_DETAIL_IDENTIFY,\n} from '@ringcentral-integration/micro-core/src/app/views';\nimport {\n  action,\n  autobind,\n  computed,\n  delegate,\n  dynamic,\n  fromWatch,\n  injectable,\n  optional,\n  PortManager,\n  RcViewModule,\n  Root,\n  state,\n  takeUntilAppDestroy,\n  useConnector,\n} from '@ringcentral-integration/next-core';\nimport { Divider } from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport isEqual from 'lodash/isEqual';\nimport React, { type FC, useLayoutEffect, useMemo, useRef } from 'react';\nimport {\n  combineLatest,\n  defer,\n  distinctUntilChanged,\n  EMPTY,\n  filter,\n  map,\n  merge,\n  mergeMap,\n  NEVER,\n  of,\n  pipe,\n  share,\n  switchMap,\n  take,\n  takeUntil,\n  tap,\n} from 'rxjs';\n\nimport {\n  ActiveCallControl,\n  CallAction,\n  type CallMetaInfo,\n  CallMonitor,\n  HistoryCall,\n  isHoldingCall,\n  isOtherDeviceCall,\n  isQueueCall,\n  isRingingCall,\n  PreinsertCall,\n  useActiveCallInfoWithPreinsert,\n  useLatestExistCall,\n  Webphone,\n} from '../../services';\nimport type { CallLogFormViewProps } from '../CallLogFormView';\nimport { CallLogFormView } from '../CallLogFormView';\nimport { QuickCallActionView } from '../QuickCallActionView';\n\nimport type { CallViewOptions } from './Call.view.interface';\nimport i18n from './i18n';\nimport { ActiveCallsView } from './routes/ActiveCallsViewSpring';\nimport { AddCallView } from './routes/AddCallViewSpring';\nimport { CallControlView } from './routes/CallControlViewSpring';\nimport { ForwardView } from './routes/ForwardViewSpring';\nimport { IncomingCallView } from './routes/IncomingCallViewSpring';\nimport { KeypadView } from './routes/KeypadViewSpring';\nimport { PostCallView } from './routes/PostCallViewSpring';\nimport { ReplyWithMessageView } from './routes/ReplyWithMessageViewSpring';\nimport { TransferView } from './routes/TransferViewSpring';\nimport { CallViewState } from './services';\n\nconst FullWrapper: FC = ({ children }) => (\n  <>\n    {/* <FocusTrap open> */}\n    <div\n      // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n      tabIndex={0}\n      className=\"absolute top-0 left-0 size-full z-drawer flex flex-col\"\n    >\n      {children}\n    </div>\n    {/* </FocusTrap> */}\n    <AppFooterNav />\n  </>\n);\n\n@injectable({\n  name: 'CallView',\n})\nexport class CallView extends RcViewModule implements ModalRef {\n  @state\n  closedOtherTelephonySessionId: string | null = null;\n\n  @action\n  private _setClosedOtherTelephonySessionId(val: string) {\n    this.closedOtherTelephonySessionId = val;\n  }\n\n  @delegate('server')\n  async setClosedOtherTelephonySessionId(val: string) {\n    this._setClosedOtherTelephonySessionId(val);\n  }\n\n  @computed\n  get showQuickCallAction() {\n    switch (this._callViewState.view) {\n      case 'callList':\n        return false;\n      case 'addCall':\n        return true;\n      default:\n        return this._callAction.hasHiddenCalls;\n    }\n  }\n\n  get isShowPostCallView() {\n    return this._callViewOptions?.showPostCallView ?? true;\n  }\n\n  get defaultCallLogFormExpanded() {\n    return (\n      this._callAction.expandedAbility &&\n      (this._callViewOptions?.defaultCallLogFormExpanded ?? true)\n    );\n  }\n\n  @dynamic('SmartNotes')\n  protected readonly _smartNotes?: SmartNotes;\n\n  @dynamic('SmartNotesView')\n  protected readonly _smartNotesView?: SmartNotesView;\n\n  constructor(\n    private _callAction: CallAction,\n    private _callMonitor: CallMonitor,\n    private _syncTabView: SyncTabView,\n    private _root: Root,\n    private _callViewState: CallViewState,\n    private _keypadView: KeypadView,\n    private _incomingCallView: IncomingCallView,\n    private _activeCallsView: ActiveCallsView,\n    private _transferView: TransferView,\n    private _callControlView: CallControlView,\n    private _forwardView: ForwardView,\n    private _replyWithMessageView: ReplyWithMessageView,\n    private _postCallView: PostCallView,\n    private _addCallView: AddCallView,\n    private _quickCallActionView: QuickCallActionView,\n    private _activeCallControl: ActiveCallControl,\n    private _preInsertCall: PreinsertCall,\n    private _portManager: PortManager,\n    private _ringCentralExtensions: RingCentralExtensions,\n    private _rateLimiter: RateLimiter,\n    private _webphone: Webphone,\n    @optional() private _callLogFormView?: CallLogFormView,\n    @optional('CallViewOptions')\n    private _callViewOptions?: CallViewOptions,\n  ) {\n    super();\n\n    if (this._portManager.shared) {\n      this._portManager.onServer(() => {\n        this.bindCallListeners();\n      });\n      this._portManager.onMainTab(() => {\n        this.bindBeforeunload();\n      });\n      this._portManager.onClient(() => {\n        this.initWebphoneEvent();\n      });\n    } else {\n      this.bindCallListeners();\n      this.bindBeforeunload();\n      this.initWebphoneEvent();\n    }\n  }\n\n  private bindCallListeners() {\n    const newCallProcess$ = this._callMonitor.addListener('NewCall').pipe(\n      mergeMap((call) => {\n        this.logger.log('new call', call);\n\n        const outboundCall = isOutbound(call);\n        const newTelephonySessionId = call.telephonySessionId!;\n\n        const currentCallEnd$ = this._callMonitor.addListener('CallEnded').pipe(\n          filter(\n            (currCall) => currCall.telephonySessionId === newTelephonySessionId,\n          ),\n          tap((currCall) => {\n            this.logger.log(`call ended`, {\n              currCall,\n              newTelephonySessionId,\n              allCalls: this._callMonitor.allCalls,\n            });\n\n            this._callAction.trackCallEventResult(currCall);\n\n            const result = this.processShowPostCallView(\n              newTelephonySessionId,\n              currCall,\n            );\n\n            if (!result) {\n              this._callAction._remove(newTelephonySessionId);\n            }\n          }),\n        );\n\n        const untilCallEnd = pipe(\n          // use NEVER to keep the subscription alive for the takeUntil always listen the call end event\n          switchMap(() => NEVER),\n          takeUntil(currentCallEnd$),\n        );\n\n        const newCall$ = defer(() => {\n          this.processNewCall(call);\n\n          const newCallTelephonyStatus = call.telephonyStatus;\n          const isRingingView =\n            !outboundCall && newCallTelephonyStatus === 'Ringing';\n\n          return of(isRingingView);\n        });\n\n        if (outboundCall) {\n          this.logger.log(`new outbound call`);\n\n          return newCall$.pipe(untilCallEnd);\n        }\n\n        const call$ = this._callAction\n          .fromCallAllInfo(newTelephonySessionId)\n          .pipe(\n            map((info) => info?.call),\n            distinctUntilChanged(),\n            share(),\n          );\n\n        // from have webphone session to not have webphone session, means be ignored\n        const ignored$ = call$.pipe(\n          filter((_call) => Boolean(_call && _call.webphoneSession)),\n          take(1),\n          switchMap(() => call$),\n          filter((_call) => Boolean(_call && !_call.webphoneSession)),\n        );\n\n        const currentCallConnected$ = this._callMonitor\n          .addListener('CallUpdated')\n          .pipe(\n            filter((call) => call.telephonySessionId === newTelephonySessionId),\n            filter((call) => call.telephonyStatus === 'CallConnected'),\n            tap(() => {\n              this.logger.log(`inbound call connected`);\n            }),\n            share(),\n          );\n\n        this.logger.log(`new inbound call`);\n\n        return newCall$.pipe(\n          switchMap((isRingingView) => {\n            // only be ringing view need to wait for call connected\n            return isRingingView\n              ? merge(\n                  currentCallConnected$.pipe(\n                    take(1),\n                    switchMap(async () => {\n                      await this._callAction.openAndNavigate(\n                        newTelephonySessionId,\n                        {\n                          currentPath: 'controls',\n                          minimized: false,\n                        },\n                        {\n                          view: 'activeCall',\n                        },\n                      );\n                    }),\n                  ),\n                  ignored$.pipe(\n                    take(1),\n                    tap((call) => {\n                      this.logger.log(`call webphone be ignored`, call);\n                      this._callAction.updateCallMetaInfo(\n                        newTelephonySessionId,\n                        {\n                          open: false,\n                          minimized: false,\n                        },\n                      );\n                    }),\n                    takeUntil(currentCallConnected$),\n                  ),\n                )\n              : NEVER;\n          }),\n          untilCallEnd,\n        );\n      }),\n      takeUntilAppDestroy,\n    );\n\n    const callListProcess$ = combineLatest([\n      fromWatch(this, () => this._callViewState.view).pipe(\n        tap((view) => {\n          // once view become the callList, close all incoming calls\n          if (view === 'callList') {\n            this._callAction.closeAllIncomingCalls();\n          }\n        }),\n      ),\n      fromWatch(this, () => this._callMonitor.allCalls.length),\n    ]).pipe(\n      tap(([view, length]) => {\n        // when call become only have one call, back to active call view\n        if (\n          (view === 'callList' && length <= 1) ||\n          (view === 'addCall' && length === 0)\n        ) {\n          return this._callViewState._setView('activeCall');\n        }\n\n        return EMPTY;\n      }),\n      takeUntilAppDestroy,\n    );\n\n    const expandedCallProcess$ = fromWatch(\n      this,\n      () =>\n        [\n          this._callAction.displayCallAllInfo,\n          this._callViewState.view,\n        ] as const,\n      {\n        multiple: true,\n      },\n    ).pipe(\n      map(([info, view]) => {\n        const beQueueCall = info?.call && isQueueCall(info.call);\n        const telephonySessionId = info?.call?.telephonySessionId;\n        const meta = info?.meta;\n\n        return {\n          id: telephonySessionId,\n          expanded:\n            meta &&\n            // only expanded when info be open\n            meta.open &&\n            // only when view is activeCall and expanded able to show\n            view === 'activeCall' &&\n            // minimized mode never show expanded panel\n            !meta.minimized &&\n            // when queue call only when controls path is not `incoming`\n            (beQueueCall\n              ? meta.currentPath !== 'incoming' && meta.expanded\n              : meta.expanded),\n        };\n      }),\n      // only when id or expanded change, need to update the expanded state\n      distinctUntilChanged((prev, curr) => isEqual(prev, curr)),\n      tap((state) => {\n        this.logger.log(`display call change`, state);\n      }),\n      tap(({ id, expanded }) => {\n        this.processExpandedCall(id, expanded);\n      }),\n      takeUntilAppDestroy,\n    );\n\n    newCallProcess$.subscribe();\n    callListProcess$.subscribe();\n    this._callAction.fullScreenCallActionOpened$\n      .pipe(takeUntilAppDestroy)\n      .subscribe();\n\n    if (this.defaultCallLogFormExpanded) expandedCallProcess$.subscribe();\n  }\n\n  /**\n   * use one action to batch the dispatch action in once\n   */\n  @action\n  private processNewCall(call: Call) {\n    const inbound = isInbound(call);\n    const newTelephonySessionId = call.telephonySessionId!;\n    const newCallTelephonyStatus = call.telephonyStatus;\n\n    const actions = this._callAction.actions;\n    const activeSessionId = this._activeCallControl.activeSessionId;\n    const outbound = !inbound;\n    // when new outbound but have existing call, hold existing call\n    if (\n      outbound &&\n      // when be conference call, the exist active call will be terminated, not need hold\n      !call.isConferenceCall &&\n      activeSessionId &&\n      newTelephonySessionId !== activeSessionId\n    ) {\n      const activeCall = this._callAction.activeCallInfo?.call;\n\n      if (\n        // new call is outbound, and curr call be active call and not in other device, then should hold current call\n        activeCall &&\n        activeCall.telephonySessionId !== newTelephonySessionId &&\n        !isOtherDeviceCall(activeCall) &&\n        !isHoldingCall(activeCall) &&\n        !isRingingCall(activeCall)\n      ) {\n        actions.hold(activeSessionId);\n      }\n\n      this._callAction._updateCallMetaInfo(activeSessionId, {\n        open: false,\n        minimized: false,\n      });\n    }\n\n    const isRingingView = inbound && newCallTelephonyStatus === 'Ringing';\n\n    this._callAction['_openAndNavigate'](\n      newTelephonySessionId,\n      {\n        currentPath: isRingingView ? 'incoming' : 'controls',\n        minimized: isRingingView\n          ? this._callAction.existRingingOpenCallMetaInfo?.meta?.minimized ??\n            true\n          : false,\n      },\n      {\n        closeOtherActives: !inbound,\n        view: isRingingView ? undefined : 'activeCall',\n      },\n    );\n    this.logger.log(`openAndNavigate`, newTelephonySessionId);\n  }\n\n  // for batch the action in once\n  @action\n  private processExpandedCall(\n    id: string | undefined,\n    expanded: boolean | null | undefined,\n  ) {\n    if (!id || expanded === undefined) {\n      this._root['_setExpanded'](false);\n\n      return;\n    }\n\n    if (expanded === null) {\n      // when first time\n      this._callAction['_updateCallMetaInfo'](id, {\n        expanded: true,\n      });\n      return;\n    }\n\n    // when expanded state change, update the expanded state to target call\n    if (this._root.expanded !== expanded) {\n      this._root['_setExpanded'](expanded);\n    }\n  }\n\n  private processWarmTransferEnd(\n    newTelephonySessionId: string,\n    currCall: Call,\n  ) {\n    const warnTransferringData =\n      this._activeCallControl.transferCallMapping[currCall.telephonySessionId!];\n\n    if (!warnTransferringData) return;\n\n    const isDisplayCall =\n      this._callAction.isFullSizeDisplayCall(newTelephonySessionId) ||\n      this._callAction.isFullSizeDisplayCall(\n        warnTransferringData.relatedTelephonySessionId,\n      );\n\n    if (isDisplayCall) {\n      this._callAction._updateCallMetaInfo(\n        warnTransferringData.relatedTelephonySessionId,\n        {\n          open: true,\n        },\n      );\n    }\n\n    if (!warnTransferringData.isOriginal) {\n      this.logger.log(\n        `warn transferring related call end, original call be`,\n        warnTransferringData.relatedTelephonySessionId,\n      );\n\n      return warnTransferringData.relatedTelephonySessionId;\n    } else {\n      this.logger.log(\n        `warn transferring original call end`,\n        newTelephonySessionId,\n      );\n      return newTelephonySessionId;\n    }\n  }\n\n  private processShowPostCallView(\n    newTelephonySessionId: string,\n    currCall: Call,\n  ) {\n    const transferringOriginalTelephonySessionId = this.processWarmTransferEnd(\n      newTelephonySessionId,\n      currCall,\n    );\n\n    if (!this.isShowPostCallView) return;\n\n    if (\n      this._preInsertCall.isBringInPartyPreinsertStatus(newTelephonySessionId)\n    ) {\n      this.logger.log(\n        `bring in party conference call ended, not into history page`,\n      );\n\n      return;\n    }\n\n    const isDisplayCall = this._callAction.isFullSizeDisplayCall(\n      newTelephonySessionId,\n    );\n\n    if (!isDisplayCall) return;\n\n    const transferringOriginalInfo =\n      transferringOriginalTelephonySessionId &&\n      this._callAction.getAllInfoByTelephonySessionId(\n        transferringOriginalTelephonySessionId,\n      );\n\n    const shouldIntoPostCall = transferringOriginalInfo\n      ? // if that be transferring original call, only when that be connected able to into post call page, because when hangup the transfer target directly, that not need into post call page, keep in original call page\n        ['CallConnected'].includes(\n          transferringOriginalInfo.call?.telephonyStatus as string,\n        )\n      : ['CallConnected', 'OnHold'].includes(\n          currCall.telephonyStatus as string,\n        );\n\n    if (!shouldIntoPostCall) return;\n\n    const targetTelephonySessionId =\n      transferringOriginalTelephonySessionId || newTelephonySessionId;\n    this.logger.log(`redirect to post call page`, targetTelephonySessionId);\n\n    this._callViewState._setPostCallView(targetTelephonySessionId);\n\n    return newTelephonySessionId;\n  }\n\n  private async initWebphoneEvent() {\n    this._webphone.onWebphoneRegistered(async () => {\n      if (!this._rateLimiter.restricted && this._ringCentralExtensions) {\n        try {\n          this.logger.log('[onWebphoneRegistered] recover websocket');\n          await this._ringCentralExtensions.recoverWebSocketConnection();\n        } catch (ex) {\n          this.logger.warn('[onWebphoneRegistered]', ex);\n        }\n      }\n    });\n  }\n\n  private bindBeforeunload() {\n    globalThis.window.addEventListener('beforeunload', (event) => {\n      const calling = this._webphone.sessions.length > 0;\n      if (calling) {\n        event.preventDefault();\n        event.returnValue = true;\n      }\n    });\n  }\n\n  @computed\n  get enableSmartNote() {\n    // if project provide the brandAllowsSmartNotes, and not support smart notes, early return false\n    if (this._callViewOptions?.brandAllowsSmartNotes === false) {\n      return false;\n    }\n\n    return !!this._smartNotes && !!this._smartNotesView;\n  }\n\n  @autobind\n  CallDetailForm({ variant = 'history', info }: CallLogFormViewProps) {\n    const { t } = useLocale(i18n);\n\n    const afterCallEnd = variant === 'history' || variant === 'postCall';\n\n    const tabs = useMemo(() => {\n      const result: SyncTabProps['tabs'] = [];\n      if (!info) return result;\n\n      // call log form\n      if (this._callLogFormView) {\n        result.push({\n          id: CallLogSyncTabId.LOG,\n          label: t('callLogTitle'),\n          component: (\n            <this._callLogFormView.component variant={variant} info={info} />\n          ),\n        });\n      }\n\n      // smart note\n      if (this.enableSmartNote) {\n        if (afterCallEnd && (info as HistoryCall).hasSmartNote) {\n          result.push({\n            id: CallLogSyncTabId.AI_NOTE,\n            label: t('aiNoteTitleInHistory'),\n            component: this._smartNotesView ? (\n              <this._smartNotesView.component\n                variant={afterCallEnd ? 'history' : 'expanded'}\n                info={info!}\n                mode=\"post-call\"\n                data-sign=\"ai-notes-panel\"\n                data-tab-type=\"history\"\n              />\n            ) : null,\n          });\n        } else if (variant === 'expanded' && this._smartNotes?.hasPermission) {\n          result.push({\n            id: CallLogSyncTabId.AI_NOTE,\n            label: t('aiNoteTitleInActiveCall'),\n            component: this._smartNotesView ? (\n              <this._smartNotesView.component\n                variant={variant}\n                info={info!}\n                mode=\"in-call\"\n                data-sign=\"ai-notes-panel\"\n                data-tab-type=\"active-call\"\n              />\n            ) : null,\n          });\n        }\n      }\n\n      return result;\n    }, [info, afterCallEnd, t, variant]);\n\n    if (tabs.length === 0) {\n      return null;\n    }\n\n    return (\n      <>\n        {tabs.length === 1 ? (\n          <>\n            {variant !== 'expanded' && <Divider className=\"mx-4\" />}\n            {tabs[0].component}\n          </>\n        ) : (\n          <this._syncTabView.component\n            id={SyncTabId.CALL_LOG}\n            data-sign=\"call-log-tabs\"\n            variant=\"standard\"\n            pill={afterCallEnd}\n            tabs={tabs}\n            className={clsx('flex-none', afterCallEnd && 'px-4')}\n            tabClassName=\"flex-none w-auto\"\n            tabRootClassName=\"h-8\"\n          />\n        )}\n      </>\n    );\n  }\n\n  @autobind\n  private CallLogArea() {\n    const { expanded, info, view, postCallCallLog } = useConnector(() => ({\n      postCallCallLog: this._callViewState.postCallCallLog,\n      info: this._callAction.displayCallAllInfo,\n      view: this._callViewState.view,\n      expanded: this._root.expanded,\n    }));\n\n    const curr = info || postCallCallLog;\n\n    const isPostCall = view === 'postCall';\n    const shouldRender =\n      isPostCall ||\n      (!isPostCall &&\n        (expanded ||\n          // when first time end call, the call will be dismiss, and expanded be false but still should keep the dom render to avoid user typing be interrupted\n          !info?.call));\n    const call = useLatestExistCall(info);\n\n    const renderInfo = call || postCallCallLog;\n    const logSectionRef = useRef<HTMLDivElement>(null);\n\n    useLayoutEffect(() => {\n      if (isPostCall) {\n        const activeElement = document.activeElement;\n        const logSection = logSectionRef.current;\n\n        if (activeElement && logSection?.contains(activeElement)) {\n          this.logger.log(\n            'still active inside the log section, scroll into view',\n          );\n\n          activeElement.scrollIntoView();\n        }\n      }\n    }, [isPostCall]);\n\n    const open = curr && view !== 'hidden';\n\n    /**\n     * we use the same dom element to prevent the flicker when switch between call log and post call log\n     */\n    return (\n      <>\n        {open ? (\n          <ExpandedLayoutPopper expanded={!isPostCall}>\n            <div\n              id={VIEW_TRANSITION_DETAIL_IDENTIFY}\n              className=\"flex flex-col w-full h-full\"\n              data-sign={\n                isPostCall ? 'post-log-panel' : 'during-call-log-panel'\n              }\n              data-call-log-id={renderInfo?.telephonySessionId}\n            >\n              {isPostCall ? (\n                // the top info of post call log\n                <div className=\"flex-none\">\n                  <this._postCallView.component variant=\"header\" />\n                </div>\n              ) : null}\n\n              <div\n                ref={logSectionRef}\n                data-sign=\"log-notes-transcript-section\"\n                className=\"pointer-events-auto flex-auto flex flex-col overflow-y-auto overflow-x-hidden\"\n              >\n                {isPostCall && <this._postCallView.component variant=\"info\" />}\n                {\n                  // when ever have call log, but both log not exist, means that redux still processing, keep the dom\n                  shouldRender && (\n                    <this.CallDetailForm\n                      variant={isPostCall ? 'postCall' : 'expanded'}\n                      info={renderInfo}\n                    />\n                  )\n                }\n              </div>\n              {shouldRender && this._callLogFormView && (\n                <>\n                  <ToastPositionAdjustor>\n                    <footer>\n                      <this._callLogFormView.Save />\n                    </footer>\n                  </ToastPositionAdjustor>\n                </>\n              )}\n            </div>\n          </ExpandedLayoutPopper>\n        ) : null}\n      </>\n    );\n  }\n\n  @autobind\n  private CallItem({ call, meta }: { call?: Call; meta?: CallMetaInfo }) {\n    if (!meta) {\n      this.logger.error('meta not found', { call });\n\n      return null;\n    }\n\n    const { open, currentPath } = meta;\n    if (!open) return null;\n\n    if (!call) {\n      this.logger.error('call not found', { call });\n\n      return null;\n    }\n\n    switch (currentPath) {\n      case 'keypad':\n        return (\n          <FullWrapper>\n            <this._keypadView.component call={call} {...meta} />\n          </FullWrapper>\n        );\n      case 'incoming':\n        return <this._incomingCallView.component call={call} {...meta} />;\n      case 'controls':\n        return (\n          <FullWrapper>\n            <this._callControlView.component call={call} {...meta} />\n          </FullWrapper>\n        );\n      case 'transfer':\n        return (\n          <FullWrapper>\n            <this._transferView.component call={call} {...meta} />\n          </FullWrapper>\n        );\n      case 'forward':\n        return (\n          <FullWrapper>\n            <this._forwardView.component call={call} {...meta} />\n          </FullWrapper>\n        );\n      case 'reply':\n        return (\n          <FullWrapper>\n            <this._replyWithMessageView.component call={call} {...meta} />\n          </FullWrapper>\n        );\n      default:\n        this.logger.error('unknown call path, should not happen', {\n          currentPath,\n          call,\n          meta,\n        });\n        return null;\n    }\n  }\n\n  @autobind\n  Announcement() {\n    const { showQuickCallAction } = useConnector(() => ({\n      showQuickCallAction: this.showQuickCallAction,\n    }));\n\n    return showQuickCallAction ? <this._quickCallActionView.component /> : null;\n  }\n\n  @autobind\n  IncomingCallList() {\n    const { ringingCallInfoList } = useConnector(() => ({\n      ringingCallInfoList: this._callAction.ringingCallInfoList,\n    }));\n\n    return (\n      <AppMainContent>\n        {ringingCallInfoList.map((info) => (\n          <this.CallItem key={info.call.telephonySessionId} {...info} />\n        ))}\n      </AppMainContent>\n    );\n  }\n\n  component() {\n    const view = useConnector(() => this._callViewState.view);\n\n    const activeRenderCallInfo = useActiveCallInfoWithPreinsert(\n      this._callAction,\n    );\n\n    const modeView = useMemo(() => {\n      switch (view) {\n        case 'callList':\n          return (\n            <FullWrapper>\n              <this._activeCallsView.component />\n            </FullWrapper>\n          );\n        case 'addCall':\n          return (\n            <FullWrapper>\n              <this._addCallView.component />\n            </FullWrapper>\n          );\n        case 'activeCall': {\n          // only show active call when not ringing call, ringing call will show in the ringing call list\n          const notRingingCall =\n            activeRenderCallInfo && !isRingingCall(activeRenderCallInfo.call);\n          if (notRingingCall) {\n            return <this.CallItem {...activeRenderCallInfo} />;\n          }\n\n          this.logger.error('wrong view', { view, activeRenderCallInfo });\n          return null;\n        }\n        case 'postCall':\n        case 'hidden':\n          return null;\n        default:\n          this.logger.error('wrong view', { view });\n          return null;\n      }\n    }, [activeRenderCallInfo, view]);\n\n    return (\n      <AppMainContent>\n        {modeView}\n        <this.CallLogArea />\n      </AppMainContent>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}