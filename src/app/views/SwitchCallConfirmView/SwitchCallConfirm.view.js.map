{"version":3,"file":"SwitchCallConfirm.view.js","names":["_callLogHelpers","require","_services","_views","_nextCore","_ActiveCallItemV","_styledComponents","_spacing","_react","_interopRequireDefault","_services2","_i18n","_templateObject","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_dec8","_dec9","_dec0","_dec1","_dec10","_dec11","_dec12","_dec13","_dec14","_dec15","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","e","__esModule","_regenerator","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","_initializerWarningHelper","Error","_taggedTemplateLiteral","freeze","defineProperties","raw","modalClasses","paper","SwitchModalGlobalStyle","createGlobalStyle","_ref","$isWide","spacing","SwitchCallConfirmView","exports","injectable","name","target","optional","undefined","metadata","Function","ModalView","RegionSettings","Webphone","ActiveCallControl","Call","delegate","_RcViewModule","_modalView","_regionSettings","_webphone","_activeCallControl","_this","onInitOnce","_this2","watch","_this2$_activeCallCon","sessions","find","s","_this2$call","sessionId","close","setContactName","contactName","setCall","getPhoneNumber","_call$from","_call$from2","_call$to","_call$to2","isInbound","from","phoneNumber","extensionNumber","to","getContactName","setIsWide","isWide","_open","_callee","_this$getContactName","_context","open","switchConfirmModal","_x","_close","_callee2","_context2","getUIProps","_this$call","confirmContext","isConferenceCall","component","createElement","Fragment","ModalContent","RcViewModule","state","action","getOwnPropertyDescriptor","portal","_this3","view","props","_ref2","classes","header","confirmButtonText","cancelButtonText","onConfirm","_onConfirm","_callee3","_context3","telephonySessionId","onCancel"],"sources":["src/app/views/SwitchCallConfirmView/SwitchCallConfirm.view.tsx"],"sourcesContent":["import type { Call } from '@ringcentral-integration/commons/interfaces/Call.interface';\nimport { isInbound } from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport { RegionSettings } from '@ringcentral-integration/micro-auth/src/app/services';\nimport {\n  ModalRef,\n  ModalView,\n} from '@ringcentral-integration/micro-core/src/app/views';\nimport type { UIProps } from '@ringcentral-integration/next-core';\nimport {\n  action,\n  delegate,\n  injectable,\n  optional,\n  portal,\n  RcViewModule,\n  state,\n  watch,\n} from '@ringcentral-integration/next-core';\nimport { ModalContent } from '@ringcentral-integration/widgets/components/ActiveCallItemV2';\nimport { createGlobalStyle, spacing } from '@ringcentral/juno';\nimport React from 'react';\n\nimport { ActiveCallControl, ActiveSession, Webphone } from '../../services';\n\nimport type { SwitchCallConfirmationProps } from './SwitchCallConfirm.view.interface';\nimport { t } from './i18n';\n\nconst modalClasses = {\n  paper: 'switch-dialog-paper',\n};\n\nconst SwitchModalGlobalStyle = createGlobalStyle<{\n  $isWide: boolean;\n}>`\n  .${modalClasses.paper} {\n    margin: ${({ $isWide }) => ($isWide ? spacing(4) : spacing(3))};\n    width: 100%;\n  }\n`;\n\n@injectable({\n  name: 'SwitchCallConfirmView',\n})\nexport class SwitchCallConfirmView extends RcViewModule implements ModalRef {\n  constructor(\n    protected _modalView: ModalView,\n    protected _regionSettings: RegionSettings,\n    protected _webphone: Webphone,\n    @optional() protected _activeCallControl?: ActiveCallControl,\n  ) {\n    super();\n  }\n\n  override onInitOnce() {\n    watch(\n      this,\n      () => this._activeCallControl?.sessions!,\n      (sessions) => {\n        if (\n          this.call &&\n          (sessions?.length === 0 ||\n            !sessions.find((s) => s.sessionId === this.call?.sessionId))\n        ) {\n          this.close();\n        }\n      },\n    );\n  }\n\n  @state\n  contactName = '';\n\n  @state\n  call: Call | null = null;\n\n  @state\n  isWide = false;\n\n  @action\n  setContactName(contactName: string) {\n    this.contactName = contactName;\n  }\n\n  @action\n  setCall(call: Call | null) {\n    this.call = call;\n  }\n\n  @portal\n  switchConfirmModal = this._modalView.create({\n    view: this,\n    props: ({ call }: { call: Call }) => ({\n      classes: modalClasses,\n      header: t('callSwitch'),\n      confirmButtonText: t('comfirmOKButton'),\n      cancelButtonText: t('comfirmCancelButton'),\n      onConfirm: async () => {\n        if (this._activeCallControl) {\n          return this._activeCallControl!.switch(\n            (call as ActiveSession).telephonySessionId,\n          );\n        }\n        // if (!this._webphone) {\n        //   return;\n        // }\n        // await this._webphone.switchCall(\n        //   call,\n        //   this._regionSettings.homeCountryId,\n        // );\n        this.close();\n      },\n      onCancel: () => {\n        this.setCall(null);\n      },\n    }),\n  });\n\n  getPhoneNumber(call: Call) {\n    return isInbound(call)\n      ? call?.from?.phoneNumber || call?.from?.extensionNumber\n      : call?.to?.phoneNumber || call?.to?.extensionNumber;\n  }\n\n  getContactName(call: Call) {\n    return this.getPhoneNumber(call);\n  }\n\n  @action\n  setIsWide(isWide: boolean) {\n    this.isWide = isWide;\n  }\n\n  @delegate('server')\n  async open(call: Call) {\n    this.setContactName(this.getContactName(call) ?? '');\n    this.setCall(call);\n    this._modalView.open(this.switchConfirmModal, { call });\n  }\n\n  @delegate('server')\n  async close() {\n    this._modalView.close(this.switchConfirmModal);\n    this.setCall(null);\n  }\n\n  getUIProps(): UIProps<SwitchCallConfirmationProps> {\n    return {\n      contactName: this.contactName,\n      confirmContext: this.call?.isConferenceCall\n        ? t('conferenceCallSwitchConfirmContext')\n        : t('comfirmContext', { displayName: this.contactName }),\n    };\n  }\n\n  component() {\n    return (\n      <>\n        <SwitchModalGlobalStyle $isWide={this.isWide} />\n        <ModalContent {...this.getUIProps()} />\n      </>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}