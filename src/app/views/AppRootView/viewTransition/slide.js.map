{"version":3,"file":"slide.js","names":["require","_regenerator","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","VIEW_TRANSITION_CONTAINER_IDENTIFY","exports","VIEW_TRANSITION_DETAIL_IDENTIFY","isReducedMotion","_window","_window$matchMedia","window","matchMedia","matches","getCondition","reducedMotion","undefined","container","document","getElementById","detail","slideInViewTransition","_ref","_callee2","callback","_getCondition","transition","_context2","startViewTransition","classList","add","_callee","_context","finished","remove","_x","_x2","slideOutViewTransition","_ref3","_callee4","_getCondition2","_context4","_callee3","_context3","_x3","_x4"],"sources":["src/app/views/AppRootView/viewTransition/slide.ts"],"sourcesContent":["import './view-transition.global.scss';\n\nexport const VIEW_TRANSITION_CONTAINER_IDENTIFY = 'view-transition-container';\nexport const VIEW_TRANSITION_DETAIL_IDENTIFY = 'view-transition-detail';\n\nconst isReducedMotion = () =>\n  window?.matchMedia?.('(prefers-reduced-motion)').matches;\n\nconst getCondition = (reducedMotion = isReducedMotion()) => {\n  if (reducedMotion) {\n    return {};\n  }\n\n  const container = document.getElementById(VIEW_TRANSITION_CONTAINER_IDENTIFY);\n  const detail = document.getElementById(VIEW_TRANSITION_DETAIL_IDENTIFY);\n\n  return {\n    container,\n    detail,\n  };\n};\n\n/**\n * slide in view transition\n *\n * respect the user's reduced motion preference by default\n *\n * if you want to force disable the reduced motion, you can set the `reducedMotion` to `false`\n */\nexport const slideInViewTransition = async (\n  callback: () => Promise<void>,\n  reducedMotion?: boolean,\n) => {\n  const { container, detail } = getCondition(reducedMotion);\n\n  if (!container || !detail || !document.startViewTransition) {\n    return callback();\n  }\n\n  container.classList.add(VIEW_TRANSITION_CONTAINER_IDENTIFY);\n\n  const transition = document.startViewTransition(async () => {\n    detail.classList.add(VIEW_TRANSITION_DETAIL_IDENTIFY);\n    await callback();\n  });\n\n  try {\n    await transition.finished;\n  } finally {\n    container.classList.remove(VIEW_TRANSITION_CONTAINER_IDENTIFY);\n    detail.classList.remove(VIEW_TRANSITION_DETAIL_IDENTIFY);\n  }\n};\n\n/**\n * slide out view transition\n *\n * respect the user's reduced motion preference by default\n *\n * if you want to force disable the reduced motion, you can set the `reducedMotion` to `false`\n */\nexport const slideOutViewTransition = async (\n  callback: () => Promise<void>,\n  reducedMotion?: boolean,\n) => {\n  const { container, detail } = getCondition(reducedMotion);\n\n  if (!container || !detail || !document.startViewTransition) {\n    return callback();\n  }\n\n  container.classList.add(VIEW_TRANSITION_CONTAINER_IDENTIFY);\n  detail.classList.add(VIEW_TRANSITION_DETAIL_IDENTIFY);\n\n  const transition = document.startViewTransition(async () => {\n    detail.classList.remove(VIEW_TRANSITION_DETAIL_IDENTIFY);\n    await callback();\n  });\n\n  try {\n    await transition.finished;\n  } finally {\n    container.classList.remove(VIEW_TRANSITION_CONTAINER_IDENTIFY);\n  }\n};\n"],"mappings":"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","ignoreList":[]}