{"version":3,"file":"AddCallPanel.js","names":["_hooks","require","_PageHeader","_CommunicationSetupPanel","_ContactSearchPanelEnum","_RcDialerPadSoundsMPEG","_interopRequireDefault","_IconButton","_Phone","_react","_interopRequireWildcard","_i18n","_StyledAddCallPanelPanel","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","u","next","done","push","value","isArray","AddCallPanel","exports","props","onBack","autoFocus","children","_props$callVolume","callVolume","_props$outputDeviceId","outputDeviceId","controlBusy","ContactSearch","onAddCall","currentLocale","hasCalls","triggerEventTracking","_useLocale","useLocale","i18n","_useState","useState","_useState2","toNumber","setToNumber","_useState3","_useState4","recipients","setRecipients","onToNumberChange","setRecipient","_len","arguments","recipient","_key","clearRecipient","onAddCallHandler","phoneNumber","noValue","useEffect","createElement","AddCallPage","PageHeader","PageHeaderBack","onClick","PageHeaderTitle","PageHeaderRemain","CommunicationSetupPanelWrap","CommunicationSetupPanel","showFromField","defaultTab","TabsEnum","thirdParty","directlyProceedType","DialerWrapper","StyledRcDialPad","onChange","sounds","RcDialerPadSoundsMPEG","getDialPadButtonProps","v","concat","volume","sinkId","BodyBottom","RcIconButton","color","symbol","Phone","size","variant","elevation","activeElevation","disabled"],"sources":["src/app/views/AddCallView/deprecated/AddCallPanel.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport {\n  PageHeader,\n  PageHeaderBack,\n  PageHeaderRemain,\n  PageHeaderTitle,\n} from '@ringcentral-integration/next-widgets/deprecated/components/PageHeader';\nimport { CommunicationSetupPanel } from '@ringcentral-integration/widgets/components/CommunicationSetupPanel';\nimport { TabsEnum } from '@ringcentral-integration/widgets/components/ContactSearchPanel/ContactSearchPanelEnum';\nimport { RcDialerPadSoundsMPEG, RcIconButton } from '@ringcentral/juno';\nimport { Phone } from '@ringcentral/juno-icon';\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect, useState } from 'react';\n\nimport type { DialerViewCallParams } from '../../DialerView';\nimport type { RecipientProps } from '../AddCall.view.interface';\nimport i18n from '../i18n';\n\nimport {\n  AddCallPage,\n  BodyBottom,\n  CommunicationSetupPanelWrap,\n  DialerWrapper,\n  StyledRcDialPad,\n} from './StyledAddCallPanelPanel';\n\nexport type AddCallPanelProps = {\n  currentLocale: string;\n  ContactSearch: FunctionComponent<any>;\n  onBack: (...args: any[]) => any;\n  triggerEventTracking: (eventName: string, contactType: string) => any;\n  autoFocus?: boolean;\n  controlBusy?: boolean;\n  // use to set dial button volume(dialButtonVolume)\n  callVolume?: number;\n  outputDeviceId?: string;\n  onAddCall: (params: DialerViewCallParams<RecipientProps>) => void;\n  hasCalls: boolean;\n};\n\nexport const AddCallPanel: FunctionComponent<AddCallPanelProps> = (props) => {\n  const {\n    onBack,\n    autoFocus,\n    children,\n    callVolume = 1,\n    outputDeviceId = '',\n    controlBusy,\n    ContactSearch,\n    onAddCall,\n    currentLocale,\n    hasCalls,\n    triggerEventTracking,\n  } = props;\n  const { t } = useLocale(i18n);\n  const [toNumber, setToNumber] = useState('');\n  const [recipients, setRecipients] = useState<RecipientProps[]>([]);\n\n  const onToNumberChange = (toNumber: string) => {\n    setToNumber(toNumber);\n  };\n\n  const setRecipient = (...recipient: RecipientProps[]) => {\n    setRecipients(recipient);\n    setToNumber('');\n    onAddCall({\n      recipient: recipient[0],\n    });\n  };\n\n  const clearRecipient = () => {\n    setRecipients([]);\n    setToNumber('');\n  };\n\n  const onAddCallHandler = () => {\n    onAddCall({\n      phoneNumber: toNumber,\n    });\n  };\n\n  const noValue = toNumber === '' && recipients.length === 0;\n\n  useEffect(() => {\n    if (!hasCalls) {\n      onBack();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [hasCalls]);\n\n  return (\n    <AddCallPage data-sign=\"addCallPage\">\n      {children}\n      <PageHeader>\n        <PageHeaderBack onClick={onBack} />\n        <PageHeaderTitle>{t('addCall')}</PageHeaderTitle>\n        <PageHeaderRemain />\n      </PageHeader>\n      <CommunicationSetupPanelWrap>\n        {/* @ts-expect-error TS(2741): Property 'inputFullWidth' is missing in type '{ ch... Remove this comment to see the full error message */}\n        <CommunicationSetupPanel\n          triggerEventTracking={triggerEventTracking}\n          ContactSearch={ContactSearch}\n          // To field\n          recipients={recipients}\n          toNumber={toNumber}\n          onToNumberChange={onToNumberChange}\n          setRecipient={setRecipient}\n          clearRecipient={clearRecipient}\n          // eslint-disable-next-line jsx-a11y/no-autofocus\n          autoFocus={autoFocus}\n          showFromField={false}\n          defaultTab={TabsEnum.thirdParty}\n          // Common\n          currentLocale={currentLocale}\n          directlyProceedType=\"dial\"\n        >\n          <DialerWrapper>\n            <StyledRcDialPad\n              data-sign=\"dialPad\"\n              onChange={(value) => {\n                onToNumberChange(toNumber + value);\n              }}\n              sounds={RcDialerPadSoundsMPEG}\n              getDialPadButtonProps={(v) => ({\n                'data-test-id': `${v}`,\n                'data-sign': `dialPadBtn${v}`,\n              })}\n              volume={callVolume}\n              sinkId={outputDeviceId}\n            />\n          </DialerWrapper>\n          <BodyBottom>\n            <RcIconButton\n              data-sign=\"callButton\"\n              color=\"success.b03\"\n              symbol={Phone}\n              size=\"large\"\n              variant=\"contained\"\n              elevation=\"0\"\n              activeElevation=\"0\"\n              onClick={onAddCallHandler}\n              disabled={controlBusy || noValue}\n            />\n          </BodyBottom>\n        </CommunicationSetupPanel>\n      </CommunicationSetupPanelWrap>\n    </AddCallPage>\n  );\n};\n"],"mappings":"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","ignoreList":[]}