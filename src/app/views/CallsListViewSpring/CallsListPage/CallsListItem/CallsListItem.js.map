{"version":3,"file":"CallsListItem.js","names":["_components","require","_springUi","_react","_interopRequireWildcard","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_CallsListItem","_ref","index","useCallHistoryItemInfo","useActionsHandler","useItemRender","_useCallHistoryItemIn","selectIndex","variant","info","actions","onAction","Avatar","DisplayName","Status","startTime","logged","answeredByDelegate","ringingElsewhere","buttons","useHistoryActionButtons","createElement","ListItem","key","id","size","className","classes","content","onClick","ListItemText","primaryPrimaryText","undefined","primary","displayControl","maybe","matchCounts","secondary","mode","ActionMenuList","CallsListItem","exports","memo"],"sources":["src/app/views/CallsListViewSpring/CallsListPage/CallsListItem/CallsListItem.tsx"],"sourcesContent":["import {\n  ActionMenuList,\n  useHistoryActionButtons,\n} from '@ringcentral-integration/next-widgets/components';\nimport { ListItem, ListItemText } from '@ringcentral/spring-ui';\nimport React, { memo } from 'react';\n\nimport { type CallsListPanelSpringProps } from '../../CallsList.view.interface';\n\nexport type CallsListItemProps = {\n  call: CallsListPanelSpringProps['calls'][0];\n  index: number;\n} & Omit<\n  CallsListPanelSpringProps,\n  'calls' | 'lastPosition' | 'setLastPosition' | 'viewCallsFilterSelections'\n>;\n\nconst _CallsListItem: React.FC<CallsListItemProps> = ({\n  call,\n  index,\n  useCallHistoryItemInfo,\n  useActionsHandler,\n  useItemRender,\n}) => {\n  const { info, actions } = useCallHistoryItemInfo(call, {\n    // TODO: support select contact\n    selectIndex: 0,\n    variant: 'list',\n  });\n  const onAction = useActionsHandler(call, info, 'Call history list');\n\n  useItemRender?.(call, index);\n\n  const {\n    Avatar,\n    DisplayName,\n    Status,\n    startTime,\n    logged,\n    answeredByDelegate,\n    ringingElsewhere,\n  } = info;\n  const buttons = useHistoryActionButtons(actions, onAction);\n\n  return (\n    <ListItem\n      key={call.id}\n      size=\"auto\"\n      className=\"group\"\n      classes={{\n        content: 'bg-inherit !px-3 !py-2', // need ! because its not overriding SpringUI styles without it\n      }}\n      onClick={() => onAction('viewDetail')}\n      data-sign=\"callsListItem\"\n    >\n      <Avatar />\n      <ListItemText\n        classes={{\n          primaryPrimaryText:\n            ringingElsewhere &&\n            // when no delegate target, means that call still ringing, show green\n            !answeredByDelegate\n              ? 'text-success-f'\n              : undefined,\n        }}\n        primary={\n          <div className=\"flex flex-col items-start gap-0.5 truncate\">\n            <DisplayName\n              displayControl={{\n                maybe: true,\n                matchCounts: true,\n              }}\n            />\n          </div>\n        }\n        secondary={Status ? <Status mode=\"icon\" /> : undefined}\n      />\n      <div className=\"text-right min-h-11 max-w-[30%]\">\n        <span\n          className=\"typography-descriptor text-neutral-b2\"\n          data-sign=\"callStartTime\"\n        >\n          {startTime}\n        </span>\n        {logged}\n      </div>\n      <ActionMenuList buttons={buttons} />\n    </ListItem>\n  );\n};\n\nexport const CallsListItem = memo(_CallsListItem);\n"],"mappings":"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","ignoreList":[]}