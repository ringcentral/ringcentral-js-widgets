{"version":3,"file":"getLoadWorkerTemplate.js","names":["_constant","require","_fsExtra","_interopRequireDefault","_template","_path","e","__esModule","getLoadWorkerTemplate","nameSpace","arguments","length","undefined","workerUrl","chunkName","mfeConfig","source","fs","readFileSync","path","join","__dirname","toString","content","template","disableRcSharedWorkerKey","concat"],"sources":["src/scriptsLoadFail/getLoadWorkerTemplate.ts"],"sourcesContent":["import { disableRcSharedWorkerKey } from '@ringcentral-integration/next-core/src/constant';\nimport fs from 'fs-extra';\nimport template from 'lodash/template';\nimport path from 'path';\n\n/**\n * Generates a script tag containing the content of a shared worker template.\n * @param nameSpace - The namespace for the shared worker, which will put into global window.\n * @param workerUrl - The URL of the shared worker script.\n * @returns A string representing the script tag.\n */\nexport function getLoadWorkerTemplate(\n  nameSpace = '__rc_shared_worker__',\n  workerUrl: string,\n  chunkName: string,\n  mfeConfig?: string,\n) {\n  const source = fs\n    .readFileSync(path.join(__dirname, './inline/loadWorker.js'))\n    .toString();\n\n  const content = template(source)({\n    workerUrl,\n    nameSpace,\n    chunkName,\n    mfeConfig,\n    disableRcSharedWorkerKey,\n  });\n  return `<script>${content}</script>`;\n}\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,QAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,SAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,KAAA,GAAAF,sBAAA,CAAAF,OAAA;AAAwB,SAAAE,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAExB;AACA;AACA;AACA;AACA;AACA;AACO,SAASE,qBAAqBA,CAAA,EAKnC;EAAA,IAJAC,SAAS,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,sBAAsB;EAAA,IAClCG,SAAiB,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAAA,IACjBE,SAAiB,GAAAJ,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAAA,IACjBG,SAAkB,GAAAL,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAElB,IAAMI,MAAM,GAAGC,mBAAE,CACdC,YAAY,CAACC,gBAAI,CAACC,IAAI,CAACC,SAAS,EAAE,wBAAwB,CAAC,CAAC,CAC5DC,QAAQ,CAAC,CAAC;EAEb,IAAMC,OAAO,GAAG,IAAAC,oBAAQ,EAACR,MAAM,CAAC,CAAC;IAC/BH,SAAS,EAATA,SAAS;IACTJ,SAAS,EAATA,SAAS;IACTK,SAAS,EAATA,SAAS;IACTC,SAAS,EAATA,SAAS;IACTU,wBAAwB,EAAxBA;EACF,CAAC,CAAC;EACF,kBAAAC,MAAA,CAAkBH,OAAO;AAC3B","ignoreList":[]}