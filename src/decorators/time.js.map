{"version":3,"file":"time.js","names":["time","title","target","name","descriptor","process","env","NODE_ENV","value","initializer","Error","concat","fn","trackedFn","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee","_len","args","_key","result","_args","arguments","wrap","_callee$","_context","prev","next","call","console","length","Array","apply","sent","timeEnd","abrupt","stop","enumerable","configurable","exports"],"sources":["src/decorators/time.ts"],"sourcesContent":["/**\n * let you can calculate the time when run that method,\n *\n * ### that time not calculate in `process.env.NODE_ENV !== 'production'`\n * @param title\n */\nexport const time = (title: string) => {\n  // eslint-disable-next-line func-names\n  return function (target: any, name: string, descriptor?: any) {\n    if (process.env.NODE_ENV !== 'production') {\n      if (\n        typeof descriptor.value !== 'function' &&\n        typeof descriptor.initializer !== 'function'\n      ) {\n        throw new Error(`@time decorated '${name}' is not a method`);\n      }\n      let fn: (...args: any) => any = descriptor.value;\n      const initializer = descriptor.initializer;\n      // eslint-disable-next-line func-names\n      const trackedFn = async function (this: any, ...args: any) {\n        if (typeof initializer === 'function') {\n          fn = initializer.call(this);\n        }\n        if (typeof fn !== 'function') {\n          throw new Error(`@time decorated '${name}' is not a function`);\n        }\n        console.time(`[Time Decorator] ${title}: `);\n        const result = await fn.apply(this, args);\n        console.timeEnd(`[Time Decorator] ${title}: `);\n        return result;\n      };\n\n      // the any type is just to be compatible with babel and tsc.\n      return {\n        enumerable: true,\n        configurable: true,\n        value: trackedFn,\n      } as any;\n    }\n\n    return descriptor;\n  };\n};\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACO,IAAMA,IAAI,GAAG,SAAPA,IAAIA,CAAIC,KAAa,EAAK;EACrC;EACA,OAAO,UAAUC,MAAW,EAAEC,IAAY,EAAEC,UAAgB,EAAE;IAC5D,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;MACzC,IACE,OAAOH,UAAU,CAACI,KAAK,KAAK,UAAU,IACtC,OAAOJ,UAAU,CAACK,WAAW,KAAK,UAAU,EAC5C;QACA,MAAM,IAAIC,KAAK,qBAAAC,MAAA,CAAqBR,IAAI,sBAAmB,CAAC;MAC9D;MACA,IAAIS,EAAyB,GAAGR,UAAU,CAACI,KAAK;MAChD,IAAMC,WAAW,GAAGL,UAAU,CAACK,WAAW;MAC1C;MACA,IAAMI,SAAS;QAAA,IAAAC,IAAA,GAAAC,iBAAA,eAAAC,kBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAA;UAAA,IAAAC,IAAA;YAAAC,IAAA;YAAAC,IAAA;YAAAC,MAAA;YAAAC,KAAA,GAAAC,SAAA;UAAA,OAAAR,kBAAA,CAAAS,IAAA,UAAAC,SAAAC,QAAA;YAAA;cAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;gBAAA;kBAChB,IAAI,OAAOpB,WAAW,KAAK,UAAU,EAAE;oBACrCG,EAAE,GAAGH,WAAW,CAACqB,IAAI,CAAC,IAAI,CAAC;kBAC7B;kBAAC,MACG,OAAOlB,EAAE,KAAK,UAAU;oBAAAe,QAAA,CAAAE,IAAA;oBAAA;kBAAA;kBAAA,MACpB,IAAInB,KAAK,qBAAAC,MAAA,CAAqBR,IAAI,wBAAqB,CAAC;gBAAA;kBAEhE4B,OAAO,CAAC/B,IAAI,qBAAAW,MAAA,CAAqBV,KAAK,OAAI,CAAC;kBAAC,KAAAkB,IAAA,GAAAI,KAAA,CAAAS,MAAA,EAPEZ,IAAI,OAAAa,KAAA,CAAAd,IAAA,GAAAE,IAAA,MAAAA,IAAA,GAAAF,IAAA,EAAAE,IAAA;oBAAJD,IAAI,CAAAC,IAAA,IAAAE,KAAA,CAAAF,IAAA;kBAAA;kBAAAM,QAAA,CAAAE,IAAA;kBAAA,OAQ7BjB,EAAE,CAACsB,KAAK,CAAC,IAAI,EAAEd,IAAI,CAAC;gBAAA;kBAAnCE,MAAM,GAAAK,QAAA,CAAAQ,IAAA;kBACZJ,OAAO,CAACK,OAAO,qBAAAzB,MAAA,CAAqBV,KAAK,OAAI,CAAC;kBAAC,OAAA0B,QAAA,CAAAU,MAAA,WACxCf,MAAM;gBAAA;gBAAA;kBAAA,OAAAK,QAAA,CAAAW,IAAA;cAAA;YAAA;UAAA,GAAApB,OAAA;QAAA,CACd;QAAA,gBAXKL,SAASA,CAAA;UAAA,OAAAC,IAAA,CAAAoB,KAAA,OAAAV,SAAA;QAAA;MAAA,GAWd;;MAED;MACA,OAAO;QACLe,UAAU,EAAE,IAAI;QAChBC,YAAY,EAAE,IAAI;QAClBhC,KAAK,EAAEK;MACT,CAAC;IACH;IAEA,OAAOT,UAAU;EACnB,CAAC;AACH,CAAC;AAACqC,OAAA,CAAAzC,IAAA,GAAAA,IAAA","ignoreList":[]}