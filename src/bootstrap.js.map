{"version":3,"file":"bootstrap.js","names":["_services","require","_plugins","_services2","_nextCore","_nextMicro","_App","_services3","_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","toPrimitive","call","TypeError","String","Number","_ref","process","env","APP_CONFIG","brandConfig","_default","exports","exposeMicroApp","modules","AccountInfo","ExtensionInfo","Auth","SleepDetector","RouterPlugin","ThemePlugin","Brand","Locale","provide","useClass","WebSocketSubscription","RouterOptions","useValue","isSharedWorker","createHistory","createMemoryHistory","StoragePlugin","code","clientId","CLIENT_ID","clientSecret","CLIENT_SECRET","server","SERVER","cachePrefix","concat","deps","AccountContacts","AddressBook","useFactory","accountContacts","addressBook","routeAfterLogin","Contacts","main","ContactsAppView","share","name","type","renderRoot","document","getElementById"],"sources":["src/bootstrap.tsx"],"sourcesContent":["import type { SDKConfig } from '@ringcentral-integration/commons/lib/createSdkConfig';\nimport {\n  WebSocketSubscription,\n  Auth,\n  ExtensionInfo,\n  AccountInfo,\n} from '@ringcentral-integration/micro-auth/src/app/services';\nimport type { LoginViewOptions } from '@ringcentral-integration/micro-auth/src/app/views';\nimport { ThemePlugin } from '@ringcentral-integration/micro-core/src/app/plugins';\nimport {\n  Locale,\n  SleepDetector,\n  Brand,\n} from '@ringcentral-integration/micro-core/src/app/services';\nimport {\n  createMemoryHistory,\n  RouterPlugin,\n  RouterOptions,\n  StoragePlugin,\n  IRouterOptions,\n  isSharedWorker,\n} from '@ringcentral-integration/next-core';\nimport { exposeMicroApp } from '@ringcentral-integration/next-micro';\n\nimport type { AppConfig } from '../config';\n\nimport { ContactsAppView } from './app/App.view';\nimport { AccountContacts, AddressBook, Contacts } from './app/services';\n\nconst { brandConfig } = process.env.APP_CONFIG as unknown as AppConfig;\n\nexport default exposeMicroApp({\n  modules: [\n    AccountInfo,\n    ExtensionInfo,\n    Auth,\n    SleepDetector,\n    RouterPlugin,\n    ThemePlugin,\n    Brand,\n    Locale,\n    {\n      provide: 'Subscription',\n      useClass: WebSocketSubscription,\n    },\n    {\n      provide: RouterOptions,\n      useValue: {\n        ...(isSharedWorker\n          ? {}\n          : { createHistory: () => createMemoryHistory() }),\n      } as IRouterOptions,\n    },\n    StoragePlugin,\n    {\n      provide: 'Prefix',\n      useValue: brandConfig.code,\n    },\n    {\n      provide: 'SdkConfig',\n      useValue: {\n        clientId: process.env.CLIENT_ID,\n        clientSecret: process.env.CLIENT_SECRET,\n        server: process.env.SERVER,\n        cachePrefix: `sdk-${brandConfig.code}`,\n      } as SDKConfig,\n    },\n    {\n      provide: 'BrandConfig',\n      useValue: brandConfig,\n    },\n    {\n      provide: 'ContactSources',\n      deps: [AccountContacts, AddressBook],\n      useFactory: (\n        accountContacts: AccountContacts,\n        addressBook: AddressBook,\n      ) => [accountContacts, addressBook],\n    },\n    {\n      provide: 'LoginViewOptions',\n      useValue: {\n        routeAfterLogin: '/contacts',\n      } satisfies LoginViewOptions,\n    },\n    Contacts,\n  ],\n  main: ContactsAppView,\n  share: {\n    name: 'micro-contacts',\n    type: 'Base',\n  },\n  renderRoot: () => document.getElementById('app'),\n});\n"],"mappings":"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","ignoreList":[]}