{"version":3,"file":"getFilenameMap.js","names":["getFilenameMap","compilation","chunkInfoMap","assetsInfo","infoList","Array","from","entries","filenameMap","Map","forEach","value","key","_value$fullhash","_value$contenthash","_value$modulehash","_value$chunkhash","_infoList$infoIndex","fullhash","toString","contenthash","modulehash","chunkhash","infoIndex","findIndex","_ref","_ref2","_slicedToArray","_","asset","assetsFullhash","assetsContenthash","assetsModulehash","assetsChunkhash","filename","set"],"sources":["src/getFilenameMap.ts"],"sourcesContent":["import { AssetInfo } from 'webpack';\n\n/**\n * Returns a map of chunk names to their corresponding filename based on the given compilation and chunkInfoMap.\n *\n * @param compilation - The webpack compilation object.\n * @param chunkInfoMap - A map of chunk names to their corresponding asset info.\n * @returns A map of chunk names to their corresponding filename.\n */\nexport function getFilenameMap(\n  compilation: any,\n  chunkInfoMap: Map<string, AssetInfo>,\n) {\n  const assetsInfo = compilation.assetsInfo as Map<string, AssetInfo>;\n  const infoList = Array.from(assetsInfo.entries());\n\n  const filenameMap = new Map<string, string>();\n  chunkInfoMap.forEach((value, key) => {\n    const fullhash = value?.fullhash?.toString();\n    const contenthash = value?.contenthash?.toString();\n    const modulehash = value?.modulehash?.toString();\n    const chunkhash = value?.chunkhash?.toString();\n\n    const infoIndex = infoList.findIndex(([_, asset]) => {\n      const assetsFullhash = asset?.fullhash;\n      const assetsContenthash = asset?.contenthash;\n      const assetsModulehash = asset?.modulehash;\n      const assetsChunkhash = asset?.chunkhash;\n\n      return (\n        (fullhash && fullhash === assetsFullhash) ||\n        (contenthash && contenthash === assetsContenthash) ||\n        (modulehash && modulehash === assetsModulehash) ||\n        (chunkhash && chunkhash === assetsChunkhash)\n      );\n    });\n\n    const filename = infoList[infoIndex]?.[0];\n\n    if (filename) {\n      filenameMap.set(key, filename);\n    }\n  });\n  return filenameMap;\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASA,cAAcA,CAC5BC,WAAgB,EAChBC,YAAoC,EACpC;EACA,IAAMC,UAAU,GAAGF,WAAW,CAACE,UAAoC;EACnE,IAAMC,QAAQ,GAAGC,KAAK,CAACC,IAAI,CAACH,UAAU,CAACI,OAAO,CAAC,CAAC,CAAC;EAEjD,IAAMC,WAAW,GAAG,IAAIC,GAAG,CAAiB,CAAC;EAC7CP,YAAY,CAACQ,OAAO,CAAC,UAACC,KAAK,EAAEC,GAAG,EAAK;IAAA,IAAAC,eAAA,EAAAC,kBAAA,EAAAC,iBAAA,EAAAC,gBAAA,EAAAC,mBAAA;IACnC,IAAMC,QAAQ,GAAGP,KAAK,aAALA,KAAK,wBAAAE,eAAA,GAALF,KAAK,CAAEO,QAAQ,cAAAL,eAAA,uBAAfA,eAAA,CAAiBM,QAAQ,CAAC,CAAC;IAC5C,IAAMC,WAAW,GAAGT,KAAK,aAALA,KAAK,wBAAAG,kBAAA,GAALH,KAAK,CAAES,WAAW,cAAAN,kBAAA,uBAAlBA,kBAAA,CAAoBK,QAAQ,CAAC,CAAC;IAClD,IAAME,UAAU,GAAGV,KAAK,aAALA,KAAK,wBAAAI,iBAAA,GAALJ,KAAK,CAAEU,UAAU,cAAAN,iBAAA,uBAAjBA,iBAAA,CAAmBI,QAAQ,CAAC,CAAC;IAChD,IAAMG,SAAS,GAAGX,KAAK,aAALA,KAAK,wBAAAK,gBAAA,GAALL,KAAK,CAAEW,SAAS,cAAAN,gBAAA,uBAAhBA,gBAAA,CAAkBG,QAAQ,CAAC,CAAC;IAE9C,IAAMI,SAAS,GAAGnB,QAAQ,CAACoB,SAAS,CAAC,UAAAC,IAAA,EAAgB;MAAA,IAAAC,KAAA,GAAAC,cAAA,CAAAF,IAAA;QAAdG,CAAC,GAAAF,KAAA;QAAEG,KAAK,GAAAH,KAAA;MAC7C,IAAMI,cAAc,GAAGD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEX,QAAQ;MACtC,IAAMa,iBAAiB,GAAGF,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAET,WAAW;MAC5C,IAAMY,gBAAgB,GAAGH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAER,UAAU;MAC1C,IAAMY,eAAe,GAAGJ,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEP,SAAS;MAExC,OACGJ,QAAQ,IAAIA,QAAQ,KAAKY,cAAc,IACvCV,WAAW,IAAIA,WAAW,KAAKW,iBAAkB,IACjDV,UAAU,IAAIA,UAAU,KAAKW,gBAAiB,IAC9CV,SAAS,IAAIA,SAAS,KAAKW,eAAgB;IAEhD,CAAC,CAAC;IAEF,IAAMC,QAAQ,IAAAjB,mBAAA,GAAGb,QAAQ,CAACmB,SAAS,CAAC,cAAAN,mBAAA,uBAAnBA,mBAAA,CAAsB,CAAC,CAAC;IAEzC,IAAIiB,QAAQ,EAAE;MACZ1B,WAAW,CAAC2B,GAAG,CAACvB,GAAG,EAAEsB,QAAQ,CAAC;IAChC;EACF,CAAC,CAAC;EACF,OAAO1B,WAAW;AACpB","ignoreList":[]}