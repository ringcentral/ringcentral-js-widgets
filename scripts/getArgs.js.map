{"version":3,"file":"getArgs.js","names":["_yargs","_interopRequireDefault","require","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","toPrimitive","call","TypeError","String","Number","defaultBrand","exports","defaultBuildEnv","defaultCI","defaultExportType","getArgs","extraHandle","definition","yargs","array","_ref","argv","buildEnv","process","env","NODE_ENV"],"sources":["scripts/getArgs.ts"],"sourcesContent":["import yargs from 'yargs';\n\ninterface Argv {\n  [k: string]: unknown;\n  buildHash: string;\n  brand: string[];\n  pages: string[];\n  excludePages?: string[];\n  tag: string;\n  exportType: string;\n  buildEnv: string;\n  buildVersion?: string;\n  appMode?: string;\n  ci: boolean;\n  _: (string | number)[];\n  $0: string;\n}\n\nexport const defaultBrand: string[] = ['rc'];\nexport const defaultBuildEnv = 'local';\nexport const defaultCI = false;\nexport const defaultExportType = 'diff';\n\nexport const getArgs = <T extends Record<string, unknown> = {}>(\n  extraHandle?: (argv: yargs.Argv<any>) => void,\n) => {\n  const definition = yargs\n    .default('buildHash', '')\n    .default('tag', '')\n    .boolean('ci')\n    .array('brand')\n    .array('pages')\n    .array('excludePages')\n    .default('brand', defaultBrand)\n    .default('ci', defaultCI)\n    .default('exportType', defaultExportType)\n    .default('buildEnv', defaultBuildEnv)\n    .default('buildVersion', ''); // for version control\n\n  extraHandle?.(definition);\n\n  const { argv } = definition as { argv: Argv };\n  const buildEnv = process.env.NODE_ENV === 'test' ? 'prod' : argv.buildEnv;\n  return { ...argv, buildEnv } as Argv & T;\n};\n"],"mappings":"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","ignoreList":[]}