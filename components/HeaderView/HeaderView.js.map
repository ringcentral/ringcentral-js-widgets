{"version":3,"file":"HeaderView.js","names":["_react","_interopRequireDefault","require","_juno","_commonStyles","_CallMonitorBar","_PresenceDropdown","_utils","obj","__esModule","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_templateObject5","data","_taggedTemplateLiteral","_templateObject4","_templateObject3","_templateObject2","_templateObject","strings","raw","slice","freeze","defineProperties","value","ALL_CALL_PATH","ACTIVE_CALL_PATH","GlobalStyle","createGlobalStyle","Header","styled","header","noSelectStyle","headerViewHeight","palette2","LogoWrapper","div","fullSizeStyle","flexCenterStyle","Wrapper","Main","main","HeaderView","_ref","Logo","logo","logoUrl","userStatus","dndStatus","currentLocale","setAvailable","setBusy","setDoNotDisturb","setInvisible","standAlone","children","_ref$ringingCalls","ringingCalls","_ref$onHoldCalls","onHoldCalls","_ref$currentCalls","currentCalls","currentPath","activeSessionId","incomingCallPageMinimized","presenceReady","shouldDisplayCurrentCallBtn","shouldDisplayViewCallsBtn","props","createElement","Fragment","shouldDisplayCallMonitorBar","PresenceDropdown","isReady","CallMonitorBar","concat","LogoComp","exports","React","memo","_ref2","src","alt"],"sources":["components/HeaderView/HeaderView.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React from 'react';\n\nimport {\n  createGlobalStyle,\n  flexCenterStyle,\n  palette2,\n  styled,\n} from '@ringcentral/juno';\n\nimport { fullSizeStyle, noSelectStyle } from '../../lib/commonStyles';\nimport { CallMonitorBar } from '../CallMonitorBar';\nimport { PresenceDropdown } from '../PresenceDropdown';\nimport type { HeaderViewProps } from './HeaderView.interface';\nimport { headerViewHeight } from './utils';\n\nconst ALL_CALL_PATH = '/calls';\nconst ACTIVE_CALL_PATH = '/calls/active';\n\n// TODO: refactor with Juno\nconst GlobalStyle = createGlobalStyle`\n  body {\n    font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n    font-size: 14px;\n    color: #2F2F2F;\n  }\n`;\n\nconst Header = styled.header`\n  ${noSelectStyle};\n  position: relative;\n  height: ${headerViewHeight}px;\n  line-height: ${headerViewHeight}px;\n  text-align: center;\n  box-sizing: border-box;\n  background-color: ${palette2('neutral', 'b01')};\n  border-bottom: 1px solid ${palette2('neutral', 'l02')};\n  z-index: 2;\n`;\n\nconst LogoWrapper = styled.div`\n  ${fullSizeStyle};\n  ${flexCenterStyle};\n`;\n\nconst Wrapper = styled.div`\n  ${fullSizeStyle};\n`;\n\nconst Main = styled.main`\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: calc(100% - ${headerViewHeight}px);\n  z-index: 1;\n`;\n\nexport const HeaderView: FunctionComponent<HeaderViewProps> = ({\n  logo: Logo,\n  logoUrl,\n  userStatus,\n  dndStatus,\n  currentLocale,\n  setAvailable,\n  setBusy,\n  setDoNotDisturb,\n  setInvisible,\n  standAlone,\n  children,\n  ringingCalls = [],\n  onHoldCalls = [],\n  currentCalls = [],\n  currentPath,\n  activeSessionId,\n  incomingCallPageMinimized,\n  presenceReady,\n  shouldDisplayCurrentCallBtn,\n  shouldDisplayViewCallsBtn,\n  ...props\n}) => {\n  if (!standAlone) {\n    return <>{children}</>;\n  }\n\n  const shouldDisplayCallMonitorBar =\n    currentCalls.length > 0 ||\n    ringingCalls.length > 0 ||\n    onHoldCalls.length > 0;\n\n  return (\n    <Wrapper>\n      <GlobalStyle />\n      <Header>\n        <PresenceDropdown\n          isReady={!!presenceReady}\n          currentLocale={currentLocale}\n          dndStatus={dndStatus}\n          userStatus={userStatus}\n          setAvailable={setAvailable}\n          setBusy={setBusy}\n          setDoNotDisturb={setDoNotDisturb}\n          setInvisible={setInvisible}\n        />\n        {shouldDisplayCallMonitorBar ? (\n          <CallMonitorBar\n            ringingCalls={ringingCalls}\n            currentLocale={currentLocale}\n            onHoldCalls={onHoldCalls}\n            currentCalls={currentCalls}\n            shouldDisplayCurrentCallBtn={\n              shouldDisplayCurrentCallBtn ??\n              (currentPath !== ACTIVE_CALL_PATH &&\n                currentPath !== `${ACTIVE_CALL_PATH}/${activeSessionId}`)\n            }\n            shouldDisplayViewCallsBtn={\n              shouldDisplayViewCallsBtn ??\n              (!incomingCallPageMinimized || currentPath !== ALL_CALL_PATH)\n            }\n            {...props}\n          />\n        ) : (\n          <LogoWrapper>\n            {logoUrl ? <LogoComp logoUrl={logoUrl} /> : Logo && <Logo />}\n          </LogoWrapper>\n        )}\n      </Header>\n      <Main>{children}</Main>\n    </Wrapper>\n  );\n};\n\nconst LogoComp = React.memo(({ logoUrl }: { logoUrl: string }) => (\n  <img src={logoUrl} alt=\"\" />\n));\n"],"mappings":"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"}