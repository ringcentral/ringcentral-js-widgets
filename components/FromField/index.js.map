{"version":3,"file":"index.js","names":["_clsx","_interopRequireDefault","require","_propTypes","_react","_interopRequireWildcard","_DropdownSelect","_i18n","_styles","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","PhoneNumber","_ref","formatPhone","usageType","label","currentLocale","phoneNumber","usageTypeDom","createElement","className","styles","i18n","getString","propTypes","PropTypes","func","isRequired","string","defaultProps","FromField","memo","_ref2","fromNumber","fromNumbers","onChange","hidden","disabled","showAnonymous","showCustomPhoneLabel","options","push","clsx","root","iconClassName","selectIcon","value","concat","renderValue","valueFunction","option","renderFunction","undefined","arrayOf","shape","bool","_default","exports"],"sources":["components/FromField/index.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { memo } from 'react';\n\nimport DropdownSelect from '../DropdownSelect';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst PhoneNumber = ({\n  formatPhone,\n  usageType,\n  label,\n  currentLocale,\n  phoneNumber,\n}: any) => {\n  const usageTypeDom =\n    label || usageType ? (\n      <span className={styles.usageType}>\n        {label || i18n.getString(usageType, currentLocale)}\n      </span>\n    ) : null;\n  return (\n    <span className={styles.phoneNumber}>\n      {usageTypeDom}\n      <span data-sign=\"phoneNumber\">{formatPhone(phoneNumber)}</span>\n    </span>\n  );\n};\n\nPhoneNumber.propTypes = {\n  formatPhone: PropTypes.func.isRequired,\n  phoneNumber: PropTypes.string,\n  usageType: PropTypes.string,\n  label: PropTypes.string,\n  currentLocale: PropTypes.string.isRequired,\n};\n\nPhoneNumber.defaultProps = {\n  phoneNumber: null,\n  usageType: null,\n};\n\ninterface FromFieldIns {\n  fromNumber: string;\n  formatPhone: (...args: any[]) => any;\n  fromNumbers: any[];\n  onChange: (...args: any[]) => any;\n  currentLocale: string;\n  hidden: boolean;\n  showAnonymous: boolean;\n  className?: string;\n  disabled?: boolean;\n  showCustomPhoneLabel?: boolean;\n}\n\n// phone number formatting becomes expensive when there are lots of numbers\n// memo makes this a pure component to reduce rendering cost\nconst FromField = memo(function FromField({\n  className,\n  fromNumber,\n  fromNumbers,\n  onChange,\n  formatPhone,\n  hidden,\n  disabled,\n  showAnonymous,\n  currentLocale,\n  showCustomPhoneLabel,\n}: FromFieldIns) {\n  if (hidden) {\n    return null;\n  }\n  const options = [...fromNumbers];\n  if (showAnonymous) {\n    options.push({\n      phoneNumber: 'anonymous',\n    });\n  }\n  return (\n    <DropdownSelect\n      className={clsx(styles.root, className)}\n      iconClassName={styles.selectIcon}\n      value={fromNumber}\n      label={`${i18n.getString('from', currentLocale)}:`}\n      onChange={onChange}\n      options={options}\n      disabled={disabled}\n      renderValue={(value) => {\n        if (value === 'anonymous') {\n          return <span>{i18n.getString('Blocked', currentLocale)}</span>;\n        }\n        return (\n          <PhoneNumber\n            formatPhone={formatPhone}\n            phoneNumber={value}\n            currentLocale={currentLocale}\n          />\n        );\n      }}\n      valueFunction={(option) => option.phoneNumber}\n      renderFunction={(option) => {\n        if (option.phoneNumber === 'anonymous') {\n          return <span>{i18n.getString('Blocked', currentLocale)}</span>;\n        }\n        return (\n          <PhoneNumber\n            formatPhone={formatPhone}\n            phoneNumber={option.phoneNumber}\n            usageType={option.usageType}\n            label={showCustomPhoneLabel ? option.label : undefined}\n            currentLocale={currentLocale}\n          />\n        );\n      }}\n    />\n  );\n});\n\n// @ts-expect-error TS(2339): Property 'propTypes' does not exist on type 'Named... Remove this comment to see the full error message\nFromField.propTypes = {\n  fromNumber: PropTypes.string,\n  formatPhone: PropTypes.func.isRequired,\n  fromNumbers: PropTypes.arrayOf(\n    PropTypes.shape({\n      phoneNumber: PropTypes.string,\n      usageType: PropTypes.string,\n    }),\n  ).isRequired,\n  onChange: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  hidden: PropTypes.bool.isRequired,\n  showAnonymous: PropTypes.bool,\n  className: PropTypes.string,\n  disabled: PropTypes.bool,\n};\n\n// @ts-expect-error TS(2339): Property 'defaultProps' does not exist on type 'Na... Remove this comment to see the full error message\nFromField.defaultProps = {\n  fromNumber: null,\n  className: undefined,\n  showAnonymous: true,\n  disabled: false,\n};\n\nexport default FromField;\n"],"mappings":"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","ignoreList":[]}