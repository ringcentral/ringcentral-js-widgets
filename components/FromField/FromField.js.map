{"version":3,"file":"FromField.js","names":["_components","require","_springUi","_react","_interopRequireWildcard","_i18n","_styles","_interopRequireDefault","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","PhoneNumber","_ref","usageType","label","phoneNumber","usageTypeDom","createElement","className","styles","formatPhone","useFormattedPhoneNumberFn","FromField","exports","memo","_ref2","_ref2$fromNumber","fromNumber","fromNumbers","fromPlaceholder","onChange","hidden","_ref2$disabled","disabled","_ref2$showAnonymous","showAnonymous","showCustomPhoneLabel","options","push","Select","variant","size","value","renderValue","target","map","_ref3","Option","key","undefined"],"sources":["components/FromField/FromField.tsx"],"sourcesContent":["import { useFormattedPhoneNumberFn } from '@ringcentral-integration/micro-auth/src/app/components';\nimport { Option, Select } from '@ringcentral/spring-ui';\nimport React, { memo } from 'react';\n\nimport { t } from './i18n';\nimport styles from './styles.scss';\n\ninterface PhoneNumberProps {\n  phoneNumber?: string | null;\n  usageType?: string | null;\n  label?: string;\n}\n\nconst PhoneNumber = ({ usageType, label, phoneNumber }: PhoneNumberProps) => {\n  const usageTypeDom =\n    label || usageType ? (\n      <span className={styles.usageType}>\n        {label || (usageType ? t(usageType as any) : '')}\n      </span>\n    ) : null;\n\n  const formatPhone = useFormattedPhoneNumberFn();\n  return (\n    <span className={styles.phoneNumber}>\n      {usageTypeDom}\n      <span data-sign=\"phoneNumber\">{formatPhone(phoneNumber || '')}</span>\n    </span>\n  );\n};\n\ninterface FromNumberOption {\n  phoneNumber: string;\n  label?: string;\n  usageType?: string;\n}\n\ninterface FromFieldProps {\n  fromNumber?: string | null;\n  fromPlaceholder?: string;\n  fromNumbers: FromNumberOption[];\n  onChange: (args: { phoneNumber: string }) => void;\n  hidden: boolean;\n  showAnonymous?: boolean;\n  className?: string;\n  disabled?: boolean;\n  showCustomPhoneLabel?: boolean;\n}\n\n// phone number formatting becomes expensive when there are lots of numbers\n// memo makes this a pure component to reduce rendering cost\nexport const FromField = memo(function FromField({\n  className,\n  fromNumber = null,\n  fromNumbers,\n  fromPlaceholder,\n  onChange,\n  hidden,\n  disabled = false,\n  showAnonymous = true,\n  showCustomPhoneLabel,\n}: FromFieldProps) {\n  if (hidden) {\n    return null;\n  }\n  const options = [...fromNumbers];\n  if (showAnonymous) {\n    options.push({\n      phoneNumber: 'anonymous',\n    });\n  }\n  return (\n    <div className={className}>\n      <Select\n        className=\"w-full\"\n        data-sign=\"dropdownSelect\"\n        variant=\"outlined\"\n        size=\"large\"\n        label={fromPlaceholder || t('from')}\n        value={fromNumber}\n        disabled={disabled}\n        renderValue={(value) => {\n          if (value === 'anonymous') {\n            return <span>{t('Blocked')}</span>;\n          }\n          return <PhoneNumber phoneNumber={value} />;\n        }}\n        onChange={(e) => onChange({ phoneNumber: e.target.value })}\n      >\n        {options.map(({ phoneNumber, label, usageType }) => {\n          return (\n            <Option\n              data-sign=\"selectMenuItem\"\n              key={phoneNumber}\n              value={phoneNumber}\n            >\n              {phoneNumber === 'anonymous' ? (\n                <span>{t('Blocked')}</span>\n              ) : (\n                <PhoneNumber\n                  phoneNumber={phoneNumber}\n                  usageType={usageType}\n                  label={showCustomPhoneLabel ? label : undefined}\n                />\n              )}\n            </Option>\n          );\n        })}\n      </Select>\n    </div>\n  );\n});\n"],"mappings":"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","ignoreList":[]}