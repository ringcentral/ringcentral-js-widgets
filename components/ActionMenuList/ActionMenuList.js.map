{"version":3,"file":"ActionMenuList.js","names":["_hooks","require","_springIcon","_springUi","_react","_interopRequireWildcard","_Drawer","_HoverAction","_i18n","_interopRequireDefault","_excluded","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","iterator","u","next","done","isArray","FragmentWrap","_ref","children","createElement","Fragment","MORE_ACTION_TYPE","ActionMenuList","exports","_ref2","buttons","displayCountProp","displayCount","_ref2$variant","variant","_ref2$listVariant","listVariant","_ref2$showIconAtMenuL","showIconAtMenuList","TooltipProps","moreButtonProps","_ref2$MoreButtonCompo","MoreButtonComponent","IconButton","refMap","propsMap","action","forceActionsOpen","_useLocale","useLocale","i18n","isPlain","defaultDisplayCount","_useState","useState","_useState2","anchor","setMenuAnchor","_useMemo","useMemo","moreThenMaxDisplay","visibleActions","menuActions","splitCount","_useState3","_useState4","keepActions","setKeepActions","_useState5","_useState6","visibleSubmenuAnchor","setVisibleSubmenuAnchor","visibleActionButtons","map","_ref3","actionType","_ref3$Component","Component","label","tooltip","isSubmenu","submenuActions","onClick","rest","combineProps","additionalProps","title","key","size","ref","currentTarget","stopPropagation","Container","HoverAction","open","Boolean","useEffect","fixSubmenuPosition","leftSubmenus","document","querySelectorAll","element","htmlElement","currentTransform","style","transform","match","_match","x","y","z","xValue","parseFloat","concat","timer","setTimeout","observer","MutationObserver","observe","body","childList","subtree","attributes","attributeFilter","clearTimeout","disconnect","menuList","_ref4","disabled","symbol","SubMenu","itemContent","Icon","MenuItemText","className","classes","container","MenuItem","customIcon","root","menu","Drawer","bodyProps","onClose","List","tabIndex","Menu","anchorEl","onExitComplete","paper","MenuList","nowrap","useImperativeHandle","getListOpened","render","shape","color","OverflowVerticalMd","_moreButtonProps$onCl","visibleSubmenuMenu","_action$onClick","process","env","NODE_ENV","b","join"],"sources":["components/ActionMenuList/ActionMenuList.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { OverflowVerticalMd } from '@ringcentral/spring-icon';\nimport {\n  Icon,\n  IconButton,\n  IconButtonProps,\n  List,\n  Menu,\n  MenuItem,\n  MenuItemText,\n  MenuList,\n  SubMenu,\n} from '@ringcentral/spring-ui';\nimport React, {\n  FunctionComponent,\n  Ref,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { Drawer } from '../Drawer';\nimport { HoverAction } from '../HoverAction';\n\nimport i18n from './i18n';\n\nexport type SubmenuAction = {\n  actionType: string;\n  symbol?: React.ComponentType;\n  /**\n   * click handler for the submenu action\n   *\n   * if the action return true, the effect will not be called\n   */\n  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void | boolean;\n  /**\n   * whether the submenu action is disabled\n   */\n  disabled?: boolean;\n  /**\n   * the label of the submenu action\n   */\n  label: string;\n  /**\n   * Custom icon JSX element - if provided, this will be used instead of the symbol\n   */\n  customIcon?: React.ReactNode;\n};\n\nexport type ActionMenuListButtonProps = IconButtonProps & {\n  actionType: string;\n  tooltip?: string;\n  /**\n   * when you want full control the button, use that custom component\n   */\n  Component?: React.ComponentType<IconButtonProps>;\n  /**\n   * indicates this should render as a submenu\n   */\n  isSubmenu?: boolean;\n  /**\n   * array of submenu actions (only used when isSubmenu is true)\n   */\n  submenuActions?: SubmenuAction[];\n};\n\nexport type ActionMenuListAction = {\n  /**\n   * get the open state of the menu\n   */\n  getListOpened: () => boolean;\n};\n\nexport type ActionMenuListProps = {\n  /**\n   * An array of action objects to be rendered as buttons.\n   */\n  buttons: ActionMenuListButtonProps[];\n  /**\n   * The mode of the action menu\n   *\n   * - `hover`: the list will show when hover at parent layer `group`, default `displayCount` be `3`\n   * - `plain`: the list just render at target, the default `displayCount` be same as the length of `buttons`\n   *\n   * @default 'hover'\n   */\n  variant?: 'hover' | 'plain';\n  /**\n   * The variant of the list\n   *\n   * - `menu`: the list will be a menu list\n   * - `drawer`: the list will be a drawer list\n   *\n   * @default 'menu'\n   */\n  listVariant?: 'menu' | 'drawer';\n  /**\n   * The number of actions to display outside the menu, the rest will be in the menu\n   *\n   * when variant is `plain`, the displayCount default be the length of `buttons`\n   *\n   * @default 3\n   */\n  displayCount?: number;\n  /**\n   * when items fold into menu list, does show icon at the menu list at start\n   *\n   * @default true\n   */\n  showIconAtMenuList?: boolean;\n  /**\n   * The props for the tooltip component\n   */\n  TooltipProps?: Omit<IconButtonProps['TooltipProps'], 'title'>;\n  /**\n   * The props for the more button\n   */\n  moreButtonProps?: IconButtonProps;\n  /**\n   * The component for the more button\n   *\n   * @default `IconButton`\n   */\n  MoreButtonComponent?: React.ComponentType<IconButtonProps>;\n  /**\n   * The ref map for the action buttons\n   *\n   * use the `actionType` as the key\n   */\n  refMap?: Record<string, React.RefObject<any>>;\n  /**\n   * The ref map for the action buttons\n   *\n   * use the `actionType` as the key\n   *\n   * if you want set props for all buttons, you `all` as the key\n   *\n   * @example\n   *\n   * ```tsx\n   * propsMap={{\n   *   all: {\n   *      onMouseOver: () => console.log('onMouseOver'),\n   *   },\n   * }\n   * ```\n   */\n  propsMap?: Record<string, IconButtonProps>;\n  /**\n   * the draggable actions for control inner state\n   */\n  action?: Ref<ActionMenuListAction>;\n  /**\n   * keep the actions button open\n   */\n  forceActionsOpen?: boolean;\n};\n\n/**\n * a wrapper component to ignore rest props pass into fragment\n */\nconst FragmentWrap: FunctionComponent = ({ children }) => (\n  <React.Fragment>{children}</React.Fragment>\n);\n\nconst MORE_ACTION_TYPE = 'more';\n\n/**\n * It displays a specified number of action buttons and groups the remaining actions into a menu.\n *\n * @returns {JSX.Element | null} The rendered ActionMenuList component or null if there are no visible actions.\n */\nexport const ActionMenuList: React.FC<ActionMenuListProps> = ({\n  buttons,\n  displayCount: displayCountProp,\n  variant = 'hover',\n  listVariant = 'menu',\n  showIconAtMenuList = true,\n  TooltipProps,\n  moreButtonProps,\n  MoreButtonComponent = IconButton,\n  refMap,\n  propsMap,\n  action,\n  forceActionsOpen,\n}) => {\n  const { t } = useLocale(i18n);\n  const isPlain = variant === 'plain';\n  const defaultDisplayCount = isPlain ? buttons.length : 3;\n\n  const displayCount = displayCountProp ?? defaultDisplayCount;\n  const [anchor, setMenuAnchor] = useState<HTMLButtonElement | null>(null);\n\n  const { visibleActions, menuActions } = useMemo(() => {\n    const moreThenMaxDisplay = buttons.length > displayCount;\n\n    if (!moreThenMaxDisplay) {\n      return {\n        visibleActions: buttons,\n        menuActions: [],\n      };\n    }\n\n    // one space for the menu button\n    const splitCount = displayCount - 1;\n\n    return {\n      visibleActions: buttons.slice(0, splitCount),\n      menuActions: buttons.slice(splitCount),\n    };\n  }, [buttons, displayCount]);\n\n  const [keepActions, setKeepActions] = useState(false);\n\n  // State for visible button submenus\n  const [visibleSubmenuAnchor, setVisibleSubmenuAnchor] = useState<{\n    anchor: HTMLElement;\n    submenuActions: SubmenuAction[];\n  } | null>(null);\n\n  const visibleActionButtons = visibleActions.map(\n    ({\n      actionType,\n      Component = IconButton,\n      label,\n      tooltip,\n      isSubmenu,\n      submenuActions,\n      onClick,\n      ...rest\n    }) => {\n      const combineProps = {\n        ...rest,\n        ...propsMap?.['all'],\n        ...propsMap?.[actionType],\n      };\n\n      const additionalProps = {\n        ...combineProps,\n        TooltipProps: {\n          title: tooltip || label,\n          ...TooltipProps,\n          ...combineProps.TooltipProps,\n        },\n      };\n\n      // Handle submenu for visible buttons\n      if (isSubmenu && submenuActions && submenuActions.length > 0) {\n        return (\n          <Component\n            key={actionType}\n            size=\"medium\"\n            data-sign={actionType}\n            ref={refMap?.[actionType]}\n            onClick={(e: React.MouseEvent<HTMLButtonElement>) => {\n              setVisibleSubmenuAnchor({\n                anchor: e.currentTarget,\n                submenuActions,\n              });\n              setKeepActions?.(true);\n\n              e.stopPropagation();\n            }}\n            {...additionalProps}\n          />\n        );\n      }\n\n      return (\n        <Component\n          key={actionType}\n          data-sign={actionType}\n          ref={refMap?.[actionType]}\n          onClick={onClick}\n          {...additionalProps}\n        />\n      );\n    },\n  );\n\n  const Container = isPlain ? FragmentWrap : HoverAction;\n\n  const open = Boolean(anchor);\n\n  // TODO: Fix when spring UI supports positioning of Submenus\n  //  https://jira_domain/browse/UXSYS-4114\n  // Workaround for rendering the submenu in the view.\n  // Fix submenu positioning to prevent overflow on the left side of viewport\n  useEffect(() => {\n    if (!open) return;\n\n    const fixSubmenuPosition = () => {\n      const leftSubmenus = document.querySelectorAll(\n        '.sui-popper-menu[data-sui-popper-placement*=\"left\"]',\n      );\n\n      leftSubmenus.forEach((element) => {\n        const htmlElement = element as HTMLElement;\n        const currentTransform = htmlElement.style.transform;\n\n        // Extract translate3d values: translate3d(x, y, z)\n        const match = currentTransform.match(\n          /translate3d\\(([^,]+),\\s*([^,]+),\\s*([^)]+)\\)/,\n        );\n\n        if (match) {\n          const [, x, y, z] = match;\n          const xValue = parseFloat(x);\n\n          // If X offset is negative, submenu goes off-screen to the left\n          // Reset X to 0 to keep submenu within viewport\n          if (xValue < 0) {\n            htmlElement.style.transform = `translate3d(6px, ${y}, ${z})`;\n          }\n        }\n      });\n    };\n\n    // Fix positioning immediately after menu opens\n    const timer = setTimeout(fixSubmenuPosition, 0);\n\n    // Watch for dynamically added submenus (when user hovers over submenu items)\n    const observer = new MutationObserver(fixSubmenuPosition);\n    observer.observe(document.body, {\n      childList: true,\n      subtree: true,\n      attributes: true,\n      attributeFilter: ['style'],\n    });\n\n    return () => {\n      clearTimeout(timer);\n      observer.disconnect();\n    };\n  }, [open]);\n\n  const menuList = useMemo(\n    () =>\n      menuActions.map(\n        ({\n          onClick,\n          disabled,\n          label,\n          symbol,\n          actionType,\n          isSubmenu,\n          submenuActions,\n        }) => {\n          // Render as SubMenu if isSubmenu is true and submenuActions are provided\n          if (isSubmenu && submenuActions && submenuActions.length > 0) {\n            return (\n              <SubMenu\n                key={actionType}\n                data-sign={actionType}\n                itemContent={\n                  <>\n                    {showIconAtMenuList && (\n                      <Icon size=\"small\" symbol={symbol} />\n                    )}\n                    <MenuItemText>{label}</MenuItemText>\n                  </>\n                }\n                className=\"h-8 px-1\"\n                classes={{\n                  container: 'py-0 h-8 min-h-0',\n                }}\n              >\n                {submenuActions.map((action) => (\n                  <MenuItem\n                    key={action.actionType}\n                    onClick={action.onClick}\n                    disabled={action.disabled}\n                    data-sign={action.actionType}\n                    {...(propsMap?.['all'] as any)}\n                    {...(propsMap?.[actionType] as any)}\n                  >\n                    {action.customIcon ? (\n                      action.customIcon\n                    ) : action.symbol ? (\n                      <Icon size=\"small\" symbol={action.symbol} />\n                    ) : null}\n                    <MenuItemText>{action.label}</MenuItemText>\n                  </MenuItem>\n                ))}\n              </SubMenu>\n            );\n          }\n\n          // Regular MenuItem for non-submenu items\n          return (\n            <MenuItem\n              key={actionType}\n              disabled={disabled}\n              data-sign={actionType}\n              onClick={onClick as never}\n              classes={{\n                root: 'h-8 px-1',\n                container: 'py-0 h-8 min-h-0',\n              }}\n              {...(propsMap?.['all'] as any)}\n              {...(propsMap?.[actionType] as any)}\n            >\n              {showIconAtMenuList && <Icon size=\"small\" symbol={symbol} />}\n              <MenuItemText>{label}</MenuItemText>\n            </MenuItem>\n          );\n        },\n      ),\n    [menuActions, propsMap, showIconAtMenuList],\n  );\n\n  const menu = useMemo(() => {\n    if (listVariant === 'drawer') {\n      return (\n        <Drawer\n          bodyProps={{\n            'data-sign': 'moreActionList',\n          }}\n          open={open}\n          onClose={() => {\n            setMenuAnchor(null);\n          }}\n        >\n          <List tabIndex={0} className=\"my-2\">\n            {menuList}\n          </List>\n        </Drawer>\n      );\n    }\n\n    return (\n      <Menu\n        open={open}\n        anchorEl={anchor}\n        onClose={() => {\n          setMenuAnchor(null);\n        }}\n        onClick={(e) => {\n          // TODO: spring-ui issue, when click the backdrop will trigger the onClick event also UXSYS-3892\n          e.stopPropagation();\n        }}\n        onExitComplete={() => {\n          setKeepActions?.(false);\n        }}\n        data-sign=\"moreActionList\"\n        classes={{\n          paper: 'py-1',\n        }}\n      >\n        <MenuList nowrap={false}>{menuList}</MenuList>\n      </Menu>\n    );\n  }, [anchor, listVariant, menuList, open]);\n\n  useImperativeHandle(\n    action,\n    () => ({\n      getListOpened: () => open,\n    }),\n    [open],\n  );\n\n  if (visibleActions.length === 0 && menuActions.length === 0) return null;\n\n  const render = (\n    <Container open={keepActions || forceActionsOpen}>\n      {visibleActionButtons}\n      {menuActions.length > 0 && (\n        <>\n          <MoreButtonComponent\n            shape=\"squircle\"\n            variant=\"outlined\"\n            size=\"medium\"\n            color={'secondary'}\n            symbol={OverflowVerticalMd}\n            data-sign={MORE_ACTION_TYPE}\n            ref={refMap?.[MORE_ACTION_TYPE]}\n            {...moreButtonProps}\n            TooltipProps={{\n              title: t(MORE_ACTION_TYPE),\n              ...TooltipProps,\n              ...moreButtonProps?.TooltipProps,\n            }}\n            onClick={(e) => {\n              setMenuAnchor(e.currentTarget);\n              setKeepActions?.(true);\n              e.stopPropagation();\n              moreButtonProps?.onClick?.(e);\n            }}\n            {...propsMap?.[MORE_ACTION_TYPE]}\n          />\n          {menu}\n        </>\n      )}\n    </Container>\n  );\n\n  // Render visible button submenu\n  const visibleSubmenuMenu = visibleSubmenuAnchor && (\n    <Menu\n      open={true}\n      anchorEl={visibleSubmenuAnchor.anchor}\n      onClose={() => {\n        setVisibleSubmenuAnchor(null);\n        setKeepActions?.(false);\n      }}\n      onClick={(e) => e.stopPropagation()}\n    >\n      {visibleSubmenuAnchor.submenuActions.map((action) => (\n        <MenuItem\n          key={action.actionType}\n          onClick={(e) => {\n            action.onClick?.(e);\n            setVisibleSubmenuAnchor(null);\n            setKeepActions?.(false);\n          }}\n          disabled={action.disabled}\n          data-sign={action.actionType}\n        >\n          {action.customIcon ? (\n            action.customIcon\n          ) : action.symbol ? (\n            <Icon size=\"small\" symbol={action.symbol} />\n          ) : null}\n          <MenuItemText>{action.label}</MenuItemText>\n        </MenuItem>\n      ))}\n    </Menu>\n  );\n\n  // in test env, render the action type for debug test easier\n  if (process.env.NODE_ENV === 'test') {\n    return (\n      <>\n        <span data-sign=\"actionTypes\">\n          {buttons.map((b) => b.actionType).join(',')}\n        </span>\n        {render}\n        {visibleSubmenuMenu}\n      </>\n    );\n  }\n\n  return (\n    <>\n      {render}\n      {visibleSubmenuMenu}\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]}