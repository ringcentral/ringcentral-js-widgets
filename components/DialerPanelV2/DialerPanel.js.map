{"version":3,"file":"DialerPanel.js","names":["_react","_interopRequireWildcard","require","_juno","_junoIcon","_commonStyles","_CommunicationSetupPanel","_SpinnerOverlay","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_templateObject4","data","_taggedTemplateLiteral","_templateObject3","_templateObject2","_templateObject","strings","raw","slice","freeze","defineProperties","DialerPanelContainer","styled","div","fullSizeStyle","palette2","BodyBottom","flexCenterStyle","spacing","StyledRcDialPad","RcDialPad","DialerWrapper","_ref","withTabs","DialerPanel","props","currentLocale","onToNumberChange","toNumber","fromNumber","fromNumbers","changeFromNumber","formatPhone","isWebphoneMode","showSpinner","recipients","setRecipient","clearRecipient","autoFocus","_props$showFromField","showFromField","_props$disableFromFie","disableFromField","children","showAnonymous","dialButtonMuted","dialButtonVolume","onCallButtonClick","callButtonDisabled","handleSelect","useCallback","regeneratorRuntime","mark","_callee","_args","wrap","_callee$","_context","prev","next","stop","createElement","CommunicationSetupPanel","onChange","sounds","RcDialerPadSounds","getDialPadButtonProps","v","concat","volume","muted","RcIconButton","color","symbol","Phone","size","variant","elevation","activeElevation","onClick","clickDialerToCall","disabled","SpinnerOverlay","exports","Empty","defaultProps","phoneNumber","inConference","isLastInputFromDialpad"],"sources":["components/DialerPanelV2/DialerPanel.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, { useCallback } from 'react';\n\nimport type { ToNumber as Recipient } from '@ringcentral-integration/commons/modules/ComposeText';\nimport {\n  flexCenterStyle,\n  palette2,\n  RcDialerPadSounds,\n  RcDialPad,\n  RcIconButton,\n  spacing,\n  styled,\n} from '@ringcentral/juno';\nimport { Phone } from '@ringcentral/juno-icon';\n\nimport { fullSizeStyle } from '../../lib/commonStyles';\nimport { CommunicationSetupPanel } from '../CommunicationSetupPanel';\nimport { SpinnerOverlay } from '../SpinnerOverlay';\n\nexport type DialerPanelProps = {\n  currentLocale: string;\n  className?: string;\n  dialButtonsClassName?: string;\n  onCallButtonClick: (...args: any[]) => any;\n  callButtonDisabled?: boolean;\n  isWebphoneMode?: boolean;\n  toNumber?: string;\n  onToNumberChange?: (...args: any[]) => any;\n  fromNumber?: string;\n  fromNumbers?: {\n    phoneNumber: string;\n    usageType?: string;\n  }[];\n  changeFromNumber?: (...args: any[]) => any;\n  formatPhone?: (...args: any[]) => any;\n  showSpinner?: boolean;\n  dialButtonVolume?: number;\n  dialButtonMuted?: boolean;\n  searchContact: (...args: any[]) => any;\n  searchContactList: {\n    name: string;\n    entityType: string;\n    phoneType: string;\n    phoneNumber: string;\n  }[];\n  recipient?: Recipient;\n  recipients: Recipient[];\n  clearToNumber: (...args: any[]) => any;\n  setRecipient: (...args: any[]) => any;\n  clearRecipient: (...args: any[]) => any;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  recipientsContactInfoRenderer?: (...args: any[]) => any;\n  recipientsContactPhoneRenderer?: (...args: any[]) => any;\n  autoFocus?: boolean;\n  showFromField?: boolean;\n  disableFromField?: boolean;\n  withTabs?: boolean;\n  inConference?: boolean;\n  isLastInputFromDialpad?: boolean;\n  useV2?: boolean;\n  showAnonymous?: boolean;\n};\n\nconst DialerPanelContainer = styled.div`\n  ${fullSizeStyle};\n  box-sizing: border-box;\n  background: ${palette2('neutral', 'f01')};\n`;\n\nconst BodyBottom = styled.div`\n  ${flexCenterStyle};\n  margin-bottom: ${spacing(7)};\n`;\n\nconst StyledRcDialPad = styled(RcDialPad)`\n  [sf-classic] & {\n    height: 90%;\n  }\n`;\n\n// TODO: check withTabs\nconst DialerWrapper = styled.div<{ withTabs: boolean }>`\n  flex: 1 1 auto;\n  margin: ${({ withTabs }) => (withTabs ? spacing(0, 11) : spacing(2, 11))};\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  [sf-classic] & {\n    height: 70%;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n`;\n\nexport const DialerPanel: FunctionComponent<DialerPanelProps> = (props) => {\n  const {\n    currentLocale,\n    onToNumberChange,\n    toNumber,\n    fromNumber,\n    fromNumbers,\n    changeFromNumber,\n    formatPhone,\n    isWebphoneMode,\n    showSpinner,\n    recipients,\n    setRecipient,\n    clearRecipient,\n    autoFocus,\n    showFromField = true,\n    disableFromField = false,\n    children,\n    showAnonymous,\n    dialButtonMuted,\n    dialButtonVolume,\n    onCallButtonClick,\n    callButtonDisabled,\n    withTabs,\n  } = props;\n\n  // TODO: when have tag should check if need disable dial button\n  // const hasTags = recipients.length > 0;\n  const handleSelect = useCallback(\n    async (...args) => {\n      await setRecipient(...args);\n      onCallButtonClick();\n    },\n    [setRecipient, onCallButtonClick],\n  );\n\n  return (\n    <DialerPanelContainer>\n      <CommunicationSetupPanel\n        // To field\n        recipients={recipients}\n        // @ts-expect-error TS(2322): Type 'string | undefined' is not assignable to typ... Remove this comment to see the full error message\n        toNumber={toNumber}\n        // @ts-expect-error TS(2322): Type '((...args: any[]) => any) | undefined' is no... Remove this comment to see the full error message\n        onToNumberChange={onToNumberChange}\n        setRecipient={handleSelect}\n        clearRecipient={clearRecipient}\n        autoFocus={autoFocus}\n        // From field\n        showAnonymous={showAnonymous}\n        fromNumber={fromNumber}\n        fromNumbers={fromNumbers}\n        changeFromNumber={changeFromNumber}\n        formatPhone={formatPhone}\n        showFromField={showFromField && isWebphoneMode}\n        disableFromField={disableFromField}\n        // Common\n        currentLocale={currentLocale}\n      >\n        {/* @ts-expect-error TS(2322): Type 'boolean | undefined' is not */}\n        <DialerWrapper withTabs={withTabs}>\n          <StyledRcDialPad\n            data-sign=\"dialPad\"\n            onChange={(value) => {\n              // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n              onToNumberChange(toNumber + value, true);\n            }}\n            sounds={RcDialerPadSounds}\n            getDialPadButtonProps={(v) => ({\n              'data-test-id': `${v}`,\n              'data-sign': `dialPadBtn${v}`,\n            })}\n            volume={dialButtonVolume}\n            muted={dialButtonMuted}\n          />\n        </DialerWrapper>\n        <BodyBottom>\n          <RcIconButton\n            data-sign=\"callButton\"\n            color=\"success.b03\"\n            symbol={Phone}\n            size={withTabs ? 'medium' : 'large'}\n            variant=\"contained\"\n            elevation=\"0\"\n            activeElevation=\"0\"\n            onClick={() => onCallButtonClick({ clickDialerToCall: true })}\n            disabled={callButtonDisabled}\n          />\n        </BodyBottom>\n        {showSpinner ? <SpinnerOverlay /> : null}\n        {children}\n      </CommunicationSetupPanel>\n      intreact/default-props-match-prop-types\n    </DialerPanelContainer>\n  );\n};\n\nconst Empty: FunctionComponent = () => null;\n\nDialerPanel.defaultProps = {\n  callButtonDisabled: false,\n  toNumber: '',\n  fromNumbers: [],\n  isWebphoneMode: false,\n  changeFromNumber: Empty,\n  onToNumberChange: Empty,\n  formatPhone: (phoneNumber) => phoneNumber,\n  showSpinner: false,\n  dialButtonVolume: 1,\n  dialButtonMuted: false,\n  recipients: [],\n  autoFocus: false,\n  showFromField: true,\n  disableFromField: false,\n  withTabs: false,\n  inConference: false,\n  isLastInputFromDialpad: false,\n  showAnonymous: true,\n};\n"],"mappings":";;;;;;;;;;;AACA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAGA,IAAAC,KAAA,GAAAD,OAAA;AASA,IAAAE,SAAA,GAAAF,OAAA;AAEA,IAAAG,aAAA,GAAAH,OAAA;AACA,IAAAI,wBAAA,GAAAJ,OAAA;AACA,IAAAK,eAAA,GAAAL,OAAA;AAAmD,SAAAM,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAR,wBAAAY,GAAA,EAAAJ,WAAA,SAAAA,WAAA,IAAAI,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,aAAAE,OAAA,CAAAF,GAAA,yBAAAA,GAAA,uCAAAA,GAAA,UAAAG,KAAA,GAAAR,wBAAA,CAAAC,WAAA,OAAAO,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAJ,GAAA,YAAAG,KAAA,CAAAE,GAAA,CAAAL,GAAA,SAAAM,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAX,GAAA,QAAAW,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAd,GAAA,EAAAW,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAV,GAAA,EAAAW,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAX,GAAA,CAAAW,GAAA,SAAAL,MAAA,cAAAN,GAAA,MAAAG,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAAhB,GAAA,EAAAM,MAAA,YAAAA,MAAA;AAAA,SAAAW,mBAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAX,GAAA,EAAAY,GAAA,cAAAC,IAAA,GAAAN,GAAA,CAAAP,GAAA,EAAAY,GAAA,OAAAE,KAAA,GAAAD,IAAA,CAAAC,KAAA,WAAAC,KAAA,IAAAN,MAAA,CAAAM,KAAA,iBAAAF,IAAA,CAAAG,IAAA,IAAAR,OAAA,CAAAM,KAAA,YAAAG,OAAA,CAAAT,OAAA,CAAAM,KAAA,EAAAI,IAAA,CAAAR,KAAA,EAAAC,MAAA;AAAA,SAAAQ,kBAAAC,EAAA,6BAAAC,IAAA,SAAAC,IAAA,GAAAC,SAAA,aAAAN,OAAA,WAAAT,OAAA,EAAAC,MAAA,QAAAF,GAAA,GAAAa,EAAA,CAAAI,KAAA,CAAAH,IAAA,EAAAC,IAAA,YAAAZ,MAAAI,KAAA,IAAAR,kBAAA,CAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,UAAAG,KAAA,cAAAH,OAAAc,GAAA,IAAAnB,kBAAA,CAAAC,GAAA,EAAAC,OAAA,EAAAC,MAAA,EAAAC,KAAA,EAAAC,MAAA,WAAAc,GAAA,KAAAf,KAAA,CAAAgB,SAAA;AAAA,SAAAC,iBAAA;EAAA,IAAAC,IAAA,GAAAC,sBAAA;EAAAF,gBAAA,YAAAA,iBAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAA,SAAAE,iBAAA;EAAA,IAAAF,IAAA,GAAAC,sBAAA;EAAAC,gBAAA,YAAAA,iBAAA;IAAA,OAAAF,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAA,SAAAG,iBAAA;EAAA,IAAAH,IAAA,GAAAC,sBAAA;EAAAE,gBAAA,YAAAA,iBAAA;IAAA,OAAAH,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAA,SAAAI,gBAAA;EAAA,IAAAJ,IAAA,GAAAC,sBAAA;EAAAG,eAAA,YAAAA,gBAAA;IAAA,OAAAJ,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAA,SAAAC,uBAAAI,OAAA,EAAAC,GAAA,SAAAA,GAAA,IAAAA,GAAA,GAAAD,OAAA,CAAAE,KAAA,cAAAtC,MAAA,CAAAuC,MAAA,CAAAvC,MAAA,CAAAwC,gBAAA,CAAAJ,OAAA,IAAAC,GAAA,IAAApB,KAAA,EAAAjB,MAAA,CAAAuC,MAAA,CAAAF,GAAA;AA+CnD,IAAMI,oBAAoB,GAAGC,YAAM,CAACC,GAAG,CAAAR,eAAA,IACnCS,2BAAa,EAED,IAAAC,cAAQ,EAAC,SAAS,EAAE,KAAK,CAAC,CACzC;AAED,IAAMC,UAAU,GAAGJ,YAAM,CAACC,GAAG,CAAAT,gBAAA,IACzBa,qBAAe,EACA,IAAAC,aAAO,EAAC,CAAC,CAAC,CAC5B;AAED,IAAMC,eAAe,GAAG,IAAAP,YAAM,EAACQ,eAAS,CAAC,CAAAjB,gBAAA,GAIxC;;AAED;AACA,IAAMkB,aAAa,GAAGT,YAAM,CAACC,GAAG,CAAAb,gBAAA,IAEpB,UAAAsB,IAAA;EAAA,IAAGC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;EAAA,OAAQA,QAAQ,GAAG,IAAAL,aAAO,EAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAAA,aAAO,EAAC,CAAC,EAAE,EAAE,CAAC;AAAA,CAAC,CASzE;AAEM,IAAMM,WAAgD,GAAG,SAAnDA,WAAgDA,CAAIC,KAAK,EAAK;EAAA,IAEvEC,aAAa,GAsBXD,KAAK,CAtBPC,aAAa;IACbC,gBAAgB,GAqBdF,KAAK,CArBPE,gBAAgB;IAChBC,QAAQ,GAoBNH,KAAK,CApBPG,QAAQ;IACRC,UAAU,GAmBRJ,KAAK,CAnBPI,UAAU;IACVC,WAAW,GAkBTL,KAAK,CAlBPK,WAAW;IACXC,gBAAgB,GAiBdN,KAAK,CAjBPM,gBAAgB;IAChBC,WAAW,GAgBTP,KAAK,CAhBPO,WAAW;IACXC,cAAc,GAeZR,KAAK,CAfPQ,cAAc;IACdC,WAAW,GAcTT,KAAK,CAdPS,WAAW;IACXC,UAAU,GAaRV,KAAK,CAbPU,UAAU;IACVC,YAAY,GAYVX,KAAK,CAZPW,YAAY;IACZC,cAAc,GAWZZ,KAAK,CAXPY,cAAc;IACdC,SAAS,GAUPb,KAAK,CAVPa,SAAS;IAAAC,oBAAA,GAUPd,KAAK,CATPe,aAAa;IAAbA,aAAa,GAAAD,oBAAA,cAAG,IAAI,GAAAA,oBAAA;IAAAE,qBAAA,GASlBhB,KAAK,CARPiB,gBAAgB;IAAhBA,gBAAgB,GAAAD,qBAAA,cAAG,KAAK,GAAAA,qBAAA;IACxBE,QAAQ,GAONlB,KAAK,CAPPkB,QAAQ;IACRC,aAAa,GAMXnB,KAAK,CANPmB,aAAa;IACbC,eAAe,GAKbpB,KAAK,CALPoB,eAAe;IACfC,gBAAgB,GAIdrB,KAAK,CAJPqB,gBAAgB;IAChBC,iBAAiB,GAGftB,KAAK,CAHPsB,iBAAiB;IACjBC,kBAAkB,GAEhBvB,KAAK,CAFPuB,kBAAkB;IAClBzB,QAAQ,GACNE,KAAK,CADPF,QAAQ,EAGV;EACA;EACA,IAAM0B,YAAY,GAAG,IAAAC,kBAAW,gBAAA1D,iBAAA,eAAA2D,kBAAA,CAAAC,IAAA,CAC9B,SAAAC,QAAA;IAAA,IAAAC,KAAA,GAAA1D,SAAA;IAAA,OAAAuD,kBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA;MAAA;QAAA,QAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;UAAA;YAAAF,QAAA,CAAAE,IAAA;YAAA,OACQvB,YAAY,CAAAvC,KAAA,SAAAyD,KAAQ,CAAC;UAAA;YAC3BP,iBAAiB,CAAC,CAAC;UAAC;UAAA;YAAA,OAAAU,QAAA,CAAAG,IAAA;QAAA;MAAA;IAAA,GAAAP,OAAA;EAAA,CACrB,IACD,CAACjB,YAAY,EAAEW,iBAAiB,CAClC,CAAC;EAED,oBACElG,MAAA,YAAAgH,aAAA,CAAClD,oBAAoB,qBACnB9D,MAAA,YAAAgH,aAAA,CAAC1G,wBAAA,CAAA2G;EACC;EAAA;IACA3B,UAAU,EAAEA;IACZ;IAAA;IACAP,QAAQ,EAAEA;IACV;IAAA;IACAD,gBAAgB,EAAEA,gBAAiB;IACnCS,YAAY,EAAEa,YAAa;IAC3BZ,cAAc,EAAEA,cAAe;IAC/BC,SAAS,EAAEA;IACX;IAAA;IACAM,aAAa,EAAEA,aAAc;IAC7Bf,UAAU,EAAEA,UAAW;IACvBC,WAAW,EAAEA,WAAY;IACzBC,gBAAgB,EAAEA,gBAAiB;IACnCC,WAAW,EAAEA,WAAY;IACzBQ,aAAa,EAAEA,aAAa,IAAIP,cAAe;IAC/CS,gBAAgB,EAAEA;IAClB;IAAA;IACAhB,aAAa,EAAEA;EAAc,gBAG7B7E,MAAA,YAAAgH,aAAA,CAACxC,aAAa;IAACE,QAAQ,EAAEA;EAAS,gBAChC1E,MAAA,YAAAgH,aAAA,CAAC1C,eAAe;IACd,aAAU,SAAS;IACnB4C,QAAQ,EAAE,SAAAA,SAAC5E,KAAK,EAAK;MACnB;MACAwC,gBAAgB,CAACC,QAAQ,GAAGzC,KAAK,EAAE,IAAI,CAAC;IAC1C,CAAE;IACF6E,MAAM,EAAEC,uBAAkB;IAC1BC,qBAAqB,EAAE,SAAAA,sBAACC,CAAC;MAAA,OAAM;QAC7B,cAAc,KAAAC,MAAA,CAAKD,CAAC,CAAE;QACtB,WAAW,eAAAC,MAAA,CAAeD,CAAC;MAC7B,CAAC;IAAA,CAAE;IACHE,MAAM,EAAEvB,gBAAiB;IACzBwB,KAAK,EAAEzB;EAAgB,CACxB,CACY,CAAC,eAChBhG,MAAA,YAAAgH,aAAA,CAAC7C,UAAU,qBACTnE,MAAA,YAAAgH,aAAA,CAAC7G,KAAA,CAAAuH,YAAY;IACX,aAAU,YAAY;IACtBC,KAAK,EAAC,aAAa;IACnBC,MAAM,EAAEC,eAAM;IACdC,IAAI,EAAEpD,QAAQ,GAAG,QAAQ,GAAG,OAAQ;IACpCqD,OAAO,EAAC,WAAW;IACnBC,SAAS,EAAC,GAAG;IACbC,eAAe,EAAC,GAAG;IACnBC,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAMhC,iBAAiB,CAAC;QAAEiC,iBAAiB,EAAE;MAAK,CAAC,CAAC;IAAA,CAAC;IAC9DC,QAAQ,EAAEjC;EAAmB,CAC9B,CACS,CAAC,EACZd,WAAW,gBAAGrF,MAAA,YAAAgH,aAAA,CAACzG,eAAA,CAAA8H,cAAc,MAAE,CAAC,GAAG,IAAI,EACvCvC,QACsB,CAAC,2CAEN,CAAC;AAE3B,CAAC;AAACwC,OAAA,CAAA3D,WAAA,GAAAA,WAAA;AAEF,IAAM4D,KAAwB,GAAG,SAA3BA,KAAwBA,CAAA;EAAA,OAAS,IAAI;AAAA;AAE3C5D,WAAW,CAAC6D,YAAY,GAAG;EACzBrC,kBAAkB,EAAE,KAAK;EACzBpB,QAAQ,EAAE,EAAE;EACZE,WAAW,EAAE,EAAE;EACfG,cAAc,EAAE,KAAK;EACrBF,gBAAgB,EAAEqD,KAAK;EACvBzD,gBAAgB,EAAEyD,KAAK;EACvBpD,WAAW,EAAE,SAAAA,YAACsD,WAAW;IAAA,OAAKA,WAAW;EAAA;EACzCpD,WAAW,EAAE,KAAK;EAClBY,gBAAgB,EAAE,CAAC;EACnBD,eAAe,EAAE,KAAK;EACtBV,UAAU,EAAE,EAAE;EACdG,SAAS,EAAE,KAAK;EAChBE,aAAa,EAAE,IAAI;EACnBE,gBAAgB,EAAE,KAAK;EACvBnB,QAAQ,EAAE,KAAK;EACfgE,YAAY,EAAE,KAAK;EACnBC,sBAAsB,EAAE,KAAK;EAC7B5C,aAAa,EAAE;AACjB,CAAC"}