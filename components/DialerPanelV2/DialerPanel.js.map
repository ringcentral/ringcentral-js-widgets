{"version":3,"file":"DialerPanel.js","names":["_juno","require","_junoIcon","_react","_interopRequireWildcard","_commonStyles","_CommunicationSetupPanel","_SpinnerOverlay","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","asyncGeneratorStep","o","c","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_templateObject4","data","_taggedTemplateLiteral","_templateObject3","_templateObject2","_templateObject","slice","freeze","defineProperties","raw","DialerPanelContainer","styled","div","fullSizeStyle","palette2","BodyBottom","flexCenterStyle","spacing","StyledRcDialPad","RcDialPad","DialerWrapper","_ref","withTabs","DialerPanel","props","currentLocale","onToNumberChange","toNumber","fromNumber","fromNumbers","changeFromNumber","formatPhone","isWebphoneMode","showSpinner","recipients","setRecipient","clearRecipient","autoFocus","_props$showFromField","showFromField","_props$disableFromFie","disableFromField","children","showAnonymous","callVolume","outputDeviceId","onCallButtonClick","callButtonDisabled","ContactSearch","triggerEventTracking","handleSelect","useCallback","regeneratorRuntime","mark","_callee","_args","wrap","_callee$","_context","prev","next","stop","createElement","CommunicationSetupPanel","onChange","sounds","RcDialerPadSoundsMPEG","getDialPadButtonProps","v","concat","volume","sinkId","RcIconButton","color","symbol","Phone","size","variant","elevation","activeElevation","onClick","clickDialerToCall","disabled","SpinnerOverlay","exports","Empty","defaultProps","phoneNumber","inConference","isLastInputFromDialpad"],"sources":["components/DialerPanelV2/DialerPanel.tsx"],"sourcesContent":["import type UserPhoneNumberInfo from '@rc-ex/core/lib/definitions/UserPhoneNumberInfo';\nimport type { ToNumber as Recipient } from '@ringcentral-integration/commons/modules/ComposeText';\nimport type { ContactSearchEntity } from '@ringcentral-integration/micro-contacts/src/app/services';\nimport {\n  flexCenterStyle,\n  palette2,\n  RcDialerPadSoundsMPEG,\n  RcDialPad,\n  RcIconButton,\n  spacing,\n  styled,\n} from '@ringcentral/juno';\nimport { Phone } from '@ringcentral/juno-icon';\nimport type { FunctionComponent } from 'react';\nimport React, { useCallback } from 'react';\n\nimport { fullSizeStyle } from '../../lib/commonStyles';\nimport { CommunicationSetupPanel } from '../CommunicationSetupPanel';\nimport { SpinnerOverlay } from '../SpinnerOverlay';\n\nexport type DialerPanelProps = {\n  currentLocale: string;\n  className?: string;\n  dialButtonsClassName?: string;\n  onCallButtonClick: (...args: any[]) => any;\n  callButtonDisabled?: boolean;\n  isWebphoneMode?: boolean;\n  toNumber?: string;\n  onToNumberChange?: (...args: any[]) => any;\n  fromNumber?: string;\n  fromNumbers?: UserPhoneNumberInfo[];\n  changeFromNumber?: (...args: any[]) => any;\n  formatPhone?: (...args: any[]) => any;\n  showSpinner?: boolean;\n  // use to set dial button volume(dialButtonVolume)\n  callVolume?: number;\n  outputDeviceId?: string;\n  searchContact: (...args: any[]) => any;\n  searchContactList: ContactSearchEntity[];\n  recipient?: Recipient | null;\n  recipients: Recipient[];\n  clearToNumber: (...args: any[]) => any;\n  triggerEventTracking: (eventName: string, contactType: string) => any;\n  setRecipient: (...args: any[]) => any;\n  clearRecipient: (...args: any[]) => any;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  recipientsContactInfoRenderer?: (...args: any[]) => any;\n  recipientsContactPhoneRenderer?: (...args: any[]) => any;\n  autoFocus?: boolean;\n  showFromField?: boolean;\n  disableFromField?: boolean;\n  withTabs?: boolean;\n  inConference?: boolean;\n  isLastInputFromDialpad?: boolean;\n  useV2?: boolean;\n  showAnonymous?: boolean;\n  ContactSearch?: FunctionComponent<any>;\n};\n\nconst DialerPanelContainer = styled.div`\n  ${fullSizeStyle};\n  box-sizing: border-box;\n  background: ${palette2('neutral', 'f01')};\n`;\n\nconst BodyBottom = styled.div`\n  ${flexCenterStyle};\n  margin-bottom: ${spacing(7)};\n`;\n\nconst StyledRcDialPad = styled(RcDialPad)`\n  [sf-classic] & {\n    height: 90%;\n  }\n`;\n\n// TODO: check withTabs\nconst DialerWrapper = styled.div<{ withTabs: boolean }>`\n  flex: 1 1 auto;\n  margin: ${({ withTabs }) => (withTabs ? spacing(0, 11) : spacing(2, 11))};\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  [sf-classic] & {\n    height: 70%;\n    margin-left: 10px;\n    margin-right: 10px;\n  }\n`;\n\nexport const DialerPanel: FunctionComponent<DialerPanelProps> = (props) => {\n  const {\n    currentLocale,\n    onToNumberChange,\n    toNumber,\n    fromNumber,\n    fromNumbers,\n    changeFromNumber,\n    formatPhone,\n    isWebphoneMode,\n    showSpinner,\n    recipients,\n    setRecipient,\n    clearRecipient,\n    autoFocus,\n    showFromField = true,\n    disableFromField = false,\n    children,\n    showAnonymous,\n    callVolume,\n    outputDeviceId,\n    onCallButtonClick,\n    callButtonDisabled,\n    withTabs,\n    ContactSearch,\n    triggerEventTracking,\n  } = props;\n\n  // TODO: when have tag should check if need disable dial button\n  // const hasTags = recipients.length > 0;\n  const handleSelect = useCallback(\n    async (...args) => {\n      await setRecipient(...args);\n      onCallButtonClick();\n    },\n    [setRecipient, onCallButtonClick],\n  );\n\n  return (\n    <DialerPanelContainer>\n      <CommunicationSetupPanel\n        ContactSearch={ContactSearch}\n        triggerEventTracking={triggerEventTracking}\n        // To field\n        recipients={recipients}\n        // @ts-expect-error TS(2322): Type 'string | undefined' is not assignable to typ... Remove this comment to see the full error message\n        toNumber={toNumber}\n        // @ts-expect-error TS(2322): Type '((...args: any[]) => any) | undefined' is no... Remove this comment to see the full error message\n        onToNumberChange={onToNumberChange}\n        setRecipient={handleSelect}\n        clearRecipient={clearRecipient}\n        autoFocus={autoFocus}\n        // From field\n        showAnonymous={showAnonymous}\n        fromNumber={fromNumber}\n        fromNumbers={fromNumbers}\n        changeFromNumber={changeFromNumber}\n        formatPhone={formatPhone}\n        showFromField={showFromField && isWebphoneMode}\n        disableFromField={disableFromField}\n        // Common\n        currentLocale={currentLocale}\n      >\n        {/* @ts-expect-error TS(2322): Type 'boolean | undefined' is not */}\n        <DialerWrapper withTabs={withTabs}>\n          <StyledRcDialPad\n            data-sign=\"dialPad\"\n            onChange={(value) => {\n              // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n              onToNumberChange(toNumber + value, true);\n            }}\n            sounds={RcDialerPadSoundsMPEG}\n            getDialPadButtonProps={(v) => ({\n              'data-test-id': `${v}`,\n              'data-sign': `dialPadBtn${v}`,\n            })}\n            volume={callVolume}\n            sinkId={outputDeviceId}\n          />\n        </DialerWrapper>\n        <BodyBottom>\n          <RcIconButton\n            data-sign=\"callButton\"\n            color=\"success.b03\"\n            symbol={Phone}\n            size={withTabs ? 'medium' : 'large'}\n            variant=\"contained\"\n            elevation=\"0\"\n            activeElevation=\"0\"\n            onClick={() => onCallButtonClick({ clickDialerToCall: true })}\n            disabled={callButtonDisabled}\n          />\n        </BodyBottom>\n        {showSpinner ? <SpinnerOverlay /> : null}\n        {children}\n      </CommunicationSetupPanel>\n    </DialerPanelContainer>\n  );\n};\n\nconst Empty: FunctionComponent = () => null;\n\nDialerPanel.defaultProps = {\n  callButtonDisabled: false,\n  toNumber: '',\n  fromNumbers: [],\n  isWebphoneMode: false,\n  changeFromNumber: Empty,\n  onToNumberChange: Empty,\n  formatPhone: (phoneNumber) => phoneNumber,\n  showSpinner: false,\n  callVolume: 1,\n  outputDeviceId: '',\n  recipients: [],\n  autoFocus: false,\n  showFromField: true,\n  disableFromField: false,\n  withTabs: false,\n  inConference: false,\n  isLastInputFromDialpad: false,\n  showAnonymous: true,\n};\n"],"mappings":"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","ignoreList":[]}