{"version":3,"sources":["components/AudioSettingsPanel/index.tsx"],"names":["TooltipCom","Tooltip","AudioSettingsPanel","props","_isFirefox","onSave","state","dialButtonVolume","dialButtonMuted","ringtoneVolume","ringtoneMuted","callVolume","inputDeviceId","outputDeviceId","onReset","setState","onDialButtonVolumeChange","onDialButtonMutedChange","onRingtoneVolumeChange","onRingtoneMutedChange","onCallVolumeChange","onOutputDeviceIdChange","device","deviceId","onInputDeviceIdChange","renderDeviceOption","index","availableInputDevices","availableOutputDevices","currentLocale","noLabel","i18n","getString","kind","length","label","renderOutputDevice","value","indexOf","renderInputDevice","navigator","userAgent","newProps","userMedia","checkUserMedia","onBackButtonClick","className","supportDevices","isWebRTC","outputDeviceDisabled","inputDeviceDisabled","hasChanges","permission","outputDeviceDropdown","styles","select","renderDeviceValue","tooltipContainer","outputTooltipContainner","outputDevice","noHeightInputField","fakeDropdownContainer","inputTooltip","isNoLabel","offset","inputTooltipContainner","infoIcon","inputDevice","root","content","Component","devicePropType","PropTypes","string","isRequired","propTypes","number","bool","func","arrayOf","shape","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { all, find } from 'ramda';\nimport Tooltip from 'rc-tooltip';\n\nimport InfoIcon from '../../assets/images/Info.svg';\nimport BackHeader from '../BackHeader';\nimport { Button } from '../Button';\nimport Select from '../DropdownSelect';\nimport IconLine from '../IconLine';\nimport InputField from '../InputField';\nimport Panel from '../Panel';\nimport SaveButton from '../SaveButton';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst TooltipCom = typeof Tooltip === 'function' ? Tooltip : Tooltip.default;\n\nclass AudioSettingsPanel extends Component {\n  _isFirefox = false;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      dialButtonVolume: props.dialButtonVolume,\n      dialButtonMuted: props.dialButtonMuted,\n      ringtoneVolume: props.ringtoneVolume,\n      ringtoneMuted: props.ringtoneMuted,\n      callVolume: props.callVolume,\n      inputDeviceId: props.inputDeviceId,\n      outputDeviceId: props.outputDeviceId,\n    };\n\n    this._isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n  }\n\n  // eslint-disable-next-line react/no-deprecated\n  componentWillReceiveProps(newProps) {\n    if (newProps.dialButtonVolume !== this.props.dialButtonVolume) {\n      this.setState({\n        dialButtonVolume: newProps.dialButtonVolume,\n      });\n    }\n    if (newProps.dialButtonMuted !== this.props.dialButtonMuted) {\n      this.setState({\n        dialButtonMuted: newProps.dialButtonMuted,\n      });\n    }\n    if (newProps.ringtoneVolume !== this.props.ringtoneVolume) {\n      this.setState({\n        ringtoneVolume: newProps.ringtoneVolume,\n      });\n    }\n    if (newProps.ringtoneMuted !== this.props.ringtoneMuted) {\n      this.setState({\n        ringtoneMuted: newProps.ringtoneMuted,\n      });\n    }\n    if (newProps.callVolume !== this.props.callVolume) {\n      this.setState({\n        callVolume: newProps.callVolume,\n      });\n    }\n    if (\n      newProps.inputDeviceId !== this.props.inputDeviceId ||\n      all(\n        (device) => device.deviceId !== this.state.inputDeviceId,\n        newProps.availableInputDevices,\n      )\n    ) {\n      this.setState({\n        inputDeviceId: newProps.inputDeviceId,\n      });\n    }\n    if (\n      newProps.outputDeviceId !== this.props.outputDeviceId ||\n      all(\n        (device) => device.deviceId !== this.state.outputDeviceId,\n        newProps.availableOutputDevices,\n      )\n    ) {\n      this.setState({\n        outputDeviceId: newProps.outputDeviceId,\n      });\n    }\n  }\n\n  componentDidMount() {\n    if (!this.props.userMedia) {\n      return;\n    }\n    if (\n      this.props.availableInputDevices.length > 0 &&\n      this.props.availableInputDevices[0].label === ''\n    ) {\n      this.props.checkUserMedia();\n    }\n  }\n\n  onSave = () => {\n    if (typeof this.props.onSave === 'function') {\n      const {\n        dialButtonVolume,\n        dialButtonMuted,\n        ringtoneVolume,\n        ringtoneMuted,\n        callVolume,\n        inputDeviceId,\n        outputDeviceId,\n      } = this.state;\n      this.props.onSave({\n        dialButtonVolume,\n        dialButtonMuted,\n        ringtoneVolume,\n        ringtoneMuted,\n        callVolume,\n        inputDeviceId,\n        outputDeviceId,\n      });\n    }\n  };\n\n  onReset = () => {\n    const {\n      dialButtonVolume,\n      dialButtonMuted,\n      ringtoneVolume,\n      ringtoneMuted,\n      callVolume,\n      inputDeviceId,\n      outputDeviceId,\n    } = this.props;\n    this.setState({\n      dialButtonVolume,\n      dialButtonMuted,\n      ringtoneVolume,\n      ringtoneMuted,\n      callVolume,\n      inputDeviceId,\n      outputDeviceId,\n    });\n  };\n\n  onDialButtonVolumeChange = (dialButtonVolume) => {\n    this.setState({\n      dialButtonVolume,\n    });\n  };\n\n  onDialButtonMutedChange = (dialButtonMuted) => {\n    this.setState({\n      dialButtonMuted,\n    });\n  };\n\n  onRingtoneVolumeChange = (ringtoneVolume) => {\n    this.setState({\n      ringtoneVolume,\n    });\n  };\n\n  onRingtoneMutedChange = (ringtoneMuted) => {\n    this.setState({\n      ringtoneMuted,\n    });\n  };\n\n  onCallVolumeChange = (callVolume) => {\n    this.setState({\n      callVolume,\n    });\n  };\n\n  onOutputDeviceIdChange = (device) => {\n    this.setState({\n      outputDeviceId: device.deviceId,\n    });\n  };\n\n  onInputDeviceIdChange = (device) => {\n    this.setState({\n      inputDeviceId: device.deviceId,\n    });\n  };\n\n  renderDeviceOption = (device, index) => {\n    const { availableInputDevices, availableOutputDevices, currentLocale } =\n      this.props;\n    const noLabel = i18n.getString('noLabel', currentLocale);\n    if (device.kind === 'audioinput' && availableInputDevices.length > 1) {\n      return device.label || `${noLabel} ${index + 1}`;\n    }\n    if (device.kind === 'audiooutput' && availableOutputDevices.length > 1) {\n      return device.label || `${noLabel} ${index + 1}`;\n    }\n    return device.label || noLabel;\n  };\n\n  renderDeviceValue(device) {\n    return device.deviceId;\n  }\n\n  renderOutputDevice = (value) => {\n    const { availableOutputDevices, currentLocale } = this.props;\n    if (value === null) {\n      return i18n.getString('noDevice', currentLocale);\n    }\n    const device = find(\n      (device) => device.deviceId === value,\n      availableOutputDevices,\n    );\n    let noLabel = i18n.getString('noLabel', currentLocale);\n    if (availableOutputDevices.length > 1) {\n      const index = availableOutputDevices.indexOf(device);\n      if (index >= 0) {\n        noLabel = `${noLabel} ${index + 1}`;\n      }\n    }\n    return (device && device.label) || noLabel;\n  };\n\n  renderInputDevice = (value) => {\n    const { availableInputDevices, currentLocale } = this.props;\n    if (value === null) {\n      return i18n.getString('noDevice', currentLocale);\n    }\n    const device = find(\n      (device) => device.deviceId === value,\n      availableInputDevices,\n    );\n    let noLabel = i18n.getString('noLabel', currentLocale);\n    if (availableInputDevices.length > 1) {\n      const index = availableInputDevices.indexOf(device);\n      if (index >= 0) {\n        noLabel = `${noLabel} ${index + 1}`;\n      }\n    }\n    return (device && device.label) || noLabel;\n  };\n\n  isNoLabel() {\n    const { availableInputDevices } = this.props;\n\n    let noLabel = false;\n\n    if (availableInputDevices && availableInputDevices.length) {\n      noLabel = availableInputDevices[0].label === '';\n    } else {\n      noLabel = this._isFirefox;\n    }\n\n    return noLabel;\n  }\n\n  render() {\n    const {\n      currentLocale,\n      onBackButtonClick,\n      className,\n      availableOutputDevices,\n      availableInputDevices,\n      supportDevices,\n      userMedia,\n      isWebRTC,\n      checkUserMedia,\n      outputDeviceDisabled,\n      inputDeviceDisabled,\n    } = this.props;\n    const {\n      dialButtonVolume,\n      dialButtonMuted,\n      ringtoneVolume,\n      ringtoneMuted,\n      callVolume,\n      outputDeviceId,\n      inputDeviceId,\n    } = this.state;\n    const hasChanges =\n      this.props.dialButtonVolume !== dialButtonVolume ||\n      this.props.dialButtonMuted !== dialButtonMuted ||\n      this.props.ringtoneVolume !== ringtoneVolume ||\n      this.props.ringtoneMuted !== ringtoneMuted ||\n      this.props.callVolume !== callVolume ||\n      this.props.inputDeviceId !== inputDeviceId ||\n      this.props.outputDeviceId !== outputDeviceId;\n\n    // TODO: improve UI\n    const permission = !userMedia ? (\n      <IconLine\n        noBorder\n        icon={\n          <Button onClick={checkUserMedia}>\n            {i18n.getString('checkMicPermission')}\n          </Button>\n        }\n      >\n        {i18n.getString('micNoPermissionMessage')}\n      </IconLine>\n    ) : null;\n\n    // const webphoneVolume = isWebRTC ?\n    //   (\n    //     <div>\n    //       <InputField\n    //         label={i18n.getString('ringtoneVolume', currentLocale)}\n    //     >\n    //         {`${ringtoneVolume * 100}%`}\n    //       </InputField>\n    //       <InputField\n    //         label={i18n.getString('callVolume', currentLocale)}\n    //     >\n    //         {`${callVolume * 100}%`}\n    //       </InputField>\n    //     </div>\n    //   ) : null;\n\n    const outputDeviceDropdown = supportDevices ? (\n      <InputField\n        label={<span>{i18n.getString('outputDevice', currentLocale)}</span>}\n        noBorder\n      >\n        <Select\n          className={styles.select}\n          disabled={outputDeviceDisabled}\n          value={availableOutputDevices.length ? outputDeviceId : null}\n          onChange={this.onOutputDeviceIdChange}\n          options={availableOutputDevices}\n          dropdownAlign=\"left\"\n          renderFunction={this.renderDeviceOption}\n          valueFunction={this.renderDeviceValue}\n          renderValue={this.renderOutputDevice}\n          titleEnabled\n        />\n        <div\n          className={styles.tooltipContainer}\n          ref={(tooltipContainer) => {\n            this.outputTooltipContainner = tooltipContainer;\n          }}\n        />\n      </InputField>\n    ) : null;\n    // https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices\n    // Prior to Firefox 63, enumerateDevices() only returned input devices. Starting with Firefox 63, output devices are also included if the `media.setsinkid.enabled` preference is enabled.\n    // disabledFrom version 63: this feature is behind the `media.setsinkid.enabled` preferences (needs to be set to true). To change preferences in Firefox, visit about:config.\n    const outputDevice =\n      this._isFirefox && !availableOutputDevices?.length ? (\n        <InputField\n          className={styles.noHeightInputField}\n          label={<span>{i18n.getString('outputDevice', currentLocale)}</span>}\n          noBorder\n        >\n          <div className={styles.fakeDropdownContainer}>\n            {i18n.getString('defaultOutputDevice', currentLocale)}\n          </div>\n        </InputField>\n      ) : (\n        outputDeviceDropdown\n      );\n\n    const inputTooltip = this.isNoLabel() ? (\n      <TooltipCom\n        placement=\"bottom\"\n        trigger=\"click\"\n        align={{\n          offset: [0, 47],\n        }}\n        overlay={i18n.getString('noLabelTip', currentLocale)}\n        arrowContent={<div className=\"rc-tooltip-arrow-inner\" />}\n        getTooltipContainer={() => this.inputTooltipContainner}\n      >\n        <InfoIcon width={14} height={14} className={styles.infoIcon} />\n      </TooltipCom>\n    ) : null;\n    const inputDevice = supportDevices ? (\n      <InputField\n        label={\n          <span>\n            {i18n.getString('inputDevice', currentLocale)}\n            {inputTooltip}\n          </span>\n        }\n        noBorder\n      >\n        <Select\n          className={styles.select}\n          disabled={inputDeviceDisabled}\n          value={availableInputDevices.length ? inputDeviceId : null}\n          onChange={this.onInputDeviceIdChange}\n          options={availableInputDevices}\n          dropdownAlign=\"left\"\n          renderFunction={this.renderDeviceOption}\n          valueFunction={this.renderDeviceValue}\n          renderValue={this.renderInputDevice}\n          titleEnabled\n        />\n        <div\n          className={styles.tooltipContainer}\n          ref={(tooltipContainer) => {\n            this.inputTooltipContainner = tooltipContainer;\n          }}\n        />\n      </InputField>\n    ) : null;\n\n    return (\n      <div className={classnames(styles.root, className)}>\n        <BackHeader onBackClick={onBackButtonClick}>\n          {i18n.getString('title', currentLocale)}\n        </BackHeader>\n        <Panel className={styles.content}>\n          {\n            // <InputField\n            //   label={i18n.getString('dialButtonVolume', currentLocale)}\n            // >\n            //   {`${dialButtonVolume * 100}%`}\n            // </InputField>\n            // webphoneVolume\n          }\n          {outputDevice}\n          {inputDevice}\n          {permission}\n          <SaveButton\n            currentLocale={currentLocale}\n            onClick={this.onSave}\n            disabled={!hasChanges}\n          />\n        </Panel>\n      </div>\n    );\n  }\n}\n\nconst devicePropType = {\n  deviceId: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n};\n\nAudioSettingsPanel.propTypes = {\n  className: PropTypes.string,\n  currentLocale: PropTypes.string.isRequired,\n  dialButtonVolume: PropTypes.number.isRequired,\n  ringtoneVolume: PropTypes.number.isRequired,\n  ringtoneMuted: PropTypes.bool.isRequired,\n  callVolume: PropTypes.number.isRequired,\n  dialButtonMuted: PropTypes.bool.isRequired,\n  onBackButtonClick: PropTypes.func.isRequired,\n  availableInputDevices: PropTypes.arrayOf(PropTypes.shape(devicePropType))\n    .isRequired,\n  inputDeviceId: PropTypes.string.isRequired,\n  availableOutputDevices: PropTypes.arrayOf(PropTypes.shape(devicePropType))\n    .isRequired,\n  outputDeviceId: PropTypes.string.isRequired,\n  supportDevices: PropTypes.bool.isRequired,\n  onSave: PropTypes.func.isRequired,\n  userMedia: PropTypes.bool.isRequired,\n  isWebRTC: PropTypes.bool.isRequired,\n  checkUserMedia: PropTypes.func.isRequired,\n  outputDeviceDisabled: PropTypes.bool,\n  inputDeviceDisabled: PropTypes.bool,\n};\n\nAudioSettingsPanel.defaultProps = {\n  className: null,\n  outputDeviceDisabled: false,\n  inputDeviceDisabled: false,\n};\n\nexport default AudioSettingsPanel;\n"],"file":"index.js"}