{"version":3,"sources":["components/FeedbackPanel/index.tsx"],"names":["FeedbackPanel","onRevertClick","props","onEmailChange","e","value","currentTarget","onTopicChange","option","onSubjectChange","onDescriptionChange","onSendClick","SERVICE_MAIL","FEEDBACK_SUBJECT","content","brandName","email","topic","subject","description","mailToUrl","window","encodeURIComponent","sendFeedback","currentLocale","topicOptions","i18n","getString","selectedTopicIndex","findIndex","styles","root","onBackClick","label","rightBtn","title","placement","onClick","instruction","select","idx","textAreaField","textArea","bottom","sendButton","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport RevertBtn from '../../assets/images/Revert.svg';\nimport BackHeader from '../BackHeader';\nimport { Button } from '../Button';\nimport Select from '../DropdownSelect';\nimport InputField from '../InputField';\nimport Panel from '../Panel';\nimport TextInput from '../TextInput';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\ntype FeedbackPanelProps = {\n  brandName: string;\n  currentLocale: string;\n  onBackClick: (...args: any[]) => any;\n  onRevertClick: (...args: any[]) => any;\n  email: string;\n  topic: string;\n  subject: string;\n  description: string;\n  onEmailChange: (...args: any[]) => any;\n  onTopicChange: (...args: any[]) => any;\n  onSubjectChange: (...args: any[]) => any;\n  onDescriptionChange: (...args: any[]) => any;\n  sendFeedback: (...args: any[]) => any;\n};\nclass FeedbackPanel extends Component<FeedbackPanelProps, {}> {\n  onRevertClick = () => {\n    this.props.onRevertClick();\n  };\n  onEmailChange = (e) => {\n    const { value } = e.currentTarget;\n    this.props.onEmailChange(value);\n  };\n  onTopicChange = (option) => {\n    this.props.onTopicChange(option);\n  };\n  onSubjectChange = (e) => {\n    const { value } = e.currentTarget;\n    this.props.onSubjectChange(value);\n  };\n  onDescriptionChange = (e) => {\n    const { value } = e.currentTarget;\n    this.props.onDescriptionChange(value);\n  };\n  onSendClick = () => {\n    const SERVICE_MAIL = 'integration.service@ringcentral.com';\n    const FEEDBACK_SUBJECT = 'Google User Feedback';\n    const content =\n      `${\n        'Hi Integration Team,\\n\\n' +\n        `You've got feedback from customer on ${this.props.brandName} for Google extension. This customer could be contacted via email `\n      }${`${this.props.email}\\n\\nCustomer Feedback Topic\\n${this.props.topic}\\n\\n`}Subject\\n${\n        this.props.subject\n      }\\n\\n` +\n      `Description\\n${this.props.description}\\n\\n` +\n      `Regards,\\n${this.props.brandName} for Google Extension`;\n    const mailToUrl = `mailto:${SERVICE_MAIL}?subject=${window.encodeURIComponent(\n      FEEDBACK_SUBJECT,\n    )}&body=${window.encodeURIComponent(content)}`;\n    this.props.sendFeedback(mailToUrl);\n  };\n  render() {\n    const { currentLocale } = this.props;\n    this.topicOptions = [\n      i18n.getString('bugReport', currentLocale),\n      i18n.getString('featureRequest', currentLocale),\n      i18n.getString('others', currentLocale),\n    ];\n    const selectedTopicIndex =\n      this.topicOptions.findIndex((topic) => topic === this.props.topic) > -1\n        ? this.topicOptions.findIndex((topic) => topic === this.props.topic) + 1\n        : -1;\n    return (\n      <div className={styles.root}>\n        <BackHeader\n          onBackClick={this.props.onBackClick}\n          buttons={[\n            {\n              label: <RevertBtn className={styles.rightBtn} />,\n              title: i18n.getString('revert', currentLocale),\n              placement: 'right',\n              onClick: this.onRevertClick,\n            },\n          ]}\n        >\n          {i18n.getString('feedbackHeader', currentLocale)}\n        </BackHeader>\n        <Panel className={styles.content}>\n          <div className={styles.instruction}>\n            <div>{i18n.getString('instruction', currentLocale)}</div>\n            <div>\n              {i18n.getString('fillForm', currentLocale)}\n              <i>{i18n.getString('send', currentLocale)}</i>\n              {i18n.getString('useMailBox', currentLocale)}\n              <i>integration.service@ringcentral.com.</i>\n            </div>\n          </div>\n          <InputField\n            label={i18n.getString('email', currentLocale)}\n            labelHint={i18n.getString('reply', currentLocale)}\n          >\n            <TextInput\n              placeholder={i18n.getString('emailPlaceHolder', currentLocale)}\n              value={this.props.email}\n              onChange={this.onEmailChange}\n              maxLength={60}\n            />\n          </InputField>\n          <InputField label={i18n.getString('feedbackTopic', currentLocale)}>\n            <Select\n              className={styles.select}\n              value={`${selectedTopicIndex}`}\n              options={this.topicOptions}\n              dropdownAlign=\"left\"\n              placeholder={i18n.getString('topicPlaceHolder', currentLocale)}\n              onChange={this.onTopicChange}\n              renderValue={(idx) => this.topicOptions[idx - 1]}\n            />\n          </InputField>\n          <InputField label={i18n.getString('subject', currentLocale)}>\n            <TextInput\n              placeholder={i18n.getString('subjectPlaceHolder', currentLocale)}\n              value={this.props.subject}\n              maxLength={60}\n              onChange={this.onSubjectChange}\n            />\n          </InputField>\n          <div className={styles.textAreaField}>\n            <div className={styles.label}>\n              {i18n.getString('description', currentLocale)}\n            </div>\n            <div className={styles.textArea}>\n              <textarea\n                placeholder={i18n.getString(\n                  'descriptionPlaceHolder',\n                  currentLocale,\n                )}\n                value={this.props.description}\n                maxLength={1200}\n                onChange={this.onDescriptionChange}\n              />\n            </div>\n          </div>\n        </Panel>\n        <div className={styles.bottom}>\n          <Button onClick={this.onSendClick} className={styles.sendButton}>\n            {i18n.getString('send', currentLocale)}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default FeedbackPanel;\n"],"file":"index.js"}