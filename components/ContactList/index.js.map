{"version":3,"file":"index.js","names":["_propTypes","_interopRequireDefault","require","_ramda","_react","_interopRequireWildcard","_reactVirtualized","_ContactItem","_i18n","_styles","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_classCallCheck","a","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","_inherits","create","_setPrototypeOf","CAPTION_HEIGHT","ROW_HEIGHT","Placeholder","_ref","message","createElement","className","styles","placeholder","propTypes","PropTypes","string","isRequired","ContactList","_Component","props","_this","calculateRowHeight","_ref2","index","isBottomNoticeRow","bottomNoticeHeight","state","captionRows","findGroup","_ref3","find","item","startIndex","contacts","groups","rowGetter","_ref4","bottomNoticeRow","caption","group","onScroll","_ref5","scrollTop","setState","cellRenderer","_ref6","rowData","BottomNotice","bottomNotice","groupCaption","_this$props","currentLocale","getAvatarUrl","getPresence","onItemSelect","sourceNodeRenderer","currentSiteCode","isMultipleSiteEnabled","concat","type","id","ContactItem","contact","onSelect","onRowsRendered","_ref7","groupIndex","findIndex","captions","previousCaption","currentCaption","headerRenderer","getDerivedStateFromProps","list","React","createRef","componentDidUpdate","prevProps","lastContactGroups","contactGroups","current","recomputeRowHeights","rowIndex","rowCount","resetScrollTop","renderList","Table","ref","headerHeight","width","height","rowHeight","Column","dataKey","disableSort","flexGrow","render","_this$props2","isSearching","content","i18n","getString","root","contactCount","undefined","reduce","nextState","rowOffset","Component","arrayOf","shape","name","extensionNumber","email","profileImageUrl","presence","object","contactStatus","func","bool","number","defaultProps","_default","exports"],"sources":["components/ContactList/index.tsx"],"sourcesContent":["import PropTypes from 'prop-types';\nimport { find, findIndex, reduce } from 'ramda';\nimport React, { Component } from 'react';\nimport { Column, Table } from 'react-virtualized';\n\nimport { ContactItem } from '../ContactItem';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst CAPTION_HEIGHT = 20;\nconst ROW_HEIGHT = 50;\n\n// @ts-expect-error\nconst Placeholder = ({ message }) => {\n  return <p className={styles.placeholder}>{message}</p>;\n};\nPlaceholder.propTypes = {\n  message: PropTypes.string.isRequired,\n};\n\nclass ContactList extends Component {\n  // @ts-expect-error\n  constructor(props) {\n    super(props);\n    this.state = ContactList.getDerivedStateFromProps(props);\n    // @ts-expect-error\n    this.list = React.createRef();\n  }\n\n  static getDerivedStateFromProps(\n    // @ts-expect-error\n    props,\n    state = { scrollTop: 0, currentCaption: '' },\n  ) {\n    // @ts-expect-error\n    if (props.contactGroups !== state.lastContactGroups) {\n      return {\n        ...reduce(\n          (nextState, group) => {\n            // @ts-expect-error\n            nextState.captions.push(group.caption);\n\n            // skip the caption row for the first group\n            const rowOffset = nextState.groups.length !== 0 ? 1 : 0;\n            if (rowOffset) {\n              // @ts-expect-error\n              nextState.captionRows[nextState.rowCount] = group.caption;\n            }\n            (nextState.groups as any).push({\n              // @ts-expect-error\n              ...group,\n              startIndex: nextState.rowCount + rowOffset,\n            });\n            // @ts-expect-error\n            nextState.rowCount += group.contacts.length + rowOffset; // with caption row\n            // @ts-expect-error\n            nextState.contactCount += group.contacts.length;\n            return nextState;\n          },\n          {\n            ...state,\n            groups: [],\n            captions: [],\n            captionRows: {},\n            rowCount: 0,\n            contactCount: 0,\n          },\n          props.contactGroups,\n        ),\n        lastContactGroups: props.contactGroups,\n      };\n    }\n    return state;\n  }\n\n  // @ts-expect-error\n  componentDidUpdate(prevProps) {\n    // @ts-expect-error\n    if (this.state.lastContactGroups !== prevProps.contactGroups) {\n      if (\n        // @ts-expect-error\n        this.list &&\n        // @ts-expect-error\n        this.list.current &&\n        // @ts-expect-error\n        this.list.current.recomputeRowHeights\n      ) {\n        // @ts-expect-error\n        this.list.current.recomputeRowHeights(0);\n      }\n    }\n  }\n\n  // @ts-expect-error\n  isBottomNoticeRow(rowIndex) {\n    // @ts-expect-error\n    return this.props.bottomNotice && rowIndex === this.state.rowCount;\n  }\n\n  // @ts-expect-error\n  calculateRowHeight = ({ index }) => {\n    if (this.isBottomNoticeRow(index)) {\n      // @ts-expect-error\n      return this.props.bottomNoticeHeight;\n    }\n    // @ts-expect-error\n    if (this.state.captionRows[index]) {\n      return CAPTION_HEIGHT;\n    }\n    return ROW_HEIGHT;\n  };\n\n  // @ts-expect-error\n  findGroup = ({ index }) =>\n    find(\n      (item) =>\n        // @ts-expect-error\n        index >= item.startIndex &&\n        // @ts-expect-error\n        index < item.startIndex + item.contacts.length,\n      // @ts-expect-error\n      this.state.groups,\n    );\n\n  // @ts-expect-error\n  rowGetter = ({ index }) => {\n    if (this.isBottomNoticeRow(index)) {\n      return {\n        bottomNoticeRow: true,\n      };\n    }\n    // @ts-expect-error\n    if (this.state.captionRows[index]) {\n      return {\n        // @ts-expect-error\n        caption: this.state.captionRows[index],\n      };\n    }\n    const group = this.findGroup({ index });\n    // @ts-expect-error\n    return group.contacts[index - group.startIndex];\n  };\n\n  // @ts-expect-error\n  onScroll = ({ scrollTop }) => {\n    // @ts-expect-error\n    if (scrollTop !== this.state.scrollTop) {\n      this.setState({\n        scrollTop,\n      });\n    }\n  };\n\n  resetScrollTop() {\n    this.setState({\n      scrollTop: 0,\n    });\n  }\n  // @ts-expect-error\n\n  cellRenderer = ({ rowData }) => {\n    if (rowData.bottomNoticeRow) {\n      // @ts-expect-error\n      const { bottomNotice: BottomNotice } = this.props;\n      return BottomNotice ? <BottomNotice /> : <span />;\n    }\n    if (rowData.caption) {\n      return <div className={styles.groupCaption}>{rowData.caption}</div>;\n    }\n    const {\n      // @ts-expect-error\n      currentLocale,\n      // @ts-expect-error\n      getAvatarUrl,\n      // @ts-expect-error\n      getPresence,\n      // @ts-expect-error\n      onItemSelect,\n      // @ts-expect-error\n      sourceNodeRenderer,\n      // @ts-expect-error\n      currentSiteCode,\n      // @ts-expect-error\n      isMultipleSiteEnabled,\n    } = this.props;\n    return (\n      <div key={`${rowData.type}-${rowData.id}`}>\n        <ContactItem\n          currentLocale={currentLocale}\n          currentSiteCode={currentSiteCode}\n          isMultipleSiteEnabled={isMultipleSiteEnabled}\n          contact={rowData}\n          getAvatarUrl={getAvatarUrl}\n          getPresence={getPresence}\n          onSelect={onItemSelect}\n          sourceNodeRenderer={sourceNodeRenderer}\n        />\n      </div>\n    );\n  };\n\n  // @ts-expect-error\n  onRowsRendered = ({ startIndex }) => {\n    if (this.isBottomNoticeRow(startIndex)) {\n      return;\n    }\n    // update header with the correct caption\n\n    // @ts-expect-error\n    if (this.state.captionRows[startIndex]) {\n      const groupIndex = findIndex(\n        // @ts-expect-error\n        (item) => item === this.state.captionRows[startIndex],\n\n        // @ts-expect-error\n        this.state.captions,\n      );\n      // @ts-expect-error\n      const previousCaption = this.state.captions[groupIndex - 1];\n      // @ts-expect-error\n      if (previousCaption !== this.state.currentCaption) {\n        this.setState({\n          currentCaption: previousCaption,\n        });\n      }\n    } else {\n      const group = this.findGroup({ index: startIndex });\n      // @ts-expect-error\n      if (group.caption !== this.state.currentCaption) {\n        this.setState({\n          // @ts-expect-error\n          currentCaption: group.caption,\n        });\n      }\n    }\n  };\n\n  headerRenderer = () => (\n    <div className={styles.groupCaption} data-sign=\"currentCaption\">\n      {\n        // @ts-expect-error\n        this.state.currentCaption\n      }\n    </div>\n  );\n\n  renderList() {\n    // use table instead of list to allow caption header\n    return (\n      <Table\n        // @ts-expect-error\n        ref={this.list}\n        headerHeight={CAPTION_HEIGHT}\n        // @ts-expect-error\n        width={this.props.width}\n        // @ts-expect-error\n        height={this.props.height}\n        // @ts-expect-error\n        rowCount={this.state.rowCount + (this.props.bottomNotice ? 1 : 0)}\n        rowHeight={this.calculateRowHeight}\n        rowGetter={this.rowGetter}\n        onRowsRendered={this.onRowsRendered}\n        onScroll={this.onScroll}\n        // @ts-expect-error\n        scrollTop={this.state.scrollTop}\n      >\n        <Column\n          dataKey=\"caption\"\n          disableSort\n          flexGrow={1}\n          // @ts-expect-error\n          width={this.props.width}\n          cellRenderer={this.cellRenderer}\n          headerRenderer={this.headerRenderer}\n        />\n      </Table>\n    );\n  }\n\n  // @ts-expect-error\n  render() {\n    // @ts-expect-error\n    const { currentLocale, contactGroups, isSearching, width, height } =\n      this.props;\n    let content = null;\n    if (width !== 0 && height !== 0) {\n      if (contactGroups.length) {\n        content = this.renderList();\n      } else if (isSearching) {\n        content = (\n          <Placeholder message={i18n.getString('onSearching', currentLocale)} />\n        );\n      } else {\n        content = (\n          <Placeholder message={i18n.getString('noContacts', currentLocale)} />\n        );\n      }\n    }\n    return (\n      <div\n        className={styles.root}\n        data-sign=\"contactList\"\n        // @ts-expect-error\n        data-contact-count={this.state.contactCount}\n      >\n        {content}\n      </div>\n    );\n  }\n}\n\n// @ts-expect-error\nContactList.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  contactGroups: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      caption: PropTypes.string.isRequired,\n      contacts: PropTypes.arrayOf(\n        PropTypes.shape({\n          id: PropTypes.string,\n          type: PropTypes.string,\n          name: PropTypes.string,\n          extensionNumber: PropTypes.string,\n          email: PropTypes.string,\n          profileImageUrl: PropTypes.string,\n          presence: PropTypes.object,\n          contactStatus: PropTypes.string,\n        }),\n      ).isRequired,\n    }),\n  ).isRequired,\n  getAvatarUrl: PropTypes.func.isRequired,\n  currentSiteCode: PropTypes.string,\n  isMultipleSiteEnabled: PropTypes.bool,\n  getPresence: PropTypes.func.isRequired,\n  onItemSelect: PropTypes.func,\n  sourceNodeRenderer: PropTypes.func,\n  isSearching: PropTypes.bool,\n  bottomNotice: PropTypes.func,\n  bottomNoticeHeight: PropTypes.number,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\n// @ts-expect-error\nContactList.defaultProps = {\n  onItemSelect: undefined,\n  sourceNodeRenderer: undefined,\n  isSearching: false,\n  bottomNotice: undefined,\n  bottomNoticeHeight: 0,\n  currentSiteCode: '',\n  isMultipleSiteEnabled: false,\n};\n\nexport default ContactList;\n"],"mappings":"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","ignoreList":[]}