{"version":3,"file":"ActiveCallListPanel.js","names":["_clsx","_interopRequireDefault","require","_react","_FormatPhoneNumber","_SelectList","_SmallCallControl","_i18n","_styles","e","__esModule","_toArray","r","_arrayWithHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","length","n","Symbol","iterator","isArray","ActiveCallListPanel","_ref","currentLocale","isOnMute","showMuteButton","callList","goBack","onHangup","onUnHold","onHold","onMute","onUnmute","userName","isInbound","callListRender","_callList","everyoneCaller","ownCall","transferCalls","createElement","Fragment","className","styles","item","emphasisCallInfo","i18n","getString","controlButtons","HangUpButton","button","size","clsx","otherCallInfo","children","formatPhoneNumber","phoneNumber","session","phone","concat","HoldCallButton","isOnHold","isHold","agentName","MuteCallButton","map","callItem","key","_callItem$session$tra","_callItem$session$tra2","destination","transferSessions","sessionId","BackHeader","title","onBackClick","list","exports"],"sources":["components/ActiveCallListPanel/ActiveCallListPanel.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React from 'react';\n\nimport type {\n  EvActiveCallListUIFunctions,\n  EvActiveCallListUIProps,\n} from '../../interfaces';\nimport { formatPhoneNumber } from '../../lib/FormatPhoneNumber';\nimport { BackHeader } from '../SelectList';\nimport {\n  HangUpButton,\n  HoldCallButton,\n  MuteCallButton,\n} from '../SmallCallControl';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type ActiveCallListPanelProps = EvActiveCallListUIProps &\n  EvActiveCallListUIFunctions;\n\nconst ActiveCallListPanel: FunctionComponent<ActiveCallListPanelProps> = ({\n  currentLocale,\n  isOnMute,\n  showMuteButton,\n  callList,\n  goBack,\n  onHangup,\n  onUnHold,\n  onHold,\n  onMute,\n  onUnmute,\n  userName,\n  isInbound,\n}) => {\n  const callListRender = () => {\n    if (callList.length < 2) return null;\n    const [everyoneCaller, ownCall, ...transferCalls] = callList;\n    return (\n      <>\n        <div className={styles.item} data-sign=\"callItem\">\n          <span className={styles.emphasisCallInfo}>\n            {i18n.getString('everyone', currentLocale)}\n          </span>\n          <div className={styles.controlButtons}>\n            <HangUpButton\n              currentLocale={currentLocale}\n              onHangup={() => onHangup(everyoneCaller)}\n              className={styles.button}\n              size=\"small\"\n            />\n          </div>\n        </div>\n        <div className={styles.item} data-sign=\"callItem\">\n          <span className={clsx(styles.otherCallInfo, styles.children)}>\n            {formatPhoneNumber({\n              phoneNumber: everyoneCaller.session.phone,\n              currentLocale,\n            })}\n            {`(${i18n.getString(\n              isInbound ? 'caller' : 'callee',\n              currentLocale,\n            )})`}\n          </span>\n          <div className={styles.controlButtons}>\n            <HoldCallButton\n              currentLocale={currentLocale}\n              isOnHold={everyoneCaller.isHold}\n              onUnHold={() => onUnHold(everyoneCaller)}\n              onHold={() => onHold(everyoneCaller)}\n              className={styles.button}\n              size=\"small\"\n            />\n            <HangUpButton\n              currentLocale={currentLocale}\n              onHangup={() => onHangup(everyoneCaller)}\n              className={styles.button}\n              size=\"small\"\n            />\n          </div>\n        </div>\n        <div className={styles.item} data-sign=\"callItem\">\n          <span className={clsx(styles.emphasisCallInfo, styles.children)}>\n            {`${ownCall.agentName || userName || ''}(${i18n.getString(\n              'me',\n              currentLocale,\n            )})`}\n          </span>\n          <div className={styles.controlButtons}>\n            {showMuteButton && (\n              <MuteCallButton\n                isOnMute={isOnMute}\n                onMute={onMute}\n                onUnmute={onUnmute}\n                currentLocale={currentLocale}\n                className={styles.button}\n                size=\"small\"\n              />\n            )}\n            <HangUpButton\n              currentLocale={currentLocale}\n              onHangup={() => onHangup(ownCall)}\n              className={styles.button}\n              size=\"small\"\n            />\n          </div>\n        </div>\n        {transferCalls.map((callItem, key) => {\n          const destination =\n            callItem.session.transferSessions?.[callItem.session.sessionId]\n              ?.destination;\n          return (\n            <div className={styles.item} data-sign=\"callItem\" key={key}>\n              <span className={clsx(styles.otherCallInfo, styles.children)}>\n                {formatPhoneNumber({\n                  phoneNumber: destination,\n                  currentLocale,\n                })}\n              </span>\n              <div className={styles.controlButtons}>\n                <HoldCallButton\n                  currentLocale={currentLocale}\n                  isOnHold={callItem.isHold}\n                  onUnHold={() => onUnHold(callItem)}\n                  onHold={() => onHold(callItem)}\n                  className={styles.button}\n                  size=\"small\"\n                />\n                <HangUpButton\n                  currentLocale={currentLocale}\n                  onHangup={() => onHangup(callItem)}\n                  className={styles.button}\n                  size=\"small\"\n                />\n              </div>\n            </div>\n          );\n        })}\n      </>\n    );\n  };\n\n  return (\n    <>\n      <BackHeader\n        currentLocale={currentLocale}\n        title={i18n.getString('activeCall', currentLocale)}\n        onBackClick={goBack}\n      />\n      <div className={styles.list} data-sign=\"callList\">\n        {callListRender()}\n      </div>\n    </>\n  );\n};\n\nexport { ActiveCallListPanel };\n"],"mappings":"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","ignoreList":[]}