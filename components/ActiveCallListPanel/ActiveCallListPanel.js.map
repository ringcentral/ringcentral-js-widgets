{"version":3,"sources":["components/ActiveCallListPanel/ActiveCallListPanel.tsx"],"names":["ActiveCallListPanel","currentLocale","isOnMute","showMuteButton","callList","goBack","onHangup","onUnHold","onHold","onMute","onUnmute","userName","isInbound","callListRender","length","everyoneCaller","ownCall","transferCalls","styles","item","emphasisCallInfo","i18n","getString","controlButtons","button","otherCallInfo","children","phoneNumber","session","phone","isHold","agentName","map","callItem","key","destination","transferSessions","sessionId","list"],"mappings":"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","sourcesContent":["import React, { FunctionComponent } from 'react';\n\nimport classNames from 'classnames';\n\nimport {\n  EvActiveCallListUIFunctions,\n  EvActiveCallListUIProps,\n} from '../../interfaces';\nimport { formatPhoneNumber } from '../../lib/FormatPhoneNumber';\nimport { BackHeader } from '../SelectList';\nimport {\n  HangUpButton,\n  HoldCallButton,\n  MuteCallButton,\n} from '../SmallCallControl';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type ActiveCallListPanelProps = EvActiveCallListUIProps &\n  EvActiveCallListUIFunctions;\n\nconst ActiveCallListPanel: FunctionComponent<ActiveCallListPanelProps> = ({\n  currentLocale,\n  isOnMute,\n  showMuteButton,\n  callList,\n  goBack,\n  onHangup,\n  onUnHold,\n  onHold,\n  onMute,\n  onUnmute,\n  userName,\n  isInbound,\n}) => {\n  const callListRender = () => {\n    if (callList.length < 2) return null;\n    const [everyoneCaller, ownCall, ...transferCalls] = callList;\n    return (\n      <>\n        <div className={styles.item} data-sign=\"callItem\">\n          <span className={styles.emphasisCallInfo}>\n            {i18n.getString('everyone', currentLocale)}\n          </span>\n          <div className={styles.controlButtons}>\n            <HangUpButton\n              currentLocale={currentLocale}\n              onHangup={() => onHangup(everyoneCaller)}\n              className={styles.button}\n              size=\"small\"\n            />\n          </div>\n        </div>\n        <div className={styles.item} data-sign=\"callItem\">\n          <span className={classNames(styles.otherCallInfo, styles.children)}>\n            {formatPhoneNumber({\n              phoneNumber: everyoneCaller.session.phone,\n              currentLocale,\n            })}\n            {`(${i18n.getString(\n              isInbound ? 'caller' : 'callee',\n              currentLocale,\n            )})`}\n          </span>\n          <div className={styles.controlButtons}>\n            <HoldCallButton\n              currentLocale={currentLocale}\n              isOnHold={everyoneCaller.isHold}\n              onUnHold={() => onUnHold(everyoneCaller)}\n              onHold={() => onHold(everyoneCaller)}\n              className={styles.button}\n              size=\"small\"\n            />\n            <HangUpButton\n              currentLocale={currentLocale}\n              onHangup={() => onHangup(everyoneCaller)}\n              className={styles.button}\n              size=\"small\"\n            />\n          </div>\n        </div>\n        <div className={styles.item} data-sign=\"callItem\">\n          <span\n            className={classNames(styles.emphasisCallInfo, styles.children)}\n          >\n            {`${ownCall.agentName || userName || ''}(${i18n.getString(\n              'me',\n              currentLocale,\n            )})`}\n          </span>\n          <div className={styles.controlButtons}>\n            {showMuteButton && (\n              <MuteCallButton\n                isOnMute={isOnMute}\n                onMute={onMute}\n                onUnmute={onUnmute}\n                currentLocale={currentLocale}\n                className={styles.button}\n                size=\"small\"\n              />\n            )}\n            <HangUpButton\n              currentLocale={currentLocale}\n              onHangup={() => onHangup(ownCall)}\n              className={styles.button}\n              size=\"small\"\n            />\n          </div>\n        </div>\n        {transferCalls.map((callItem, key) => {\n          const destination =\n            callItem.session.transferSessions?.[callItem.session.sessionId]\n              ?.destination;\n          return (\n            <div className={styles.item} data-sign=\"callItem\" key={key}>\n              <span\n                className={classNames(styles.otherCallInfo, styles.children)}\n              >\n                {formatPhoneNumber({\n                  phoneNumber: destination,\n                  currentLocale,\n                })}\n              </span>\n              <div className={styles.controlButtons}>\n                <HoldCallButton\n                  currentLocale={currentLocale}\n                  isOnHold={callItem.isHold}\n                  onUnHold={() => onUnHold(callItem)}\n                  onHold={() => onHold(callItem)}\n                  className={styles.button}\n                  size=\"small\"\n                />\n                <HangUpButton\n                  currentLocale={currentLocale}\n                  onHangup={() => onHangup(callItem)}\n                  className={styles.button}\n                  size=\"small\"\n                />\n              </div>\n            </div>\n          );\n        })}\n      </>\n    );\n  };\n\n  return (\n    <>\n      <BackHeader\n        currentLocale={currentLocale}\n        title={i18n.getString('activeCall', currentLocale)}\n        onBackClick={goBack}\n      />\n      <div className={styles.list} data-sign=\"callList\">\n        {callListRender()}\n      </div>\n    </>\n  );\n};\n\nexport { ActiveCallListPanel };\n"],"file":"ActiveCallListPanel.js"}