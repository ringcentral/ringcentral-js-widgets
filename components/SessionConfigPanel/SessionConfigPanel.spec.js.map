{"version":3,"file":"SessionConfigPanel.spec.js","names":["_react","_interopRequireDefault","require","_enzyme","_juno","_SessionConfigPanel","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","wrapper","currentLocale","defaultSkillProfileList","profileId","profileName","isDefault","profileDesc","defaultLoginTypeList","label","id","defaultSelectedAgent","accountId","accountName","agentGroupId","agentId","agentRank","agentType","allowLoginControl","allowLoginUpdates","altDefaultLoginDest","directAgentExtension","email","enableSoftphone","externalAgentId","firstName","ghostRnaAction","initLoginBaseState","lastName","location","manualOutboundDefaultCallerId","maxChats","password","phoneLoginPin","rcUserId","team","username","setup","_ref","_ref$selectedSkillPro","selectedSkillProfileId","_ref$skillProfileList","skillProfileList","_ref$setSkillProfileI","setSkillProfileId","_ref$loginTypeList","loginTypeList","_ref$loginType","loginType","_ref$setLoginType","setLoginType","_ref$extensionNumber","extensionNumber","_ref$setExtensionNumb","setExtensionNumber","_ref$setConfigure","setConfigure","_ref$inboundQueuesFie","inboundQueuesFieldText","_ref$isLoading","isLoading","_ref$isExtensionNumbe","isExtensionNumber","_ref$autoAnswer","autoAnswer","_ref$setAutoAnswer","setAutoAnswer","searchOption","_ref$inboundQueues","inboundQueues","submitInboundQueues","_ref$getAssignedInbou","getAssignedInboundQueues","_ref$isAllAssign","isAllAssign","_ref$isSeveralAssign","isSeveralAssign","checkBoxOnChange","allCheckBoxOnChange","_ref$showInboundQueue","showInboundQueues","_ref$showSkillProfile","showSkillProfile","_ref$showAutoAnswer","showAutoAnswer","_ref$onAccountReChoos","onAccountReChoose","_ref$selectedAgent","selectedAgent","_ref$showReChooseAcco","showReChooseAccount","mount","createElement","RcThemeProvider","SessionConfigPanel","getConfigureButton","find","at","afterEach","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","unmount","stop","describe","it","jest","configureButton","simulate","expect","toBeCalled","toHaveLength","prop","toBe","not"],"sources":["components/SessionConfigPanel/SessionConfigPanel.spec.tsx"],"sourcesContent":["import React from 'react';\n\nimport { mount } from 'enzyme';\n\nimport { RcThemeProvider } from '@ringcentral/juno';\n\nimport type { EvAgent } from '../../lib/EvClient';\nimport type { SessionConfigPanelProps } from './SessionConfigPanel';\nimport { SessionConfigPanel } from './SessionConfigPanel';\n\nlet wrapper;\nconst currentLocale = 'en-US';\nconst defaultSkillProfileList = [\n  {\n    profileId: '1001',\n    profileName: 'Work',\n    isDefault: '1',\n    profileDesc: 'like to work',\n  },\n  {\n    profileId: '1002',\n    profileName: 'eat',\n    isDefault: '1',\n    profileDesc: 'fat man',\n  },\n  {\n    profileId: '1003',\n    profileName: 'play',\n    isDefault: '1',\n    profileDesc: 'like to work',\n  },\n];\nconst defaultLoginTypeList = [\n  {\n    label: 'externalPhone',\n    id: '101',\n  },\n  {\n    label: 'externalPhone2',\n    id: '102',\n  },\n];\n\nconst defaultSelectedAgent: EvAgent = {\n  accountId: '15240001',\n  accountName: 'RC Internal QA C02',\n  agentGroupId: null,\n  agentId: '1364338',\n  agentRank: null,\n  agentType: 'AGENT',\n  allowLoginControl: true,\n  allowLoginUpdates: true,\n  altDefaultLoginDest: null,\n  directAgentExtension: null,\n  email: 'kiwi.lin+11564@ringcentral.onmicrosoft.com',\n  enableSoftphone: null,\n  externalAgentId: null,\n  firstName: 'Kiwi',\n  ghostRnaAction: null,\n  initLoginBaseState: null,\n  lastName: 'Lin',\n  location: null,\n  manualOutboundDefaultCallerId: null,\n  maxChats: null,\n  password: null,\n  phoneLoginPin: null,\n  rcUserId: 62710741028,\n  team: null,\n  username: 'kiwi.lin+11564+15240001_1364338@ringcentral.com',\n};\n\nfunction setup({\n  selectedSkillProfileId = '1002',\n  skillProfileList = defaultSkillProfileList,\n  setSkillProfileId = () => {},\n  loginTypeList = defaultLoginTypeList,\n  loginType = '102',\n  setLoginType = () => {},\n  extensionNumber = '',\n  setExtensionNumber = () => {},\n  setConfigure = () => null,\n  inboundQueuesFieldText = '',\n  isLoading = false,\n  isExtensionNumber = false,\n  // takingCall = false,\n  // setTakingCall = () => {},\n  autoAnswer = true,\n  setAutoAnswer = () => {},\n  searchOption,\n  inboundQueues = [],\n  submitInboundQueues,\n  getAssignedInboundQueues = () => [],\n  isAllAssign = () => true,\n  isSeveralAssign = () => false,\n  checkBoxOnChange,\n  allCheckBoxOnChange,\n  showInboundQueues = true,\n  showSkillProfile = true,\n  showAutoAnswer = true,\n  onAccountReChoose = () => {},\n  selectedAgent = defaultSelectedAgent,\n  showReChooseAccount = true,\n}: Partial<SessionConfigPanelProps>) {\n  return mount(\n    <RcThemeProvider>\n      <SessionConfigPanel\n        onAccountReChoose={onAccountReChoose}\n        selectedAgent={selectedAgent}\n        currentLocale={currentLocale}\n        selectedSkillProfileId={selectedSkillProfileId}\n        skillProfileList={skillProfileList}\n        setSkillProfileId={setSkillProfileId}\n        loginTypeList={loginTypeList}\n        loginType={loginType}\n        setLoginType={setLoginType}\n        extensionNumber={extensionNumber}\n        setExtensionNumber={setExtensionNumber}\n        setConfigure={setConfigure}\n        inboundQueuesFieldText={inboundQueuesFieldText}\n        isExtensionNumber={isExtensionNumber}\n        isLoading={isLoading}\n        showReChooseAccount={showReChooseAccount}\n        // takingCall={takingCall}\n        // setTakingCall={setTakingCall}\n        autoAnswer={autoAnswer}\n        setAutoAnswer={setAutoAnswer}\n        searchOption={searchOption}\n        inboundQueues={inboundQueues}\n        submitInboundQueues={submitInboundQueues}\n        getAssignedInboundQueues={getAssignedInboundQueues}\n        isAllAssign={isAllAssign}\n        isSeveralAssign={isSeveralAssign}\n        checkBoxOnChange={checkBoxOnChange}\n        allCheckBoxOnChange={allCheckBoxOnChange}\n        showInboundQueues={showInboundQueues}\n        showSkillProfile={showSkillProfile}\n        showAutoAnswer={showAutoAnswer}\n      />\n    </RcThemeProvider>,\n  );\n}\n\nconst getConfigureButton = () =>\n  wrapper.find('RcButton[data-sign=\"setConfigure\"]').at(0).find('button');\n\nafterEach(async () => {\n  wrapper.unmount();\n});\n\ndescribe('<SessionConfigPanel />', () => {\n  it('When user click setConfigure Button, setConfigure is to be called', () => {\n    const setConfigure = jest.fn();\n    wrapper = setup({\n      setConfigure,\n    });\n    const configureButton = getConfigureButton();\n    configureButton.simulate('click');\n    expect(setConfigure).toBeCalled();\n  });\n\n  it('When loading, setConfigure Button is in loading state, and setConfigure cannot be fired', () => {\n    const setConfigure = jest.fn();\n    const isLoading = true;\n    wrapper = setup({\n      setConfigure,\n      isLoading,\n    });\n    const configureButton = getConfigureButton();\n    expect(configureButton.find('RcCircularProgress')).toHaveLength(1);\n    expect(configureButton.prop('disabled')).toBe(isLoading);\n    configureButton.simulate('click');\n    expect(setConfigure).not.toBeCalled();\n  });\n});\n"],"mappings":"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"}