{"version":3,"sources":["components/SessionConfigPanel/SessionConfigPanel.spec.tsx"],"names":["wrapper","currentLocale","defaultSkillProfileList","profileId","profileName","isDefault","profileDesc","defaultLoginTypeList","label","id","defaultSelectedAgent","accountId","accountName","agentGroupId","agentId","agentRank","agentType","allowLoginControl","allowLoginUpdates","altDefaultLoginDest","directAgentExtension","email","enableSoftphone","externalAgentId","firstName","ghostRnaAction","initLoginBaseState","lastName","location","manualOutboundDefaultCallerId","maxChats","password","phoneLoginPin","rcUserId","team","username","setup","selectedSkillProfileId","skillProfileList","setSkillProfileId","loginTypeList","loginType","setLoginType","extensionNumber","setExtensionNumber","setConfigure","inboundQueuesFieldText","isLoading","isExtensionNumber","autoAnswer","setAutoAnswer","searchOption","inboundQueues","submitInboundQueues","getAssignedInboundQueues","isAllAssign","isSeveralAssign","checkBoxOnChange","allCheckBoxOnChange","showInboundQueues","showSkillProfile","showAutoAnswer","onAccountReChoose","selectedAgent","showReChooseAccount","getConfigureButton","find","at","afterEach","unmount","describe","it","jest","fn","configureButton","simulate","expect","toBeCalled","toHaveLength","prop","toBe","not"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { mount } from 'enzyme';\n\nimport { RcThemeProvider } from '@ringcentral/juno';\n\nimport { EvAgent } from '../../lib/EvClient';\nimport {\n  SessionConfigPanel,\n  SessionConfigPanelProps,\n} from './SessionConfigPanel';\n\nlet wrapper;\nconst currentLocale = 'en-US';\nconst defaultSkillProfileList = [\n  {\n    profileId: '1001',\n    profileName: 'Work',\n    isDefault: '1',\n    profileDesc: 'like to work',\n  },\n  {\n    profileId: '1002',\n    profileName: 'eat',\n    isDefault: '1',\n    profileDesc: 'fat man',\n  },\n  {\n    profileId: '1003',\n    profileName: 'play',\n    isDefault: '1',\n    profileDesc: 'like to work',\n  },\n];\nconst defaultLoginTypeList = [\n  {\n    label: 'externalPhone',\n    id: '101',\n  },\n  {\n    label: 'externalPhone2',\n    id: '102',\n  },\n];\n\nconst defaultSelectedAgent: EvAgent = {\n  accountId: '15240001',\n  accountName: 'RC Internal QA C02',\n  agentGroupId: null,\n  agentId: '1364338',\n  agentRank: null,\n  agentType: 'AGENT',\n  allowLoginControl: true,\n  allowLoginUpdates: true,\n  altDefaultLoginDest: null,\n  directAgentExtension: null,\n  email: 'kiwi.lin+11564@ringcentral.onmicrosoft.com',\n  enableSoftphone: null,\n  externalAgentId: null,\n  firstName: 'Kiwi',\n  ghostRnaAction: null,\n  initLoginBaseState: null,\n  lastName: 'Lin',\n  location: null,\n  manualOutboundDefaultCallerId: null,\n  maxChats: null,\n  password: null,\n  phoneLoginPin: null,\n  rcUserId: 62710741028,\n  team: null,\n  username: 'kiwi.lin+11564+15240001_1364338@ringcentral.com',\n};\n\nfunction setup({\n  selectedSkillProfileId = '1002',\n  skillProfileList = defaultSkillProfileList,\n  setSkillProfileId = () => {},\n  loginTypeList = defaultLoginTypeList,\n  loginType = '102',\n  setLoginType = () => {},\n  extensionNumber = '',\n  setExtensionNumber = () => {},\n  setConfigure = () => null,\n  inboundQueuesFieldText = '',\n  isLoading = false,\n  isExtensionNumber = false,\n  // takingCall = false,\n  // setTakingCall = () => {},\n  autoAnswer = true,\n  setAutoAnswer = () => {},\n  searchOption,\n  inboundQueues = [],\n  submitInboundQueues,\n  getAssignedInboundQueues = () => [],\n  isAllAssign = () => true,\n  isSeveralAssign = () => false,\n  checkBoxOnChange,\n  allCheckBoxOnChange,\n  showInboundQueues = true,\n  showSkillProfile = true,\n  showAutoAnswer = true,\n  onAccountReChoose = () => {},\n  selectedAgent = defaultSelectedAgent,\n  showReChooseAccount = true,\n}: Partial<SessionConfigPanelProps>) {\n  return mount(\n    <RcThemeProvider>\n      <SessionConfigPanel\n        onAccountReChoose={onAccountReChoose}\n        selectedAgent={selectedAgent}\n        currentLocale={currentLocale}\n        selectedSkillProfileId={selectedSkillProfileId}\n        skillProfileList={skillProfileList}\n        setSkillProfileId={setSkillProfileId}\n        loginTypeList={loginTypeList}\n        loginType={loginType}\n        setLoginType={setLoginType}\n        extensionNumber={extensionNumber}\n        setExtensionNumber={setExtensionNumber}\n        setConfigure={setConfigure}\n        inboundQueuesFieldText={inboundQueuesFieldText}\n        isExtensionNumber={isExtensionNumber}\n        isLoading={isLoading}\n        showReChooseAccount={showReChooseAccount}\n        // takingCall={takingCall}\n        // setTakingCall={setTakingCall}\n        autoAnswer={autoAnswer}\n        setAutoAnswer={setAutoAnswer}\n        searchOption={searchOption}\n        inboundQueues={inboundQueues}\n        submitInboundQueues={submitInboundQueues}\n        getAssignedInboundQueues={getAssignedInboundQueues}\n        isAllAssign={isAllAssign}\n        isSeveralAssign={isSeveralAssign}\n        checkBoxOnChange={checkBoxOnChange}\n        allCheckBoxOnChange={allCheckBoxOnChange}\n        showInboundQueues={showInboundQueues}\n        showSkillProfile={showSkillProfile}\n        showAutoAnswer={showAutoAnswer}\n      />\n    </RcThemeProvider>,\n  );\n}\n\nconst getConfigureButton = () =>\n  wrapper.find('RcButton[data-sign=\"setConfigure\"]').at(0).find('button');\n\nafterEach(async () => {\n  wrapper.unmount();\n});\n\ndescribe('<SessionConfigPanel />', () => {\n  it('When user click setConfigure Button, setConfigure is to be called', () => {\n    const setConfigure = jest.fn();\n    wrapper = setup({\n      setConfigure,\n    });\n    const configureButton = getConfigureButton();\n    configureButton.simulate('click');\n    expect(setConfigure).toBeCalled();\n  });\n\n  it('When loading, setConfigure Button is in loading state, and setConfigure cannot be fired', () => {\n    const setConfigure = jest.fn();\n    const isLoading = true;\n    wrapper = setup({\n      setConfigure,\n      isLoading,\n    });\n    const configureButton = getConfigureButton();\n    expect(configureButton.find('RcCircularProgress')).toHaveLength(1);\n    expect(configureButton.prop('disabled')).toBe(isLoading);\n    configureButton.simulate('click');\n    expect(setConfigure).not.toBeCalled();\n  });\n});\n"],"file":"SessionConfigPanel.spec.js"}