{"version":3,"file":"index.js","names":["_clsx","_interopRequireDefault","require","_propTypes","_react","_reactEmojione","_reactMarkdown","_emojione","_styles","e","__esModule","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","ImageRender","props","alt","atRender","AtRender","createElement","id","src","type","replace","href","concat","propTypes","PropTypes","string","isRequired","func","defaultProps","undefined","LinkRender","target","rel","title","children","node","TextRender","map","child","split","reduce","lines","line","push","style","backgroundImage","emojiones","Markdown","_ref","className","text","renderers","image","link","paragraph","clsx","styles","root","source","_default","exports"],"sources":["components/GlipMarkdown/index.js"],"sourcesContent":["import clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Emojify from 'react-emojione';\nimport ReactMarkdown from 'react-markdown';\n\nimport emojiones from '../../assets/images/emojione.png';\n\nimport styles from './styles.scss';\n\nfunction ImageRender(props) {\n  if (props.alt === ':Person' || props.alt === ':Team') {\n    if (typeof props.atRender === 'function') {\n      const AtRender = props.atRender;\n      return <AtRender id={props.src} type={props.alt.replace(':', '')} />;\n    }\n    return <a href={`#${props.src}`}>@{props.src}</a>;\n  }\n  return <img src={props.src} alt={props.alt} />;\n}\n\nImageRender.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  atRender: PropTypes.func,\n};\n\nImageRender.defaultProps = {\n  alt: undefined,\n  atRender: undefined,\n};\n\nfunction LinkRender(props) {\n  return (\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={props.href}\n      title={props.title}\n    >\n      {props.children}\n    </a>\n  );\n}\n\nLinkRender.propTypes = {\n  href: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string,\n};\n\nLinkRender.defaultProps = {\n  title: undefined,\n};\n\nfunction TextRender(props) {\n  const children = props.children.map((child) => {\n    if (child && child.split) {\n      return child.split('\\n').reduce((lines, line) => {\n        if (lines.length > 0) {\n          lines.push(<br />);\n        }\n        lines.push(line);\n        return lines;\n      }, []);\n    }\n    return child;\n  });\n  return (\n    <p>\n      <Emojify\n        style={{\n          backgroundImage: `url(\"${emojiones}\")`,\n        }}\n      >\n        {children}\n      </Emojify>\n    </p>\n  );\n}\n\nTextRender.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nfunction Markdown({ className, text, atRender }) {\n  const renderers = {\n    image: (props) => <ImageRender {...props} atRender={atRender} />,\n    link: LinkRender,\n    paragraph: TextRender,\n  };\n  return (\n    <div className={clsx(styles.root, className)}>\n      <ReactMarkdown\n        className={styles['markdown-body']}\n        source={text}\n        renderers={renderers}\n      />\n    </div>\n  );\n  /* eslint-enable */\n}\n\nMarkdown.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.string.isRequired,\n  atRender: PropTypes.func,\n};\n\nMarkdown.defaultProps = {\n  className: undefined,\n  atRender: undefined,\n};\n\nexport default Markdown;\n"],"mappings":"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","ignoreList":[]}