{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_propTypes","_classnames","_reactMarkdown","_reactEmojione","_emojione","_styles","obj","__esModule","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","ImageRender","props","alt","atRender","AtRender","createElement","id","src","type","replace","href","concat","propTypes","PropTypes","string","isRequired","func","defaultProps","undefined","LinkRender","rel","title","children","node","TextRender","map","child","split","reduce","lines","line","push","style","backgroundImage","emojiones","Markdown","_ref","className","text","renderers","image","link","paragraph","classnames","styles","root","_default","exports"],"sources":["components/GlipMarkdown/index.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport ReactMarkdown from 'react-markdown';\nimport Emojify from 'react-emojione';\nimport emojiones from '../../assets/images/emojione.png';\n\nimport styles from './styles.scss';\n\nfunction ImageRender(props) {\n  if (props.alt === ':Person' || props.alt === ':Team') {\n    if (typeof props.atRender === 'function') {\n      const AtRender = props.atRender;\n      return <AtRender id={props.src} type={props.alt.replace(':', '')} />;\n    }\n    return <a href={`#${props.src}`}>@{props.src}</a>;\n  }\n  return <img src={props.src} alt={props.alt} />;\n}\n\nImageRender.propTypes = {\n  src: PropTypes.string.isRequired,\n  alt: PropTypes.string,\n  atRender: PropTypes.func,\n};\n\nImageRender.defaultProps = {\n  alt: undefined,\n  atRender: undefined,\n};\n\nfunction LinkRender(props) {\n  return (\n    <a\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n      href={props.href}\n      title={props.title}\n    >\n      {props.children}\n    </a>\n  );\n}\n\nLinkRender.propTypes = {\n  href: PropTypes.string.isRequired,\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string,\n};\n\nLinkRender.defaultProps = {\n  title: undefined,\n};\n\nfunction TextRender(props) {\n  const children = props.children.map((child) => {\n    if (child && child.split) {\n      return child.split('\\n').reduce((lines, line) => {\n        if (lines.length > 0) {\n          lines.push(<br />);\n        }\n        lines.push(line);\n        return lines;\n      }, []);\n    }\n    return child;\n  });\n  return (\n    <p>\n      <Emojify\n        style={{\n          backgroundImage: `url(\"${emojiones}\")`,\n        }}\n      >\n        {children}\n      </Emojify>\n    </p>\n  );\n}\n\nTextRender.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nfunction Markdown({ className, text, atRender }) {\n  const renderers = {\n    image: (props) => <ImageRender {...props} atRender={atRender} />,\n    link: LinkRender,\n    paragraph: TextRender,\n  };\n  return (\n    <div className={classnames(styles.root, className)}>\n      <ReactMarkdown\n        className={styles['markdown-body']}\n        source={text}\n        renderers={renderers}\n      />\n    </div>\n  );\n  /* eslint-enable */\n}\n\nMarkdown.propTypes = {\n  className: PropTypes.string,\n  text: PropTypes.string.isRequired,\n  atRender: PropTypes.func,\n};\n\nMarkdown.defaultProps = {\n  className: undefined,\n  atRender: undefined,\n};\n\nexport default Markdown;\n"],"mappings":"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"}