{"version":3,"file":"index.js","names":["_SpinnerOverlay","require","_clsx","_interopRequireDefault","_propTypes","_react","_interopRequireWildcard","_left_arrow","_GlipChatForm","_GlipGroupName","_GlipPostList","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_classCallCheck","TypeError","_defineProperties","length","o","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","value","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","arguments","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","GlipChatPage","_Component","_super","props","_this","state","inputHeight","mobile","headerHeight","componentDidMount","loadGroup","groupId","componentWillReceiveProps","nextProps","render","_this$props","group","className","posts","updateText","createPost","textValue","dateTimeFormatter","showSpinner","atRender","uploadFile","viewProfile","loadNextPage","onBackClick","spinner","createElement","SpinnerOverlay","backIcon","src","leftArrow","alt","styles","onClick","clsx","root","header","style","height","lineHeight","concat","showNumber","content","id","showName","members","inputArea","onTextChange","onSubmit","onUploadFile","detailMembers","Component","exports","propTypes","PropTypes","string","object","array","bool","func","isRequired","defaultProps","undefined"],"sources":["components/GlipChatPanel/index.js"],"sourcesContent":["import { SpinnerOverlay } from '@ringcentral-integration/widgets/components/SpinnerOverlay';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport leftArrow from '../../assets/images/left_arrow.png';\nimport GlipChatForm from '../GlipChatForm';\nimport GlipGroupName from '../GlipGroupName';\nimport GlipPostList from '../GlipPostList';\n\nimport styles from './styles.scss';\n\nexport default class GlipChatPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inputHeight: props.mobile ? 80 : 110,\n      headerHeight: props.mobile ? 38 : 50,\n    };\n  }\n\n  componentDidMount() {\n    this.props.loadGroup(this.props.groupId);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.groupId !== nextProps.groupId) {\n      this.props.loadGroup(nextProps.groupId);\n    }\n  }\n\n  render() {\n    const {\n      group,\n      className,\n      posts,\n      updateText,\n      createPost,\n      textValue,\n      dateTimeFormatter,\n      showSpinner,\n      atRender,\n      uploadFile,\n      viewProfile,\n      loadNextPage,\n      onBackClick,\n      mobile,\n    } = this.props;\n    const spinner = showSpinner ? <SpinnerOverlay /> : null;\n    // TODO: update alt with i18n\n    const backIcon = onBackClick ? (\n      <img\n        src={leftArrow}\n        alt=\"Back\"\n        className={styles.backIcon}\n        onClick={onBackClick}\n      />\n    ) : null;\n    return (\n      <div className={clsx(styles.root, className)}>\n        <div\n          className={styles.header}\n          style={{\n            height: this.state.headerHeight,\n            lineHeight: `${this.state.headerHeight}px`,\n          }}\n        >\n          {backIcon}\n          <GlipGroupName group={group} showNumber />\n        </div>\n        <div\n          className={styles.content}\n          style={{\n            height: `calc(100% - ${\n              this.state.inputHeight + this.state.headerHeight\n            }px)`,\n          }}\n        >\n          <GlipPostList\n            posts={posts}\n            atRender={atRender}\n            groupId={group.id}\n            showName={group.members && group.members.length > 2}\n            dateTimeFormatter={dateTimeFormatter}\n            viewProfile={viewProfile}\n            loadNextPage={loadNextPage}\n          />\n        </div>\n        <GlipChatForm\n          className={styles.inputArea}\n          height={this.state.inputHeight}\n          textValue={textValue}\n          onTextChange={updateText}\n          groupId={group.id}\n          onSubmit={createPost}\n          onUploadFile={uploadFile}\n          members={group.detailMembers}\n          mobile={mobile}\n        />\n        {spinner}\n      </div>\n    );\n  }\n}\n\nGlipChatPage.propTypes = {\n  className: PropTypes.string,\n  group: PropTypes.object,\n  posts: PropTypes.array,\n  groupId: PropTypes.string,\n  textValue: PropTypes.string,\n  showSpinner: PropTypes.bool,\n  loadGroup: PropTypes.func.isRequired,\n  updateText: PropTypes.func.isRequired,\n  createPost: PropTypes.func.isRequired,\n  uploadFile: PropTypes.func.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n  atRender: PropTypes.func,\n  onBackClick: PropTypes.func,\n  viewProfile: PropTypes.func.isRequired,\n  loadNextPage: PropTypes.func.isRequired,\n  mobile: PropTypes.bool,\n};\n\nGlipChatPage.defaultProps = {\n  className: undefined,\n  groupId: null,\n  group: {},\n  posts: [],\n  textValue: '',\n  showSpinner: false,\n  atRender: undefined,\n  onBackClick: undefined,\n  mobile: false,\n};\n"],"mappings":"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","ignoreList":[]}