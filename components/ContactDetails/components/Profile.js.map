{"version":3,"file":"Profile.js","names":["_extensionStatusTypes","require","_clsx","_interopRequireDefault","_react","_getPresenceStatusName","_usePresence","_PresenceStatusIcon","_i18n","_styles","_Avatar","e","__esModule","Status","_ref","presence","inactive","currentLocale","createElement","className","styles","status","inactiveText","i18n","getString","_presence$presenceSta","presenceStatus","_presence$dndStatus","dndStatus","presenceName","getPresenceStatusName","presenceIcon","Name","_ref2","name","clsx","withoutPresence","title","Profile","exports","_ref3","contact","sourceNodeRenderer","isMultipleSiteEnabled","getPresence","profileImageUrl","site","type","usePresence","fetch","extensionStatusTypes","notActivated","profile","profileWrapper","Avatar","avatarUrl","source","sourceType","info","concat","label","content","defaultProps"],"sources":["components/ContactDetails/components/Profile.tsx"],"sourcesContent":["import { extensionStatusTypes } from '@ringcentral-integration/commons/enums/extensionStatusTypes';\nimport type {\n  ContactModel,\n  ContactPresence,\n} from '@ringcentral-integration/commons/interfaces/Contact.model';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React from 'react';\n\nimport { getPresenceStatusName } from '../../../lib/getPresenceStatusName';\nimport type { GetPresenceFn } from '../../../react-hooks/usePresence';\nimport { usePresence } from '../../../react-hooks/usePresence';\nimport PresenceStatusIcon from '../../PresenceStatusIcon';\nimport type { sourceNodeRenderer } from '../ContactDetails.interface';\nimport i18n from '../i18n';\nimport styles from '../styles.scss';\n\nimport { Avatar } from './Avatar';\n\ninterface StatusProps {\n  inactive: boolean;\n  presence?: ContactPresence | null;\n  currentLocale: string;\n}\n\nconst Status: FunctionComponent<StatusProps> = ({\n  presence,\n  inactive,\n  currentLocale,\n}) => {\n  if (inactive) {\n    return (\n      <div className={styles.status}>\n        <div>\n          <span className={styles.inactiveText}>\n            {i18n.getString('notActivated', currentLocale)}\n          </span>\n        </div>\n      </div>\n    );\n  }\n  if (presence) {\n    const { presenceStatus = '', dndStatus = '' } = presence;\n    const presenceName = getPresenceStatusName(\n      presenceStatus as any,\n      dndStatus as any,\n      currentLocale,\n    );\n    return (\n      <div className={styles.status}>\n        <div className={styles.presence}>\n          <PresenceStatusIcon\n            className={styles.presenceIcon}\n            presenceStatus={presenceStatus}\n            dndStatus={dndStatus}\n          />\n        </div>\n        {presenceName && (\n          <span className={styles.presenceName}>{presenceName}</span>\n        )}\n      </div>\n    );\n  }\n  return null;\n};\n\ninterface NameProps {\n  presence?: ContactPresence | null;\n  inactive: boolean;\n  name: string;\n}\n\nconst Name: FunctionComponent<NameProps> = ({ presence, inactive, name }) => {\n  return (\n    <div\n      className={clsx(\n        styles.name,\n        !presence && styles.withoutPresence,\n        inactive && styles.inactiveText,\n      )}\n      title={name}\n      data-sign=\"contactName\"\n      data-inactive={inactive}\n    >\n      {name}\n    </div>\n  );\n};\n\nexport interface ProfileProps extends sourceNodeRenderer {\n  contact: ContactModel &\n    Partial<{\n      profileImageUrl: string;\n      status: string;\n      site: {\n        name: string;\n        code: string;\n      };\n    }>;\n  currentLocale: string;\n  isMultipleSiteEnabled: boolean;\n  getPresence: GetPresenceFn;\n}\n\nexport const Profile: FunctionComponent<ProfileProps> = ({\n  contact,\n  sourceNodeRenderer,\n  currentLocale,\n  isMultipleSiteEnabled,\n  getPresence,\n}) => {\n  const { name, profileImageUrl, status, site, type } = contact;\n  // @ts-ignore\n  const presence = usePresence(contact, { fetch: getPresence });\n  const inactive = status === extensionStatusTypes.notActivated;\n  return (\n    <section className={styles.profile} aria-label=\"profile\">\n      <div className={styles.profileWrapper}>\n        <Avatar\n          name={name}\n          avatarUrl={profileImageUrl}\n          inactive={inactive}\n          source={\n            sourceNodeRenderer && sourceNodeRenderer({ sourceType: type })\n          }\n        />\n        <div className={styles.info}>\n          <Name inactive={inactive} name={name} presence={presence} />\n          <Status\n            inactive={inactive}\n            presence={presence}\n            currentLocale={currentLocale}\n          />\n        </div>\n      </div>\n      {isMultipleSiteEnabled && site?.name && (\n        <div className={styles.site} aria-label={`Site: ${site.name}`}>\n          <span className={styles.label}>\n            {i18n.getString('site', currentLocale)}\n          </span>\n          <span className={styles.content}>{site.name}</span>\n        </div>\n      )}\n    </section>\n  );\n};\nProfile.defaultProps = {\n  sourceNodeRenderer: () => null,\n};\n"],"mappings":"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","ignoreList":[]}