{"version":3,"file":"ContactSourceFilter.js","names":["_juno","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_ContactFilter","_ContactFilterSolid","_i18n","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_classCallCheck","TypeError","_defineProperties","length","o","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","value","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","arguments","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_templateObject","data","_taggedTemplateLiteral","slice","freeze","defineProperties","raw","StyledListItem","styled","RcListItem","spacing","ContactSourceFilter","_Component","_super","props","_this","_mounted","hideList","setState","unfold","onUnfoldChange","window","removeEventListener","showList","addEventListener","togglePanel","evt","stopPropagation","state","emitSelect","sourceName","onSourceSelect","undefined","componentDidMount","componentWillUnmount","getString","locale","i18n","render","_this2","_this$props","className","currentLocale","contactSourceNames","selectedSourceName","isAllSource","createElement","clsx","styles","contactSourceFilter","onClick","filterIconContainer","title","filterIconNode","iconNoneFill","RcMenuList","contactSourceList","map","component","size","selected","disableGutters","Component","exports"],"sources":["components/ContactSourceFilter/ContactSourceFilter.tsx"],"sourcesContent":["import { RcListItem, RcMenuList, spacing, styled } from '@ringcentral/juno';\nimport clsx from 'clsx';\nimport React, { Component } from 'react';\n\nimport ContactFilterIcon from '../../assets/images/ContactFilter.svg';\nimport ContactFilterSolidIcon from '../../assets/images/ContactFilterSolid.svg';\n\nimport i18n, { type I18nKey } from './i18n';\nimport styles from './styles.scss';\n\nconst StyledListItem = styled(RcListItem)`\n  padding-left: ${spacing(2)};\n  font-size: 13px;\n`;\n\ntype ContactSourceFilterProps = {\n  className?: string;\n  currentLocale: string;\n  onSourceSelect?: (...args: any[]) => any;\n  selectedSourceName?: string;\n  contactSourceNames: string[];\n  unfold?: boolean;\n  onUnfoldChange?: (...args: any[]) => any;\n};\n\ntype ContactSourceFilterState = {\n  unfold: any;\n};\n\nexport class ContactSourceFilter extends Component<\n  ContactSourceFilterProps,\n  ContactSourceFilterState\n> {\n  _mounted = false;\n\n  constructor(props: ContactSourceFilterProps) {\n    super(props);\n    const unfold = props.unfold !== undefined ? props.unfold : false;\n    this.state = {\n      unfold,\n    };\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    this._mounted = false;\n    if (!this.state.unfold) {\n      window.removeEventListener('click', this.hideList);\n    }\n  }\n\n  getString(key: I18nKey, locale: string) {\n    return i18n.getString(key, locale);\n  }\n\n  hideList = () => {\n    if (this._mounted) {\n      this.setState({\n        unfold: false,\n      });\n      if (typeof this.props.onUnfoldChange === 'function') {\n        this.props.onUnfoldChange(false);\n      }\n    }\n    window.removeEventListener('click', this.hideList);\n  };\n\n  showList = () => {\n    this.setState({\n      unfold: true,\n    });\n    window.addEventListener('click', this.hideList);\n    if (typeof this.props.onUnfoldChange === 'function') {\n      this.props.onUnfoldChange(true);\n    }\n  };\n\n  togglePanel: React.MouseEventHandler<HTMLDivElement> = (evt) => {\n    evt.stopPropagation();\n    if (!this.state.unfold) {\n      this.showList();\n      return;\n    }\n    this.hideList();\n  };\n\n  emitSelect = (sourceName: string) => {\n    const { onSourceSelect } = this.props;\n    if (onSourceSelect) {\n      onSourceSelect(sourceName);\n    }\n    this.hideList();\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const { className, currentLocale, contactSourceNames, selectedSourceName } =\n      this.props;\n    const isAllSource = selectedSourceName === contactSourceNames[0];\n    return (\n      <div\n        className={clsx(styles.contactSourceFilter, className)}\n        data-sign=\"contactSourceFilterButton\"\n        onClick={this.togglePanel}\n      >\n        <div\n          data-sign=\"filterIconContainer\"\n          className={styles.filterIconContainer}\n          // @ts-expect-error TS(2345): Argument of type 'string | undefined' is not assig... Remove this comment to see the full error message\n          title={this.getString(selectedSourceName, currentLocale)}\n        >\n          {isAllSource ? (\n            <ContactFilterIcon\n              className={clsx(styles.filterIconNode, styles.iconNoneFill)}\n            />\n          ) : (\n            <ContactFilterSolidIcon className={styles.filterIconNode} />\n          )}\n        </div>\n        {!this.state.unfold ? null : (\n          <RcMenuList\n            className={styles.contactSourceList}\n            onClick={(e) => e.stopPropagation()}\n            data-sign=\"contactSourceList\"\n          >\n            {contactSourceNames.map((sourceName) => (\n              <StyledListItem\n                data-sign=\"contactSourceItem\"\n                component=\"div\"\n                onClick={() => this.emitSelect(sourceName)}\n                size=\"small\"\n                key={sourceName}\n                selected={sourceName === selectedSourceName}\n                disableGutters\n              >\n                {this.getString(sourceName as I18nKey, currentLocale)}\n              </StyledListItem>\n            ))}\n          </RcMenuList>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}