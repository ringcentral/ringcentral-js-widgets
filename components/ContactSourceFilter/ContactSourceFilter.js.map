{"version":3,"file":"ContactSourceFilter.js","names":["_juno","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_ContactFilter","_ContactFilterSolid","_i18n","_styles","_templateObject","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_classCallCheck","a","TypeError","_defineProperties","length","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","_inherits","create","value","_setPrototypeOf","_taggedTemplateLiteral","slice","freeze","defineProperties","raw","StyledListItem","styled","RcListItem","spacing","ContactSourceFilter","exports","_Component","props","_this","_mounted","hideList","setState","unfold","onUnfoldChange","window","removeEventListener","showList","addEventListener","togglePanel","evt","stopPropagation","state","emitSelect","sourceName","onSourceSelect","undefined","componentDidMount","componentWillUnmount","getString","locale","i18n","render","_this2","_this$props","className","currentLocale","contactSourceNames","selectedSourceName","isAllSource","createElement","clsx","styles","contactSourceFilter","onClick","filterIconContainer","title","filterIconNode","iconNoneFill","RcMenuList","contactSourceList","map","component","size","selected","disableGutters","Component"],"sources":["components/ContactSourceFilter/ContactSourceFilter.tsx"],"sourcesContent":["import { RcListItem, RcMenuList, spacing, styled } from '@ringcentral/juno';\nimport clsx from 'clsx';\nimport React, { Component } from 'react';\n\nimport ContactFilterIcon from '../../assets/images/ContactFilter.svg';\nimport ContactFilterSolidIcon from '../../assets/images/ContactFilterSolid.svg';\n\nimport i18n, { type I18nKey } from './i18n';\nimport styles from './styles.scss';\n\nconst StyledListItem = styled(RcListItem)`\n  padding-left: ${spacing(2)};\n  font-size: 13px;\n`;\n\ntype ContactSourceFilterProps = {\n  className?: string;\n  currentLocale: string;\n  onSourceSelect?: (...args: any[]) => any;\n  selectedSourceName?: string;\n  contactSourceNames: string[];\n  unfold?: boolean;\n  onUnfoldChange?: (...args: any[]) => any;\n};\n\ntype ContactSourceFilterState = {\n  unfold: any;\n};\n\nexport class ContactSourceFilter extends Component<\n  ContactSourceFilterProps,\n  ContactSourceFilterState\n> {\n  _mounted = false;\n\n  constructor(props: ContactSourceFilterProps) {\n    super(props);\n    const unfold = props.unfold !== undefined ? props.unfold : false;\n    this.state = {\n      unfold,\n    };\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    this._mounted = false;\n    if (!this.state.unfold) {\n      window.removeEventListener('click', this.hideList);\n    }\n  }\n\n  getString(key: I18nKey, locale: string) {\n    return i18n.getString(key, locale);\n  }\n\n  hideList = () => {\n    if (this._mounted) {\n      this.setState({\n        unfold: false,\n      });\n      if (typeof this.props.onUnfoldChange === 'function') {\n        this.props.onUnfoldChange(false);\n      }\n    }\n    window.removeEventListener('click', this.hideList);\n  };\n\n  showList = () => {\n    this.setState({\n      unfold: true,\n    });\n    window.addEventListener('click', this.hideList);\n    if (typeof this.props.onUnfoldChange === 'function') {\n      this.props.onUnfoldChange(true);\n    }\n  };\n\n  togglePanel: React.MouseEventHandler<HTMLDivElement> = (evt) => {\n    evt.stopPropagation();\n    if (!this.state.unfold) {\n      this.showList();\n      return;\n    }\n    this.hideList();\n  };\n\n  emitSelect = (sourceName: string) => {\n    const { onSourceSelect } = this.props;\n    if (onSourceSelect) {\n      onSourceSelect(sourceName);\n    }\n    this.hideList();\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const { className, currentLocale, contactSourceNames, selectedSourceName } =\n      this.props;\n    const isAllSource = selectedSourceName === contactSourceNames[0];\n    return (\n      <div\n        className={clsx(styles.contactSourceFilter, className)}\n        data-sign=\"contactSourceFilterButton\"\n        onClick={this.togglePanel}\n      >\n        <div\n          data-sign=\"filterIconContainer\"\n          className={styles.filterIconContainer}\n          // @ts-expect-error TS(2345): Argument of type 'string | undefined' is not assig... Remove this comment to see the full error message\n          title={this.getString(selectedSourceName, currentLocale)}\n        >\n          {isAllSource ? (\n            <ContactFilterIcon\n              className={clsx(styles.filterIconNode, styles.iconNoneFill)}\n            />\n          ) : (\n            <ContactFilterSolidIcon className={styles.filterIconNode} />\n          )}\n        </div>\n        {!this.state.unfold ? null : (\n          <RcMenuList\n            className={styles.contactSourceList}\n            onClick={(e) => e.stopPropagation()}\n            data-sign=\"contactSourceList\"\n          >\n            {contactSourceNames.map((sourceName) => (\n              <StyledListItem\n                data-sign=\"contactSourceItem\"\n                component=\"div\"\n                onClick={() => this.emitSelect(sourceName)}\n                size=\"small\"\n                key={sourceName}\n                selected={sourceName === selectedSourceName}\n                disableGutters\n              >\n                {this.getString(sourceName as I18nKey, currentLocale)}\n              </StyledListItem>\n            ))}\n          </RcMenuList>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}