{"version":3,"file":"ContactSourceFilter.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_juno","_ContactFilter","_ContactFilterSolid","_i18n","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","Number","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_templateObject","data","_taggedTemplateLiteral","strings","raw","slice","freeze","defineProperties","StyledListItem","styled","RcListItem","spacing","ContactSourceFilter","_Component","_super","_this","_mounted","hideList","setState","unfold","onUnfoldChange","window","removeEventListener","showList","addEventListener","togglePanel","evt","stopPropagation","state","emitSelect","sourceName","onSourceSelect","componentDidMount","componentWillUnmount","getString","locale","i18n","render","_this2","_this$props","className","currentLocale","contactSourceNames","selectedSourceName","isAllSource","createElement","classnames","styles","contactSourceFilter","onClick","filterIconContainer","title","filterIconNode","iconNoneFill","RcMenuList","contactSourceList","map","component","size","selected","disableGutters","Component","exports"],"sources":["components/ContactSourceFilter/ContactSourceFilter.tsx"],"sourcesContent":["import React, { Component } from 'react';\n\nimport classnames from 'classnames';\n\nimport { RcListItem, RcMenuList, spacing, styled } from '@ringcentral/juno';\n\nimport ContactFilterIcon from '../../assets/images/ContactFilter.svg';\nimport ContactFilterSolidIcon from '../../assets/images/ContactFilterSolid.svg';\nimport i18n, { I18nKey } from './i18n';\nimport styles from './styles.scss';\n\nconst StyledListItem = styled(RcListItem)`\n  padding-left: ${spacing(2)};\n  font-size: 13px;\n`;\n\ntype ContactSourceFilterProps = {\n  className?: string;\n  currentLocale: string;\n  onSourceSelect?: (...args: any[]) => any;\n  selectedSourceName?: string;\n  contactSourceNames: string[];\n  unfold?: boolean;\n  onUnfoldChange?: (...args: any[]) => any;\n};\n\ntype ContactSourceFilterState = {\n  unfold: any;\n};\n\nexport class ContactSourceFilter extends Component<\n  ContactSourceFilterProps,\n  ContactSourceFilterState\n> {\n  _mounted = false;\n\n  constructor(props: ContactSourceFilterProps) {\n    super(props);\n    const unfold = props.unfold !== undefined ? props.unfold : false;\n    this.state = {\n      unfold,\n    };\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    this._mounted = false;\n    if (!this.state.unfold) {\n      window.removeEventListener('click', this.hideList);\n    }\n  }\n\n  getString(key: I18nKey, locale: string) {\n    return i18n.getString(key, locale);\n  }\n\n  hideList = () => {\n    if (this._mounted) {\n      this.setState({\n        unfold: false,\n      });\n      if (typeof this.props.onUnfoldChange === 'function') {\n        this.props.onUnfoldChange(false);\n      }\n    }\n    window.removeEventListener('click', this.hideList);\n  };\n\n  showList = () => {\n    this.setState({\n      unfold: true,\n    });\n    window.addEventListener('click', this.hideList);\n    if (typeof this.props.onUnfoldChange === 'function') {\n      this.props.onUnfoldChange(true);\n    }\n  };\n\n  togglePanel: React.MouseEventHandler<HTMLDivElement> = (evt) => {\n    evt.stopPropagation();\n    if (!this.state.unfold) {\n      this.showList();\n      return;\n    }\n    this.hideList();\n  };\n\n  emitSelect = (sourceName: string) => {\n    const { onSourceSelect } = this.props;\n    if (onSourceSelect) {\n      onSourceSelect(sourceName);\n    }\n    this.hideList();\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const { className, currentLocale, contactSourceNames, selectedSourceName } =\n      this.props;\n    const isAllSource = selectedSourceName === contactSourceNames[0];\n    return (\n      <div\n        className={classnames(styles.contactSourceFilter, className)}\n        data-sign=\"contactSourceFilterButton\"\n        onClick={this.togglePanel}\n      >\n        <div\n          data-sign=\"filterIconContainer\"\n          className={styles.filterIconContainer}\n          // @ts-expect-error TS(2345): Argument of type 'string | undefined' is not assig... Remove this comment to see the full error message\n          title={this.getString(selectedSourceName, currentLocale)}\n        >\n          {isAllSource ? (\n            <ContactFilterIcon\n              className={classnames(styles.filterIconNode, styles.iconNoneFill)}\n            />\n          ) : (\n            <ContactFilterSolidIcon className={styles.filterIconNode} />\n          )}\n        </div>\n        {!this.state.unfold ? null : (\n          <RcMenuList\n            className={styles.contactSourceList}\n            onClick={(e) => e.stopPropagation()}\n            data-sign=\"contactSourceList\"\n          >\n            {contactSourceNames.map((sourceName) => (\n              <StyledListItem\n                data-sign=\"contactSourceItem\"\n                component=\"div\"\n                onClick={() => this.emitSelect(sourceName)}\n                size=\"small\"\n                key={sourceName}\n                selected={sourceName === selectedSourceName}\n                disableGutters\n              >\n                {this.getString(sourceName as I18nKey, currentLocale)}\n              </StyledListItem>\n            ))}\n          </RcMenuList>\n        )}\n      </div>\n    );\n  }\n}\n"],"mappings":"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"}