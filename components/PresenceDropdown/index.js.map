{"version":3,"sources":["components/PresenceDropdown/index.tsx"],"names":["Wrapper","styled","div","PresenceDropdown","userStatus","dndStatus","currentLocale","setAvailable","setBusy","setDoNotDisturb","setInvisible","isReady","className","anchorEl","setAnchorEl","handleClick","event","currentTarget","handleClose","onChange","type","presenceElements","elements","selectedItem","title","Boolean"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,OAAO,GAAGC,aAAOC,GAAV,oBAKK,mBAAQ,CAAR,CALL,CAAb;;AAsBO,IAAMC,gBAA0D,GAAG,SAA7DA,gBAA6D,OAUpE;AAAA,MATJC,UASI,QATJA,UASI;AAAA,MARJC,SAQI,QARJA,SAQI;AAAA,MAPJC,aAOI,QAPJA,aAOI;AAAA,MANJC,YAMI,QANJA,YAMI;AAAA,MALJC,OAKI,QALJA,OAKI;AAAA,MAJJC,eAII,QAJJA,eAII;AAAA,MAHJC,YAGI,QAHJA,YAGI;AAAA,MAFJC,OAEI,QAFJA,OAEI;AAAA,MADJC,SACI,QADJA,SACI;;AAAA,kBAC4B,qBAA6B,IAA7B,CAD5B;AAAA;AAAA,MACGC,QADH;AAAA,MACaC,WADb;;AAGJ,MAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD,EAAyD;AAC3E,QAAI,CAACL,OAAL,EAAc;AAEdG,IAAAA,WAAW,CAACE,KAAK,CAACC,aAAP,CAAX;AACD,GAJD;;AAMA,MAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,WAAMJ,WAAW,CAAC,IAAD,CAAjB;AAAA,GAApB;;AATI,0BAWiD,yCAAiB;AACpER,IAAAA,aAAa,EAAbA,aADoE;AAEpEF,IAAAA,UAAU,EAAVA,UAFoE;AAGpEC,IAAAA,SAAS,EAATA,SAHoE;AAIpEc,IAAAA,QAAQ,EAAE,kBAACC,IAAD,EAAU;AAClB,cAAQA,IAAR;AACE,aAAK,WAAL;AACEb,UAAAA,YAAY;AACZ;;AACF,aAAK,MAAL;AACEC,UAAAA,OAAO;AACP;;AACF,aAAK,KAAL;AACEC,UAAAA,eAAe;AACf;;AACF,aAAK,SAAL;AACEC,UAAAA,YAAY;AACZ;;AACF;AACE;AAdJ;;AAgBAQ,MAAAA,WAAW;AACZ;AAtBmE,GAAjB,CAXjD;AAAA,MAWcG,gBAXd,qBAWIC,QAXJ;AAAA,MAWgCC,YAXhC,qBAWgCA,YAXhC;;AAoCJ,MAAMH,IAAI,GAAGG,YAAH,aAAGA,YAAH,uBAAGA,YAAY,CAAEH,IAA3B;;AAEA,MAAI,CAACA,IAAL,EAAW;AACT,WAAO,IAAP;AACD;;AAED,MAAMI,KAAK,GAAG,kDAAsBpB,UAAtB,EAAkCC,SAAlC,EAA6CC,aAA7C,CAAd;AAEA,sBACE,gCAAC,OAAD,qBACE,gCAAC,gBAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,kBAAW,gBAFb;AAGE,IAAA,IAAI,EAAC,OAHP;AAIE,IAAA,IAAI,EAAEc,IAJR;AAKE,IAAA,KAAK,EAAEI,KALT;AAME,IAAA,OAAO,EAAET,WANX;AAOE,IAAA,SAAS,EAAEH;AAPb,IADF,eAUE,gCAAC,YAAD;AACE,IAAA,IAAI,EAAEa,OAAO,CAACZ,QAAD,CADf;AAEE,IAAA,QAAQ,EAAEA,QAFZ;AAGE,IAAA,OAAO,EAAEK,WAHX;AAIE,kBAAW;AAJb,KAMGG,gBANH,CAVF,CADF;AAqBD,CA3EM","sourcesContent":["import React, { FunctionComponent, useState } from 'react';\n\nimport { RcMenu, RcPresence, spacing, styled } from '@ringcentral/juno';\n\nimport { getPresenceStatusName } from '../../lib/getPresenceStatusName';\nimport { usePresenceItems } from './usePresenceItems';\n\nconst Wrapper = styled.div`\n  position: absolute;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  padding-left: ${spacing(5)};\n  z-index: 2;\n  cursor: pointer;\n`;\n\nexport type PresenceDropdownProps = {\n  currentLocale: string;\n  dndStatus?: string;\n  userStatus?: string;\n  setAvailable: (...args: any[]) => any;\n  setBusy: (...args: any[]) => any;\n  setDoNotDisturb: (...args: any[]) => any;\n  setInvisible: (...args: any[]) => any;\n  isReady: boolean;\n  className?: string;\n};\n\nexport const PresenceDropdown: FunctionComponent<PresenceDropdownProps> = ({\n  userStatus,\n  dndStatus,\n  currentLocale,\n  setAvailable,\n  setBusy,\n  setDoNotDisturb,\n  setInvisible,\n  isReady,\n  className,\n}) => {\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);\n\n  const handleClick = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    if (!isReady) return;\n\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => setAnchorEl(null);\n\n  const { elements: presenceElements, selectedItem } = usePresenceItems({\n    currentLocale,\n    userStatus,\n    dndStatus,\n    onChange: (type) => {\n      switch (type) {\n        case 'available':\n          setAvailable();\n          break;\n        case 'busy':\n          setBusy();\n          break;\n        case 'DND':\n          setDoNotDisturb();\n          break;\n        case 'offline':\n          setInvisible();\n          break;\n        default:\n          break;\n      }\n      handleClose();\n    },\n  });\n\n  const type = selectedItem?.type;\n\n  if (!type) {\n    return null;\n  }\n\n  const title = getPresenceStatusName(userStatus, dndStatus, currentLocale);\n\n  return (\n    <Wrapper>\n      <RcPresence\n        role=\"button\"\n        aria-label=\"presence state\"\n        size=\"large\"\n        type={type}\n        title={title}\n        onClick={handleClick}\n        className={className}\n      />\n      <RcMenu\n        open={Boolean(anchorEl)}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        aria-label=\"choice a presence state\"\n      >\n        {presenceElements}\n      </RcMenu>\n    </Wrapper>\n  );\n};\n"],"file":"index.js"}