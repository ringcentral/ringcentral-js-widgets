{"version":3,"file":"usePresenceItems.js","names":["_react","_interopRequireDefault","require","_presenceStatus","_Presence","_PresenceItem","obj","__esModule","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","usePresenceItems","_ref","onChange","currentLocale","userStatus","dndStatusProp","dndStatus","items","type","presenceStatus","available","selected","doNotAcceptAnyCalls","busy","offline","selectedItem","elements","map","item","createElement","PresenceItem","takeAllCalls","onClick","exports"],"sources":["components/PresenceDropdown/usePresenceItems.tsx"],"sourcesContent":["import React from 'react';\n\nimport { presenceStatus } from '@ringcentral-integration/commons/enums/presenceStatus.enum';\nimport { dndStatus } from '@ringcentral-integration/commons/modules/Presence';\nimport type { RcPresenceType } from '@ringcentral/juno';\n\nimport type { PresenceItemProps } from '../PresenceItem';\nimport { PresenceItem } from '../PresenceItem';\n\ntype UsePresenceItemsParams = {\n  onChange: (type: RcPresenceType) => void;\n  currentLocale: string;\n  userStatus: unknown;\n  dndStatus: unknown;\n};\n\nexport const usePresenceItems = ({\n  onChange,\n  currentLocale,\n  userStatus,\n  dndStatus: dndStatusProp,\n}: UsePresenceItemsParams) => {\n  const items: PresenceItemProps[] = [\n    {\n      type: 'available',\n      userStatus: presenceStatus.available,\n      selected:\n        userStatus === presenceStatus.available &&\n        dndStatusProp !== dndStatus.doNotAcceptAnyCalls,\n    },\n    {\n      type: 'busy',\n      userStatus: presenceStatus.busy,\n      selected:\n        userStatus === presenceStatus.busy &&\n        dndStatusProp !== dndStatus.doNotAcceptAnyCalls,\n    },\n    {\n      type: 'DND',\n      userStatus: presenceStatus.busy,\n      dndStatus: dndStatus.doNotAcceptAnyCalls,\n      selected: dndStatusProp === dndStatus.doNotAcceptAnyCalls,\n    },\n    {\n      type: 'offline',\n      userStatus: presenceStatus.offline,\n      selected:\n        userStatus === presenceStatus.offline &&\n        dndStatusProp !== dndStatus.doNotAcceptAnyCalls,\n    },\n  ];\n  let selectedItem: PresenceItemProps | undefined;\n\n  const elements = items.map((item, key) => {\n    if (item.selected) {\n      selectedItem = item;\n    }\n    return (\n      <PresenceItem\n        key={key}\n        dndStatus={dndStatus.takeAllCalls}\n        currentLocale={currentLocale}\n        // @ts-expect-error TS(2345): Argument of type 'RcPresenceType | undefined' is n... Remove this comment to see the full error message\n        onClick={() => onChange(item.type)}\n        {...item}\n      />\n    );\n  });\n\n  return {\n    selectedItem,\n    elements,\n  };\n};\n"],"mappings":";;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,eAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AAIA,IAAAG,aAAA,GAAAH,OAAA;AAA+C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAAA,SAAAE,SAAA,IAAAA,QAAA,GAAAC,MAAA,CAAAC,MAAA,GAAAD,MAAA,CAAAC,MAAA,CAAAC,IAAA,eAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,GAAAF,SAAA,CAAAD,CAAA,YAAAI,GAAA,IAAAD,MAAA,QAAAP,MAAA,CAAAS,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAJ,MAAA,EAAAC,GAAA,KAAAL,MAAA,CAAAK,GAAA,IAAAD,MAAA,CAAAC,GAAA,gBAAAL,MAAA,YAAAJ,QAAA,CAAAa,KAAA,OAAAP,SAAA;AASxC,IAAMQ,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAAC,IAAA,EAKC;EAAA,IAJ5BC,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IACRC,aAAa,GAAAF,IAAA,CAAbE,aAAa;IACbC,UAAU,GAAAH,IAAA,CAAVG,UAAU;IACCC,aAAa,GAAAJ,IAAA,CAAxBK,SAAS;EAET,IAAMC,KAA0B,GAAG,CACjC;IACEC,IAAI,EAAE,WAAW;IACjBJ,UAAU,EAAEK,8BAAc,CAACC,SAAS;IACpCC,QAAQ,EACNP,UAAU,KAAKK,8BAAc,CAACC,SAAS,IACvCL,aAAa,KAAKC,mBAAS,CAACM;EAChC,CAAC,EACD;IACEJ,IAAI,EAAE,MAAM;IACZJ,UAAU,EAAEK,8BAAc,CAACI,IAAI;IAC/BF,QAAQ,EACNP,UAAU,KAAKK,8BAAc,CAACI,IAAI,IAClCR,aAAa,KAAKC,mBAAS,CAACM;EAChC,CAAC,EACD;IACEJ,IAAI,EAAE,KAAK;IACXJ,UAAU,EAAEK,8BAAc,CAACI,IAAI;IAC/BP,SAAS,EAAEA,mBAAS,CAACM,mBAAmB;IACxCD,QAAQ,EAAEN,aAAa,KAAKC,mBAAS,CAACM;EACxC,CAAC,EACD;IACEJ,IAAI,EAAE,SAAS;IACfJ,UAAU,EAAEK,8BAAc,CAACK,OAAO;IAClCH,QAAQ,EACNP,UAAU,KAAKK,8BAAc,CAACK,OAAO,IACrCT,aAAa,KAAKC,mBAAS,CAACM;EAChC,CAAC,CACF;EACD,IAAIG,YAA2C;EAE/C,IAAMC,QAAQ,GAAGT,KAAK,CAACU,GAAG,CAAC,UAACC,IAAI,EAAEvB,GAAG,EAAK;IACxC,IAAIuB,IAAI,CAACP,QAAQ,EAAE;MACjBI,YAAY,GAAGG,IAAI;IACrB;IACA,oBACExC,MAAA,YAAAyC,aAAA,CAACpC,aAAA,CAAAqC,YAAY,EAAAlC,QAAA;MACXS,GAAG,EAAEA,GAAI;MACTW,SAAS,EAAEA,mBAAS,CAACe,YAAa;MAClClB,aAAa,EAAEA;MACf;MAAA;MACAmB,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMpB,QAAQ,CAACgB,IAAI,CAACV,IAAI,CAAC;MAAA;IAAC,GAC/BU,IAAI,CACT,CAAC;EAEN,CAAC,CAAC;EAEF,OAAO;IACLH,YAAY,EAAZA,YAAY;IACZC,QAAQ,EAARA;EACF,CAAC;AACH,CAAC;AAACO,OAAA,CAAAvB,gBAAA,GAAAA,gBAAA"}