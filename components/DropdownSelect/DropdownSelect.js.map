{"version":3,"sources":["components/DropdownSelect/DropdownSelect.tsx"],"names":["gutter","StyledMenuItem","RcMenuItem","RcListItemText","Label","styled","span","Value","WithLabelWrapper","div","ellipsis","defaultProps","disableGutters","DropdownSelect","props","inputRef","saveContent","_optionsWithLabel","wrapper","dropdownMenu","_toggleShowDropdown","e","searchOption","stopPropagation","disabled","onToggle","customInputEnabled","state","open","window","addEventListener","_handleDocumentClick","current","value","focus","document","execCommand","style","textAlign","valueLength","length","setSelectionRange","removeEventListener","setState","filter","_reSetBoxValue","getSelection","removeAllRanges","isPrevOpen","preState","onChange","option","idx","placeholder","selectedValue","selectedOption","contains","target","_textChangeEmit","customInputLimit","oneOfOptions","options","find","label","x","optionsWithLabel","prevProps","prevState","renderDropdownMenu","menu","buttonPosition","getBoundingClientRect","nextProps","undefined","valueFunction","renderFunction","renderValue","parseInt","defaultTitle","titleEnabled","renderTitle","dropdownClassName","dropdownAlign","currentOptions","styles","dropdown","ref","map","currentValue","selected","display","isOptionDisabled","selectedOptionLabel","selectedOptionLabelHide","reference","iconClassName","className","noPadding","dataSign","wrapperStyle","buttonStyle","selectedClassName","icon","currentLabel","currentIconClassName","iconUp","containerClassName","root","buttonClassName","button","renderSelectedOptionLabel","customInput","inputWithLabel","active","dynamicsFont","arrow","Component","_","StyledDropdownSelect"],"mappings":"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","sourcesContent":["import React, { Component, createRef } from 'react';\n\nimport classnames from 'classnames';\n\nimport {\n  ellipsis,\n  flexWidth,\n  RcListItemText,\n  RcMenuItem,\n  RcMenuList,\n  RcThemeProvider,\n  spacing,\n  styled,\n} from '@ringcentral/juno';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport styles from './styles.scss';\n\nconst gutter = spacing(2.5);\nconst StyledMenuItem = styled(RcMenuItem)`\n  ${RcListItemText} {\n    .RcListItemText-primary {\n      font-size: 13px;\n    }\n    margin: 0;\n  }\n\n  padding-left: ${gutter};\n  padding-right: ${gutter};\n`;\n\nconst Label = styled.span`\n  ${flexWidth('40%')};\n  margin-right: ${spacing(2)};\n`;\n\nconst Value = styled.span`\n  flex: 1 1 auto;\n  text-align: right;\n`;\n\nconst WithLabelWrapper = styled.div`\n  display: flex;\n\n  span {\n    ${ellipsis};\n  }\n`;\n\nStyledMenuItem.defaultProps = {\n  disableGutters: true,\n};\n\ntype DropdownSelectProps = {\n  icon?: React.ReactNode;\n  reference?: (...args: any[]) => any;\n  className?: string;\n  selectedClassName?: string;\n  dropdownClassName?: string;\n  iconClassName?: string;\n  value?: string | object | number;\n  label?: string;\n  onChange?: (...args: any[]) => any;\n  disabled?: boolean;\n  options: any[];\n  valueFunction?: (...args: any[]) => any;\n  renderFunction?: (...args: any[]) => any;\n  renderValue?: (...args: any[]) => any;\n  renderDropdownMenu?: (...args: any[]) => any;\n  renderTitle?: (...args: any[]) => any;\n  titleEnabled?: boolean;\n  dropdownAlign?: 'left' | 'center' | 'right';\n  stopPropagation?: boolean;\n  placeholder?: string;\n  ellipsis?: boolean;\n  noPadding?: boolean;\n  onToggle?: (...args: any[]) => any;\n  searchOption?: (...args: any[]) => any;\n  open?: boolean;\n  wrapperStyle?: string;\n  buttonStyle?: string;\n  dataSign?: string;\n  customInputEnabled?: boolean;\n  optionsWithLabel?: boolean;\n  customInputLimit?: number;\n};\n\ntype DropdownSelectState = {\n  open: boolean;\n  selectedOption: any;\n  filter: unknown;\n};\n\nclass DropdownSelect extends Component<\n  DropdownSelectProps,\n  DropdownSelectState\n> {\n  inputRef = createRef<HTMLInputElement>();\n\n  saveContent: string;\n\n  _optionsWithLabel;\n  wrapper: any;\n  dropdownMenu: any;\n\n  static defaultProps: Partial<DropdownSelectProps> = {\n    icon: undefined,\n    reference: undefined,\n    className: null,\n    selectedClassName: null,\n    dropdownClassName: null,\n    iconClassName: null,\n    value: null,\n    label: null,\n    onChange: undefined,\n    disabled: false,\n    renderDropdownMenu: undefined,\n    renderTitle: undefined,\n    valueFunction: (_, idx) => idx,\n    renderFunction: (option) => option,\n    renderValue: (option) => option,\n    dropdownAlign: 'center',\n    titleEnabled: undefined,\n    stopPropagation: false,\n    placeholder: undefined,\n    ellipsis: true,\n    noPadding: false,\n    onToggle() {},\n    searchOption: null,\n    open: false,\n    wrapperStyle: '',\n    buttonStyle: '',\n    dataSign: 'dropdownSelect',\n    customInputEnabled: false,\n    optionsWithLabel: false,\n    customInputLimit: null,\n  };\n\n  constructor(props: DropdownSelectProps) {\n    super(props);\n    const selectedOption = this.props.options.find(\n      (x) => x.value === this.props.value,\n    );\n    this.state = {\n      open: this.props.open,\n      filter: null,\n      selectedOption: selectedOption || {\n        value: this.props.value,\n        label: 'Custom',\n      },\n    };\n    this._optionsWithLabel =\n      this.props.optionsWithLabel && this.props?.options[0]?.label;\n  }\n\n  _toggleShowDropdown = (e?: any) => {\n    const {\n      searchOption,\n      stopPropagation,\n      disabled,\n      onToggle,\n      customInputEnabled,\n    } = this.props;\n    if (!this.state.open) {\n      window.addEventListener('click', this._handleDocumentClick, false);\n\n      if (searchOption) {\n        this.saveContent = this.inputRef.current.value;\n        this.inputRef.current.focus();\n        if (!customInputEnabled && document.execCommand) {\n          document.execCommand('selectAll', false, null);\n        }\n      }\n      if (this._optionsWithLabel) {\n        this.inputRef.current.style.textAlign = 'left';\n        if (customInputEnabled) {\n          const valueLength = this.inputRef.current.value.length;\n          this.inputRef.current.setSelectionRange(valueLength, valueLength);\n        }\n      }\n    } else {\n      window.removeEventListener('click', this._handleDocumentClick, false);\n      if (searchOption) {\n        this.setState({ filter: null });\n        if (!customInputEnabled) {\n          this._reSetBoxValue();\n        }\n        if (document.getSelection) {\n          document.getSelection().removeAllRanges();\n        }\n      }\n      if (this._optionsWithLabel) {\n        this.inputRef.current.style.textAlign = 'right';\n      }\n    }\n\n    if (e && stopPropagation) {\n      e.stopPropagation();\n    }\n\n    if (disabled) {\n      return;\n    }\n\n    const { open: isPrevOpen } = this.state;\n    onToggle && onToggle(!isPrevOpen);\n\n    this.setState((preState) => ({\n      open: !preState.open,\n    }));\n  };\n\n  onChange = (e: any, option: any, idx: number) => {\n    e.stopPropagation();\n    if (!(this.props.placeholder && idx === 0)) {\n      let selectedValue = option;\n      if (this._optionsWithLabel) {\n        selectedValue = option.value;\n        this.setState({ selectedOption: option });\n      }\n      this.props.onChange(selectedValue, idx);\n    }\n    this._toggleShowDropdown();\n  };\n\n  _handleDocumentClick = (e: any) => {\n    if (this.wrapper && this.wrapper.contains(e.target)) {\n      return;\n    }\n    if (this.dropdownMenu && this.dropdownMenu.contains(e.target)) {\n      return;\n    }\n    this._toggleShowDropdown();\n  };\n\n  _textChangeEmit = (e: any) => {\n    const { customInputLimit } = this.props;\n    if (\n      customInputLimit &&\n      e.target.value &&\n      e.target.value.length > customInputLimit\n    ) {\n      return;\n    }\n    if (this._optionsWithLabel) {\n      const oneOfOptions = this.props.options.find(\n        (option) => option.value === e.target.value,\n      );\n      if (oneOfOptions) {\n        this.setState({ selectedOption: oneOfOptions });\n      } else {\n        this.setState({\n          selectedOption: {\n            label: e.target.value ? 'Custom' : null,\n            value: e.target.value,\n          },\n        });\n      }\n    }\n    if (this.props.searchOption) {\n      this.setState({ filter: e.target.value });\n    }\n    this.props.onChange(e.target.value);\n  };\n\n  _reSetBoxValue() {\n    if (\n      this.inputRef.current &&\n      this.inputRef.current.value !== this.saveContent\n    ) {\n      this.props.onChange(this.saveContent);\n    }\n  }\n\n  componentDidUpdate(\n    prevProps: DropdownSelectProps,\n    prevState: DropdownSelectState,\n  ) {\n    const { renderDropdownMenu, open } = this.props;\n    if (prevState.open !== open) {\n      if (renderDropdownMenu && this.wrapper) {\n        const menu = this.renderDropdownMenu();\n        const buttonPosition = this.wrapper.getBoundingClientRect();\n        renderDropdownMenu(menu, open, buttonPosition);\n      }\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: DropdownSelectProps) {\n    if (nextProps.open !== undefined && nextProps.open !== this.props.open) {\n      this.setState({\n        open: nextProps.open,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('click', this._handleDocumentClick, false);\n  }\n\n  valueFunction(option: any, idx: number) {\n    return this.props.valueFunction(\n      option,\n      this.props.placeholder ? `${idx - 1}` : idx,\n    );\n  }\n\n  renderFunction(option: any, idx: number) {\n    if (this._optionsWithLabel) {\n      return (\n        <WithLabelWrapper>\n          <Label data-sign=\"optionLabel\">{option.label}</Label>\n          <Value data-sign=\"optionValue\">{option.value}</Value>\n        </WithLabelWrapper>\n      );\n    }\n    const { placeholder, renderFunction } = this.props;\n    return placeholder && idx === 0 ? placeholder : renderFunction(option, idx);\n  }\n\n  renderValue(value: any) {\n    const { placeholder, renderValue } = this.props;\n    if (placeholder) {\n      value = parseInt(value, 10) + 1;\n      return value === 0 ? placeholder : renderValue(value - 1);\n    }\n    return renderValue(value);\n  }\n\n  renderTitle(selectedOption: any, defaultTitle: string) {\n    const { titleEnabled, renderTitle } = this.props;\n    if (titleEnabled) {\n      return typeof renderTitle === 'function'\n        ? renderTitle(selectedOption)\n        : defaultTitle;\n    }\n    return '';\n  }\n\n  renderDropdownMenu() {\n    const {\n      placeholder,\n      ellipsis,\n      options,\n      dropdownClassName,\n      value,\n      searchOption,\n      dropdownAlign,\n    } = this.props;\n\n    const { filter } = this.state;\n\n    let currentOptions = placeholder ? [{}, ...options] : options;\n\n    if (searchOption && filter) {\n      if (this._optionsWithLabel) {\n        currentOptions = currentOptions.filter((option) =>\n          searchOption(option.value, filter),\n        );\n      } else {\n        currentOptions = currentOptions.filter((option) =>\n          searchOption(option, filter),\n        );\n      }\n    }\n    return (\n      <RcMenuList\n        className={classnames(styles.dropdown, dropdownClassName)}\n        ref={(ref: any) => {\n          this.dropdownMenu = ref;\n        }}\n      >\n        {currentOptions.map((option, idx) => {\n          const currentValue = this.valueFunction(option, idx);\n          const selected = value === currentValue;\n\n          const display = this.renderFunction(option, idx);\n          const isOptionDisabled = option?.disabled ?? false;\n          return (\n            <StyledMenuItem\n              data-sign=\"selectMenuItem\"\n              key={currentValue || idx}\n              selected={selected}\n              className={classnames(\n                styles[dropdownAlign],\n                ellipsis && styles.ellipsis,\n                placeholder && styles.placeholder,\n              )}\n              title={this.renderTitle(option, option.value || display)}\n              onClick={(e) => {\n                if (!isOptionDisabled) {\n                  this.onChange(e, option, idx);\n                }\n              }}\n            >\n              <RcListItemText>{display}</RcListItemText>\n            </StyledMenuItem>\n          );\n        })}\n      </RcMenuList>\n    );\n  }\n\n  renderSelectedOptionLabel() {\n    const { open, selectedOption } = this.state;\n    if (!this._optionsWithLabel) return null;\n    return (\n      <span\n        data-sign=\"selectedLabel\"\n        className={classnames(\n          styles.selectedOptionLabel,\n          open ? styles.selectedOptionLabelHide : null,\n        )}\n      >\n        {selectedOption.label}\n      </span>\n    );\n  }\n\n  render() {\n    const {\n      reference,\n      ellipsis,\n      label,\n      iconClassName,\n      className,\n      disabled,\n      noPadding,\n      renderDropdownMenu,\n      value,\n      dataSign,\n      wrapperStyle,\n      buttonStyle,\n      options,\n      selectedClassName,\n      icon,\n      searchOption,\n      customInputEnabled,\n    } = this.props;\n    const { open, selectedOption } = this.state;\n    const currentLabel = label ? (\n      <label htmlFor=\"searchInput\">{label}</label>\n    ) : null;\n    const currentIconClassName = classnames(\n      styles.icon,\n      open ? styles.iconUp : null,\n      iconClassName,\n    );\n    const containerClassName = classnames(\n      styles.root,\n      className,\n      disabled ? styles.disabled : null,\n      open ? styles.open : null,\n      noPadding ? styles.noPadding : null,\n    );\n    const buttonClassName = classnames(\n      styles.button,\n      disabled ? styles.disabled : null,\n    );\n    const dropdownMenu = renderDropdownMenu ? null : this.renderDropdownMenu();\n    const renderValue = this.renderValue(value);\n    const selectedOptionLabel = this.renderSelectedOptionLabel();\n    return (\n      <RcThemeProvider>\n        <div\n          data-sign={dataSign}\n          className={classnames(containerClassName, wrapperStyle)}\n          ref={(ref) => {\n            if (reference) reference(ref);\n            this.wrapper = ref;\n          }}\n        >\n          <div\n            data-sign=\"selectRoot\"\n            className={classnames(buttonClassName, buttonStyle)}\n            onClick={this._toggleShowDropdown}\n            title={this.renderTitle(options[value as number], renderValue)}\n          >\n            {currentLabel}\n            {searchOption || customInputEnabled ? (\n              <input\n                ref={this.inputRef}\n                data-sign=\"selectedItem\"\n                className={classnames(\n                  styles.customInput,\n                  ellipsis && styles.ellipsis,\n                  selectedClassName,\n                  this._optionsWithLabel && styles.inputWithLabel,\n                  open && this._optionsWithLabel && styles.active,\n                )}\n                value={\n                  this._optionsWithLabel ? selectedOption.value : renderValue\n                }\n                onChange={this._textChangeEmit}\n                id=\"searchInput\"\n                autoComplete=\"off\"\n              />\n            ) : (\n              <span\n                ref={this.inputRef}\n                data-sign=\"selectedItem\"\n                className={classnames(\n                  styles.selectedValue,\n                  ellipsis && styles.ellipsis,\n                  selectedClassName,\n                  this._optionsWithLabel && styles.inputWithLabel,\n                )}\n              >\n                {renderValue}\n              </span>\n            )}\n            <span className={currentIconClassName}>\n              {icon === undefined ? <i className={dynamicsFont.arrow} /> : icon}\n            </span>\n            {this._optionsWithLabel && selectedOptionLabel}\n          </div>\n          {dropdownMenu}\n        </div>\n      </RcThemeProvider>\n    );\n  }\n}\n\nexport const StyledDropdownSelect = styled(DropdownSelect)``;\nexport default DropdownSelect;\n"],"file":"DropdownSelect.js"}