{"version":3,"file":"utils.js","names":["_callDirections","_interopRequireDefault","require","_i18n","e","__esModule","pickEleByProps","props","arguments","length","undefined","list","keys","Object","result","filter","item","shouldPicked","every","key","exports","pickFallBackInfo","call","contactName","currentLocale","direction","fallBackName","fallBackNumber","getName","target","activityMatches","SINGLE_OR_NONE_MATCH","i18n","getString","getNumber","numberObj","extensionNumber","phoneNumber","callDirection","inbound","from","outbound","to"],"sources":["components/SimpleCallControlPanel/utils.ts"],"sourcesContent":["import callDirection from '@ringcentral-integration/commons/enums/callDirections';\n\nimport i18n from './i18n';\n\nexport const pickEleByProps = (props = {}, list = []) => {\n  const keys = Object.keys(props);\n  const result = list.filter((item) => {\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    const shouldPicked = keys.every((key) => props[key] === item[key]);\n    return shouldPicked;\n  });\n  return result;\n};\n\nexport const pickFallBackInfo = (\n  call: any,\n  contactName: any,\n  currentLocale: any,\n) => {\n  const direction = call?.direction;\n  let fallBackName = contactName;\n  let fallBackNumber = '';\n\n  function getName(target: any) {\n    const { activityMatches } = target;\n    const SINGLE_OR_NONE_MATCH = 2;\n    if (!contactName) {\n      if (activityMatches && activityMatches.length < SINGLE_OR_NONE_MATCH) {\n        return i18n.getString('Unknown', currentLocale);\n      }\n      return i18n.getString('Multiple', currentLocale);\n    }\n    return contactName;\n  }\n\n  function getNumber(numberObj: any) {\n    const { extensionNumber, phoneNumber } = numberObj;\n    return phoneNumber || extensionNumber || numberObj;\n  }\n\n  switch (direction) {\n    case callDirection.inbound: {\n      fallBackName = getName(call);\n      fallBackNumber = getNumber(call.from);\n      break;\n    }\n    case callDirection.outbound: {\n      fallBackName = getName(call);\n      fallBackNumber = getNumber(call.to);\n      break;\n    }\n\n    default:\n      break;\n  }\n  return {\n    fallBackName,\n    fallBackNumber,\n  };\n};\n"],"mappings":";;;;;;;;;AAAA,IAAAA,eAAA,GAAAC,sBAAA,CAAAC,OAAA;AAEA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAEnB,IAAME,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAA8B;EAAA,IAA1BC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,CAAC,CAAC;EAAA,IAAEG,IAAI,GAAAH,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAG,EAAE;EAClD,IAAMI,IAAI,GAAGC,MAAM,CAACD,IAAI,CAACL,KAAK,CAAC;EAC/B,IAAMO,MAAM,GAAGH,IAAI,CAACI,MAAM,CAAC,UAACC,IAAI,EAAK;IACnC;IACA,IAAMC,YAAY,GAAGL,IAAI,CAACM,KAAK,CAAC,UAACC,GAAG;MAAA,OAAKZ,KAAK,CAACY,GAAG,CAAC,KAAKH,IAAI,CAACG,GAAG,CAAC;IAAA,EAAC;IAClE,OAAOF,YAAY;EACrB,CAAC,CAAC;EACF,OAAOH,MAAM;AACf,CAAC;AAACM,OAAA,CAAAd,cAAA,GAAAA,cAAA;AAEK,IAAMe,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAC3BC,IAAS,EACTC,WAAgB,EAChBC,aAAkB,EACf;EACH,IAAMC,SAAS,GAAGH,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEG,SAAS;EACjC,IAAIC,YAAY,GAAGH,WAAW;EAC9B,IAAII,cAAc,GAAG,EAAE;EAEvB,SAASC,OAAOA,CAACC,MAAW,EAAE;IAAA,IACpBC,eAAe,GAAKD,MAAM,CAA1BC,eAAe;IACvB,IAAMC,oBAAoB,GAAG,CAAC;IAC9B,IAAI,CAACR,WAAW,EAAE;MAChB,IAAIO,eAAe,IAAIA,eAAe,CAACrB,MAAM,GAAGsB,oBAAoB,EAAE;QACpE,OAAOC,gBAAI,CAACC,SAAS,CAAC,SAAS,EAAET,aAAa,CAAC;MACjD;MACA,OAAOQ,gBAAI,CAACC,SAAS,CAAC,UAAU,EAAET,aAAa,CAAC;IAClD;IACA,OAAOD,WAAW;EACpB;EAEA,SAASW,SAASA,CAACC,SAAc,EAAE;IAAA,IACzBC,eAAe,GAAkBD,SAAS,CAA1CC,eAAe;MAAEC,WAAW,GAAKF,SAAS,CAAzBE,WAAW;IACpC,OAAOA,WAAW,IAAID,eAAe,IAAID,SAAS;EACpD;EAEA,QAAQV,SAAS;IACf,KAAKa,0BAAa,CAACC,OAAO;MAAE;QAC1Bb,YAAY,GAAGE,OAAO,CAACN,IAAI,CAAC;QAC5BK,cAAc,GAAGO,SAAS,CAACZ,IAAI,CAACkB,IAAI,CAAC;QACrC;MACF;IACA,KAAKF,0BAAa,CAACG,QAAQ;MAAE;QAC3Bf,YAAY,GAAGE,OAAO,CAACN,IAAI,CAAC;QAC5BK,cAAc,GAAGO,SAAS,CAACZ,IAAI,CAACoB,EAAE,CAAC;QACnC;MACF;IAEA;MACE;EACJ;EACA,OAAO;IACLhB,YAAY,EAAZA,YAAY;IACZC,cAAc,EAAdA;EACF,CAAC;AACH,CAAC;AAACP,OAAA,CAAAC,gBAAA,GAAAA,gBAAA","ignoreList":[]}