{"version":3,"file":"SelectableTextField.js","names":["_springUi","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_SimpleTextField","_excluded","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","u","next","done","push","value","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","motionProps","getGrow","direction","transformOrigin","vertical","horizontal","SelectableTextField","exports","_ref","label","options","onChange","_ref$disabled","disabled","_ref$searchable","searchable","_ref$freeSoloOptionLa","freeSoloOptionLabel","debug","rest","inputRef","useRef","ref","endRef","focusedIndexRef","_useState","useState","_useState2","inputFocus","setInputFocus","_useState3","_useState4","menuOpened","_setMenuOpened","_useState5","_useState6","searching","setSearching","_useRefState","useRefState","_useRefState2","innerValueRef","setInnerValue","forceUpdate","useForceUpdate","innerValue","current","displayOptions","useMemo","filter","_ref2","includes","selectedLabel","selected","find","option","hasOptions","setMenuOpened","val","selectItem","fakeFocus","_useKeyboardMoveFocus","useKeyboardMoveFocus","infinite","columns","onFocusedIndexChange","event","toIndex","preventDefault","onKeyFocusedIndexHandle","hideLabel","actionRef","_actionRef$current","createElement","Fragment","SimpleTextField","action","className","startAdornment","clsx","title","endAdornment","Squircle","interactive","ExpandCollapseCaret","onClick","tabIndex","size","expanded","undefined","currentValue","target","onFocus","inputElm","setSelectionPosition","start","end","onKeyDown","key","onBlur","trim","_options$","Menu","disableAutoFocus","disableRestoreFocus","placement","PopperProps","offset","matchAnchorWidth","classes","paper","root","open","Boolean","anchorEl","map","_ref3","ListItem","divider","focused","onMouseDown"],"sources":["components/SelectableTextField/SelectableTextField.tsx"],"sourcesContent":["import {\n  ExpandCollapseCaret,\n  getGrow,\n  ListItem,\n  Menu,\n  setSelectionPosition,\n  Squircle,\n  useForceUpdate,\n  useKeyboardMoveFocus,\n  useRefState,\n} from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport React, { useMemo, useRef, useState } from 'react';\n\nimport {\n  SimpleTextField,\n  SimpleTextFieldAction,\n  SimpleTextFieldProps,\n} from './SimpleTextField';\n\ntype SelectableTextFieldProps = {\n  label: string;\n  options: { label: string; value: string }[];\n  value: string;\n  onChange: (newValue: string) => void;\n  disabled?: boolean;\n  searchable?: boolean;\n  /**\n   * Label for the custom option\n   */\n  freeSoloOptionLabel?: string;\n  /**\n   * debug mode for development\n   */\n  debug?: boolean;\n} & Omit<SimpleTextFieldProps, 'onChange'>;\n\nconst motionProps = getGrow({\n  direction: 'y',\n  transformOrigin: {\n    vertical: 'bottom',\n    horizontal: 'center',\n  },\n});\n\n/**\n * A text field with a dropdown menu that allows selecting from a list of options.\n *\n * also support search feature when `searchable` is `true`\n */\nexport const SelectableTextField: React.FC<SelectableTextFieldProps> = ({\n  label,\n  options,\n  value,\n  onChange,\n  disabled = false,\n  searchable = false,\n  freeSoloOptionLabel = 'Custom',\n  debug,\n  ...rest\n}) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n  const ref = useRef<HTMLDivElement>(null);\n  const endRef = useRef<HTMLDivElement>(null);\n  const focusedIndexRef = useRef(-1);\n\n  const [inputFocus, setInputFocus] = useState(false);\n  const [menuOpened, _setMenuOpened] = useState(false);\n  const [searching, setSearching] = useState(false);\n  const [innerValueRef, setInnerValue] = useRefState(value);\n  const forceUpdate = useForceUpdate();\n\n  const innerValue = innerValueRef.current;\n\n  const displayOptions = useMemo(() => {\n    if (!searching || !searchable) return options;\n\n    return options.filter(({ value }) => value.includes(innerValue));\n  }, [options, innerValue, searching, searchable]);\n\n  const selectedLabel = useMemo(() => {\n    if (!value) return '';\n\n    const selected = options.find((option) => option.value === value);\n    return selected ? selected.label : freeSoloOptionLabel;\n  }, [value, options, freeSoloOptionLabel]);\n\n  const hasOptions = options.length > 0;\n\n  const setMenuOpened = (val: boolean) => {\n    if (menuOpened && menuOpened !== val) {\n      focusedIndexRef.current = -1;\n      setSearching(false);\n    }\n    _setMenuOpened(val);\n  };\n\n  const selectItem = (value: string) => {\n    setMenuOpened(false);\n    setInnerValue(value);\n    onChange(value);\n    setInputFocus(false);\n    fakeFocus();\n  };\n\n  const { onKeyFocusedIndexHandle } = useKeyboardMoveFocus({\n    options: displayOptions,\n    focusedIndexRef,\n    infinite: true,\n    columns: 1,\n    onFocusedIndexChange: (event, toIndex) => {\n      event.preventDefault();\n      focusedIndexRef.current = toIndex;\n      forceUpdate();\n    },\n  });\n\n  const hideLabel = inputFocus || !hasOptions;\n\n  const actionRef = useRef<SimpleTextFieldAction>(null);\n\n  const fakeFocus = () => {\n    actionRef.current?.fakeFocus();\n  };\n\n  return (\n    <>\n      <SimpleTextField\n        ref={ref}\n        inputRef={inputRef}\n        action={actionRef}\n        label={label}\n        className=\"w-full\"\n        disabled={disabled}\n        startAdornment={\n          !!selectedLabel &&\n          !hideLabel && (\n            <span\n              data-sign=\"selectedLabel\"\n              className={clsx('typography-mainText max-w-20 truncate')}\n              title={selectedLabel}\n            >\n              {selectedLabel}\n            </span>\n          )\n        }\n        endAdornment={\n          hasOptions ? (\n            <Squircle\n              ref={endRef}\n              className={clsx(\n                'sui-select-chevron',\n                '-mr-1',\n                menuOpened\n                  ? 'text-primary-f sui-squircle-bg-color-neutral-b4'\n                  : '',\n              )}\n              interactive={false}\n            >\n              <ExpandCollapseCaret\n                data-sign=\"expandCollapseCaret\"\n                onClick={() => {\n                  if (menuOpened) {\n                    fakeFocus();\n                  }\n                }}\n                tabIndex={-1}\n                size={'small'}\n                expanded={menuOpened}\n                className={disabled ? 'text-neutral-b3' : ''}\n              />\n            </Squircle>\n          ) : undefined\n        }\n        value={inputFocus ? innerValueRef.current : value}\n        onChange={(e) => {\n          focusedIndexRef.current = -1;\n          const currentValue = e.target.value;\n          setInnerValue(currentValue);\n          if (searchable && menuOpened) {\n            setSearching(true);\n          }\n          setMenuOpened(true);\n        }}\n        onFocus={() => {\n          setMenuOpened(true);\n          setInputFocus(true);\n          const inputElm = inputRef.current;\n          if (inputElm) {\n            setSelectionPosition(inputElm, {\n              start: 0,\n              end: inputElm.value.length,\n            });\n          }\n        }}\n        onKeyDown={(e) => {\n          if (e.key === 'Enter') {\n            if (menuOpened && focusedIndexRef.current >= 0) {\n              selectItem(displayOptions[focusedIndexRef.current].value);\n            }\n\n            fakeFocus();\n            e.preventDefault();\n            return;\n          }\n\n          if (!menuOpened && (e.key === 'ArrowDown' || e.key === 'ArrowUp')) {\n            setMenuOpened(true);\n            focusedIndexRef.current = 0;\n            e.preventDefault();\n            return;\n          }\n\n          if (e.key === 'Escape') {\n            if (menuOpened) {\n              setMenuOpened(false);\n            } else {\n              setInnerValue(value, false);\n              fakeFocus();\n            }\n            e.preventDefault();\n            return;\n          }\n\n          onKeyFocusedIndexHandle(e);\n        }}\n        onBlur={() => {\n          if (debug) return;\n\n          setMenuOpened(false);\n          setInputFocus(false);\n          const innerValue = innerValueRef.current;\n          if (!innerValue.trim()) {\n            setInnerValue(value);\n          } else {\n            onChange(innerValue || options?.[0]?.value || '');\n          }\n        }}\n        {...rest}\n      />\n\n      <Menu\n        data-sign=\"autocompleteMenu\"\n        disableAutoFocus\n        disableRestoreFocus\n        placement=\"bottom\"\n        PopperProps={{\n          offset: 0,\n          matchAnchorWidth: true,\n        }}\n        classes={{\n          paper: 'pointer-events-auto max-w-full',\n          root: displayOptions.length === 0 ? 'hidden' : '',\n        }}\n        // make whole not able to receive focus and click event\n        className=\"pointer-events-none\"\n        motionProps={motionProps}\n        open={Boolean(ref.current) && menuOpened}\n        anchorEl={ref.current}\n      >\n        {displayOptions.map(({ label, value }, i) => (\n          <ListItem\n            data-sign=\"selectMenuItem\"\n            key={value}\n            divider={false}\n            focused={focusedIndexRef.current === i}\n            onClick={() => {\n              selectItem(value);\n            }}\n            onMouseDown={(e) => {\n              e.preventDefault();\n            }}\n          >\n            <div className=\"flex justify-between w-full typography-mainText\">\n              <span>{label}</span>\n              <span>{value}</span>\n            </div>\n          </ListItem>\n        ))}\n      </Menu>\n    </>\n  );\n};\n"],"mappings":"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","ignoreList":[]}