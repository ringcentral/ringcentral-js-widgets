{"version":3,"file":"LogBasicInfo.js","names":["_react","_interopRequireDefault","require","_classnames","_ramda","_callDirections","_callResults","_telephonyStatus","_callLogHelpers","_formatDuration","_juno","_junoIcon","_DynamicsFont","_DurationCounter","_RecordingIndicator","_CallIcon","_i18n","_ShinyBar","_styles","_styles2","_callIconMap","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_extends","Object","assign","bind","target","i","arguments","length","source","key","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","_defineProperty","value","_toPropertyKey","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","TypeError","Number","callIconMap","callResults","missed","dynamicsFont","callDirections","inbound","outbound","telephonyStatuses","ringing","callHover","getInfoStatus","status","onHold","callConnected","SubCallInfoSection","_ref","_ref$displayCallLog","displayCallLog","logName","subContactNameDisplay","entityDetailLink","disabledSwitchButton","currentLocale","disableLinks","isWide","showRecordingIndicator","openEntityDetailLinkTrack","onSwitchWarmTransferSession","startTime","offset","duration","telephonyStatus","isRecording","getDurationElm","durationElement","createElement","formatDuration","infoStatus","StyleSubBox","className","classnames","styles","root","classic","ShinyBar","top","SubInfoWrapper","RcIcon","symbol","Hold","size","color","SubInfoName","$isWide","title","concat","RcLink","variant","onClick","window","open","RcText","component","align","StyledSubSide","StyledSubRecordingIndicator","RecordingIndicator","customClass","subRecordingIndicator","dataSign","StyledTransferSwitchButton","i18n","getString","disabled","ResendFax","ActiveCallInfoSection","_ref2","_ref2$displayCallLog","formatPhone","dateTimeFormatter","direction","to","from","result","number","phoneNumber","extensionNumber","formatNumber","isMissed","statusI18n","isRinging","logBasicInfo","leftSectionInfo","CallIcon","iconClassName","icon","callDisplay","info","follow","time","StyledSide","recordingIndicator","utcTimestamp","locale","LogBasicInfo","React","memo","props","currentLog","subCallLog","rest","disabledCtrl","Fragment","prevProps","nextProps","_nextProps$currentLog","_prevProps$currentLog","_nextProps$currentLog2","isEmpty","defaultProps","_default","exports"],"sources":["components/LogBasicInfoV2/LogBasicInfo.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React from 'react';\n\nimport classnames from 'classnames';\nimport { isEmpty } from 'ramda';\n\nimport callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport callResults from '@ringcentral-integration/commons/enums/callResults';\nimport type { TelephonyStatus } from '@ringcentral-integration/commons/enums/telephonyStatus';\nimport telephonyStatuses from '@ringcentral-integration/commons/enums/telephonyStatus';\nimport type { Call } from '@ringcentral-integration/commons/interfaces/Call.interface';\nimport { isMissed } from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport { formatDuration } from '@ringcentral-integration/commons/lib/formatDuration';\nimport { RcIcon, RcLink, RcText } from '@ringcentral/juno';\nimport { Hold, ResendFax } from '@ringcentral/juno-icon';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport DurationCounter from '../DurationCounter';\nimport { RecordingIndicator } from '../RecordingIndicator';\nimport { CallIcon } from './CallIcon';\nimport i18n from './i18n';\nimport { ShinyBar } from './ShinyBar';\nimport {\n  StyledSide,\n  StyledSubRecordingIndicator,\n  StyledSubSide,\n  StyledTransferSwitchButton,\n  StyleSubBox,\n  SubInfoName,\n  SubInfoWrapper,\n} from './styles';\nimport styles from './styles.scss';\n\nconst callIconMap = {\n  [callResults.missed]: dynamicsFont.missed,\n  [callDirections.inbound]: dynamicsFont.inbound,\n  [callDirections.outbound]: dynamicsFont.outbound,\n  [telephonyStatuses.ringing]: dynamicsFont.callHover,\n};\nfunction getInfoStatus(status?: TelephonyStatus) {\n  switch (status) {\n    case telephonyStatuses.onHold:\n      return 'onHold';\n    case telephonyStatuses.callConnected:\n    case telephonyStatuses.ringing:\n      return 'active';\n    default:\n      return 'callEnd';\n  }\n}\n\ninterface ILogInfo {\n  call?: Call;\n  logName?: string;\n  subContactNameDisplay?: string;\n  entityDetailLink?: string;\n}\n\ntype LogBasicInfoProps = {\n  currentLocale?: string;\n  formatPhone?: (...args: any[]) => string;\n  currentLog?: ILogInfo;\n  subCallLog?: ILogInfo;\n  dataSign?: string;\n  disableLinks?: boolean;\n  dateTimeFormatter: (...args: any[]) => any;\n  isWide?: boolean;\n  className?: string;\n  showRecordingIndicator?: boolean;\n  openEntityDetailLinkTrack?: (...args: any[]) => any;\n  onSwitchWarmTransferSession?: () => any;\n  disabledSwitchButton: boolean;\n};\n\ntype CallInfoProps = Omit<LogBasicInfoProps, 'currentLog'> & {\n  displayCallLog: ILogInfo;\n};\n\nconst SubCallInfoSection: FunctionComponent<CallInfoProps> = ({\n  displayCallLog: { call, logName, subContactNameDisplay, entityDetailLink },\n  disabledSwitchButton,\n  currentLocale,\n  disableLinks,\n  isWide,\n  showRecordingIndicator,\n  openEntityDetailLinkTrack,\n  onSwitchWarmTransferSession,\n}) => {\n  if (!call) return null;\n  // @ts-expect-error TS(2339): Property 'offset' does not exist on type 'Call'.\n  const { startTime, offset, duration, telephonyStatus, isRecording } = call;\n\n  function getDurationElm() {\n    let durationElement = null;\n    if (typeof duration === 'undefined') {\n      durationElement = disableLinks ? (\n        // TODO: should find what is that key, this unavailable is not exist\n        // i18n.getString('unavailable', currentLocale)\n        'unavailable'\n      ) : (\n        // @ts-expect-error TS(2322): Type 'number | undefined' is not assignable to typ... Remove this comment to see the full error message\n        <DurationCounter startTime={startTime} offset={offset} />\n      );\n    } else {\n      durationElement = formatDuration(duration);\n    }\n    return durationElement;\n  }\n  const durationElement = getDurationElm();\n  const infoStatus = getInfoStatus(telephonyStatus);\n  return (\n    <StyleSubBox>\n      <div\n        data-sign=\"subLogSection\"\n        className={classnames(\n          styles.root,\n          !isWide && styles.classic,\n          styles[infoStatus],\n        )}\n      >\n        <ShinyBar className={styles.top} status={infoStatus} />\n        <SubInfoWrapper>\n          <RcIcon\n            data-sign=\"subInfoHoldIcon\"\n            symbol={Hold}\n            size=\"small\"\n            color=\"nav.f02\"\n          />\n          <SubInfoName\n            $isWide={isWide}\n            className={styles.logName}\n            title={`${\n              subContactNameDisplay\n                ? `${logName} ${subContactNameDisplay}`\n                : logName\n            }`}\n            data-sign=\"subLogName\"\n          >\n            {entityDetailLink ? (\n              <RcLink\n                variant=\"inherit\"\n                onClick={() => {\n                  window.open(entityDetailLink, '_blank');\n                  openEntityDetailLinkTrack?.('call log page');\n                }}\n              >\n                {logName}\n              </RcLink>\n            ) : (\n              logName\n            )}\n            {subContactNameDisplay && (\n              <RcText\n                color=\"neutral.f04\"\n                component=\"span\"\n                align=\"center\"\n                variant=\"caption1\"\n              >\n                {` ${subContactNameDisplay}`}\n              </RcText>\n            )}\n          </SubInfoName>\n          <StyledSubSide>\n            <p data-sign=\"subCallDuration\">{durationElement}</p>\n            {showRecordingIndicator && isRecording && (\n              <StyledSubRecordingIndicator>\n                <RecordingIndicator\n                  customClass={styles.subRecordingIndicator}\n                  dataSign=\"subRecordingIndicator\"\n                />\n              </StyledSubRecordingIndicator>\n            )}\n          </StyledSubSide>\n        </SubInfoWrapper>\n      </div>\n      <StyledTransferSwitchButton\n        data-sign=\"warmTransferSwitchCallButton\"\n        variant=\"contained\"\n        color=\"neutral.b01\"\n        size=\"small\"\n        onClick={onSwitchWarmTransferSession}\n        title={i18n.getString('warmTransferSwitchCall', currentLocale)}\n        disabled={disableLinks || disabledSwitchButton}\n      >\n        <RcIcon color=\"interactive.b02\" size=\"inherit\" symbol={ResendFax} />\n      </StyledTransferSwitchButton>\n    </StyleSubBox>\n  );\n};\n\nconst ActiveCallInfoSection: FunctionComponent<CallInfoProps> = ({\n  displayCallLog: { call, logName, subContactNameDisplay, entityDetailLink },\n  formatPhone,\n  currentLocale,\n  dataSign,\n  disableLinks,\n  dateTimeFormatter,\n  isWide,\n  className,\n  showRecordingIndicator,\n  openEntityDetailLinkTrack,\n}) => {\n  if (!call) return null;\n\n  const {\n    direction,\n    to,\n    from,\n    startTime,\n    // @ts-expect-error TS(2339): Property 'offset' does not exist on type 'Call'.\n    offset,\n    duration,\n    result,\n    telephonyStatus,\n    isRecording,\n  } = call;\n\n  function getDurationElm() {\n    let durationElement = null;\n    if (typeof duration === 'undefined') {\n      durationElement = disableLinks ? (\n        // TODO: should find what is that key, this unavailable is not exist\n        // i18n.getString('unavailable', currentLocale)\n        'unavailable'\n      ) : (\n        // @ts-expect-error TS(2322): Type 'number | undefined' is not assignable to typ... Remove this comment to see the full error message\n        <DurationCounter startTime={startTime} offset={offset} />\n      );\n    } else {\n      durationElement = formatDuration(duration);\n    }\n    return durationElement;\n  }\n  const number =\n    direction === callDirections.outbound\n      ? to && (to.phoneNumber || to.extensionNumber)\n      : from && (from.phoneNumber || from.extensionNumber);\n  const formatNumber = formatPhone?.(number);\n  // @ts-expect-error TS(2345): Argument of type 'Call' is not assignable to param... Remove this comment to see the full error message\n  const missed = isMissed(call);\n  const durationElement = getDurationElm();\n  const status = result || telephonyStatus;\n  // @ts-expect-error TS(2345): Argument of type 'string | undefined' is not assig... Remove this comment to see the full error message\n  const statusI18n = i18n.getString(status, currentLocale);\n  const isRinging = status === telephonyStatuses.ringing;\n  // @ts-expect-error TS(2345): Argument of type '\"NoCall\" | \"OnHold\" | \"Ringing\" ... Remove this comment to see the full error message\n  const infoStatus = getInfoStatus(status);\n  return (\n    <div\n      data-sign=\"logSection\"\n      className={classnames(\n        styles.root,\n        !isWide && styles.classic,\n        styles[infoStatus],\n        className,\n        styles.logBasicInfo,\n      )}\n    >\n      <ShinyBar\n        className={styles.top}\n        isRinging={isRinging}\n        status={infoStatus}\n      />\n      <div data-sign={dataSign} className={styles.leftSectionInfo}>\n        <CallIcon\n          title={\n            missed\n              ? i18n.getString(callResults.missed, currentLocale)\n              : // @ts-expect-error TS(2345): Argument of type 'string | undefined' is not assig... Remove this comment to see the full error message\n                i18n.getString(direction, currentLocale)\n          }\n          iconClassName={classnames(\n            styles.icon,\n            // @ts-expect-error TS(2538): Type 'undefined' cannot be used as an index type.\n            callIconMap[missed ? callResults.missed : direction],\n          )}\n        />\n        <ul className={styles.callDisplay}>\n          <li className={styles.info}>\n            <RcText\n              className={styles.logName}\n              title={`${\n                subContactNameDisplay\n                  ? `${logName} ${subContactNameDisplay}`\n                  : logName\n              }`}\n              data-sign=\"logName\"\n            >\n              {entityDetailLink ? (\n                <RcLink\n                  variant=\"inherit\"\n                  onClick={() => {\n                    window.open(entityDetailLink, '_blank');\n                    openEntityDetailLinkTrack?.('call log page');\n                  }}\n                >\n                  {logName}\n                </RcLink>\n              ) : (\n                logName\n              )}\n              {subContactNameDisplay && (\n                <RcText\n                  color=\"neutral.f04\"\n                  component=\"span\"\n                  align=\"center\"\n                  variant=\"caption1\"\n                >\n                  {` ${subContactNameDisplay}`}\n                </RcText>\n              )}\n            </RcText>\n\n            <p className={classnames(styles.follow, styles['text-ellipsis'])}>\n              <span title={formatNumber} data-sign=\"phoneNumber\">\n                {formatNumber}\n              </span>\n              <span data-sign=\"callStatus\" title={statusI18n}>\n                {statusI18n}\n              </span>\n            </p>\n          </li>\n          <li className={styles['flex-fill']} />\n          {isWide ? (\n            <li className={styles.time}>\n              <StyledSide>\n                {durationElement}\n                {showRecordingIndicator && isRecording && (\n                  <RecordingIndicator\n                    customClass={styles.recordingIndicator}\n                    dataSign=\"recordingIndicator\"\n                  />\n                )}\n              </StyledSide>\n              <p>\n                {dateTimeFormatter({\n                  utcTimestamp: startTime,\n                  locale: currentLocale,\n                })}\n              </p>\n            </li>\n          ) : (\n            <li className={classnames(styles.follow, styles.time)}>\n              <p>{durationElement}</p>\n              <p>\n                {dateTimeFormatter({\n                  utcTimestamp: startTime,\n                  locale: currentLocale,\n                })}\n              </p>\n              {showRecordingIndicator && isRecording && (\n                <RecordingIndicator\n                  customClass={styles.recordingIndicator}\n                  dataSign=\"recordingIndicator\"\n                />\n              )}\n            </li>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nconst LogBasicInfo: React.SFC<LogBasicInfoProps> = React.memo(\n  (props) => {\n    const { currentLog, subCallLog, ...rest } = props;\n\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    const status = currentLog?.call.result || currentLog?.call.telephonyStatus;\n    const disabledCtrl = status === telephonyStatuses.ringing;\n    return (\n      <>\n        {subCallLog && (\n          <SubCallInfoSection\n            displayCallLog={subCallLog}\n            // @ts-expect-error TS(2783): 'disabledSwitchButton' is specified more than once... Remove this comment to see the full error message\n            disabledSwitchButton={disabledCtrl}\n            {...rest}\n          />\n        )}\n        {/* @ts-expect-error TS(2322): Type 'ILogInfo | undefined' is not */}\n        <ActiveCallInfoSection displayCallLog={currentLog} {...rest} />\n      </>\n    );\n  },\n  (prevProps, nextProps) => {\n    // current call will be {} temporally when the call is ended\n    // will not update log info component at that time\n    if (\n      nextProps.currentLog?.call !== prevProps.currentLog?.call &&\n      isEmpty(nextProps.currentLog?.call)\n    ) {\n      return true;\n    }\n    return false;\n  },\n);\n\nLogBasicInfo.defaultProps = {\n  formatPhone: (value) => value,\n  currentLog: {},\n  dataSign: undefined,\n  disableLinks: false,\n  isWide: true,\n  currentLocale: 'en',\n  className: undefined,\n  showRecordingIndicator: false,\n};\nexport default LogBasicInfo;\n"],"mappings":"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"}