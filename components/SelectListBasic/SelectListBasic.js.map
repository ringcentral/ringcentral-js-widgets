{"version":3,"file":"SelectListBasic.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_utils","_juno","_junoIcon","_toolTipDelayTime","_AnimationPanel","_BackHeaderV","_Tooltip","_i18n","_i18n2","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","isArray","defaultRenderListView","SelectListBasic","_ref","_ref$options","options","_ref$otherOptions","otherOptions","_ref$associatedOption","associatedOptions","_ref$showOtherSection","showOtherSection","_ref$showAssociatedSe","showAssociatedSection","_ref$placeholder","placeholder","_ref$rightIcon","rightIcon","_ref$setOpen","setOpen","emptyFn","_ref$open","open","_ref$renderListView","renderListView","_ref$scrollCheck","scrollCheck","_ref$selectListBasicC","selectListBasicClassName","_ref$backHeaderClassN","backHeaderClassName","_ref$listContainerCla","listContainerClassName","_ref$classes","classes","_ref$onBackClick","onBackClick","undefined","_ref$matchedTitle","matchedTitle","_ref$otherTitle","otherTitle","_ref$associatedTitle","associatedTitle","_ref$contactSearch","contactSearch","_ref$field","field","_ref$foundFromServerT","foundFromServerTitle","_ref$showFoundFromSer","showFoundFromServer","_ref$foundFromServerE","foundFromServerEntities","_ref$appName","appName","_ref$isSearching","isSearching","_ref$disabled","disabled","title","searchOption","currentLocale","_useRefState","useRefState","_useRefState2","filterRef","setFilter","_useState","useState","_useState2","showSearchFromServerHint","setShowSearchFromServerHint","scrollElmRef","useRef","matchElmRef","useEffect","useDepsChange","filter","current","hasSearch","matchOptions","option","matchOtherOptions","matchAssociatedOptions","filteredFoundFromServerOptions","hasResult","backHeaderOnclick","foundFromServerHint","createElement","className","styles","hint","format","i18n","getString","notResultFoundFromServer","loading","notFoundFromServer","showLoading","selectListI18n","AnimationPanel","Fragment","main","Tooltip","enterDelay","TOOLTIP_LONG_DELAY_TIME","classNames","search","searchInput","RcTextField","variant","size","fullWidth","radius","InputProps","startAdornment","RcIcon","symbol","Search","color","onChange","event","target","onKeyDown","keyCode","searchString","trim","fromField","listContainer","ref","text","elm","type","noResult","concat","exports"],"sources":["components/SelectListBasic/SelectListBasic.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport classNames from 'classnames';\n\nimport { emptyFn, format } from '@ringcentral-integration/utils';\nimport {\n  RcIcon,\n  RcTextField,\n  useDepsChange,\n  useRefState,\n} from '@ringcentral/juno';\nimport { Search } from '@ringcentral/juno-icon';\n\nimport { TOOLTIP_LONG_DELAY_TIME } from '../../lib/toolTipDelayTime';\nimport { AnimationPanel } from '../AnimationPanel';\nimport BackHeader from '../BackHeaderV2';\nimport { Tooltip } from '../Rcui/Tooltip';\nimport selectListI18n from '../SelectList/i18n';\nimport type { ListViewProps } from '../SelectList/ListView';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type SelectListBasicProps = {\n  title: string;\n  options?: ListViewProps['options'];\n  otherOptions?: object[];\n  associatedOptions?: object[];\n  showOtherSection?: boolean;\n  showAssociatedSection?: boolean;\n  placeholder?: string;\n  searchOption: (option: any, text: string) => any;\n  rightIcon?: JSX.Element;\n  currentLocale: string;\n  matchedTitle?: string;\n  otherTitle?: string;\n  associatedTitle?: string;\n  renderListView?: (\n    data: any,\n    type: string,\n    filter: string,\n    // TODO: need type check\n    scrollCheck: Function,\n  ) => React.ReactNode;\n  open?: boolean;\n  setOpen?: (...args: any[]) => any;\n  scrollCheck?: (\n    scrollElmRef: any,\n    matchElmRef: any,\n    elm: any,\n    type: any,\n  ) => any;\n  selectListBasicClassName?: string;\n  backHeaderClassName?: string;\n  listContainerClassName?: string;\n  classes?: {\n    searchInput?: string;\n    noResult?: string;\n    placeholder?: string;\n  };\n  onBackClick?: () => any;\n  contactSearch?: (arg: {\n    searchString: string;\n    fromField: SelectListBasicProps['field'];\n  }) => any;\n  field?: string;\n  foundFromServerTitle?: string;\n  showFoundFromServer?: boolean;\n  foundFromServerEntities?: any[];\n  appName?: string;\n  isSearching?: boolean;\n  setShowSearchFromServerHint?: (state: boolean) => any;\n  showSearchFromServerHint?: boolean;\n  disabled?: boolean;\n};\n\nconst defaultRenderListView = () => {\n  return null;\n};\n\nconst SelectListBasic: FunctionComponent<SelectListBasicProps> = ({\n  options = [],\n  otherOptions = [],\n  associatedOptions = [],\n  showOtherSection = true,\n  showAssociatedSection = false,\n  placeholder = '',\n  rightIcon = null,\n  setOpen = emptyFn,\n  open = false,\n  renderListView = defaultRenderListView,\n  scrollCheck = emptyFn,\n  selectListBasicClassName = null,\n  backHeaderClassName = null,\n  listContainerClassName = null,\n  classes = {},\n  onBackClick = undefined,\n  matchedTitle = null,\n  otherTitle = null,\n  associatedTitle = null,\n  contactSearch = null,\n  field = null,\n  foundFromServerTitle = null,\n  showFoundFromServer = false,\n  foundFromServerEntities = [],\n  appName = null,\n  isSearching = false,\n  disabled = false,\n  title,\n  searchOption,\n  currentLocale,\n}) => {\n  const [filterRef, setFilter] = useRefState<string>('');\n  const [showSearchFromServerHint, setShowSearchFromServerHint] =\n    useState(false);\n  const scrollElmRef = useRef();\n  const matchElmRef = useRef();\n\n  // When open change clear filter\n  useEffect(() => {\n    setFilter('');\n    setShowSearchFromServerHint(true);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [open]);\n  useEffect(() => {\n    if (isSearching) {\n      setShowSearchFromServerHint(false);\n    }\n  }, [isSearching]);\n\n  useDepsChange(() => {\n    // null is invalid for RcTextField at disabled status but empty string works\n    if (disabled) setFilter('', false);\n  }, [disabled]);\n  const filter = filterRef.current;\n\n  // @ts-expect-error TS(2774): This condition will always return true since this ... Remove this comment to see the full error message\n  const hasSearch = searchOption && filter;\n  const matchOptions = hasSearch\n    ? options.filter((option) => searchOption(option, filter))\n    : options;\n  const matchOtherOptions = hasSearch\n    ? otherOptions.filter((option) => searchOption(option, filter))\n    : otherOptions;\n  const matchAssociatedOptions = hasSearch\n    ? associatedOptions.filter((option) => searchOption(option, filter))\n    : associatedOptions;\n  const filteredFoundFromServerOptions = hasSearch\n    ? foundFromServerEntities.filter((option) => searchOption(option, filter))\n    : foundFromServerEntities;\n  const hasResult =\n    matchOptions.length +\n      matchOtherOptions.length +\n      matchAssociatedOptions.length >\n      0 ||\n    options.length + otherOptions.length + associatedOptions.length === 0;\n  const backHeaderOnclick = () => {\n    setOpen(false);\n    if (onBackClick) {\n      return onBackClick();\n    }\n  };\n  const foundFromServerHint = (\n    <p className={styles.hint}>\n      {format(i18n.getString('foundFromServerHint', currentLocale), {\n        appName,\n      })}\n    </p>\n  );\n  const notResultFoundFromServer = (\n    <p className={styles.loading}>\n      {' '}\n      {i18n.getString('notResultFoundFromServer', currentLocale)}\n    </p>\n  );\n  const loading = (\n    <p className={styles.loading}>{i18n.getString('loading', currentLocale)}</p>\n  );\n  const notFoundFromServer = showSearchFromServerHint\n    ? foundFromServerHint\n    : notResultFoundFromServer;\n  const showLoading = isSearching ? loading : notFoundFromServer;\n\n  matchedTitle =\n    matchedTitle || selectListI18n.getString('matched', currentLocale);\n\n  otherTitle = otherTitle || selectListI18n.getString('other', currentLocale);\n\n  foundFromServerTitle =\n    foundFromServerTitle ||\n    format(selectListI18n.getString('foundFromServer', currentLocale), {\n      appName,\n    });\n\n  associatedTitle =\n    associatedTitle || selectListI18n.getString('associated', currentLocale);\n\n  return (\n    // @ts-expect-error TS(2322): Type 'string | null' is not assignable to type 'st... Remove this comment to see the full error message\n    <AnimationPanel open={open} className={selectListBasicClassName}>\n      {open ? (\n        <>\n          <BackHeader\n            currentLocale={currentLocale}\n            title={title}\n            onBackClick={backHeaderOnclick}\n            rightIcon={rightIcon}\n            // @ts-expect-error TS(2322): Type 'string | null' is not assignable to type 'st... Remove this comment to see the full error message\n            className={backHeaderClassName}\n          />\n          <main className={styles.main} data-sign=\"selectList\">\n            <Tooltip title={placeholder} enterDelay={TOOLTIP_LONG_DELAY_TIME}>\n              <div className={classNames(styles.search, classes.searchInput)}>\n                {!filter && (\n                  <span\n                    className={classNames(\n                      styles.placeholder,\n                      classes.placeholder,\n                    )}\n                  >\n                    {placeholder}\n                  </span>\n                )}\n                <RcTextField\n                  variant=\"outline\"\n                  size=\"small\"\n                  value={filter}\n                  fullWidth\n                  radius=\"round\"\n                  InputProps={{\n                    startAdornment: (\n                      <RcIcon\n                        symbol={Search}\n                        color=\"neutral.f04\"\n                        size=\"small\"\n                      />\n                    ),\n                  }}\n                  data-sign=\"searchBar\"\n                  onChange={(event: any) => {\n                    if (event.target) {\n                      const value = event.target.value || '';\n                      setFilter(value);\n                    }\n                  }}\n                  onKeyDown={(key) => {\n                    // Press enter to search contacts from server\n                    if ((key && key.keyCode !== 13) || !showFoundFromServer)\n                      return;\n                    if (contactSearch && typeof contactSearch === 'function') {\n                      const searchString = filter ? filter.trim() : '';\n                      if (searchString.length) {\n                        contactSearch({\n                          searchString,\n                          // @ts-expect-error TS(2322): Type 'string | null' is not assignable to type 'st... Remove this comment to see the full error message\n                          fromField: field,\n                        });\n                      }\n                    }\n                  }}\n                  disabled={disabled}\n                />\n              </div>\n            </Tooltip>\n            <div\n              className={classNames(\n                styles.listContainer,\n                listContainerClassName,\n              )}\n              // @ts-expect-error TS(2322): Type 'MutableRefObject<undefined>' is not assignab... Remove this comment to see the full error message\n              ref={scrollElmRef}\n              data-sign=\"searchResult\"\n            >\n              {hasResult || showFoundFromServer ? (\n                <>\n                  <div\n                    // @ts-expect-error TS(2322): Type 'MutableRefObject<undefined>' is not assignab... Remove this comment to see the full error message\n                    ref={matchElmRef}\n                    className={styles.text}\n                    data-sign={matchedTitle}\n                  >\n                    {matchedTitle && (\n                      <div className={styles.title}>\n                        {matchedTitle} ({matchOptions.length})\n                      </div>\n                    )}\n                    {matchOptions.length > 0 &&\n                      renderListView(\n                        matchOptions,\n                        'matched',\n                        filter,\n                        (elm: any, type: any) =>\n                          scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                      )}\n                  </div>\n                  {showOtherSection && (\n                    <div className={styles.text} data-sign={otherTitle}>\n                      {otherTitle && (\n                        <div className={styles.title}>\n                          {otherTitle} ({matchOtherOptions.length})\n                        </div>\n                      )}\n                      {matchOtherOptions.length > 0 &&\n                        renderListView(\n                          matchOtherOptions,\n                          'other',\n                          filter,\n                          (elm: any, type: any) =>\n                            scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                        )}\n                    </div>\n                  )}\n                  {showAssociatedSection && (\n                    <div className={styles.text}>\n                      {associatedTitle && (\n                        <div className={styles.title}>\n                          {associatedTitle} ({matchAssociatedOptions.length})\n                        </div>\n                      )}\n                      {matchAssociatedOptions.length > 0 &&\n                        renderListView(\n                          matchAssociatedOptions,\n                          'other',\n                          filter,\n                          (elm: any, type: any) =>\n                            scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                        )}\n                    </div>\n                  )}\n                  {showFoundFromServer && (\n                    <div className={styles.text} data-sign=\"foundFromServer\">\n                      {foundFromServerTitle && (\n                        <div className={styles.title}>\n                          {foundFromServerTitle} (\n                          {filteredFoundFromServerOptions.length})\n                        </div>\n                      )}\n                      {filteredFoundFromServerOptions &&\n                      filteredFoundFromServerOptions.length > 0\n                        ? renderListView(\n                            filteredFoundFromServerOptions,\n                            'custom',\n                            filter,\n                            (elm: any, type: any) =>\n                              scrollCheck(scrollElmRef, matchElmRef, elm, type),\n                          )\n                        : showLoading}\n                    </div>\n                  )}\n                </>\n              ) : (\n                <div\n                  className={classNames(\n                    styles.search,\n                    styles.text,\n                    classes.noResult,\n                  )}\n                >\n                  {`${i18n.getString(\n                    'noResultFoundFor',\n                    currentLocale,\n                  )} \"${filter}\"`}\n                </div>\n              )}\n            </div>\n          </main>\n        </>\n      ) : null}\n    </AnimationPanel>\n  );\n};\n\nexport { SelectListBasic };\n"],"mappings":"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"}