{"version":3,"file":"Ringtone.js","names":["_juno","require","_react","_interopRequireWildcard","_i18n","_interopRequireDefault","_styles","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","next","push","isArray","AudioFileReader","_ref","currentLocale","defaultFileName","defaultDataUrl","_ref$fileName","fileName","_ref$dataUrl","dataUrl","onChange","onReset","isMountedRef","useMountState","inputElRef","useRef","_useState","useState","_useState2","playing","setPlaying","audio","useAudio","onplay","onpause","src","useEffect","pause","currentTime","resetButton","createElement","type","onClick","i18n","getString","current","click","_callee","_t","_context","play","console","log","ref","className","styles","hidden","_ref3","_currentTarget$files","currentTarget","files","file","reader","FileReader","onload","result","readAsDataURL","RingTone","exports","_ref4","incomingAudio","incomingAudioFile","outgoingAudio","outgoingAudioFile","defaultIncomingAudio","defaultIncomingAudioFile","defaultOutgoingAudio","defaultOutgoingAudioFile","showRingToneSettings","setIncomingAudio","setOutgoingAudio","resetIncomingAudio","resetOutgoingAudio","concat","_ref5","_ref6"],"sources":["components/Ringtone/Ringtone.tsx"],"sourcesContent":["/* istanbul ignore file */\n// TODO: that component still not completely yet, view in calling settings, layout style issue, still in Technical Preview\nimport { useAudio, useMountState } from '@ringcentral/juno';\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport type { AudioFileReaderProps, RingtoneProps } from './Ringtone.interface';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst AudioFileReader: FunctionComponent<AudioFileReaderProps> = ({\n  currentLocale,\n  defaultFileName,\n  defaultDataUrl,\n  fileName = null,\n  dataUrl = null,\n  onChange,\n  onReset,\n}) => {\n  const isMountedRef = useMountState();\n  const inputElRef = useRef<HTMLInputElement>(null);\n  const [playing, setPlaying] = useState(false);\n\n  const audio = useAudio((audio) => {\n    audio.onplay = () => setPlaying(true);\n    audio.onpause = () => setPlaying(false);\n\n    if (dataUrl) {\n      audio.src = dataUrl;\n    }\n  });\n\n  useEffect(() => {\n    audio.pause();\n    audio.currentTime = 0;\n    setPlaying(false);\n\n    if (dataUrl) {\n      audio.src = dataUrl;\n    }\n  }, [audio, dataUrl]);\n\n  const resetButton =\n    fileName !== defaultFileName || dataUrl !== defaultDataUrl ? (\n      <button type=\"button\" onClick={onReset}>\n        {i18n.getString('reset', currentLocale)}\n      </button>\n    ) : null;\n\n  return (\n    <div>\n      <div>File: {fileName}</div>\n      <div>\n        <button\n          type=\"button\"\n          onClick={() => {\n            if (inputElRef.current) {\n              inputElRef.current.click();\n            }\n          }}\n        >\n          {i18n.getString('upload', currentLocale)}\n        </button>\n        {resetButton}\n        <button\n          type=\"button\"\n          onClick={async () => {\n            if (playing) {\n              audio.pause();\n            } else {\n              try {\n                audio.currentTime = 0;\n                await audio.play();\n              } catch (err) {\n                if (isMountedRef.current) {\n                  console.log(err);\n                  console.log(\n                    'Failed to play audio, please select a different file',\n                  );\n                }\n              }\n            }\n          }}\n        >\n          {playing\n            ? i18n.getString('stop', currentLocale)\n            : i18n.getString('play', currentLocale)}\n        </button>\n      </div>\n      <input\n        ref={inputElRef}\n        className={styles.hidden}\n        type=\"file\"\n        onChange={({ currentTarget }) => {\n          if (currentTarget?.files?.length) {\n            const file = currentTarget.files[0];\n\n            const reader = new FileReader();\n\n            reader.onload = () => {\n              if (isMountedRef.current) {\n                onChange({\n                  fileName: file.name,\n                  dataUrl: reader.result as string,\n                });\n                // reset input\n                currentTarget.value = '';\n              }\n            };\n\n            reader.readAsDataURL(file);\n          }\n        }}\n      />\n    </div>\n  );\n};\n\nexport const RingTone: FunctionComponent<RingtoneProps> = ({\n  currentLocale,\n  incomingAudio,\n  incomingAudioFile,\n  outgoingAudio,\n  outgoingAudioFile,\n  defaultIncomingAudio,\n  defaultIncomingAudioFile,\n  defaultOutgoingAudio,\n  defaultOutgoingAudioFile,\n  showRingToneSettings,\n  setIncomingAudio,\n  setOutgoingAudio,\n  resetIncomingAudio,\n  resetOutgoingAudio,\n}) => {\n  if (showRingToneSettings) {\n    return (\n      // newline\n      <div>\n        <div>\n          {`${i18n.getString('ringtones', currentLocale)} (Technical Preview)`}\n        </div>\n        <div>{i18n.getString('incomingRingtone', currentLocale)}</div>\n        <AudioFileReader\n          {...{\n            currentLocale,\n            fileName: incomingAudioFile,\n            dataUrl: incomingAudio,\n            defaultFileName: defaultIncomingAudioFile,\n            defaultDataUrl: defaultIncomingAudio,\n            onChange: ({ fileName, dataUrl }) => {\n              setIncomingAudio?.({ fileName, dataUrl });\n            },\n            onReset: resetIncomingAudio,\n          }}\n        />\n        <div>{i18n.getString('outgoingRingtone', currentLocale)}</div>\n        <AudioFileReader\n          {...{\n            currentLocale,\n            fileName: outgoingAudioFile,\n            dataUrl: outgoingAudio,\n            defaultFileName: defaultOutgoingAudioFile,\n            defaultDataUrl: defaultOutgoingAudio,\n            onChange: ({ fileName, dataUrl }) => {\n              setOutgoingAudio?.({ fileName, dataUrl });\n            },\n            onReset: resetOutgoingAudio,\n          }}\n        />\n      </div>\n    );\n  }\n  return null;\n};\n"],"mappings":"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","ignoreList":[]}