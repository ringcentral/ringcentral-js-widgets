{"version":3,"file":"index.js","names":["_extensionTypes","require","_messageDirection","_interopRequireDefault","_messageTypes","_formatDuration","_messageHelper","_parseNumber","_utils","_clsx","_react","_interopRequireWildcard","_checkShouldHideContactUser","_checkShouldHidePhoneNumber","_ActionMenuList","_ContactDisplay","_SlideMenu","_VoicemailPlayer","_ConversationIcon","_i18n","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","asyncGeneratorStep","c","done","Promise","resolve","then","_asyncToGenerator","_next","_throw","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","MessageItem","_Component","_super","props","_this","_userSelection","contactDisplay","_mounted","toggleExtended","setState","preState","extended","preventEventPropagating","target","currentTarget","stopPropagation","onSelectContact","idx","_this$props","showContactDisplayPlaceholder","autoLog","conversation","shouldLogSelectRecord","selected","parseInt","logConversation","redirect","prefill","correspondentEntity","getSelectedContact","undefined","state","contactMatches","correspondentMatches","viewSelectedContact","onViewContact","contact","getMatchEntities","phoneNumber","getPhoneNumber","matchEntitiesIds","getMatchEntitiesIds","createSelectedContact","_ref","regeneratorRuntime","mark","_callee","entityType","wrap","_callee$","_context","prev","next","onCreateContact","isCreating","name","enableContactFallback","getFallbackContactName","stop","_x","_callee2","_ref3","_ref3$redirect","_ref3$prefill","_args2","_callee2$","_context2","onLogConversation","isLogging","conversationId","clickToDial","onClickToDial","fromType","type","onClickToSms","updateTypeFilter","messageTypes","text","onClickItem","contains","onClickWrapper","messageIsTextMessage","showConversationDetail","onPlayVoicemail","unreadCounts","readMessage","onMarkMessage","markMessage","onUnmarkMessage","unmarkMessage","onPreviewFax","uri","previewFaxMessages","onDeleteMessage","deleteMessage","externalViewEntity","_this$props2","getDisableClickToSms","_this$props3","areaCode","countryCode","internalSmsPermission","outboundSmsPermission","maxExtensionNumberLength","disableClickToSms","parsedInfo","parseNumber","maxExtensionLength","isExtension","hasPlus","number","getInitialContactIndex","componentDidMount","UNSAFE_componentWillReceiveProps","nextProps","conversationMatches","componentWillUnmount","_nextProps$conversati","lastMatchedCorrespondentEntity","index","findIndex","id","map","item","correspondents","extensionNumber","getGroupPhoneNumbers","groupNumbers","correspondent","getDetail","_this$props4","currentLocale","mmsAttachments","count","format","i18n","getString","subject","voicemailAttachment","duration","concat","formatDuration","messageIsFax","pageCount","faxPageCount","nameKey","direction","messageDirection","inbound","dateTimeFormatter","creationTime","utcTimestamp","console","error","render","_this2","_this$getSelectedCont","_this$getSelectedCont2","_this$props5","brand","currentSiteCode","isMultipleSiteEnabled","_this$props5$conversa","faxAttachment","parentDisableLinks","disableLinks","disableCallButton","disableClickToDial","shouldHideEntityButton","createEntityTypes","contactPlaceholder","sourceIcons","phoneTypeRenderer","phoneSourceNameRenderer","showGroupNumberName","renderExtraButton","renderActionMenuExtraButton","onFaxDownload","showChooseEntityModal","renderContactList","dropdownClassName","enableCDC","renderContactName","externalHasEntity","formatPhone","isVoicemail","voiceMail","isFax","fax","shouldHideNumber","checkShouldHidePhoneNumber","isContactMatchesHidden","checkShouldHideContactUser","fallbackName","detail","player","slideMenuHeight","createElement","className","styles","onPlay","disabled","extraButton","msgItem","defaultContactDisplay","reference","ref","clsx","unread","selectedClassName","selectedValue","selectClassName","dropdownSelect","fallBackName","showType","showPlaceholder","placeholder","dropdownRenderFunction","root","onClick","wrapper","ConversationIcon","group","infoWrapper","embellishInfoWrapper","detailsWithTime","details","title","separatrix","onToggle","extendIconClassName","extendIcon","slideMenu","minHeight","maxHeight","playContainer","actionMenuList","onLog","onViewEntity","onCreateEntity","hasEntity","extensionTypes","ivrMenu","isLogged","addLogTitle","editLogTitle","callTitle","textTitle","createEntityTitle","viewEntityTitle","onDelete","deleteTitle","marked","onMark","onUnmark","onPreview","markTitle","unmarkTitle","previewTitle","downloadTitle","Component","defaultProps","_default","exports"],"sources":["components/MessageItem/index.tsx"],"sourcesContent":["import { extensionTypes } from '@ringcentral-integration/commons/enums/extensionTypes';\nimport messageDirection from '@ringcentral-integration/commons/enums/messageDirection';\nimport messageTypes from '@ringcentral-integration/commons/enums/messageTypes';\nimport type { Message } from '@ringcentral-integration/commons/interfaces/MessageStore.model';\nimport { formatDuration } from '@ringcentral-integration/commons/lib/formatDuration';\nimport {\n  messageIsFax,\n  messageIsTextMessage,\n} from '@ringcentral-integration/commons/lib/messageHelper';\nimport parseNumber from '@ringcentral-integration/commons/lib/parseNumber';\nimport { format } from '@ringcentral-integration/utils';\nimport clsx from 'clsx';\nimport type { ReactNode } from 'react';\nimport React, { Component } from 'react';\n\nimport { checkShouldHideContactUser } from '../../lib/checkShouldHideContactUser';\nimport { checkShouldHidePhoneNumber } from '../../lib/checkShouldHidePhoneNumber';\nimport ActionMenuList from '../ActionMenuList';\nimport ContactDisplay from '../ContactDisplay';\nimport type { ContactDisplayItemProps } from '../ContactDisplay/ContactDisplayItem';\nimport SlideMenu from '../SlideMenu';\nimport VoicemailPlayer from '../VoicemailPlayer';\n\nimport { ConversationIcon } from './ConversationIcon';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type MessageItemProps = {\n  conversation: Message;\n  areaCode: string;\n  brand: string;\n  countryCode: string;\n  currentLocale: string;\n  currentSiteCode?: string;\n  isMultipleSiteEnabled?: boolean;\n  onLogConversation?: (...args: any[]) => any;\n  onViewContact?: (...args: any[]) => any;\n  onCreateContact?: (...args: any[]) => any;\n  shouldHideEntityButton?: (...args: any[]) => boolean;\n  createEntityTypes?: any[];\n  onClickToDial?: (...args: any[]) => any;\n  onClickToSms?: (...args: any[]) => any;\n  disableLinks?: boolean;\n  disableCallButton?: boolean;\n  disableClickToDial?: boolean;\n  dateTimeFormatter: (...args: any[]) => any;\n  showConversationDetail: (...args: any[]) => any;\n  readMessage: (...args: any[]) => any;\n  markMessage: (...args: any[]) => any;\n  unmarkMessage: (...args: any[]) => any;\n  autoLog?: boolean;\n  enableContactFallback?: boolean;\n  showContactDisplayPlaceholder?: boolean;\n  contactPlaceholder?: string;\n  sourceIcons?: ContactDisplayItemProps['sourceIcons'];\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  showGroupNumberName?: boolean;\n  deleteMessage?: (...args: any[]) => any;\n  previewFaxMessages?: (...args: any[]) => any;\n  renderExtraButton?: (...args: any[]) => any;\n  internalSmsPermission?: boolean;\n  outboundSmsPermission?: boolean;\n  updateTypeFilter?: (...args: any[]) => any;\n  onFaxDownload?: (...args: any[]) => any;\n  showChooseEntityModal?: boolean;\n  shouldLogSelectRecord?: boolean;\n  onSelectContact?: (...args: any[]) => any;\n  renderContactList?: (...args: any[]) => any;\n  dropdownClassName?: string;\n  enableCDC?: boolean;\n  maxExtensionNumberLength?: number;\n  renderContactName?: (...args: any[]) => JSX.Element;\n  externalViewEntity?: (conversation: Message) => any;\n  externalHasEntity?: (conversation: Message) => boolean;\n  formatPhone: (phoneNumber: string) => string | undefined;\n  renderActionMenuExtraButton: (conversation: Message) => ReactNode;\n};\n\ntype MessageItemState = {\n  selected: number;\n  isLogging: boolean;\n  isCreating: boolean;\n  extended: boolean;\n};\n\nclass MessageItem extends Component<MessageItemProps, MessageItemState> {\n  _userSelection = false;\n  contactDisplay: any;\n  private _mounted = false;\n\n  static defaultProps: Partial<MessageItemProps> = {\n    currentSiteCode: '',\n    isMultipleSiteEnabled: false,\n    disableClickToDial: false,\n    disableLinks: false,\n    disableCallButton: false,\n    autoLog: false,\n    showContactDisplayPlaceholder: true,\n    contactPlaceholder: '',\n    showGroupNumberName: false,\n    deleteMessage() {},\n    internalSmsPermission: true,\n    outboundSmsPermission: true,\n    showChooseEntityModal: true,\n    shouldLogSelectRecord: false,\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'string | un... Remove this comment to see the full error message\n    dropdownClassName: null,\n    enableCDC: false,\n    maxExtensionNumberLength: 6,\n  };\n\n  constructor(props: MessageItemProps) {\n    super(props);\n    this.state = {\n      selected: this.getInitialContactIndex(),\n      isLogging: false,\n      isCreating: false,\n      extended: false,\n    };\n\n    /* [RCINT-4301] onSelection would trigger some state changes that would push new\n     * properties before the state has been changed. Which would reset the selected value.\n     */\n  }\n\n  toggleExtended = () => {\n    this.setState((preState) => ({\n      extended: !preState.extended,\n    }));\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  UNSAFE_componentWillReceiveProps(nextProps: MessageItemProps) {\n    if (\n      !this._userSelection &&\n      (nextProps.conversation.conversationMatches !==\n        this.props.conversation.conversationMatches ||\n        nextProps.conversation.correspondentMatches !==\n          this.props.conversation.correspondentMatches)\n    ) {\n      this.setState({\n        selected: this.getInitialContactIndex(nextProps),\n      });\n    }\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    this._mounted = false;\n  }\n\n  preventEventPropagating: React.MouseEventHandler<HTMLDivElement> = (e) => {\n    if (e.target !== e.currentTarget) {\n      e.stopPropagation();\n    }\n  };\n\n  onSelectContact = (value: any, idx: string) => {\n    const {\n      showContactDisplayPlaceholder,\n      autoLog,\n      conversation,\n      shouldLogSelectRecord,\n      onSelectContact,\n    } = this.props;\n    const selected = showContactDisplayPlaceholder\n      ? parseInt(idx, 10) - 1\n      : parseInt(idx, 10);\n    this._userSelection = true;\n    this.setState({\n      selected,\n    });\n    if (autoLog) {\n      this.logConversation({ redirect: false, selected, prefill: false });\n    }\n    if (shouldLogSelectRecord && typeof onSelectContact === 'function') {\n      onSelectContact({\n        correspondentEntity: this.getSelectedContact(selected),\n        conversation,\n      });\n    }\n  };\n\n  getInitialContactIndex(nextProps = this.props) {\n    const { correspondentMatches, lastMatchedCorrespondentEntity } =\n      nextProps.conversation;\n    if (lastMatchedCorrespondentEntity) {\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      const index = correspondentMatches.findIndex(\n        (contact) => contact.id === lastMatchedCorrespondentEntity.id,\n      );\n      if (index > -1) return index;\n    }\n    return this.props.showContactDisplayPlaceholder ? -1 : 0;\n  }\n\n  getSelectedContact = (selected = this.state.selected) => {\n    const contactMatches = this.props.conversation.correspondentMatches;\n    return (\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      (selected > -1 && contactMatches[selected]) ||\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      (contactMatches.length === 1 && contactMatches[0]) ||\n      null\n    );\n  };\n\n  getMatchEntities() {\n    return this.props.conversation.correspondentMatches || [];\n  }\n\n  getMatchEntitiesIds() {\n    const contactMatches = this.props.conversation.correspondentMatches || [];\n    return contactMatches.map((item) => item.id);\n  }\n\n  getPhoneNumber() {\n    const { correspondents } = this.props.conversation;\n    return (\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      (correspondents.length === 1 &&\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        correspondents[0] &&\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        (correspondents[0].phoneNumber || correspondents[0].extensionNumber)) ||\n      undefined\n    );\n  }\n\n  getGroupPhoneNumbers() {\n    const { correspondents } = this.props.conversation;\n    const groupNumbers =\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      correspondents.length > 1\n        ? // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          correspondents.map(\n            (correspondent) =>\n              correspondent.extensionNumber ||\n              correspondent.phoneNumber ||\n              undefined,\n          )\n        : null;\n    return groupNumbers;\n  }\n\n  getFallbackContactName() {\n    const { correspondents } = this.props.conversation;\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    return (correspondents.length === 1 && correspondents[0].name) || undefined;\n  }\n\n  viewSelectedContact = () => {\n    if (typeof this.props.onViewContact === 'function') {\n      this.props.onViewContact({\n        contact: this.getSelectedContact(),\n        contactMatches: this.getMatchEntities(),\n        phoneNumber: this.getPhoneNumber(),\n        matchEntitiesIds: this.getMatchEntitiesIds(),\n      });\n    }\n  };\n\n  createSelectedContact = async (entityType: unknown) => {\n    // console.log('click createSelectedContact!!', entityType);\n    if (\n      typeof this.props.onCreateContact === 'function' &&\n      this._mounted &&\n      !this.state.isCreating\n    ) {\n      this.setState({\n        isCreating: true,\n      });\n      // console.log('start to create: isCreating...', this.state.isCreating);\n      const phoneNumber = this.getPhoneNumber();\n      await this.props.onCreateContact({\n        phoneNumber,\n        name: this.props.enableContactFallback\n          ? this.getFallbackContactName()\n          : '',\n        entityType,\n      });\n\n      if (this._mounted) {\n        this.setState({\n          isCreating: false,\n        });\n        // console.log('created: isCreating...', this.state.isCreating);\n      }\n    }\n  };\n\n  logConversation = async ({\n    redirect = true,\n    selected,\n    prefill = true,\n  }: {\n    redirect?: boolean;\n    selected?: number;\n    prefill?: boolean;\n  } = {}) => {\n    if (\n      typeof this.props.onLogConversation === 'function' &&\n      this._mounted &&\n      !this.state.isLogging\n    ) {\n      this.setState({\n        isLogging: true,\n      });\n      await this.props.onLogConversation({\n        correspondentEntity: this.getSelectedContact(selected),\n        conversationId: this.props.conversation.conversationId,\n        redirect,\n        prefill,\n      });\n      if (this._mounted) {\n        this.setState({\n          isLogging: false,\n        });\n      }\n    }\n  };\n\n  clickToDial = () => {\n    if (this.props.onClickToDial) {\n      const contact = this.getSelectedContact() || {};\n      const phoneNumber = this.getPhoneNumber();\n\n      if (phoneNumber) {\n        this.props.onClickToDial({\n          ...contact,\n          phoneNumber,\n          fromType: this.props.conversation.type,\n        });\n      }\n    }\n  };\n\n  onClickToSms = () => {\n    if (this.props.onClickToSms) {\n      const contact = this.getSelectedContact() || {};\n      const phoneNumber = this.getPhoneNumber();\n\n      if (phoneNumber) {\n        // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n        this.props.updateTypeFilter(messageTypes.text);\n        this.props.onClickToSms({\n          ...contact,\n          phoneNumber,\n        });\n      }\n    }\n  };\n\n  onClickItem: React.MouseEventHandler<HTMLDivElement> = (e) => {\n    if (this.contactDisplay && this.contactDisplay.contains(e.target)) {\n      return;\n    }\n\n    this.toggleExtended();\n  };\n\n  onClickWrapper: React.MouseEventHandler<HTMLDivElement> = (e) => {\n    if (this.contactDisplay && this.contactDisplay.contains(e.target)) {\n      return;\n    }\n    if (messageIsTextMessage(this.props.conversation)) {\n      this.props.showConversationDetail(this.props.conversation.conversationId);\n    }\n  };\n\n  onPlayVoicemail = () => {\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    if (this.props.conversation.unreadCounts > 0) {\n      this.props.readMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onMarkMessage = () => {\n    if (this.props.conversation.unreadCounts === 0) {\n      this.props.markMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onUnmarkMessage = () => {\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    if (this.props.conversation.unreadCounts > 0) {\n      this.props.unmarkMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onPreviewFax = (uri: string) => {\n    // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n    this.props.previewFaxMessages(uri, this.props.conversation.conversationId);\n  };\n\n  getDetail() {\n    const { conversation, currentLocale } = this.props;\n    if (messageIsTextMessage(conversation)) {\n      if (\n        conversation.mmsAttachments &&\n        conversation.mmsAttachments.length > 0\n      ) {\n        const count = conversation.mmsAttachments.length;\n        if (count === 1) {\n          return format(i18n.getString('mmsWithOneAttachment', currentLocale));\n        }\n        return format(i18n.getString('mmsWithAttachments', currentLocale), {\n          count,\n        });\n      }\n      return conversation.subject;\n    }\n    if (conversation.voicemailAttachment) {\n      const { duration } = conversation.voicemailAttachment;\n      return `${i18n.getString(\n        'voiceMessage',\n        currentLocale,\n      )} (${formatDuration(duration)})`;\n    }\n    if (messageIsFax(conversation)) {\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      const pageCount = +conversation.faxPageCount;\n      const nameKey = pageCount === 1 ? 'page' : 'pages';\n      if (conversation.direction === messageDirection.inbound) {\n        return `${i18n.getString(\n          'faxReceived',\n          currentLocale,\n        )}(${pageCount} ${i18n.getString(nameKey, currentLocale)})`;\n      }\n      return `${i18n.getString(\n        'faxSent',\n        currentLocale,\n      )}(${pageCount} ${i18n.getString(nameKey, currentLocale)})`;\n    }\n    return '';\n  }\n\n  onDeleteMessage = () => {\n    // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n    this.props.deleteMessage(this.props.conversation.conversationId);\n  };\n\n  externalViewEntity = () => {\n    const { externalViewEntity, conversation } = this.props;\n    return externalViewEntity?.(conversation);\n  };\n\n  dateTimeFormatter(creationTime?: number) {\n    try {\n      return this.props.dateTimeFormatter({ utcTimestamp: creationTime });\n    } catch (e) {\n      console.error('Format date time error', creationTime);\n      return creationTime;\n    }\n  }\n\n  getDisableClickToSms = () => {\n    const {\n      areaCode,\n      countryCode,\n      onClickToSms,\n      internalSmsPermission,\n      outboundSmsPermission,\n      maxExtensionNumberLength,\n    } = this.props;\n    const phoneNumber = this.getPhoneNumber();\n    let disableClickToSms = false;\n    if (phoneNumber) {\n      const parsedInfo = parseNumber({\n        phoneNumber,\n        // @ts-expect-error TS(2322): Type 'string' is not assignable to type 'CountryCo... Remove this comment to see the full error message\n        countryCode,\n        areaCode,\n        maxExtensionLength: maxExtensionNumberLength,\n      });\n      const isExtension =\n        !parsedInfo.hasPlus &&\n        parsedInfo.number &&\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        parsedInfo.number.length <= maxExtensionNumberLength;\n      disableClickToSms = !(\n        onClickToSms &&\n        (isExtension ? internalSmsPermission : outboundSmsPermission)\n      );\n    }\n    return disableClickToSms;\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const {\n      areaCode,\n      brand,\n      countryCode,\n      currentLocale,\n      currentSiteCode,\n      isMultipleSiteEnabled,\n      conversation: {\n        conversationId,\n        unreadCounts,\n        correspondents,\n        correspondentMatches,\n        creationTime,\n        isLogging,\n        conversationMatches,\n        type,\n        direction,\n        voicemailAttachment,\n        faxAttachment,\n      },\n      disableLinks: parentDisableLinks,\n      disableCallButton,\n      disableClickToDial,\n      onClickToDial,\n      onClickToSms,\n      onLogConversation,\n      onViewContact,\n      onCreateContact,\n      shouldHideEntityButton,\n      createEntityTypes,\n      enableContactFallback,\n      contactPlaceholder,\n      showContactDisplayPlaceholder,\n      sourceIcons,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      showGroupNumberName,\n      renderExtraButton,\n      renderActionMenuExtraButton,\n      onFaxDownload,\n      showChooseEntityModal,\n      renderContactList,\n      dropdownClassName,\n      enableCDC,\n      renderContactName,\n      externalHasEntity,\n      externalViewEntity,\n      formatPhone,\n      conversation,\n    } = this.props;\n    let disableLinks = parentDisableLinks;\n    const isVoicemail = type === messageTypes.voiceMail;\n    const isFax = type === messageTypes.fax;\n    if (isVoicemail && !voicemailAttachment) {\n      disableLinks = true;\n    }\n    if (isFax && !faxAttachment) {\n      disableLinks = true;\n    }\n    const groupNumbers = this.getGroupPhoneNumbers();\n    const phoneNumber = this.getPhoneNumber();\n    /**\n     * TODO:\n     * * Group message is supported for internal paging:\n     * * What is the requirement when a hidden contact is part of a group conversation?\n     * * Is it possible to ignore this edge case initially as group conversations are rare, especially when most people use glip now for internal conversations?\n     */\n    const shouldHideNumber =\n      enableCDC &&\n      // @ts-expect-error TS(2345): Argument of type 'any[] | undefined' is not assign... Remove this comment to see the full error message\n      checkShouldHidePhoneNumber(phoneNumber, correspondentMatches);\n    const isContactMatchesHidden =\n      // @ts-expect-error TS(2345): Argument of type 'any[] | undefined' is not assign... Remove this comment to see the full error message\n      enableCDC && checkShouldHideContactUser(correspondentMatches);\n    const fallbackName = this.getFallbackContactName();\n    const detail = this.getDetail();\n    const disableClickToSms = this.getDisableClickToSms();\n    let player;\n    let slideMenuHeight = 60;\n    if (isVoicemail) {\n      player = (\n        <VoicemailPlayer\n          className={styles.player}\n          uri={voicemailAttachment.uri}\n          duration={voicemailAttachment.duration}\n          onPlay={this.onPlayVoicemail}\n          disabled={disableLinks}\n          currentLocale={currentLocale}\n        />\n      );\n      slideMenuHeight = 88;\n    }\n    const extraButton = renderExtraButton\n      ? renderExtraButton(conversation, {\n          logConversation: this.logConversation,\n          isLogging: isLogging || this.state.isLogging,\n        })\n      : null;\n    const msgItem = `${type}MessageItem`;\n\n    const defaultContactDisplay = (\n      <ContactDisplay\n        formatPhone={formatPhone}\n        reference={(ref) => {\n          this.contactDisplay = ref;\n        }}\n        className={clsx(styles.contactDisplay, unreadCounts && styles.unread)}\n        unread={!!unreadCounts}\n        selectedClassName={styles.selectedValue}\n        selectClassName={styles.dropdownSelect}\n        brand={brand}\n        // @ts-expect-error TS(2322): Type 'any[] | undefined' is not assignable to type... Remove this comment to see the full error message\n        contactMatches={correspondentMatches}\n        selected={this.state.selected}\n        onSelectContact={this.onSelectContact}\n        disabled={disableLinks}\n        isLogging={isLogging || this.state.isLogging}\n        fallBackName={fallbackName}\n        areaCode={areaCode}\n        countryCode={countryCode}\n        phoneNumber={shouldHideNumber ? null : phoneNumber}\n        // @ts-expect-error TS(2322): Type 'any[] | null' is not assignable to type 'str... Remove this comment to see the full error message\n        groupNumbers={groupNumbers}\n        showGroupNumberName={showGroupNumberName}\n        currentLocale={currentLocale}\n        currentSiteCode={currentSiteCode}\n        isMultipleSiteEnabled={isMultipleSiteEnabled}\n        enableContactFallback={enableContactFallback}\n        stopPropagation={false}\n        showType={false}\n        showPlaceholder={showContactDisplayPlaceholder}\n        placeholder={contactPlaceholder}\n        sourceIcons={sourceIcons}\n        phoneTypeRenderer={phoneTypeRenderer}\n        phoneSourceNameRenderer={phoneSourceNameRenderer}\n        dropdownRenderFunction={renderContactList}\n        dropdownClassName={dropdownClassName}\n      />\n    );\n\n    return (\n      <div\n        data-sign={msgItem}\n        data-id={conversationId}\n        className={styles.root}\n        onClick={this.onClickItem}\n      >\n        <div\n          data-sign=\"unread\"\n          className={clsx(styles.wrapper, unreadCounts && styles.unread)}\n          onClick={this.onClickWrapper}\n        >\n          <ConversationIcon\n            group={correspondents && correspondents.length > 1}\n            type={type}\n            currentLocale={currentLocale}\n            direction={direction}\n          />\n          <div\n            className={clsx(\n              styles.infoWrapper,\n              !extraButton && styles.embellishInfoWrapper,\n            )}\n          >\n            {renderContactName\n              ? renderContactName({\n                  conversation,\n                  phoneNumber,\n                  unread: !!unreadCounts,\n                  defaultContactDisplay,\n                })\n              : defaultContactDisplay}\n            <div className={styles.detailsWithTime}>\n              <div\n                data-sign=\"msgDetail\"\n                className={styles.details}\n                title={detail}\n              >\n                {detail}\n              </div>\n              <div className={styles.separatrix}>|</div>\n              <div data-sign=\"msgCreateTime\" className={styles.creationTime}>\n                {this.dateTimeFormatter(creationTime)}\n              </div>\n            </div>\n          </div>\n          {extraButton}\n        </div>\n        <SlideMenu\n          // @ts-expect-error TS(2322): Type '{ children: Element[]; extended: boolean; on... Remove this comment to see the full error message\n          extended={this.state.extended}\n          onToggle={this.toggleExtended}\n          extendIconClassName={styles.extendIcon}\n          className={styles.slideMenu}\n          minHeight={0}\n          maxHeight={slideMenuHeight}\n        >\n          <div\n            className={styles.playContainer}\n            onClick={this.preventEventPropagating}\n          >\n            {player}\n          </div>\n          <ActionMenuList\n            // @ts-expect-error TS(2322): Type '{ shouldHideEntityButton: boolean | undefine... Remove this comment to see the full error message\n            shouldHideEntityButton={() => {\n              if (shouldHideEntityButton) {\n                return shouldHideEntityButton(conversation);\n              }\n              return isContactMatchesHidden;\n            }}\n            className={styles.actionMenuList}\n            type={type}\n            currentLocale={currentLocale}\n            onLog={\n              isVoicemail || isFax || renderExtraButton\n                ? undefined\n                : onLogConversation && this.logConversation\n            }\n            onViewEntity={onViewContact && this.viewSelectedContact}\n            onCreateEntity={onCreateContact && this.createSelectedContact}\n            createEntityTypes={createEntityTypes}\n            hasEntity={\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              correspondents.length === 1 &&\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              !!correspondentMatches.length &&\n              (this.getSelectedContact()?.type ?? '') !== extensionTypes.ivrMenu\n            }\n            onClickToDial={\n              !isFax ? onClickToDial && this.clickToDial : undefined\n            }\n            onClickToSms={\n              isVoicemail ? onClickToSms && this.onClickToSms : undefined\n            }\n            disableClickToSms={disableClickToSms}\n            phoneNumber={phoneNumber}\n            disableLinks={disableLinks}\n            disableCallButton={disableCallButton}\n            disableClickToDial={disableClickToDial}\n            isLogging={isLogging || this.state.isLogging}\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            isLogged={conversationMatches.length > 0}\n            isCreating={this.state.isCreating}\n            addLogTitle={i18n.getString('addLog', currentLocale)}\n            editLogTitle={i18n.getString('editLog', currentLocale)}\n            callTitle={i18n.getString('call', currentLocale)}\n            textTitle={i18n.getString('text', currentLocale)}\n            createEntityTitle={i18n.getString('addEntity', currentLocale)}\n            viewEntityTitle={i18n.getString('viewDetails', currentLocale)}\n            stopPropagation={false}\n            onDelete={isVoicemail || isFax ? this.onDeleteMessage : undefined}\n            deleteTitle={i18n.getString('delete', currentLocale)}\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            marked={unreadCounts > 0}\n            onMark={\n              isVoicemail || (isFax && direction === messageDirection.inbound)\n                ? this.onMarkMessage\n                : undefined\n            }\n            onUnmark={\n              isVoicemail || (isFax && direction === messageDirection.inbound)\n                ? this.onUnmarkMessage\n                : undefined\n            }\n            onPreview={isFax ? this.onPreviewFax : undefined}\n            markTitle={i18n.getString('mark', currentLocale)}\n            unmarkTitle={i18n.getString('unmark', currentLocale)}\n            faxAttachment={faxAttachment}\n            previewTitle={i18n.getString('preview', currentLocale)}\n            downloadTitle={i18n.getString('download', currentLocale)}\n            onFaxDownload={onFaxDownload}\n            showChooseEntityModal={showChooseEntityModal}\n            externalViewEntity={externalViewEntity && this.externalViewEntity}\n            externalHasEntity={externalHasEntity?.(conversation)}\n            extraButton={renderActionMenuExtraButton?.(conversation)}\n          />\n        </SlideMenu>\n      </div>\n    );\n  }\n}\n\nexport default MessageItem;\n"],"mappings":"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","ignoreList":[]}