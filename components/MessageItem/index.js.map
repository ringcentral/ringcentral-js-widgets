{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_extensionTypes","_messageDirection","_messageTypes","_messageHelper","_formatDuration","_parseNumber","_utils","_checkShouldHideContactUser","_checkShouldHidePhoneNumber","_ActionMenuList","_ContactDisplay","_SlideMenu","_VoicemailPlayer","_ConversationIcon","_i18n","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","err","undefined","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","res","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","MessageItem","_Component","_super","_this","_userSelection","contactDisplay","_mounted","toggleExtended","setState","preState","extended","preventEventPropagating","currentTarget","stopPropagation","onSelectContact","idx","_this$props","showContactDisplayPlaceholder","autoLog","conversation","shouldLogSelectRecord","selected","parseInt","logConversation","redirect","prefill","correspondentEntity","getSelectedContact","state","contactMatches","correspondentMatches","viewSelectedContact","onViewContact","contact","getMatchEntities","phoneNumber","getPhoneNumber","matchEntitiesIds","getMatchEntitiesIds","createSelectedContact","_ref","regeneratorRuntime","mark","_callee","entityType","_phoneNumber","wrap","_callee$","_context","prev","next","onCreateContact","isCreating","name","enableContactFallback","getFallbackContactName","stop","_x","_callee2","_ref3","_ref3$redirect","_ref3$prefill","_args2","_callee2$","_context2","onLogConversation","isLogging","conversationId","clickToDial","onClickToDial","fromType","type","onClickToSms","updateTypeFilter","messageTypes","text","onClickItem","contains","onClickWrapper","messageIsTextMessage","showConversationDetail","onPlayVoicemail","unreadCounts","readMessage","onMarkMessage","markMessage","onUnmarkMessage","unmarkMessage","onPreviewFax","uri","previewFaxMessages","onDeleteMessage","deleteMessage","externalViewEntity","_this$props2","getDisableClickToSms","_this$props3","areaCode","countryCode","internalSmsPermission","outboundSmsPermission","maxExtensionNumberLength","disableClickToSms","parsedInfo","parseNumber","maxExtensionLength","isExtension","hasPlus","number","getInitialContactIndex","componentDidMount","UNSAFE_componentWillReceiveProps","nextProps","conversationMatches","componentWillUnmount","_nextProps$conversati","lastMatchedCorrespondentEntity","index","findIndex","id","map","item","correspondents","extensionNumber","getGroupPhoneNumbers","groupNumbers","correspondent","getDetail","_this$props4","currentLocale","mmsAttachments","imageCount","m","contentType","indexOf","format","i18n","getString","count","subject","voicemailAttachment","duration","concat","formatDuration","messageIsFax","pageCount","faxPageCount","nameKey","direction","messageDirection","inbound","dateTimeFormatter","creationTime","utcTimestamp","console","render","_this2","_this$getSelectedCont","_this$getSelectedCont2","_this$props5","brand","currentSiteCode","isMultipleSiteEnabled","_this$props5$conversa","faxAttachment","parentDisableLinks","disableLinks","disableCallButton","disableClickToDial","createEntityTypes","contactPlaceholder","sourceIcons","phoneTypeRenderer","phoneSourceNameRenderer","showGroupNumberName","renderExtraButton","renderActionMenuExtraButton","onFaxDownload","showChooseEntityModal","renderContactList","dropdownClassName","enableCDC","renderContactName","externalHasEntity","formatPhone","isVoicemail","voiceMail","isFax","fax","shouldHideNumber","checkShouldHidePhoneNumber","isContactMatchesHidden","checkShouldHideContactUser","fallbackName","detail","player","slideMenuHeight","createElement","className","styles","onPlay","disabled","extraButton","msgItem","defaultContactDisplay","reference","ref","classnames","unread","selectedClassName","selectedValue","selectClassName","dropdownSelect","fallBackName","showType","showPlaceholder","placeholder","dropdownRenderFunction","root","onClick","wrapper","ConversationIcon","group","infoWrapper","embellishInfoWrapper","detailsWithTime","details","title","separatrix","onToggle","extendIconClassName","extendIcon","slideMenu","minHeight","maxHeight","playContainer","shouldHideEntityButton","actionMenuList","onLog","onViewEntity","onCreateEntity","hasEntity","extensionTypes","ivrMenu","isLogged","addLogTitle","editLogTitle","callTitle","textTitle","createEntityTitle","viewEntityTitle","onDelete","deleteTitle","marked","onMark","onUnmark","onPreview","markTitle","unmarkTitle","previewTitle","downloadTitle","Component","defaultProps","_default","exports"],"sources":["components/MessageItem/index.tsx"],"sourcesContent":["import type { ReactNode } from 'react';\nimport React, { Component } from 'react';\n\nimport classnames from 'classnames';\n\nimport { extensionTypes } from '@ringcentral-integration/commons/enums/extensionTypes';\nimport messageDirection from '@ringcentral-integration/commons/enums/messageDirection';\nimport messageTypes from '@ringcentral-integration/commons/enums/messageTypes';\nimport type { Message } from '@ringcentral-integration/commons/interfaces/MessageStore.model';\nimport {\n  messageIsFax,\n  messageIsTextMessage,\n} from '@ringcentral-integration/commons/lib/messageHelper';\nimport { formatDuration } from '@ringcentral-integration/commons/lib/formatDuration';\nimport parseNumber from '@ringcentral-integration/commons/lib/parseNumber';\nimport { format } from '@ringcentral-integration/utils';\n\nimport { checkShouldHideContactUser } from '../../lib/checkShouldHideContactUser';\nimport { checkShouldHidePhoneNumber } from '../../lib/checkShouldHidePhoneNumber';\nimport ActionMenuList from '../ActionMenuList';\nimport ContactDisplay from '../ContactDisplay';\nimport type { ContactDisplayItemProps } from '../ContactDisplay/ContactDisplayItem';\nimport SlideMenu from '../SlideMenu';\nimport VoicemailPlayer from '../VoicemailPlayer';\nimport { ConversationIcon } from './ConversationIcon';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type MessageItemProps = {\n  conversation: Message;\n  areaCode: string;\n  brand: string;\n  countryCode: string;\n  currentLocale: string;\n  currentSiteCode?: string;\n  isMultipleSiteEnabled?: boolean;\n  onLogConversation?: (...args: any[]) => any;\n  onViewContact?: (...args: any[]) => any;\n  onCreateContact?: (...args: any[]) => any;\n  createEntityTypes?: any[];\n  onClickToDial?: (...args: any[]) => any;\n  onClickToSms?: (...args: any[]) => any;\n  disableLinks?: boolean;\n  disableCallButton?: boolean;\n  disableClickToDial?: boolean;\n  dateTimeFormatter: (...args: any[]) => any;\n  showConversationDetail: (...args: any[]) => any;\n  readMessage: (...args: any[]) => any;\n  markMessage: (...args: any[]) => any;\n  unmarkMessage: (...args: any[]) => any;\n  autoLog?: boolean;\n  enableContactFallback?: boolean;\n  showContactDisplayPlaceholder?: boolean;\n  contactPlaceholder?: string;\n  sourceIcons?: ContactDisplayItemProps['sourceIcons'];\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  showGroupNumberName?: boolean;\n  deleteMessage?: (...args: any[]) => any;\n  previewFaxMessages?: (...args: any[]) => any;\n  renderExtraButton?: (...args: any[]) => any;\n  internalSmsPermission?: boolean;\n  outboundSmsPermission?: boolean;\n  updateTypeFilter?: (...args: any[]) => any;\n  onFaxDownload?: (...args: any[]) => any;\n  showChooseEntityModal?: boolean;\n  shouldLogSelectRecord?: boolean;\n  onSelectContact?: (...args: any[]) => any;\n  renderContactList?: (...args: any[]) => any;\n  dropdownClassName?: string;\n  enableCDC?: boolean;\n  maxExtensionNumberLength?: number;\n  renderContactName?: (...args: any[]) => JSX.Element;\n  externalViewEntity?: (conversation: Message) => any;\n  externalHasEntity?: (conversation: Message) => boolean;\n  formatPhone: (phoneNumber: string) => string | undefined;\n  renderActionMenuExtraButton: (conversation: Message) => ReactNode;\n};\n\ntype MessageItemState = {\n  selected: number;\n  isLogging: boolean;\n  isCreating: boolean;\n  extended: boolean;\n};\n\nclass MessageItem extends Component<MessageItemProps, MessageItemState> {\n  _userSelection = false;\n  contactDisplay: any;\n  private _mounted = false;\n\n  static defaultProps: Partial<MessageItemProps> = {\n    currentSiteCode: '',\n    isMultipleSiteEnabled: false,\n    disableClickToDial: false,\n    disableLinks: false,\n    disableCallButton: false,\n    autoLog: false,\n    showContactDisplayPlaceholder: true,\n    contactPlaceholder: '',\n    showGroupNumberName: false,\n    deleteMessage() {},\n    internalSmsPermission: true,\n    outboundSmsPermission: true,\n    showChooseEntityModal: true,\n    shouldLogSelectRecord: false,\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'string | un... Remove this comment to see the full error message\n    dropdownClassName: null,\n    enableCDC: false,\n    maxExtensionNumberLength: 6,\n  };\n\n  constructor(props: MessageItemProps) {\n    super(props);\n    this.state = {\n      selected: this.getInitialContactIndex(),\n      isLogging: false,\n      isCreating: false,\n      extended: false,\n    };\n\n    /* [RCINT-4301] onSelection would trigger some state changes that would push new\n     * properties before the state has been changed. Which would reset the selected value.\n     */\n  }\n\n  toggleExtended = () => {\n    this.setState((preState) => ({\n      extended: !preState.extended,\n    }));\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  UNSAFE_componentWillReceiveProps(nextProps: MessageItemProps) {\n    if (\n      !this._userSelection &&\n      (nextProps.conversation.conversationMatches !==\n        this.props.conversation.conversationMatches ||\n        nextProps.conversation.correspondentMatches !==\n          this.props.conversation.correspondentMatches)\n    ) {\n      this.setState({\n        selected: this.getInitialContactIndex(nextProps),\n      });\n    }\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    this._mounted = false;\n  }\n\n  preventEventPropagating: React.MouseEventHandler<HTMLDivElement> = (e) => {\n    if (e.target !== e.currentTarget) {\n      e.stopPropagation();\n    }\n  };\n\n  onSelectContact = (value: any, idx: string) => {\n    const {\n      showContactDisplayPlaceholder,\n      autoLog,\n      conversation,\n      shouldLogSelectRecord,\n      onSelectContact,\n    } = this.props;\n    const selected = showContactDisplayPlaceholder\n      ? parseInt(idx, 10) - 1\n      : parseInt(idx, 10);\n    this._userSelection = true;\n    this.setState({\n      selected,\n    });\n    if (autoLog) {\n      this.logConversation({ redirect: false, selected, prefill: false });\n    }\n    if (shouldLogSelectRecord && typeof onSelectContact === 'function') {\n      onSelectContact({\n        correspondentEntity: this.getSelectedContact(selected),\n        conversation,\n      });\n    }\n  };\n\n  getInitialContactIndex(nextProps = this.props) {\n    const { correspondentMatches, lastMatchedCorrespondentEntity } =\n      nextProps.conversation;\n    if (lastMatchedCorrespondentEntity) {\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      const index = correspondentMatches.findIndex(\n        (contact) => contact.id === lastMatchedCorrespondentEntity.id,\n      );\n      if (index > -1) return index;\n    }\n    return this.props.showContactDisplayPlaceholder ? -1 : 0;\n  }\n\n  getSelectedContact = (selected = this.state.selected) => {\n    const contactMatches = this.props.conversation.correspondentMatches;\n    return (\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      (selected > -1 && contactMatches[selected]) ||\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      (contactMatches.length === 1 && contactMatches[0]) ||\n      null\n    );\n  };\n\n  getMatchEntities() {\n    return this.props.conversation.correspondentMatches || [];\n  }\n\n  getMatchEntitiesIds() {\n    const contactMatches = this.props.conversation.correspondentMatches || [];\n    return contactMatches.map((item) => item.id);\n  }\n\n  getPhoneNumber() {\n    const { correspondents } = this.props.conversation;\n    return (\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      (correspondents.length === 1 &&\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        correspondents[0] &&\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        (correspondents[0].phoneNumber || correspondents[0].extensionNumber)) ||\n      undefined\n    );\n  }\n\n  getGroupPhoneNumbers() {\n    const { correspondents } = this.props.conversation;\n    const groupNumbers =\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      correspondents.length > 1\n        ? // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          correspondents.map(\n            (correspondent) =>\n              correspondent.extensionNumber ||\n              correspondent.phoneNumber ||\n              undefined,\n          )\n        : null;\n    return groupNumbers;\n  }\n\n  getFallbackContactName() {\n    const { correspondents } = this.props.conversation;\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    return (correspondents.length === 1 && correspondents[0].name) || undefined;\n  }\n\n  viewSelectedContact = () => {\n    if (typeof this.props.onViewContact === 'function') {\n      this.props.onViewContact({\n        contact: this.getSelectedContact(),\n        contactMatches: this.getMatchEntities(),\n        phoneNumber: this.getPhoneNumber(),\n        matchEntitiesIds: this.getMatchEntitiesIds(),\n      });\n    }\n  };\n\n  createSelectedContact = async (entityType: unknown) => {\n    // console.log('click createSelectedContact!!', entityType);\n    if (\n      typeof this.props.onCreateContact === 'function' &&\n      this._mounted &&\n      !this.state.isCreating\n    ) {\n      this.setState({\n        isCreating: true,\n      });\n      // console.log('start to create: isCreating...', this.state.isCreating);\n      const phoneNumber = this.getPhoneNumber();\n      await this.props.onCreateContact({\n        phoneNumber,\n        name: this.props.enableContactFallback\n          ? this.getFallbackContactName()\n          : '',\n        entityType,\n      });\n\n      if (this._mounted) {\n        this.setState({\n          isCreating: false,\n        });\n        // console.log('created: isCreating...', this.state.isCreating);\n      }\n    }\n  };\n\n  logConversation = async ({\n    redirect = true,\n    selected,\n    prefill = true,\n  }: {\n    redirect?: boolean;\n    selected?: number;\n    prefill?: boolean;\n  } = {}) => {\n    if (\n      typeof this.props.onLogConversation === 'function' &&\n      this._mounted &&\n      !this.state.isLogging\n    ) {\n      this.setState({\n        isLogging: true,\n      });\n      await this.props.onLogConversation({\n        correspondentEntity: this.getSelectedContact(selected),\n        conversationId: this.props.conversation.conversationId,\n        redirect,\n        prefill,\n      });\n      if (this._mounted) {\n        this.setState({\n          isLogging: false,\n        });\n      }\n    }\n  };\n\n  clickToDial = () => {\n    if (this.props.onClickToDial) {\n      const contact = this.getSelectedContact() || {};\n      const phoneNumber = this.getPhoneNumber();\n\n      if (phoneNumber) {\n        this.props.onClickToDial({\n          ...contact,\n          phoneNumber,\n          fromType: this.props.conversation.type,\n        });\n      }\n    }\n  };\n\n  onClickToSms = () => {\n    if (this.props.onClickToSms) {\n      const contact = this.getSelectedContact() || {};\n      const phoneNumber = this.getPhoneNumber();\n\n      if (phoneNumber) {\n        // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n        this.props.updateTypeFilter(messageTypes.text);\n        this.props.onClickToSms({\n          ...contact,\n          phoneNumber,\n        });\n      }\n    }\n  };\n\n  onClickItem: React.MouseEventHandler<HTMLDivElement> = (e) => {\n    if (this.contactDisplay && this.contactDisplay.contains(e.target)) {\n      return;\n    }\n\n    this.toggleExtended();\n  };\n\n  onClickWrapper: React.MouseEventHandler<HTMLDivElement> = (e) => {\n    if (this.contactDisplay && this.contactDisplay.contains(e.target)) {\n      return;\n    }\n    if (messageIsTextMessage(this.props.conversation)) {\n      this.props.showConversationDetail(this.props.conversation.conversationId);\n    }\n  };\n\n  onPlayVoicemail = () => {\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    if (this.props.conversation.unreadCounts > 0) {\n      this.props.readMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onMarkMessage = () => {\n    if (this.props.conversation.unreadCounts === 0) {\n      this.props.markMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onUnmarkMessage = () => {\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    if (this.props.conversation.unreadCounts > 0) {\n      this.props.unmarkMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onPreviewFax = (uri: string) => {\n    // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n    this.props.previewFaxMessages(uri, this.props.conversation.conversationId);\n  };\n\n  getDetail() {\n    const { conversation, currentLocale } = this.props;\n    if (messageIsTextMessage(conversation)) {\n      if (\n        conversation.mmsAttachments &&\n        conversation.mmsAttachments.length > 0\n      ) {\n        const imageCount = conversation.mmsAttachments.filter(\n          (m) => m.contentType.indexOf('image') > -1,\n        ).length;\n        if (imageCount > 0) {\n          return format(i18n.getString('imageAttachment', currentLocale), {\n            count: imageCount,\n          });\n        }\n        return format(i18n.getString('fileAttachment', currentLocale), {\n          count: conversation.mmsAttachments.length,\n        });\n      }\n      return conversation.subject;\n    }\n    if (conversation.voicemailAttachment) {\n      const { duration } = conversation.voicemailAttachment;\n      return `${i18n.getString(\n        'voiceMessage',\n        currentLocale,\n      )} (${formatDuration(duration)})`;\n    }\n    if (messageIsFax(conversation)) {\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      const pageCount = +conversation.faxPageCount;\n      const nameKey = pageCount === 1 ? 'page' : 'pages';\n      if (conversation.direction === messageDirection.inbound) {\n        return `${i18n.getString(\n          'faxReceived',\n          currentLocale,\n        )}(${pageCount} ${i18n.getString(nameKey, currentLocale)})`;\n      }\n      return `${i18n.getString(\n        'faxSent',\n        currentLocale,\n      )}(${pageCount} ${i18n.getString(nameKey, currentLocale)})`;\n    }\n    return '';\n  }\n\n  onDeleteMessage = () => {\n    // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n    this.props.deleteMessage(this.props.conversation.conversationId);\n  };\n\n  externalViewEntity = () => {\n    const { externalViewEntity, conversation } = this.props;\n    return externalViewEntity?.(conversation);\n  };\n\n  dateTimeFormatter(creationTime?: number) {\n    try {\n      return this.props.dateTimeFormatter({ utcTimestamp: creationTime });\n    } catch (e) {\n      console.error('Format date time error', creationTime);\n      return creationTime;\n    }\n  }\n\n  getDisableClickToSms = () => {\n    const {\n      areaCode,\n      countryCode,\n      onClickToSms,\n      internalSmsPermission,\n      outboundSmsPermission,\n      maxExtensionNumberLength,\n    } = this.props;\n    const phoneNumber = this.getPhoneNumber();\n    let disableClickToSms = false;\n    if (phoneNumber) {\n      const parsedInfo = parseNumber({\n        phoneNumber,\n        // @ts-expect-error TS(2322): Type 'string' is not assignable to type 'CountryCo... Remove this comment to see the full error message\n        countryCode,\n        areaCode,\n        maxExtensionLength: maxExtensionNumberLength,\n      });\n      const isExtension =\n        !parsedInfo.hasPlus &&\n        parsedInfo.number &&\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        parsedInfo.number.length <= maxExtensionNumberLength;\n      disableClickToSms = !(\n        onClickToSms &&\n        (isExtension ? internalSmsPermission : outboundSmsPermission)\n      );\n    }\n    return disableClickToSms;\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const {\n      areaCode,\n      brand,\n      countryCode,\n      currentLocale,\n      currentSiteCode,\n      isMultipleSiteEnabled,\n      conversation: {\n        conversationId,\n        unreadCounts,\n        correspondents,\n        correspondentMatches,\n        creationTime,\n        isLogging,\n        conversationMatches,\n        type,\n        direction,\n        voicemailAttachment,\n        faxAttachment,\n      },\n      disableLinks: parentDisableLinks,\n      disableCallButton,\n      disableClickToDial,\n      onClickToDial,\n      onClickToSms,\n      onLogConversation,\n      onViewContact,\n      onCreateContact,\n      createEntityTypes,\n      enableContactFallback,\n      contactPlaceholder,\n      showContactDisplayPlaceholder,\n      sourceIcons,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      showGroupNumberName,\n      renderExtraButton,\n      renderActionMenuExtraButton,\n      onFaxDownload,\n      showChooseEntityModal,\n      renderContactList,\n      dropdownClassName,\n      enableCDC,\n      renderContactName,\n      externalHasEntity,\n      externalViewEntity,\n      formatPhone,\n      conversation,\n    } = this.props;\n    let disableLinks = parentDisableLinks;\n    const isVoicemail = type === messageTypes.voiceMail;\n    const isFax = type === messageTypes.fax;\n    if (isVoicemail && !voicemailAttachment) {\n      disableLinks = true;\n    }\n    if (isFax && !faxAttachment) {\n      disableLinks = true;\n    }\n    const groupNumbers = this.getGroupPhoneNumbers();\n    const phoneNumber = this.getPhoneNumber();\n    /**\n     * TODO:\n     * * Group message is supported for internal paging:\n     * * What is the requirement when a hidden contact is part of a group conversation?\n     * * Is it possible to ignore this edge case initially as group conversations are rare, especially when most people use glip now for internal conversations?\n     */\n    const shouldHideNumber =\n      enableCDC &&\n      // @ts-expect-error TS(2345): Argument of type 'any[] | undefined' is not assign... Remove this comment to see the full error message\n      checkShouldHidePhoneNumber(phoneNumber, correspondentMatches);\n    const isContactMatchesHidden =\n      // @ts-expect-error TS(2345): Argument of type 'any[] | undefined' is not assign... Remove this comment to see the full error message\n      enableCDC && checkShouldHideContactUser(correspondentMatches);\n    const fallbackName = this.getFallbackContactName();\n    const detail = this.getDetail();\n    const disableClickToSms = this.getDisableClickToSms();\n    let player;\n    let slideMenuHeight = 60;\n    if (isVoicemail) {\n      player = (\n        <VoicemailPlayer\n          className={styles.player}\n          uri={voicemailAttachment.uri}\n          duration={voicemailAttachment.duration}\n          onPlay={this.onPlayVoicemail}\n          disabled={disableLinks}\n          currentLocale={currentLocale}\n        />\n      );\n      slideMenuHeight = 88;\n    }\n    const extraButton = renderExtraButton\n      ? renderExtraButton(conversation, {\n          logConversation: this.logConversation,\n          isLogging: isLogging || this.state.isLogging,\n        })\n      : null;\n    const msgItem = `${type}MessageItem`;\n\n    const defaultContactDisplay = (\n      <ContactDisplay\n        formatPhone={formatPhone}\n        reference={(ref) => {\n          this.contactDisplay = ref;\n        }}\n        className={classnames(\n          styles.contactDisplay,\n          unreadCounts && styles.unread,\n        )}\n        unread={!!unreadCounts}\n        selectedClassName={styles.selectedValue}\n        selectClassName={styles.dropdownSelect}\n        brand={brand}\n        // @ts-expect-error TS(2322): Type 'any[] | undefined' is not assignable to type... Remove this comment to see the full error message\n        contactMatches={correspondentMatches}\n        selected={this.state.selected}\n        onSelectContact={this.onSelectContact}\n        disabled={disableLinks}\n        isLogging={isLogging || this.state.isLogging}\n        fallBackName={fallbackName}\n        areaCode={areaCode}\n        countryCode={countryCode}\n        phoneNumber={shouldHideNumber ? null : phoneNumber}\n        // @ts-expect-error TS(2322): Type 'any[] | null' is not assignable to type 'str... Remove this comment to see the full error message\n        groupNumbers={groupNumbers}\n        showGroupNumberName={showGroupNumberName}\n        currentLocale={currentLocale}\n        currentSiteCode={currentSiteCode}\n        isMultipleSiteEnabled={isMultipleSiteEnabled}\n        enableContactFallback={enableContactFallback}\n        stopPropagation={false}\n        showType={false}\n        showPlaceholder={showContactDisplayPlaceholder}\n        placeholder={contactPlaceholder}\n        sourceIcons={sourceIcons}\n        phoneTypeRenderer={phoneTypeRenderer}\n        phoneSourceNameRenderer={phoneSourceNameRenderer}\n        dropdownRenderFunction={renderContactList}\n        dropdownClassName={dropdownClassName}\n      />\n    );\n\n    return (\n      <div\n        data-sign={msgItem}\n        data-id={conversationId}\n        className={styles.root}\n        onClick={this.onClickItem}\n      >\n        <div\n          data-sign=\"unread\"\n          className={classnames(styles.wrapper, unreadCounts && styles.unread)}\n          onClick={this.onClickWrapper}\n        >\n          <ConversationIcon\n            group={correspondents && correspondents.length > 1}\n            type={type}\n            currentLocale={currentLocale}\n            direction={direction}\n          />\n          <div\n            className={classnames(\n              styles.infoWrapper,\n              !extraButton && styles.embellishInfoWrapper,\n            )}\n          >\n            {renderContactName\n              ? renderContactName({\n                  conversation,\n                  phoneNumber,\n                  unread: !!unreadCounts,\n                  defaultContactDisplay,\n                })\n              : defaultContactDisplay}\n            <div className={styles.detailsWithTime}>\n              <div\n                data-sign=\"msgDetail\"\n                className={styles.details}\n                title={detail}\n              >\n                {detail}\n              </div>\n              <div className={styles.separatrix}>|</div>\n              <div data-sign=\"msgCreateTime\" className={styles.creationTime}>\n                {this.dateTimeFormatter(creationTime)}\n              </div>\n            </div>\n          </div>\n          {extraButton}\n        </div>\n        <SlideMenu\n          // @ts-expect-error TS(2322): Type '{ children: Element[]; extended: boolean; on... Remove this comment to see the full error message\n          extended={this.state.extended}\n          onToggle={this.toggleExtended}\n          extendIconClassName={styles.extendIcon}\n          className={styles.slideMenu}\n          minHeight={0}\n          maxHeight={slideMenuHeight}\n        >\n          <div\n            className={styles.playContainer}\n            onClick={this.preventEventPropagating}\n          >\n            {player}\n          </div>\n          <ActionMenuList\n            // @ts-expect-error TS(2322): Type '{ shouldHideEntityButton: boolean | undefine... Remove this comment to see the full error message\n            shouldHideEntityButton={isContactMatchesHidden}\n            className={styles.actionMenuList}\n            type={type}\n            currentLocale={currentLocale}\n            onLog={\n              isVoicemail || isFax || renderExtraButton\n                ? undefined\n                : onLogConversation && this.logConversation\n            }\n            onViewEntity={onViewContact && this.viewSelectedContact}\n            onCreateEntity={onCreateContact && this.createSelectedContact}\n            createEntityTypes={createEntityTypes}\n            hasEntity={\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              correspondents.length === 1 &&\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              !!correspondentMatches.length &&\n              (this.getSelectedContact()?.type ?? '') !== extensionTypes.ivrMenu\n            }\n            onClickToDial={\n              !isFax ? onClickToDial && this.clickToDial : undefined\n            }\n            onClickToSms={\n              isVoicemail ? onClickToSms && this.onClickToSms : undefined\n            }\n            disableClickToSms={disableClickToSms}\n            phoneNumber={phoneNumber}\n            disableLinks={disableLinks}\n            disableCallButton={disableCallButton}\n            disableClickToDial={disableClickToDial}\n            isLogging={isLogging || this.state.isLogging}\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            isLogged={conversationMatches.length > 0}\n            isCreating={this.state.isCreating}\n            addLogTitle={i18n.getString('addLog', currentLocale)}\n            editLogTitle={i18n.getString('editLog', currentLocale)}\n            callTitle={i18n.getString('call', currentLocale)}\n            textTitle={i18n.getString('text', currentLocale)}\n            createEntityTitle={i18n.getString('addEntity', currentLocale)}\n            viewEntityTitle={i18n.getString('viewDetails', currentLocale)}\n            stopPropagation={false}\n            onDelete={isVoicemail || isFax ? this.onDeleteMessage : undefined}\n            deleteTitle={i18n.getString('delete', currentLocale)}\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            marked={unreadCounts > 0}\n            onMark={\n              isVoicemail || (isFax && direction === messageDirection.inbound)\n                ? this.onMarkMessage\n                : undefined\n            }\n            onUnmark={\n              isVoicemail || (isFax && direction === messageDirection.inbound)\n                ? this.onUnmarkMessage\n                : undefined\n            }\n            onPreview={isFax ? this.onPreviewFax : undefined}\n            markTitle={i18n.getString('mark', currentLocale)}\n            unmarkTitle={i18n.getString('unmark', currentLocale)}\n            faxAttachment={faxAttachment}\n            previewTitle={i18n.getString('preview', currentLocale)}\n            downloadTitle={i18n.getString('download', currentLocale)}\n            onFaxDownload={onFaxDownload}\n            showChooseEntityModal={showChooseEntityModal}\n            externalViewEntity={externalViewEntity && this.externalViewEntity}\n            externalHasEntity={externalHasEntity?.(conversation)}\n            extraButton={renderActionMenuExtraButton?.(conversation)}\n          />\n        </SlideMenu>\n      </div>\n    );\n  }\n}\n\nexport default MessageItem;\n"],"mappings":"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"}