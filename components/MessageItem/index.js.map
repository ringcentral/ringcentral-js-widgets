{"version":3,"sources":["components/MessageItem/index.js"],"names":["ConversationIcon","group","type","currentLocale","direction","title","icon","messageTypes","voiceMail","i18n","getString","styles","fax","messageDirection","inbound","conversationIcon","propTypes","PropTypes","bool","string","defaultProps","undefined","MessageItem","props","preventEventPropagating","e","target","currentTarget","stopPropagation","onSelectContact","value","idx","showContactDisplayPlaceholder","autoLog","conversation","shouldLogSelectRecord","selected","parseInt","_userSelection","setState","logConversation","redirect","prefill","correspondentEntity","getSelectedContact","state","contactMatches","correspondentMatches","length","viewSelectedContact","onViewContact","contact","getMatchEntities","phoneNumber","getPhoneNumber","matchEntitiesIds","getMatchEntitiesIds","createSelectedContact","bind","clickToDial","onClickToDial","fromType","onClickToSms","updateTypeFilter","text","onClickItem","contactDisplay","contains","toggleExtended","onClickWrapper","showConversationDetail","conversationId","onPlayVoicemail","unreadCounts","readMessage","onMarkMessage","markMessage","onUnmarkMessage","unmarkMessage","onPreviewFax","uri","previewFaxMessages","onDeleteMessage","deleteMessage","getDisableClickToSms","areaCode","countryCode","internalSmsPermission","outboundSmsPermission","disableClickToSms","parsedInfo","isExtension","hasPlus","number","getInitialContactIndex","isLogging","isCreating","extended","preState","_mounted","nextProps","conversationMatches","lastMatchedCorrespondentEntity","index","findIndex","id","map","item","correspondents","extensionNumber","groupNumbers","correspondent","name","entityType","onCreateContact","enableContactFallback","getFallbackContactName","onLogConversation","mmsAttachments","imageCount","filter","m","contentType","indexOf","count","subject","voicemailAttachment","duration","pageCount","faxPageCount","nameKey","creationTime","dateTimeFormatter","utcTimestamp","console","error","brand","currentSiteCode","isMultipleSiteEnabled","faxAttachment","parentDisableLinks","disableLinks","disableCallButton","disableClickToDial","createEntityTypes","contactPlaceholder","sourceIcons","phoneTypeRenderer","phoneSourceNameRenderer","showGroupNumberName","renderExtraButton","onFaxDownload","showChooseEntityModal","renderContactList","dropdownClassName","enableCDC","isVoicemail","isFax","getGroupPhoneNumbers","shouldHideNumber","fallbackName","detail","getDetail","player","slideMenuHeight","extraButton","msgItem","root","wrapper","unread","infoWrapper","embellishInfoWrapper","ref","selectedValue","dropdownSelect","detailsWithTime","details","separatrix","extendIcon","slideMenu","playContainer","actionMenuList","extensionTypes","ivrMenu","Component","shape","isRequired","arrayOf","any","func","array","object"],"mappings":"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","sourcesContent":["import { extensionTypes } from '@ringcentral-integration/commons/enums/extensionTypes';\nimport messageDirection from '@ringcentral-integration/commons/enums/messageDirection';\nimport messageTypes from '@ringcentral-integration/commons/enums/messageTypes';\nimport {\n  messageIsFax,\n  messageIsTextMessage,\n} from '@ringcentral-integration/commons/lib/messageHelper';\nimport parseNumber from '@ringcentral-integration/commons/lib/parseNumber';\nimport classnames from 'classnames';\nimport formatMessage from 'format-message';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport ComposeTextIcon from '../../assets/images/ComposeText.svg';\nimport FaxInboundIcon from '../../assets/images/FaxInbound.svg';\nimport FaxOutboundIcon from '../../assets/images/FaxOutbound.svg';\nimport GroupConversationIcon from '../../assets/images/GroupConversation.svg';\nimport VoicemailIcon from '../../assets/images/VoicemailIcon.svg';\nimport { checkShouldHidePhoneNumber } from '../../lib/checkShouldHidePhoneNumber';\nimport formatDuration from '../../lib/formatDuration';\nimport ActionMenuList from '../ActionMenuList';\nimport ContactDisplay from '../ContactDisplay';\nimport SlideMenu from '../SlideMenu';\nimport VoicemailPlayer from '../VoicemailPlayer';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst ConversationIcon = ({ group, type, currentLocale, direction }) => {\n  let title;\n  let icon;\n  switch (type) {\n    case messageTypes.voiceMail:\n      title = i18n.getString(messageTypes.voiceMail, currentLocale);\n      icon = <VoicemailIcon width={23} className={styles.icon} />;\n      break;\n    case messageTypes.fax:\n      title = i18n.getString(messageTypes.fax, currentLocale);\n      icon =\n        direction === messageDirection.inbound ? (\n          <FaxInboundIcon width={21} className={styles.icon} />\n        ) : (\n          <FaxOutboundIcon width={21} className={styles.icon} />\n        );\n      break;\n    default:\n      title = group\n        ? i18n.getString('groupConversation', currentLocale)\n        : i18n.getString('conversation', currentLocale);\n      icon = group ? (\n        <GroupConversationIcon width={19} className={styles.icon} />\n      ) : (\n        <ComposeTextIcon width={18} className={styles.icon} />\n      );\n  }\n  return (\n    <div className={styles.conversationIcon}>\n      <span title={title}>{icon}</span>\n    </div>\n  );\n};\nConversationIcon.propTypes = {\n  group: PropTypes.bool,\n  type: PropTypes.string,\n  currentLocale: PropTypes.string,\n  direction: PropTypes.string,\n};\nConversationIcon.defaultProps = {\n  group: false,\n  type: undefined,\n  currentLocale: undefined,\n  direction: undefined,\n};\n\nexport default class MessageItem extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selected: this.getInitialContactIndex(),\n      isLogging: false,\n      isCreating: false,\n      extended: false,\n    };\n\n    this.toggleExtended = () => {\n      this.setState((preState) => ({\n        extended: !preState.extended,\n      }));\n    };\n    this._userSelection = false;\n    /* [RCINT-4301] onSelection would trigger some state changes that would push new\n     * properties before the state has been changed. Which would reset the selected value.\n     */\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (\n      !this._userSelection &&\n      (nextProps.conversation.conversationMatches !==\n        this.props.conversation.conversationMatches ||\n        nextProps.conversation.correspondentMatches !==\n          this.props.conversation.correspondentMatches)\n    ) {\n      this.setState({\n        selected: this.getInitialContactIndex(nextProps),\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n  }\n\n  preventEventPropagating = (e) => {\n    if (e.target !== e.currentTarget) {\n      e.stopPropagation();\n    }\n  };\n\n  onSelectContact = (value, idx) => {\n    const {\n      showContactDisplayPlaceholder,\n      autoLog,\n      conversation,\n      shouldLogSelectRecord,\n      onSelectContact,\n    } = this.props;\n    const selected = showContactDisplayPlaceholder\n      ? parseInt(idx, 10) - 1\n      : parseInt(idx, 10);\n    this._userSelection = true;\n    this.setState({\n      selected,\n    });\n    if (autoLog) {\n      this.logConversation({ redirect: false, selected, prefill: false });\n    }\n    if (shouldLogSelectRecord && typeof onSelectContact === 'function') {\n      onSelectContact({\n        correspondentEntity: this.getSelectedContact(selected),\n        conversation,\n      });\n    }\n  };\n\n  getInitialContactIndex(nextProps = this.props) {\n    const {\n      correspondentMatches,\n      lastMatchedCorrespondentEntity,\n    } = nextProps.conversation;\n    if (lastMatchedCorrespondentEntity) {\n      const index = correspondentMatches.findIndex(\n        (contact) => contact.id === lastMatchedCorrespondentEntity.id,\n      );\n      if (index > -1) return index;\n    }\n    return this.props.showContactDisplayPlaceholder ? -1 : 0;\n  }\n\n  getSelectedContact = (selected = this.state.selected) => {\n    const contactMatches = this.props.conversation.correspondentMatches;\n    return (\n      (selected > -1 && contactMatches[selected]) ||\n      (contactMatches.length === 1 && contactMatches[0]) ||\n      null\n    );\n  };\n\n  getMatchEntities() {\n    return this.props.conversation.correspondentMatches || [];\n  }\n\n  getMatchEntitiesIds() {\n    const contactMatches = this.props.conversation.correspondentMatches || [];\n    return contactMatches.map((item) => item.id);\n  }\n\n  getPhoneNumber() {\n    const { correspondents } = this.props.conversation;\n    return (\n      (correspondents.length === 1 &&\n        correspondents[0] &&\n        (correspondents[0].phoneNumber || correspondents[0].extensionNumber)) ||\n      undefined\n    );\n  }\n\n  getGroupPhoneNumbers() {\n    const { correspondents } = this.props.conversation;\n    const groupNumbers =\n      correspondents.length > 1\n        ? correspondents.map(\n            (correspondent) =>\n              correspondent.extensionNumber ||\n              correspondent.phoneNumber ||\n              undefined,\n          )\n        : null;\n    return groupNumbers;\n  }\n\n  getFallbackContactName() {\n    const { correspondents } = this.props.conversation;\n    return (correspondents.length === 1 && correspondents[0].name) || undefined;\n  }\n\n  viewSelectedContact = () => {\n    if (typeof this.props.onViewContact === 'function') {\n      this.props.onViewContact({\n        contact: this.getSelectedContact(),\n        contactMatches: this.getMatchEntities(),\n        phoneNumber: this.getPhoneNumber(),\n        matchEntitiesIds: this.getMatchEntitiesIds(),\n      });\n    }\n  };\n\n  async createSelectedContact(entityType) {\n    // console.log('click createSelectedContact!!', entityType);\n    if (\n      typeof this.props.onCreateContact === 'function' &&\n      this._mounted &&\n      !this.state.isCreating\n    ) {\n      this.setState({\n        isCreating: true,\n      });\n      // console.log('start to create: isCreating...', this.state.isCreating);\n      const phoneNumber = this.getPhoneNumber();\n      await this.props.onCreateContact({\n        phoneNumber,\n        name: this.props.enableContactFallback\n          ? this.getFallbackContactName()\n          : '',\n        entityType,\n      });\n\n      if (this._mounted) {\n        this.setState({\n          isCreating: false,\n        });\n        // console.log('created: isCreating...', this.state.isCreating);\n      }\n    }\n  }\n\n  createSelectedContact = this.createSelectedContact.bind(this);\n\n  async logConversation({ redirect = true, selected, prefill = true } = {}) {\n    if (\n      typeof this.props.onLogConversation === 'function' &&\n      this._mounted &&\n      !this.state.isLogging\n    ) {\n      this.setState({\n        isLogging: true,\n      });\n      await this.props.onLogConversation({\n        correspondentEntity: this.getSelectedContact(selected),\n        conversationId: this.props.conversation.conversationId,\n        redirect,\n        prefill,\n      });\n      if (this._mounted) {\n        this.setState({\n          isLogging: false,\n        });\n      }\n    }\n  }\n\n  logConversation = this.logConversation.bind(this);\n\n  clickToDial = () => {\n    if (this.props.onClickToDial) {\n      const contact = this.getSelectedContact() || {};\n      const phoneNumber = this.getPhoneNumber();\n\n      if (phoneNumber) {\n        this.props.onClickToDial({\n          ...contact,\n          phoneNumber,\n          fromType: this.props.conversation.type,\n        });\n      }\n    }\n  };\n\n  onClickToSms = () => {\n    if (this.props.onClickToSms) {\n      const contact = this.getSelectedContact() || {};\n      const phoneNumber = this.getPhoneNumber();\n\n      if (phoneNumber) {\n        this.props.updateTypeFilter(messageTypes.text);\n        this.props.onClickToSms({\n          ...contact,\n          phoneNumber,\n        });\n      }\n    }\n  };\n\n  onClickItem = (e) => {\n    if (this.contactDisplay && this.contactDisplay.contains(e.target)) {\n      return;\n    }\n\n    this.toggleExtended();\n  };\n\n  onClickWrapper = (e) => {\n    if (this.contactDisplay && this.contactDisplay.contains(e.target)) {\n      return;\n    }\n    if (messageIsTextMessage(this.props.conversation)) {\n      this.props.showConversationDetail(this.props.conversation.conversationId);\n    }\n  };\n\n  onPlayVoicemail = () => {\n    if (this.props.conversation.unreadCounts > 0) {\n      this.props.readMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onMarkMessage = () => {\n    if (this.props.conversation.unreadCounts === 0) {\n      this.props.markMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onUnmarkMessage = () => {\n    if (this.props.conversation.unreadCounts > 0) {\n      this.props.unmarkMessage(this.props.conversation.conversationId);\n    }\n  };\n\n  onPreviewFax = (uri) => {\n    this.props.previewFaxMessages(uri, this.props.conversation.conversationId);\n  };\n\n  getDetail() {\n    const { conversation, currentLocale } = this.props;\n    if (messageIsTextMessage(conversation)) {\n      if (\n        conversation.mmsAttachments &&\n        conversation.mmsAttachments.length > 0\n      ) {\n        const imageCount = conversation.mmsAttachments.filter(\n          (m) => m.contentType.indexOf('image') > -1,\n        ).length;\n        if (imageCount > 0) {\n          return formatMessage(\n            i18n.getString('imageAttachment', currentLocale),\n            {\n              count: imageCount,\n            },\n          );\n        }\n        return formatMessage(i18n.getString('fileAttachment', currentLocale), {\n          count: conversation.mmsAttachments.length,\n        });\n      }\n      return conversation.subject;\n    }\n    if (conversation.voicemailAttachment) {\n      const { duration } = conversation.voicemailAttachment;\n      return `${i18n.getString(\n        'voiceMessage',\n        currentLocale,\n      )} (${formatDuration(duration)})`;\n    }\n    if (messageIsFax(conversation)) {\n      const pageCount = parseInt(conversation.faxPageCount, 10);\n      const nameKey = pageCount === 1 ? 'page' : 'pages';\n      if (conversation.direction === messageDirection.inbound) {\n        return `${i18n.getString(\n          'faxReceived',\n          currentLocale,\n        )}(${pageCount} ${i18n.getString(nameKey, currentLocale)})`;\n      }\n      return `${i18n.getString(\n        'faxSent',\n        currentLocale,\n      )}(${pageCount} ${i18n.getString(nameKey, currentLocale)})`;\n    }\n    return '';\n  }\n\n  onDeleteMessage = () => {\n    this.props.deleteMessage(this.props.conversation.conversationId);\n  };\n\n  dateTimeFormatter(creationTime) {\n    try {\n      return this.props.dateTimeFormatter({ utcTimestamp: creationTime });\n    } catch (e) {\n      console.error('Format date time error', creationTime);\n      return creationTime;\n    }\n  }\n\n  getDisableClickToSms = () => {\n    const {\n      areaCode,\n      countryCode,\n      onClickToSms,\n      internalSmsPermission,\n      outboundSmsPermission,\n    } = this.props;\n    const phoneNumber = this.getPhoneNumber();\n    let disableClickToSms = false;\n    if (phoneNumber) {\n      const parsedInfo = parseNumber({\n        phoneNumber,\n        countryCode,\n        areaCode,\n      });\n      const isExtension =\n        !parsedInfo.hasPlus &&\n        parsedInfo.number &&\n        parsedInfo.number.length <= 6;\n      disableClickToSms = !(\n        onClickToSms &&\n        (isExtension ? internalSmsPermission : outboundSmsPermission)\n      );\n    }\n    return disableClickToSms;\n  };\n\n  render() {\n    const {\n      areaCode,\n      brand,\n      countryCode,\n      currentLocale,\n      currentSiteCode,\n      isMultipleSiteEnabled,\n      conversation: {\n        conversationId,\n        unreadCounts,\n        correspondents,\n        correspondentMatches,\n        creationTime,\n        isLogging,\n        conversationMatches,\n        type,\n        direction,\n        voicemailAttachment,\n        faxAttachment,\n      },\n      disableLinks: parentDisableLinks,\n      disableCallButton,\n      disableClickToDial,\n      onClickToDial,\n      onClickToSms,\n      onLogConversation,\n      onViewContact,\n      onCreateContact,\n      createEntityTypes,\n      enableContactFallback,\n      contactPlaceholder,\n      showContactDisplayPlaceholder,\n      sourceIcons,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      showGroupNumberName,\n      renderExtraButton,\n      onFaxDownload,\n      showChooseEntityModal,\n      renderContactList,\n      dropdownClassName,\n      enableCDC,\n    } = this.props;\n    let disableLinks = parentDisableLinks;\n    const isVoicemail = type === messageTypes.voiceMail;\n    const isFax = type === messageTypes.fax;\n    if (isVoicemail && !voicemailAttachment) {\n      disableLinks = true;\n    }\n    if (isFax && !faxAttachment) {\n      disableLinks = true;\n    }\n    const groupNumbers = this.getGroupPhoneNumbers();\n    const phoneNumber = this.getPhoneNumber();\n    /**\n     * TODO:\n     * * Group message is supported for internal paging:\n     * * What is the requirement when a hidden contact is part of a group conversation?\n     * * Is it possible to ignore this edge case initially as group conversations are rare, especially when most people use glip now for internal conversations?\n     */\n    const shouldHideNumber =\n      enableCDC &&\n      checkShouldHidePhoneNumber(phoneNumber, correspondentMatches);\n    const fallbackName = this.getFallbackContactName();\n    const detail = this.getDetail();\n    const disableClickToSms = this.getDisableClickToSms();\n    let player;\n    let slideMenuHeight = 60;\n    if (isVoicemail) {\n      player = (\n        <VoicemailPlayer\n          className={styles.player}\n          uri={voicemailAttachment.uri}\n          duration={voicemailAttachment.duration}\n          onPlay={this.onPlayVoicemail}\n          disabled={disableLinks}\n          currentLocale={currentLocale}\n        />\n      );\n      slideMenuHeight = 88;\n    }\n    const extraButton = renderExtraButton\n      ? renderExtraButton(this.props.conversation, {\n          logConversation: this.logConversation,\n          isLogging: isLogging || this.state.isLogging,\n        })\n      : null;\n    const msgItem = `${type}MessageItem`;\n\n    return (\n      <div\n        data-sign={msgItem}\n        data-id={conversationId}\n        className={styles.root}\n        onClick={this.onClickItem}\n      >\n        <div\n          data-sign=\"unread\"\n          className={classnames(styles.wrapper, unreadCounts && styles.unread)}\n          onClick={this.onClickWrapper}\n        >\n          <ConversationIcon\n            group={correspondents.length > 1}\n            type={type}\n            currentLocale={currentLocale}\n            direction={direction}\n          />\n          <div\n            className={classnames(\n              styles.infoWrapper,\n              !extraButton && styles.embellishInfoWrapper,\n            )}\n          >\n            <ContactDisplay\n              reference={(ref) => {\n                this.contactDisplay = ref;\n              }}\n              className={classnames(\n                styles.contactDisplay,\n                unreadCounts && styles.unread,\n              )}\n              selectedClassName={styles.selectedValue}\n              selectClassName={styles.dropdownSelect}\n              brand={brand}\n              contactMatches={correspondentMatches}\n              selected={this.state.selected}\n              onSelectContact={this.onSelectContact}\n              disabled={disableLinks}\n              isLogging={isLogging || this.state.isLogging}\n              fallBackName={fallbackName}\n              areaCode={areaCode}\n              countryCode={countryCode}\n              phoneNumber={shouldHideNumber ? null : phoneNumber}\n              groupNumbers={groupNumbers}\n              showGroupNumberName={showGroupNumberName}\n              currentLocale={currentLocale}\n              currentSiteCode={currentSiteCode}\n              isMultipleSiteEnabled={isMultipleSiteEnabled}\n              enableContactFallback={enableContactFallback}\n              stopPropagation={false}\n              showType={false}\n              showPlaceholder={showContactDisplayPlaceholder}\n              placeholder={contactPlaceholder}\n              sourceIcons={sourceIcons}\n              phoneTypeRenderer={phoneTypeRenderer}\n              phoneSourceNameRenderer={phoneSourceNameRenderer}\n              dropdownRenderFunction={renderContactList}\n              dropdownClassName={dropdownClassName}\n            />\n            <div className={styles.detailsWithTime}>\n              <div\n                data-sign=\"msgDetail\"\n                className={styles.details}\n                title={detail}\n              >\n                {detail}\n              </div>\n              <div className={styles.separatrix}>|</div>\n              <div data-sign=\"msgCreateTime\" className={styles.creationTime}>\n                {this.dateTimeFormatter(creationTime)}\n              </div>\n            </div>\n          </div>\n          {extraButton}\n        </div>\n        <SlideMenu\n          extended={this.state.extended}\n          onToggle={this.toggleExtended}\n          extendIconClassName={styles.extendIcon}\n          className={styles.slideMenu}\n          minHeight={0}\n          maxHeight={slideMenuHeight}\n        >\n          <div\n            className={styles.playContainer}\n            onClick={this.preventEventPropagating}\n          >\n            {player}\n          </div>\n          <ActionMenuList\n            shouldHideEntityButton={shouldHideNumber}\n            className={styles.actionMenuList}\n            type={type}\n            currentLocale={currentLocale}\n            onLog={\n              isVoicemail || isFax || renderExtraButton\n                ? undefined\n                : onLogConversation && this.logConversation\n            }\n            onViewEntity={onViewContact && this.viewSelectedContact}\n            onCreateEntity={onCreateContact && this.createSelectedContact}\n            createEntityTypes={createEntityTypes}\n            hasEntity={\n              correspondents.length === 1 &&\n              !!correspondentMatches.length &&\n              (this.getSelectedContact()?.type ?? '') !== extensionTypes.ivrMenu\n            }\n            onClickToDial={\n              !isFax ? onClickToDial && this.clickToDial : undefined\n            }\n            onClickToSms={\n              isVoicemail ? onClickToSms && this.onClickToSms : undefined\n            }\n            disableClickToSms={disableClickToSms}\n            phoneNumber={phoneNumber}\n            disableLinks={disableLinks}\n            disableCallButton={disableCallButton}\n            disableClickToDial={disableClickToDial}\n            isLogging={isLogging || this.state.isLogging}\n            isLogged={conversationMatches.length > 0}\n            isCreating={this.state.isCreating}\n            addLogTitle={i18n.getString('addLog', currentLocale)}\n            editLogTitle={i18n.getString('editLog', currentLocale)}\n            callTitle={i18n.getString('call', currentLocale)}\n            textTitle={i18n.getString('text', currentLocale)}\n            createEntityTitle={i18n.getString('addEntity', currentLocale)}\n            viewEntityTitle={i18n.getString('viewDetails', currentLocale)}\n            stopPropagation={false}\n            onDelete={isVoicemail || isFax ? this.onDeleteMessage : undefined}\n            deleteTitle={i18n.getString('delete', currentLocale)}\n            marked={unreadCounts > 0}\n            onMark={\n              isVoicemail || (isFax && direction === messageDirection.inbound)\n                ? this.onMarkMessage\n                : undefined\n            }\n            onUnmark={\n              isVoicemail || (isFax && direction === messageDirection.inbound)\n                ? this.onUnmarkMessage\n                : undefined\n            }\n            onPreview={isFax ? this.onPreviewFax : undefined}\n            markTitle={i18n.getString('mark', currentLocale)}\n            unmarkTitle={i18n.getString('unmark', currentLocale)}\n            faxAttachment={faxAttachment}\n            previewTitle={i18n.getString('preview', currentLocale)}\n            downloadTitle={i18n.getString('download', currentLocale)}\n            onFaxDownload={onFaxDownload}\n            showChooseEntityModal={showChooseEntityModal}\n          />\n        </SlideMenu>\n      </div>\n    );\n  }\n}\n\nMessageItem.propTypes = {\n  conversation: PropTypes.shape({\n    conversationId: PropTypes.string.isRequired,\n    isLogging: PropTypes.bool,\n    creationTime: PropTypes.number,\n    direction: PropTypes.string,\n    faxPageCount: PropTypes.number,\n    voicemailAttachment: PropTypes.shape({\n      duration: PropTypes.number,\n      uri: PropTypes.string,\n    }),\n    faxAttachment: PropTypes.shape({\n      uri: PropTypes.string,\n    }),\n    correspondents: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string,\n        phoneNumber: PropTypes.string,\n        extensionNumber: PropTypes.string,\n      }),\n    ),\n    correspondentMatches: PropTypes.arrayOf(\n      PropTypes.shape({\n        name: PropTypes.string,\n        entityType: PropTypes.string,\n      }),\n    ),\n    conversationMatches: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.string,\n      }),\n    ),\n    unreadCounts: PropTypes.number.isRequired,\n    type: PropTypes.string.isRequired,\n    uri: PropTypes.string,\n    mmsAttachments: PropTypes.any,\n    subject: PropTypes.string,\n  }).isRequired,\n  areaCode: PropTypes.string.isRequired,\n  brand: PropTypes.string.isRequired,\n  countryCode: PropTypes.string.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  currentSiteCode: PropTypes.string,\n  isMultipleSiteEnabled: PropTypes.bool,\n  onLogConversation: PropTypes.func,\n  onViewContact: PropTypes.func,\n  onCreateContact: PropTypes.func,\n  createEntityTypes: PropTypes.array,\n  onClickToDial: PropTypes.func,\n  onClickToSms: PropTypes.func,\n  disableLinks: PropTypes.bool,\n  disableCallButton: PropTypes.bool,\n  disableClickToDial: PropTypes.bool,\n  dateTimeFormatter: PropTypes.func.isRequired,\n  showConversationDetail: PropTypes.func.isRequired,\n  readMessage: PropTypes.func.isRequired,\n  markMessage: PropTypes.func.isRequired,\n  unmarkMessage: PropTypes.func.isRequired,\n  autoLog: PropTypes.bool,\n  enableContactFallback: PropTypes.bool,\n  showContactDisplayPlaceholder: PropTypes.bool,\n  contactPlaceholder: PropTypes.string,\n  sourceIcons: PropTypes.object,\n  phoneTypeRenderer: PropTypes.func,\n  phoneSourceNameRenderer: PropTypes.func,\n  showGroupNumberName: PropTypes.bool,\n  deleteMessage: PropTypes.func,\n  previewFaxMessages: PropTypes.func,\n  renderExtraButton: PropTypes.func,\n  internalSmsPermission: PropTypes.bool,\n  outboundSmsPermission: PropTypes.bool,\n  updateTypeFilter: PropTypes.func,\n  onFaxDownload: PropTypes.func,\n  showChooseEntityModal: PropTypes.bool,\n  shouldLogSelectRecord: PropTypes.bool,\n  onSelectContact: PropTypes.func,\n  renderContactList: PropTypes.func,\n  dropdownClassName: PropTypes.string,\n  enableCDC: PropTypes.bool,\n};\n\nMessageItem.defaultProps = {\n  currentSiteCode: '',\n  isMultipleSiteEnabled: false,\n  onLogConversation: undefined,\n  onClickToDial: undefined,\n  onViewContact: undefined,\n  onCreateContact: undefined,\n  createEntityTypes: undefined,\n  disableClickToDial: false,\n  onClickToSms: undefined,\n  disableLinks: false,\n  disableCallButton: false,\n  autoLog: false,\n  enableContactFallback: undefined,\n  showContactDisplayPlaceholder: true,\n  contactPlaceholder: '',\n  sourceIcons: undefined,\n  phoneTypeRenderer: undefined,\n  phoneSourceNameRenderer: undefined,\n  showGroupNumberName: false,\n  deleteMessage() {},\n  previewFaxMessages: undefined,\n  renderExtraButton: undefined,\n  internalSmsPermission: true,\n  outboundSmsPermission: true,\n  updateTypeFilter: undefined,\n  onFaxDownload: undefined,\n  showChooseEntityModal: true,\n  shouldLogSelectRecord: false,\n  onSelectContact: undefined,\n  renderContactList: undefined,\n  dropdownClassName: null,\n  enableCDC: false,\n};\n"],"file":"index.js"}