{"version":3,"file":"MainViewPanel.js","names":["_Tooltip","require","_TabNavigationView","_interopRequireDefault","_juno","_junoIcon","_clsx","_react","_interopRequireWildcard","_iconPvcConnecting","_iconPvcDisabled","_iconPvcDisconnecting","_iconPvcOff","_iconPvcOn","_WorkingStateSelect","_i18n","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","CustomIcon","props","createElement","RcIcon","className","styles","icon","MainViewPanel","_ref","currentPath","goTo","agentStates","changeWorkingState","currentStateIndex","getStateColor","handleWithIntervalTime","stateText","time","getTimerText","disabled","children","currentLocale","isOffHookDisable","offhookState","offhook","isWide","isOffhooking","hideOffHookBtn","tabs","symbol","phoneBorderSvg","activeIcon","phoneSvg","label","i18n","getString","path","isActive","test","tab","TimeBorderSvg","TimeSvg","settingsBorderSvg","settingsSvg","offHookIcon","useMemo","title","offHookSvgDisabled","loading","offHookSvgConnecting","offHookSvgDisconnecting","offHookSvgOff","offHookSvgOn","Tooltip","tabNavigationViewClassName","tabNavigationView","navBarClassName","navigationBar","mainView","header","WorkingStateSelect","clsx","offHookState","enabled","onClick","exports"],"sources":["components/MainViewPanel/MainViewPanel.tsx"],"sourcesContent":["import type { TabPropTypes } from '@ringcentral-integration/widgets/components/NavigationBar';\nimport { Tooltip } from '@ringcentral-integration/widgets/components/Rcui/Tooltip';\nimport TabNavigationView from '@ringcentral-integration/widgets/components/TabNavigationView';\nimport type { RcIconProps } from '@ringcentral/juno';\nimport { RcIcon } from '@ringcentral/juno';\nimport {\n  Phone as phoneSvg,\n  PhoneBorder as phoneBorderSvg,\n  Settings as settingsSvg,\n  SettingsBorder as settingsBorderSvg,\n  Time as TimeSvg,\n  TimeBorder as TimeBorderSvg,\n} from '@ringcentral/juno-icon';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React, { useMemo } from 'react';\n\nimport offHookSvgConnecting from '../../assets/icons/icon-pvc-connecting.svg';\nimport offHookSvgDisabled from '../../assets/icons/icon-pvc-disabled.svg';\nimport offHookSvgDisconnecting from '../../assets/icons/icon-pvc-disconnecting.svg';\nimport offHookSvgOff from '../../assets/icons/icon-pvc-off.svg';\nimport offHookSvgOn from '../../assets/icons/icon-pvc-on.svg';\nimport type {\n  EvMainViewUIFunctions,\n  EvMainViewUIProps,\n} from '../../interfaces/EvMainViewUI.interface';\n\nimport { WorkingStateSelect } from './WorkingStateSelect';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type MainViewPanelProps = EvMainViewUIProps & EvMainViewUIFunctions;\n\nconst CustomIcon: FunctionComponent<RcIconProps> = (props) => {\n  return <RcIcon className={styles.icon} {...props} />;\n};\n\nconst MainViewPanel: FunctionComponent<MainViewPanelProps> = ({\n  currentPath,\n  goTo,\n  agentStates,\n  changeWorkingState,\n  currentStateIndex,\n  getStateColor,\n  handleWithIntervalTime,\n  stateText,\n  time,\n  getTimerText,\n  disabled,\n  children,\n  currentLocale,\n  isOffHookDisable,\n  offhookState,\n  offhook,\n  isWide,\n  isOffhooking,\n  hideOffHookBtn,\n}) => {\n  const tabs: TabPropTypes[] = [\n    {\n      icon: () => <CustomIcon symbol={phoneBorderSvg} />,\n      activeIcon: () => <CustomIcon symbol={phoneSvg} />,\n      label: i18n.getString('dialpadLabel', currentLocale),\n      path: '/dialer',\n      isActive: (currentPath) =>\n        currentPath === '/dialer' || /^\\/activityCallLog/.test(currentPath),\n      className: styles.tab,\n    },\n    {\n      icon: () => <CustomIcon symbol={TimeBorderSvg} />,\n      activeIcon: () => <CustomIcon symbol={TimeSvg} />,\n      label: i18n.getString('historyLabel', currentLocale),\n      path: '/history',\n      isActive: (currentPath) => /^\\/history/.test(currentPath),\n      className: styles.tab,\n    },\n    {\n      icon: () => <CustomIcon symbol={settingsBorderSvg} />,\n      activeIcon: () => <CustomIcon symbol={settingsSvg} />,\n      label: i18n.getString('settingsLabel', currentLocale),\n      path: '/settings',\n      isActive: (currentPath) => /^\\/settings/.test(currentPath),\n      className: styles.tab,\n    },\n  ];\n\n  const offHookIcon = useMemo(() => {\n    let className;\n    let symbol;\n    let title;\n    if (isOffHookDisable && !isOffhooking) {\n      className = styles.offHookIcon;\n      symbol = offHookSvgDisabled;\n      title = i18n.getString('disabled', currentLocale);\n    } else {\n      switch (offhookState) {\n        case 'connecting':\n          className = styles.loading;\n          symbol = offHookSvgConnecting;\n          title = i18n.getString('disabled', currentLocale);\n          break;\n        case 'disconnecting':\n          className = styles.loading;\n          symbol = offHookSvgDisconnecting;\n          title = i18n.getString('disabled', currentLocale);\n          break;\n        case 'disconnected':\n          className = styles.offHookIcon;\n          symbol = offHookSvgOff;\n          title = i18n.getString('turnOn', currentLocale);\n          break;\n        case 'connected':\n        default:\n          className = styles.offHookIcon;\n          symbol = offHookSvgOn;\n          title = i18n.getString('turnOff', currentLocale);\n      }\n    }\n    return (\n      <Tooltip title={title}>\n        <RcIcon className={className} symbol={symbol} />\n      </Tooltip>\n    );\n  }, [offhookState, isOffHookDisable]);\n\n  return (\n    <TabNavigationView\n      goTo={goTo}\n      currentPath={currentPath}\n      tabNavigationViewClassName={styles.tabNavigationView}\n      navBarClassName={styles.navigationBar}\n      className={styles.mainView}\n      tabs={tabs}\n    >\n      <div className={styles.header}>\n        <WorkingStateSelect\n          handleWithIntervalTime={handleWithIntervalTime}\n          getTimerText={getTimerText}\n          time={time}\n          stateText={stateText}\n          getStateColor={getStateColor}\n          currentStateIndex={currentStateIndex}\n          changeWorkingState={changeWorkingState}\n          agentStates={agentStates}\n          disabled={disabled}\n          isWide={isWide}\n          hideOffHookBtn={hideOffHookBtn}\n        />\n        {!hideOffHookBtn && (\n          <div\n            className={clsx([\n              styles.offHookState,\n              isOffHookDisable ? styles.disabled : styles.enabled,\n            ])}\n            onClick={isOffHookDisable ? null : offhook}\n          >\n            {offHookIcon}\n          </div>\n        )}\n      </div>\n      {children}\n    </TabNavigationView>\n  );\n};\n\nexport { MainViewPanel };\n"],"mappings":"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","ignoreList":[]}