{"version":3,"file":"MainViewPanel.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_Tooltip","_TabNavigationView","_juno","_junoIcon","_iconPvcConnecting","_iconPvcDisabled","_iconPvcDisconnecting","_iconPvcOff","_iconPvcOn","_i18n","_styles","_WorkingStateSelect","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","CustomIcon","props","createElement","RcIcon","className","styles","icon","MainViewPanel","_ref","currentPath","goTo","agentStates","changeWorkingState","currentStateIndex","getStateColor","handleWithIntervalTime","stateText","time","getTimerText","disabled","children","currentLocale","isOffHookDisable","offhookState","offhook","isWide","isOffhooking","hideOffHookBtn","tabs","symbol","phoneBorderSvg","activeIcon","phoneSvg","label","i18n","getString","path","isActive","test","tab","TimeBorderSvg","TimeSvg","settingsBorderSvg","settingsSvg","offHookIcon","useMemo","title","offHookSvgDisabled","loading","offHookSvgConnecting","offHookSvgDisconnecting","offHookSvgOff","offHookSvgOn","Tooltip","tabNavigationViewClassName","tabNavigationView","navBarClassName","navigationBar","mainView","header","WorkingStateSelect","classNames","offHookState","enabled","onClick","exports"],"sources":["components/MainViewPanel/MainViewPanel.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, { useMemo } from 'react';\n\nimport classNames from 'classnames';\n\nimport type { TabPropTypes } from '@ringcentral-integration/widgets/components/NavigationBar';\nimport { Tooltip } from '@ringcentral-integration/widgets/components/Rcui/Tooltip';\nimport TabNavigationView from '@ringcentral-integration/widgets/components/TabNavigationView';\nimport type { RcIconProps } from '@ringcentral/juno';\nimport { RcIcon } from '@ringcentral/juno';\nimport {\n  Phone as phoneSvg,\n  PhoneBorder as phoneBorderSvg,\n  Settings as settingsSvg,\n  SettingsBorder as settingsBorderSvg,\n  Time as TimeSvg,\n  TimeBorder as TimeBorderSvg,\n} from '@ringcentral/juno-icon';\n\nimport offHookSvgConnecting from '../../assets/icons/icon-pvc-connecting.svg';\nimport offHookSvgDisabled from '../../assets/icons/icon-pvc-disabled.svg';\nimport offHookSvgDisconnecting from '../../assets/icons/icon-pvc-disconnecting.svg';\nimport offHookSvgOff from '../../assets/icons/icon-pvc-off.svg';\nimport offHookSvgOn from '../../assets/icons/icon-pvc-on.svg';\nimport type {\n  EvMainViewUIFunctions,\n  EvMainViewUIProps,\n} from '../../interfaces/EvMainViewUI.interface';\nimport i18n from './i18n';\nimport styles from './styles.scss';\nimport { WorkingStateSelect } from './WorkingStateSelect';\n\nexport type MainViewPanelProps = EvMainViewUIProps & EvMainViewUIFunctions;\n\nconst CustomIcon: FunctionComponent<RcIconProps> = (props) => {\n  return <RcIcon className={styles.icon} {...props} />;\n};\n\nconst MainViewPanel: FunctionComponent<MainViewPanelProps> = ({\n  currentPath,\n  goTo,\n  agentStates,\n  changeWorkingState,\n  currentStateIndex,\n  getStateColor,\n  handleWithIntervalTime,\n  stateText,\n  time,\n  getTimerText,\n  disabled,\n  children,\n  currentLocale,\n  isOffHookDisable,\n  offhookState,\n  offhook,\n  isWide,\n  isOffhooking,\n  hideOffHookBtn,\n}) => {\n  const tabs: TabPropTypes[] = [\n    {\n      icon: () => <CustomIcon symbol={phoneBorderSvg} />,\n      activeIcon: () => <CustomIcon symbol={phoneSvg} />,\n      label: i18n.getString('dialpadLabel', currentLocale),\n      path: '/dialer',\n      isActive: (currentPath) =>\n        currentPath === '/dialer' || /^\\/activityCallLog/.test(currentPath),\n      className: styles.tab,\n    },\n    {\n      icon: () => <CustomIcon symbol={TimeBorderSvg} />,\n      activeIcon: () => <CustomIcon symbol={TimeSvg} />,\n      label: i18n.getString('historyLabel', currentLocale),\n      path: '/history',\n      isActive: (currentPath) => /^\\/history/.test(currentPath),\n      className: styles.tab,\n    },\n    {\n      icon: () => <CustomIcon symbol={settingsBorderSvg} />,\n      activeIcon: () => <CustomIcon symbol={settingsSvg} />,\n      label: i18n.getString('settingsLabel', currentLocale),\n      path: '/settings',\n      isActive: (currentPath) => /^\\/settings/.test(currentPath),\n      className: styles.tab,\n    },\n  ];\n\n  const offHookIcon = useMemo(() => {\n    let className;\n    let symbol;\n    let title;\n    if (isOffHookDisable && !isOffhooking) {\n      className = styles.offHookIcon;\n      symbol = offHookSvgDisabled;\n      title = i18n.getString('disabled', currentLocale);\n    } else {\n      switch (offhookState) {\n        case 'connecting':\n          className = styles.loading;\n          symbol = offHookSvgConnecting;\n          title = i18n.getString('disabled', currentLocale);\n          break;\n        case 'disconnecting':\n          className = styles.loading;\n          symbol = offHookSvgDisconnecting;\n          title = i18n.getString('disabled', currentLocale);\n          break;\n        case 'disconnected':\n          className = styles.offHookIcon;\n          symbol = offHookSvgOff;\n          title = i18n.getString('turnOn', currentLocale);\n          break;\n        case 'connected':\n        default:\n          className = styles.offHookIcon;\n          symbol = offHookSvgOn;\n          title = i18n.getString('turnOff', currentLocale);\n      }\n    }\n    return (\n      <Tooltip title={title}>\n        <RcIcon className={className} symbol={symbol} />\n      </Tooltip>\n    );\n  }, [offhookState, isOffHookDisable]);\n\n  return (\n    <TabNavigationView\n      goTo={goTo}\n      currentPath={currentPath}\n      tabNavigationViewClassName={styles.tabNavigationView}\n      navBarClassName={styles.navigationBar}\n      className={styles.mainView}\n      tabs={tabs}\n    >\n      <div className={styles.header}>\n        <WorkingStateSelect\n          handleWithIntervalTime={handleWithIntervalTime}\n          getTimerText={getTimerText}\n          time={time}\n          stateText={stateText}\n          getStateColor={getStateColor}\n          currentStateIndex={currentStateIndex}\n          changeWorkingState={changeWorkingState}\n          agentStates={agentStates}\n          disabled={disabled}\n          isWide={isWide}\n          hideOffHookBtn={hideOffHookBtn}\n        />\n        {!hideOffHookBtn && (\n          <div\n            className={classNames([\n              styles.offHookState,\n              isOffHookDisable ? styles.disabled : styles.enabled,\n            ])}\n            onClick={isOffHookDisable ? null : offhook}\n          >\n            {offHookIcon}\n          </div>\n        )}\n      </div>\n      {children}\n    </TabNavigationView>\n  );\n};\n\nexport { MainViewPanel };\n"],"mappings":"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"}