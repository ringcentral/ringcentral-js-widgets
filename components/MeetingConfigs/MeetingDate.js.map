{"version":3,"file":"MeetingDate.js","names":["require","_react","_interopRequireDefault","_classnames","_dayjs","_DateTimePicker","_Date","_Time","_MeetingSection","_constants","_i18n","_styles","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","MeetingDate","_ref","currentLocale","meeting","update","that","onToggle","useTimePicker","isRecurring","formatDisplay","Hours","Minutes","setTimeout","minutes","concat","slice","currentHours","convertedHours","hours","toString","changeTime","allInputBlur","document","querySelectorAll","startTime","Date","schedule","parseInt","setHours","setMinutes","time","getTime","getMinutes","getHours","accumulator","event","max","currentValue","isValid","isUpKey","keyCode","isDownKey","preventDatePickerReplay","isFocus","dateBlur","timeBlur","topic","focus","preventTimePickerReplay","minMinute","isToday","dayjs","isSame","currentMinute","format","nearlest","set","Math","ceil","toDate","console","log","createElement","title","i18n","getString","className","styles","dateTimeBox","list","datePicker","culture","onChange","currentStartTime","date","setFullYear","getFullYear","getMonth","getDate","now","onBlur","ref","min","onClick","classnames","dateTimeText","dateText","dateIcon","icon","timePicker","step","timeText","flag","disabled","timeInput","defaultValue","_ref5","replace","NO_NUMBER_REGEX","isSelectionEnd","selectionEnd","onKeyDown","isRightKey","maxLength","type","colon","isDelKey","isLeftKey","isSelectionHead","setSelectionRange","_ref7","locale","TimeIcon","timeIcon","exports"],"sources":["components/MeetingConfigs/MeetingDate.tsx"],"sourcesContent":["import 'react-widgets/dist/css/react-widgets.css';\n\nimport type { FunctionComponent } from 'react';\nimport React from 'react';\n\nimport classnames from 'classnames';\nimport dayjs from 'dayjs';\nimport DateTimePicker from 'react-widgets/lib/DateTimePicker';\n\nimport DateIcon from '../../assets/images/Date.svg';\nimport TimeIcon from '../../assets/images/Time.svg';\nimport MeetingSection from '../MeetingSection';\nimport { NO_NUMBER_REGEX } from './constants';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\ninterface MeetingDateProps {\n  update: (...args: any[]) => any;\n  currentLocale: string;\n  meeting: any;\n  that: any;\n  onToggle: (...args: any[]) => any;\n  useTimePicker: boolean;\n  isRecurring: boolean;\n}\n\nconst MeetingDate: FunctionComponent<MeetingDateProps> = ({\n  currentLocale,\n  meeting,\n  update,\n  that,\n  onToggle,\n  useTimePicker,\n  isRecurring,\n}) => {\n  // The default value of the text input is in the componentDidMount.\n  const formatDisplay = (Hours: any, Minutes: any) => {\n    setTimeout(() => {\n      that.minutes.value = `0${Minutes}0`.slice(-3, -1);\n      const currentHours = `0${Hours}0`.slice(-3, -1);\n      if (useTimePicker) {\n        // @ts-expect-error TS(2365): Operator '>' cannot be applied to types 'string' a... Remove this comment to see the full error message\n        if (currentHours > 12) {\n          const convertedHours = +currentHours % 12;\n          that.hours.value =\n            convertedHours.toString().length === 1\n              ? `0${convertedHours}`\n              : convertedHours;\n        }\n      }\n    }, 0);\n  };\n  const changeTime = () => {\n    if (useTimePicker) {\n      return;\n    }\n    setTimeout(() => {\n      const allInputBlur = document.querySelectorAll(\n        'input[flag=timeInput]:focus',\n      ).length;\n      if (!allInputBlur && that.hours) {\n        const startTime = new Date(meeting.schedule.startTime);\n        const hours = parseInt(that.hours.value, 10);\n        const minutes = parseInt(that.minutes.value, 10);\n        startTime.setHours(hours);\n        startTime.setMinutes(minutes);\n        let time = startTime;\n        if (startTime.getTime() > new Date().getTime()) {\n          update({\n            ...meeting,\n            schedule: {\n              ...meeting.schedule,\n              startTime: startTime.getTime(),\n            },\n          });\n        } else {\n          time = new Date(meeting.schedule.startTime);\n        }\n        const Minutes = time.getMinutes();\n        const Hours = time.getHours();\n        formatDisplay(Hours, Minutes);\n      }\n    }, 100);\n  };\n  const accumulator = (event: any, max: any) => {\n    const currentValue = parseInt(event.target.value, 10);\n    const isValid = (value: any) =>\n      currentValue > 0 - value && currentValue < max - value;\n    const isUpKey = event.keyCode === 38;\n    if (isUpKey) {\n      const value = isValid(1) ? currentValue + 1 : 0;\n      event.target.value = `0${value}0`.slice(-3, -1);\n    }\n    const isDownKey = event.keyCode === 40;\n    if (isDownKey) {\n      const value = isValid(0) ? currentValue - 1 : max - 1;\n      event.target.value = `0${value}0`.slice(-3, -1);\n    }\n  };\n  const preventDatePickerReplay = (isFocus: any) => {\n    that.dateBlur = true;\n    setTimeout(() => {\n      if (!isFocus && !that.timeBlur) {\n        that.topic.focus();\n      }\n      that.dateBlur = false;\n    }, 200);\n  };\n  const preventTimePickerReplay = (isFocus: any) => {\n    that.timeBlur = true;\n    setTimeout(() => {\n      if (!isFocus && !that.dateBlur) {\n        that.topic.focus();\n      }\n      that.timeBlur = false;\n    }, 200);\n  };\n  let minMinute;\n  if (meeting.schedule && meeting.schedule.startTime && useTimePicker) {\n    const isToday = dayjs(meeting.schedule.startTime).isSame(new Date(), 'day');\n    if (isToday) {\n      const currentMinute = +dayjs().format('mm');\n      const nearlest = dayjs()\n        .set('minute', Math.ceil(currentMinute / 15) * 15)\n        .toDate();\n      minMinute = nearlest;\n    }\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    console.log('prepared minTime', +minMinute);\n  }\n  return !isRecurring ? (\n    <MeetingSection title={i18n.getString('when', currentLocale)}>\n      <div className={styles.dateTimeBox}>\n        <div className={styles.list}>\n          <div className={styles.datePicker}>\n            <DateTimePicker\n              culture={currentLocale}\n              time={false}\n              value={new Date(meeting.schedule.startTime)}\n              onChange={(currentStartTime) => {\n                preventDatePickerReplay(false);\n                if (currentStartTime) {\n                  const date = new Date(meeting.schedule.startTime);\n                  date.setFullYear(\n                    currentStartTime.getFullYear(),\n                    currentStartTime.getMonth(),\n                    currentStartTime.getDate(),\n                  );\n                  let startTime = date.getTime();\n                  const now = new Date().getTime();\n                  if (startTime < now) {\n                    startTime = now;\n                    const Minutes = new Date().getMinutes();\n                    const Hours = new Date().getHours();\n                    formatDisplay(Hours, Minutes);\n                  }\n                  update({\n                    ...meeting,\n                    schedule: {\n                      ...meeting.schedule,\n                      startTime,\n                    },\n                  });\n                }\n              }}\n              onBlur={() => {\n                preventDatePickerReplay(false);\n              }}\n              onToggle={preventDatePickerReplay}\n              ref={(ref: any) => {\n                that.date = ref;\n              }}\n              format=\"MM/DD/YY\"\n              min={new Date()}\n            />\n            <div\n              onClick={() => onToggle('date')}\n              data-sign=\"dateText\"\n              className={classnames(styles.dateTimeText, styles.dateText)}\n            >\n              {dayjs(meeting.schedule.startTime).format('MM/DD/YY')}\n            </div>\n          </div>\n          <div\n            ref={(ref) => {\n              that.dateIcon = ref;\n            }}\n            className={styles.dateIcon}\n          >\n            <DateIcon\n              onClick={() => onToggle('date')}\n              className={styles.icon}\n            />\n          </div>\n        </div>\n\n        <div className={styles.list}>\n          <div\n            className={classnames([\n              styles.timePicker,\n              useTimePicker && styles.useTimePicker,\n            ])}\n          >\n            <DateTimePicker\n              culture={currentLocale}\n              date={false}\n              step={15}\n              value={new Date(meeting.schedule.startTime)}\n              onChange={(startTime) => {\n                preventTimePickerReplay(false);\n                if (startTime) {\n                  update({\n                    ...meeting,\n                    schedule: {\n                      ...meeting.schedule,\n                      startTime: startTime.getTime(),\n                    },\n                  });\n                }\n              }}\n              onBlur={() => {\n                preventTimePickerReplay(false);\n              }}\n              onToggle={preventTimePickerReplay}\n              ref={(ref: any) => {\n                that.time = ref;\n              }}\n              format=\"hh:mm A\"\n              min={minMinute}\n            />\n            <div\n              className={styles.timeText}\n              onClick={() => {\n                if (useTimePicker) {\n                  onToggle('time');\n                }\n              }}\n            >\n              <input\n                // @ts-expect-error TS(2322): Type '{ flag: string; disabled: boolean; ref: (ref... Remove this comment to see the full error message\n                flag=\"timeInput\"\n                disabled={useTimePicker}\n                ref={(ref) => {\n                  that.hours = ref;\n                }}\n                data-sign=\"timeInputHour\"\n                className={styles.timeInput}\n                defaultValue={dayjs(meeting.schedule.startTime).format(\n                  useTimePicker ? 'hh' : 'HH',\n                )}\n                onChange={({ target }) => {\n                  that.hours.value = target.value.replace(NO_NUMBER_REGEX, '');\n                  const isSelectionEnd = target.selectionEnd === 2;\n                  if (isSelectionEnd) {\n                    that.minutes.value = '';\n                    that.minutes.focus();\n                  }\n                }}\n                onKeyDown={(event) => {\n                  accumulator(event, 24);\n                  const isRightKey = event.keyCode === 39;\n                  // @ts-expect-error TS(2339): Property 'selectionEnd' does not exist on type 'Ev... Remove this comment to see the full error message\n                  const isSelectionEnd = event.target.selectionEnd === 2;\n                  if (isRightKey && isSelectionEnd) {\n                    that.minutes.focus();\n                  }\n                }}\n                onBlur={changeTime}\n                maxLength={2}\n                type=\"text\"\n              />\n              <div className={styles.colon}>:</div>\n              <input\n                // @ts-expect-error TS(2322): Type '{ flag: string; disabled: boolean; ref: (ref... Remove this comment to see the full error message\n                flag=\"timeInput\"\n                disabled={useTimePicker}\n                ref={(ref) => {\n                  that.minutes = ref;\n                }}\n                data-sign=\"timeInputMinute\"\n                className={styles.timeInput}\n                defaultValue={dayjs(meeting.schedule.startTime).format('mm')}\n                onKeyDown={(event) => {\n                  const isDelKey = event.keyCode === 8;\n                  const isLeftKey = event.keyCode === 37;\n                  // @ts-expect-error TS(2339): Property 'selectionEnd' does not exist on type 'Ev... Remove this comment to see the full error message\n                  const isSelectionHead = event.target.selectionEnd === 0;\n                  if (isSelectionHead && (isDelKey || isLeftKey)) {\n                    that.hours.focus();\n                    that.hours.setSelectionRange(2, 2);\n                  }\n                  accumulator(event, 60);\n                }}\n                onChange={({ target }) => {\n                  that.minutes.value = target.value.replace(\n                    NO_NUMBER_REGEX,\n                    '',\n                  );\n                }}\n                onBlur={changeTime}\n                maxLength={2}\n                type=\"text\"\n              />\n              {useTimePicker && (\n                <div className={styles.colon}>\n                  {dayjs(meeting.schedule.startTime).locale('en').format('A')}\n                </div>\n              )}\n            </div>\n          </div>\n          <div\n            ref={(ref) => {\n              that.TimeIcon = ref;\n            }}\n            className={styles.timeIcon}\n          >\n            <TimeIcon\n              onClick={() => {\n                if (useTimePicker) {\n                  onToggle('time');\n                }\n              }}\n              className={styles.icon}\n            />\n          </div>\n        </div>\n      </div>\n    </MeetingSection>\n  ) : null;\n};\n\nexport { MeetingDate };\n"],"mappings":"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"}