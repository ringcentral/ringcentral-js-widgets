{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_propTypes","_classnames","_formatPost","_GlipGroupAvatar","_GlipGroupName","_styles","obj","__esModule","LatestPost","_ref","latestPost","members","isGroup","length","formatedText","getPostAbstract","creator","createElement","className","styles","firstName","propTypes","PropTypes","array","isRequired","object","defaultProps","GlipGroup","_ref2","group","onSelectGroup","active","classnames","root","onClick","persons","detailMembers","alt","id","avatar","unread","content","name","title","string","func","bool","undefined"],"sources":["components/GlipGroupItem/index.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport { getPostAbstract } from '../../lib/formatPost';\n\nimport GlipGroupAvatar from '../GlipGroupAvatar';\nimport GlipGroupName from '../GlipGroupName';\nimport styles from './styles.scss';\n\nfunction LatestPost({ latestPost, members }) {\n  const isGroup = members.length > 2;\n  if (!latestPost) {\n    return null;\n  }\n  const formatedText = getPostAbstract(latestPost, members);\n\n  if (!isGroup || !latestPost.creator) {\n    // TODO: update message with i18n\n    return (\n      <div className={styles.latestPost}>\n        {formatedText || 'Unsupported message'}\n      </div>\n    );\n  }\n  // TODO: update message with i18n\n  return (\n    <div className={styles.latestPost}>\n      {latestPost.creator.firstName}: {formatedText || 'Unsupported message'}\n    </div>\n  );\n}\n\nLatestPost.propTypes = {\n  members: PropTypes.array.isRequired,\n  latestPost: PropTypes.object,\n};\n\nLatestPost.defaultProps = {\n  latestPost: null,\n};\n\nexport default function GlipGroup({ group, className, onSelectGroup, active }) {\n  return (\n    <div\n      className={classnames(\n        styles.root,\n        active ? styles.active : null,\n        className,\n      )}\n      onClick={onSelectGroup}\n    >\n      <GlipGroupAvatar\n        persons={group.detailMembers}\n        alt={group.id}\n        className={styles.avatar}\n        unread={group.unread}\n      />\n      <div className={styles.content}>\n        <div className={styles.name} title={group.name}>\n          <GlipGroupName group={group} />\n        </div>\n        <LatestPost\n          latestPost={group.latestPost}\n          members={group.detailMembers}\n        />\n      </div>\n    </div>\n  );\n}\n\nGlipGroup.propTypes = {\n  className: PropTypes.string,\n  group: PropTypes.object,\n  onSelectGroup: PropTypes.func.isRequired,\n  active: PropTypes.bool,\n};\n\nGlipGroup.defaultProps = {\n  className: undefined,\n  group: {},\n  active: false,\n};\n"],"mappings":"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"}