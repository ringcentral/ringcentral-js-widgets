{"version":3,"sources":["components/ActivityCallLogPanel/ActivityCallLogPanel.spec.tsx"],"names":["wrapper","currentLocale","defaultCurrentEvCall","queue","name","dnis","uii","termParty","termReason","timestamp","defaultCurrentLog","call","direction","from","phoneNumber","to","defaultIVRAlertData","subject","body","setup","currentEvCall","currentLog","disposeCall","status","saveStatus","goToRequeueCallPage","goToTransferCallPage","onMute","onUnmute","onHangup","onReject","onHold","onUnHold","isOnMute","isOnHold","smallCallControlSize","isInComingCall","disableDispose","disableHold","disableHangup","disableMute","disableActive","disableTransfer","currentCallControlPermission","allowTransferCall","allowRequeueCall","isOnActive","disableInternalTransfer","onActive","showMuteButton","ivrAlertData","showSmallCallControl","afterEach","unmount","getDispositionButton","button","find","isExist","length","click","simulate","isInLoadingStatus","isDisabled","prop","getControlButton","type","title","render","attr","describe","it","jest","fn","dispositionButton","expect","toBe","toBeCalled","not","holdButton","i18n","getString","isIntegratedSoftphone","muteCallButtonNumber","map","muteButton","transferButton","toHaveLength","hasClass","hangupButton","disableControl","domTag","exists","toBeFalsy","item","i","at","text","RcAccordionSummary","update","RcAccordion","toBeTruthy"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { RcThemeProvider } from '@ringcentral/juno';\nimport { RcAccordion } from '@ringcentral/juno/components/Accordion';\nimport { RcAccordionSummary } from '@ringcentral/juno/components/Accordion/AccordionSummary';\nimport { mount } from 'enzyme';\nimport {\n  ActivityCallLogPanel,\n  ActivityCallLogPanelProps,\n} from './ActivityCallLogPanel';\nimport i18n from '../SmallCallControl/i18n';\nimport { EvCallData, EvCurrentLog, EvIvrData } from '../../interfaces';\n\nlet wrapper;\nconst currentLocale = 'en-US';\nconst defaultCurrentEvCall: EvCallData = {\n  queue: { name: 'dadaqueue' },\n  dnis: '6508653454',\n  uii: '934579223556776',\n  termParty: 'call termed',\n  termReason: 'a term reason',\n  timestamp: 1579223556776,\n} as any;\nconst defaultCurrentLog: EvCurrentLog = {\n  call: {\n    direction: 'INBOUND',\n    from: { name: 'aermin', phoneNumber: '6508655678' },\n    to: { name: 'Amy liu', phoneNumber: '6508651234' },\n  },\n} as any;\nconst defaultIVRAlertData: EvIvrData[] = [\n  { subject: 'I am subject 1', body: 'I am body 1' },\n  { subject: 'I am subject 2', body: 'I am body 2' },\n  { subject: 'I am subject 3', body: 'I am body 3' },\n];\n\nfunction setup(\n  {\n    currentEvCall = defaultCurrentEvCall,\n    currentLog = defaultCurrentLog,\n    disposeCall = () => null,\n    status = 'active' as ActivityCallLogPanelProps['status'],\n    saveStatus = 'submit' as ActivityCallLogPanelProps['saveStatus'],\n    goToRequeueCallPage = () => {},\n    goToTransferCallPage = () => {},\n    onMute = () => {},\n    onUnmute = () => {},\n    onHangup = () => {},\n    onReject = () => {},\n    onHold = () => {},\n    onUnHold = () => {},\n    isOnMute = false,\n    isOnHold = false,\n    smallCallControlSize = 'medium' as ActivityCallLogPanelProps['smallCallControlSize'],\n    isInComingCall = false,\n    disableDispose = false,\n    disableHold = false,\n    disableHangup = false,\n    disableMute = false,\n    disableActive = false,\n    disableTransfer = false,\n    currentCallControlPermission: {\n      allowTransferCall = true,\n      allowRequeueCall = true,\n    } = {},\n    isOnActive = false,\n    disableInternalTransfer = false,\n    onActive = () => {},\n    showMuteButton = false,\n    ivrAlertData = defaultIVRAlertData,\n    showSmallCallControl = true,\n  }: Partial<ActivityCallLogPanelProps> = {} as any,\n) {\n  return mount(\n    <RcThemeProvider>\n      <ActivityCallLogPanel\n        isInbound\n        currentLocale={currentLocale}\n        currentEvCall={currentEvCall}\n        currentLog={currentLog}\n        disposeCall={disposeCall}\n        status={status}\n        saveStatus={saveStatus}\n        goToRequeueCallPage={goToRequeueCallPage}\n        goToTransferCallPage={goToTransferCallPage}\n        onMute={onMute}\n        onUnmute={onUnmute}\n        onHangup={onHangup}\n        onReject={onReject}\n        onHold={onHold}\n        onUnHold={onUnHold}\n        isOnMute={isOnMute}\n        isOnHold={isOnHold}\n        smallCallControlSize={smallCallControlSize}\n        isInComingCall={isInComingCall}\n        disableDispose={disableDispose}\n        disableHold={disableHold}\n        disableHangup={disableHangup}\n        disableMute={disableMute}\n        disableActive={disableActive}\n        disableTransfer={disableTransfer}\n        currentCallControlPermission={{ allowTransferCall, allowRequeueCall }}\n        isOnActive={isOnActive}\n        onActive={onActive}\n        goBack={() => {}}\n        disableInternalTransfer={disableInternalTransfer}\n        showMuteButton={showMuteButton}\n        ivrAlertData={ivrAlertData}\n        onCopySuccess={() => {}}\n        showSmallCallControl={showSmallCallControl}\n      />\n    </RcThemeProvider>,\n  );\n}\n\nafterEach(async () => {\n  wrapper.unmount();\n});\n\nconst getDispositionButton = () => {\n  const button = wrapper.find('RcButton[data-sign=\"submit\"]');\n  const isExist = button.length > 0;\n  return {\n    isExist,\n    click: () => isExist && button.find('button').simulate('click'),\n    isInLoadingStatus: isExist && button.find('RcCircularProgress').length > 0,\n    isDisabled: isExist && button.prop('disabled'),\n  };\n};\n\nconst getControlButton = (type) => {\n  const button = wrapper.find(type);\n  const isExist = button.length > 0;\n  return {\n    isExist,\n    click: () => isExist && button.find('button').simulate('click'),\n    title: isExist && button.find('button').prop('title'),\n    isDisabled: isExist && !!button.find('button').render().attr('disabled'),\n  };\n};\n\ndescribe('<ActivityCallLogPanel />:: Call Disposition', () => {\n  const status = 'callEnd';\n  it('When call is ended, user will on disposition page and can dispose the call', () => {\n    const disposeCall = jest.fn();\n    wrapper = setup({\n      disposeCall,\n      status,\n      saveStatus: 'submit',\n    });\n    const dispositionButton = getDispositionButton();\n    expect(dispositionButton.isExist).toBe(true);\n    dispositionButton.click();\n    expect(disposeCall).toBeCalled();\n  });\n\n  it('When User click the Disposition Button, Submit Button is in loading status and cannot be clicked', () => {\n    const disposeCall = jest.fn();\n    wrapper = setup({\n      disposeCall,\n      status,\n      saveStatus: 'saving',\n      disableDispose: true,\n    });\n    const dispositionButton = getDispositionButton();\n    expect(dispositionButton.isInLoadingStatus).toBe(true);\n    expect(dispositionButton.isDisabled).toBe(true);\n    dispositionButton.click();\n    expect(disposeCall).not.toBeCalled();\n  });\n\n  it('When disposition is saved, Submit Button is back in normal state: enabled and can be clicked', () => {\n    const disposeCall = jest.fn();\n    wrapper = setup({\n      disposeCall,\n      status,\n      saveStatus: 'saved',\n    });\n    const dispositionButton = getDispositionButton();\n    expect(dispositionButton.isInLoadingStatus).toBe(false);\n    expect(dispositionButton.isDisabled).toBe(false);\n    dispositionButton.click();\n    expect(disposeCall).toBeCalled();\n  });\n\n  it('When disableDispose, Disposition Button should be disabled and cannot be clicked', () => {\n    const disposeCall = jest.fn();\n    wrapper = setup({\n      status,\n      saveStatus: 'saved',\n      disableDispose: true,\n    });\n    const dispositionButton = getDispositionButton();\n    expect(dispositionButton.isDisabled).toBe(true);\n    dispositionButton.click();\n    expect(disposeCall).not.toBeCalled();\n  });\n});\n\ndescribe('<ActivityCallLogPanel />', () => {\n  it('When call is onHold, HoldCallButton should display and work correctly', () => {\n    const onHold = jest.fn();\n    const onUnHold = jest.fn();\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      onHold,\n      onUnHold,\n      isOnHold: true,\n    });\n    const holdButton = getControlButton('HoldCallButton');\n    holdButton.click();\n    expect(holdButton.title).toBe(i18n.getString('onHold'));\n    expect(onUnHold).toBeCalled();\n    expect(onHold).not.toBeCalled();\n  });\n\n  it('When call is unHold, HoldCallButton should display and work correctly', () => {\n    const onHold = jest.fn();\n    const onUnHold = jest.fn();\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      onHold,\n      onUnHold,\n      isOnHold: false,\n    });\n    const holdButton = getControlButton('HoldCallButton');\n    holdButton.click();\n\n    expect(holdButton.title).toBe(i18n.getString('hold'));\n    expect(onUnHold).not.toBeCalled();\n    expect(onHold).toBeCalled();\n  });\n\n  [\n    {\n      isIntegratedSoftphone: true,\n      muteCallButtonNumber: 1,\n    },\n    {\n      isIntegratedSoftphone: false,\n      muteCallButtonNumber: 0,\n    },\n  ].map(({ isIntegratedSoftphone, muteCallButtonNumber }) =>\n    it(`When the call is IntegratedSoftphone is ${isIntegratedSoftphone}, can see ${muteCallButtonNumber} mute button`, () => {\n      wrapper = setup({ showMuteButton: isIntegratedSoftphone });\n      expect(wrapper.find('MuteCallButton').find('button').length).toBe(\n        muteCallButtonNumber,\n      );\n    }),\n  );\n\n  it('When call is OnMute, MuteCallButton should display and work correctly', () => {\n    const onMute = jest.fn();\n    const onUnmute = jest.fn();\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      onMute,\n      onUnmute,\n      isOnMute: true,\n      showMuteButton: true,\n    });\n    const muteButton = getControlButton('MuteCallButton');\n    muteButton.click();\n\n    expect(muteButton.title).toBe(i18n.getString('unmute'));\n    expect(onUnmute).toBeCalled();\n    expect(onMute).not.toBeCalled();\n  });\n\n  it('When call is unMute, MuteCallButton should display and work correctly', () => {\n    const onMute = jest.fn();\n    const onUnmute = jest.fn();\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      onMute,\n      onUnmute,\n      isOnMute: false,\n      showMuteButton: true,\n    });\n    const muteButton = getControlButton('MuteCallButton');\n    muteButton.click();\n    expect(muteButton.title).toBe(i18n.getString('mute'));\n    expect(onUnmute).not.toBeCalled();\n    expect(onMute).toBeCalled();\n  });\n\n  it('User can transfer an Call', () => {\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n    });\n    expect(getControlButton('TransferCallButton').isDisabled).toBe(false);\n  });\n\n  it('When User has mutiple calls, should hightlight transfer button', () => {\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      isOnActive: true,\n    });\n    const transferButton = getControlButton('TransferCallButton');\n    expect(transferButton.isDisabled).toBe(false);\n  });\n\n  it(\"When not allow to transfer or requeue a call, then shouldn't be able to\", () => {\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      disableTransfer: true,\n    });\n    expect(getControlButton('TransferCallButton').isDisabled).toBe(true);\n  });\n\n  it('when user not allow to Requeue a Call', () => {\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      currentCallControlPermission: {\n        allowRequeueCall: false,\n      },\n    });\n    getControlButton('TransferCallButton').click();\n    expect(\n      wrapper\n        .find('RcMenuItem[data-sign=\"transferItem-queueTransfer\"]')\n        .prop('disabled'),\n    ).toBe(true);\n    // for simulate issue: https://github.com/enzymejs/enzyme/issues/386\n  });\n\n  it('when user not allow to Transfer a Call', () => {\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      currentCallControlPermission: {\n        allowTransferCall: false,\n      },\n    });\n    getControlButton('TransferCallButton').click();\n    expect(\n      wrapper\n        .find('RcMenuItem[data-sign=\"transferItem-internalTransfer\"]')\n        .prop('disabled'),\n    ).toBe(true);\n    // for simulate issue: https://github.com/enzymejs/enzyme/issues/386\n  });\n\n  it('When user has multiple calls, display ActiveCallButton, not HangUpButton', () => {\n    const onActive = jest.fn();\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      isOnActive: true,\n      onActive,\n    });\n\n    expect(wrapper.find('ActiveCallButton')).toHaveLength(1);\n    expect(getControlButton('HangUpButton').isExist).toBe(false);\n    expect(\n      wrapper.find('ActiveCallButton').find('button').hasClass('buttonActive'),\n    ).toBe(true);\n\n    wrapper.find('ActiveCallButton').find('button').simulate('click');\n    expect(onActive).toBeCalled();\n  });\n\n  it('When user on the InComing Call, can see the Reject Button', () => {\n    const onReject = jest.fn();\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      isInComingCall: true,\n      onReject,\n    });\n    const hangupButton = getControlButton('HangUpButton');\n    expect(hangupButton.title).toBe(i18n.getString('reject'));\n    hangupButton.click();\n    expect(onReject).toBeCalled();\n  });\n\n  it('When the call is not InComing Call, can see the Hangup button', () => {\n    const onHangup = jest.fn();\n    wrapper = setup({\n      status: 'active',\n      saveStatus: 'submit',\n      isInComingCall: false,\n      onHangup,\n    });\n    const hangupButton = getControlButton('HangUpButton');\n    expect(hangupButton.title).toBe(i18n.getString('hangup'));\n    hangupButton.click();\n    expect(onHangup).toBeCalled();\n  });\n\n  [\n    {\n      disableControl: 'disableHold',\n      domTag: 'HoldCallButton',\n    },\n    {\n      disableControl: 'disableHangup',\n      domTag: 'HangUpButton',\n    },\n    {\n      disableControl: 'disableMute',\n      domTag: 'MuteCallButton',\n    },\n    {\n      disableControl: 'disableActive',\n      domTag: 'ActiveCallButton',\n    },\n  ].map(({ disableControl, domTag }) =>\n    it(`Verify permission of ${disableControl}`, () => {\n      wrapper = setup({\n        status: 'active',\n        saveStatus: 'submit',\n        [disableControl]: true,\n        isOnActive: disableControl === 'disableActive',\n        showMuteButton: true,\n      });\n      expect(wrapper.find(domTag).find('button').prop('disabled')).toBe(true);\n    }),\n  );\n\n  [\n    { ivrAlertData: [] },\n    {\n      ivrAlertData: [{ subject: 'I am subject 1', body: 'I am body 1' }],\n      subject: 'I am subject 1',\n    },\n    {\n      ivrAlertData: [\n        { subject: 'I am subject 1', body: 'I am body 1' },\n        { subject: 'I am subject 2', body: 'I am body 2' },\n      ],\n      subject: 'I am subject 1 +1',\n    },\n    {\n      ivrAlertData: [\n        { subject: 'I am subject 1', body: 'I am body 1' },\n        { subject: 'I am subject 2', body: 'I am body 2' },\n        { subject: 'I am subject 3', body: 'I am body 3' },\n      ],\n      subject: 'I am subject 1 +2',\n    },\n  ].map(({ ivrAlertData, subject }) => {\n    it(`Verify ivr panel display of ${subject}`, () => {\n      wrapper = setup({ ivrAlertData });\n      if (ivrAlertData.length === 0) {\n        expect(wrapper.find('.ivrPanel').exists()).toBeFalsy();\n      } else {\n        const item = wrapper.find('.item');\n        for (let i = 0; i < ivrAlertData.length; i++) {\n          if (i !== 0) {\n            expect(item.at(i).find('.subject').text()).toBe(\n              ivrAlertData[i].subject,\n            );\n            expect(item.at(i).find('.body').text()).toBe(ivrAlertData[i].body);\n          } else {\n            expect(item.at(0).find('.body').text()).toBe(ivrAlertData[0].body);\n          }\n        }\n        expect(wrapper.find(RcAccordionSummary).text()).toBe(subject);\n      }\n    });\n\n    it('When the call is end, ivr panel should be shrunk', () => {\n      wrapper = setup({\n        status: 'active',\n      });\n      wrapper.find(RcAccordionSummary).find('RcIcon').simulate('click');\n      wrapper.update();\n      expect(wrapper.find(RcAccordion).find('.expanded').exists()).toBeTruthy();\n      wrapper = setup({\n        status: 'callEnd',\n      });\n      wrapper.update();\n      expect(wrapper.find(RcAccordion).find('.expanded').exists()).toBeFalsy();\n    });\n    return null;\n  });\n});\n"],"file":"ActivityCallLogPanel.spec.js"}