{"version":3,"file":"IncomingCallView.js","names":["_react","_interopRequireWildcard","require","_callDirections","_interopRequireDefault","_juno","_IncomingCallPanel","_i18n","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","push","isArray","IncomingCallView","props","currentLocale","_props$nameMatches","nameMatches","phoneNumber","formatPhone","areaCode","countryCode","forwardingNumbers","brand","showContactDisplayPlaceholder","sourceIcons","searchContact","searchContactList","children","session","activeSessionId","showCallQueueName","rejectProp","toVoiceMailProp","toVoiceMail","replyWithMessageProp","replyWithMessage","toggleMinimizedProp","toggleMinimized","hangupProp","hangup","answerProp","answer","onHoldProp","onHold","onForwardProp","onForward","getAvatarUrl","updateSessionMatchedContact","phoneTypeRenderer","phoneSourceNameRenderer","_useState","useState","_useState2","selectedMatcherIndex","setSelectedMatcherIndex","_useState3","_useState4","avatarUrl","setAvatarUrl","_useMountState","useMountState","mounted","current","hasOtherActiveCall","id","message","answerAndEnd","_ref","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","stop","answerAndHold","_ref2","_callee2","_callee2$","_context2","forwardNumber","updateAvatarUrl","_ref3","_callee3","contact","_avatarUrl","_callee3$","_context3","sent","abrupt","_x2","getSelectedMatcherItem","currContact","index","findIndex","match","handleSelectMatcherName","useEffect","contactMatch","active","minimized","fallbackUserName","direction","callDirections","inbound","i18n","getString","createElement","fallBackName","callQueueName","onSelectMatcherName","onBackButtonClick","sessionId","exports"],"sources":["components/IncomingCallView/IncomingCallView.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, { useEffect, useState } from 'react';\n\nimport callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport { useMountState } from '@ringcentral/juno';\n\nimport IncomingCallPanel from '../IncomingCallPanel';\nimport i18n from './i18n';\n\nexport type IncomingCallViewProps = {\n  session: {\n    id?: string;\n    direction?: string;\n    startTime?: number;\n    isOnMute?: boolean;\n    isOnHold?: boolean;\n    isOnRecord?: boolean;\n    to?: string;\n    from?: string;\n    contactMatch?: object;\n    minimized?: boolean;\n    callQueueName?: any;\n  };\n  showCallQueueName?: any;\n  currentLocale: string;\n  toggleMinimized: (...args: any[]) => any;\n  answer: (...args: any[]) => any;\n  reject: (...args: any[]) => any;\n  onForward: (...args: any[]) => any;\n  toVoiceMail: (...args: any[]) => any;\n  replyWithMessage: (...args: any[]) => any;\n  formatPhone: (...args: any[]) => any;\n  nameMatches: any[];\n  areaCode: string;\n  countryCode: string;\n  getAvatarUrl: (...args: any[]) => any;\n  forwardingNumbers: any[];\n  updateSessionMatchedContact: (...args: any[]) => any;\n  showContactDisplayPlaceholder: boolean;\n  brand: string;\n  activeSessionId?: string;\n  sourceIcons?: object;\n  hangup: (...args: any[]) => any;\n  onHold: (...args: any[]) => any;\n  searchContactList: any[];\n  searchContact: (...args: any[]) => any;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  phoneNumber: string;\n  name: string;\n};\nexport const IncomingCallView: FunctionComponent<IncomingCallViewProps> = (\n  props,\n) => {\n  const {\n    currentLocale,\n    nameMatches = [],\n    phoneNumber,\n    formatPhone,\n    areaCode,\n    countryCode,\n    forwardingNumbers,\n    brand,\n    showContactDisplayPlaceholder,\n    sourceIcons,\n    searchContact,\n    searchContactList,\n    children,\n    session,\n    activeSessionId,\n    showCallQueueName,\n    reject: rejectProp,\n    toVoiceMail: toVoiceMailProp,\n    replyWithMessage: replyWithMessageProp,\n    toggleMinimized: toggleMinimizedProp,\n    hangup: hangupProp,\n    answer: answerProp,\n    onHold: onHoldProp,\n    onForward: onForwardProp,\n    getAvatarUrl,\n    updateSessionMatchedContact,\n    phoneTypeRenderer,\n    phoneSourceNameRenderer,\n    name,\n  } = props;\n  const [selectedMatcherIndex, setSelectedMatcherIndex] = useState(0);\n  const [avatarUrl, setAvatarUrl] = useState(null);\n\n  const { current: mounted } = useMountState();\n\n  const hasOtherActiveCall = !!activeSessionId;\n  const answer = () => answerProp(session.id);\n  const reject = () => rejectProp(session.id);\n  const toVoiceMail = () => toVoiceMailProp(session.id);\n  const replyWithMessage = (message: string) =>\n    replyWithMessageProp(session.id, message);\n\n  const toggleMinimized = () => toggleMinimizedProp(session.id);\n  const answerAndEnd = async () => {\n    await hangupProp(activeSessionId);\n    await answerProp(session.id);\n  };\n\n  const answerAndHold = async () => {\n    await onHoldProp(activeSessionId);\n    await answerProp(session.id);\n  };\n\n  const onForward = (forwardNumber: string) =>\n    onForwardProp(session.id, forwardNumber);\n\n  const updateAvatarUrl = async (contact: any) => {\n    avatarUrl && setAvatarUrl(null);\n\n    if (contact) {\n      const avatarUrl = await getAvatarUrl(contact);\n      // prevent memory leak issue when component unmounted\n      if (!mounted) return;\n\n      setAvatarUrl(avatarUrl);\n    }\n  };\n\n  const getSelectedMatcherItem = (currContact: any | undefined) => {\n    let index = nameMatches.findIndex((match) => match.id === currContact?.id);\n\n    if (index < 0) index = 0;\n\n    if (index !== selectedMatcherIndex) {\n      setSelectedMatcherIndex(index);\n    }\n\n    return nameMatches[index];\n  };\n\n  const handleSelectMatcherName = (currContact: any) => {\n    const contact = getSelectedMatcherItem(currContact);\n\n    if (contact) {\n      updateAvatarUrl(contact);\n\n      updateSessionMatchedContact(session.id, contact);\n    }\n  };\n\n  useEffect(() => {\n    const contact = getSelectedMatcherItem(\n      session.contactMatch ||\n        // zero index maybe null\n        nameMatches?.[0],\n    );\n\n    updateAvatarUrl(contact);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [session.id]);\n\n  const active = !!session.id;\n  if (!active || session.minimized) {\n    return null;\n  }\n\n  let fallbackUserName: string | undefined;\n  if (\n    session.direction === callDirections.inbound &&\n    session.from === 'anonymous'\n  ) {\n    fallbackUserName = i18n.getString('anonymous', currentLocale);\n  }\n  if (!fallbackUserName) {\n    fallbackUserName = i18n.getString('unknown', currentLocale);\n  }\n\n  return (\n    <IncomingCallPanel\n      currentLocale={currentLocale}\n      nameMatches={nameMatches}\n      name={name}\n      fallBackName={fallbackUserName}\n      callQueueName={showCallQueueName ? session.callQueueName : null}\n      phoneNumber={phoneNumber}\n      answer={answer}\n      reject={reject}\n      replyWithMessage={replyWithMessage}\n      toVoiceMail={toVoiceMail}\n      formatPhone={formatPhone}\n      areaCode={areaCode}\n      countryCode={countryCode}\n      selectedMatcherIndex={selectedMatcherIndex}\n      onSelectMatcherName={handleSelectMatcherName}\n      avatarUrl={avatarUrl}\n      onBackButtonClick={toggleMinimized}\n      forwardingNumbers={forwardingNumbers}\n      onForward={onForward}\n      brand={brand}\n      showContactDisplayPlaceholder={showContactDisplayPlaceholder}\n      hasOtherActiveCall={hasOtherActiveCall}\n      answerAndEnd={answerAndEnd}\n      answerAndHold={answerAndHold}\n      sessionId={session.id}\n      sourceIcons={sourceIcons}\n      searchContact={searchContact}\n      searchContactList={searchContactList}\n      phoneTypeRenderer={phoneTypeRenderer}\n      phoneSourceNameRenderer={phoneSourceNameRenderer}\n    >\n      {children}\n    </IncomingCallPanel>\n  );\n};\n"],"mappings":"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"}