{"version":3,"file":"IncomingCallView.js","names":["_callDirections","_interopRequireDefault","require","_juno","_react","_interopRequireWildcard","_IncomingCallPanel","_i18n","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","asyncGeneratorStep","o","c","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","f","next","push","isArray","IncomingCallView","props","currentLocale","_props$nameMatches","nameMatches","phoneNumber","formatPhone","areaCode","countryCode","forwardingNumbers","brand","showContactDisplayPlaceholder","sourceIcons","searchContact","searchContactList","children","session","activeSessionId","showCallQueueName","rejectProp","reject","toVoiceMailProp","toVoiceMail","replyWithMessageProp","replyWithMessage","toggleMinimizedProp","toggleMinimized","hangupProp","hangup","answerProp","answer","onHoldProp","onHold","onForwardProp","onForward","getAvatarUrl","updateSessionMatchedContact","phoneTypeRenderer","phoneSourceNameRenderer","callerIdName","_useState","useState","_useState2","selectedMatcherIndex","setSelectedMatcherIndex","_useState3","_useState4","avatarUrl","setAvatarUrl","_useMountState","useMountState","mounted","current","hasOtherActiveCall","id","message","answerAndEnd","_ref","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","stop","answerAndHold","_ref2","_callee2","_callee2$","_context2","forwardNumber","updateAvatarUrl","_ref3","_callee3","contact","_avatarUrl","_callee3$","_context3","sent","abrupt","_x","getSelectedMatcherItem","currContact","index","findIndex","match","handleSelectMatcherName","useEffect","contactMatch","active","minimized","fallbackUserName","direction","callDirections","inbound","i18n","getString","createElement","fallBackName","callQueueName","onSelectMatcherName","onBackButtonClick","sessionId","exports"],"sources":["components/IncomingCallView/IncomingCallView.tsx"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport { useMountState } from '@ringcentral/juno';\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect, useState } from 'react';\n\nimport IncomingCallPanel from '../IncomingCallPanel';\n\nimport i18n from './i18n';\n\nexport type IncomingCallViewProps = {\n  session: {\n    id?: string;\n    direction?: string;\n    startTime?: number;\n    isOnMute?: boolean;\n    isOnHold?: boolean;\n    isOnRecord?: boolean;\n    to?: string;\n    from?: string;\n    contactMatch?: object;\n    minimized?: boolean;\n    callQueueName?: any;\n  };\n  showCallQueueName?: any;\n  currentLocale: string;\n  toggleMinimized: (...args: any[]) => any;\n  answer: (...args: any[]) => any;\n  reject: (...args: any[]) => any;\n  onForward: (...args: any[]) => any;\n  toVoiceMail: (...args: any[]) => any;\n  replyWithMessage: (...args: any[]) => any;\n  formatPhone: (...args: any[]) => any;\n  nameMatches: any[];\n  areaCode: string;\n  countryCode: string;\n  getAvatarUrl: (...args: any[]) => any;\n  forwardingNumbers: any[];\n  updateSessionMatchedContact: (...args: any[]) => any;\n  showContactDisplayPlaceholder: boolean;\n  brand: string;\n  activeSessionId?: string;\n  sourceIcons?: object;\n  hangup: (...args: any[]) => any;\n  onHold: (...args: any[]) => any;\n  searchContactList: any[];\n  searchContact: (...args: any[]) => any;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  phoneNumber: string;\n  callerIdName: string | null | undefined;\n};\nexport const IncomingCallView: FunctionComponent<IncomingCallViewProps> = (\n  props,\n) => {\n  const {\n    currentLocale,\n    nameMatches = [],\n    phoneNumber,\n    formatPhone,\n    areaCode,\n    countryCode,\n    forwardingNumbers,\n    brand,\n    showContactDisplayPlaceholder,\n    sourceIcons,\n    searchContact,\n    searchContactList,\n    children,\n    session,\n    activeSessionId,\n    showCallQueueName,\n    reject: rejectProp,\n    toVoiceMail: toVoiceMailProp,\n    replyWithMessage: replyWithMessageProp,\n    toggleMinimized: toggleMinimizedProp,\n    hangup: hangupProp,\n    answer: answerProp,\n    onHold: onHoldProp,\n    onForward: onForwardProp,\n    getAvatarUrl,\n    updateSessionMatchedContact,\n    phoneTypeRenderer,\n    phoneSourceNameRenderer,\n    callerIdName,\n  } = props;\n  const [selectedMatcherIndex, setSelectedMatcherIndex] = useState(0);\n  const [avatarUrl, setAvatarUrl] = useState(null);\n\n  const { current: mounted } = useMountState();\n\n  const hasOtherActiveCall = !!activeSessionId;\n  const answer = () => answerProp(session.id);\n  const reject = () => rejectProp(session.id);\n  const toVoiceMail = () => toVoiceMailProp(session.id);\n  const replyWithMessage = (message: string) =>\n    replyWithMessageProp(session.id, message);\n\n  const toggleMinimized = () => toggleMinimizedProp(session.id);\n  const answerAndEnd = async () => {\n    await hangupProp(activeSessionId);\n    await answerProp(session.id);\n  };\n\n  const answerAndHold = async () => {\n    await onHoldProp(activeSessionId);\n    await answerProp(session.id);\n  };\n\n  const onForward = (forwardNumber: string) =>\n    onForwardProp(session.id, forwardNumber);\n\n  const updateAvatarUrl = async (contact: any) => {\n    avatarUrl && setAvatarUrl(null);\n\n    if (contact) {\n      const avatarUrl = await getAvatarUrl(contact);\n      // prevent memory leak issue when component unmounted\n      if (!mounted) return;\n\n      setAvatarUrl(avatarUrl);\n    }\n  };\n\n  const getSelectedMatcherItem = (currContact: any | undefined) => {\n    let index = nameMatches.findIndex((match) => match.id === currContact?.id);\n\n    if (index < 0) index = 0;\n\n    if (index !== selectedMatcherIndex) {\n      setSelectedMatcherIndex(index);\n    }\n\n    return nameMatches[index];\n  };\n\n  const handleSelectMatcherName = (currContact: any) => {\n    const contact = getSelectedMatcherItem(currContact);\n\n    if (contact) {\n      updateAvatarUrl(contact);\n\n      updateSessionMatchedContact(session.id, contact);\n    }\n  };\n\n  useEffect(() => {\n    const contact = getSelectedMatcherItem(\n      session.contactMatch ||\n        // zero index maybe null\n        nameMatches?.[0],\n    );\n\n    updateAvatarUrl(contact);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [session.id]);\n\n  const active = !!session.id;\n  if (!active || session.minimized) {\n    return null;\n  }\n\n  let fallbackUserName: string | undefined;\n  if (\n    session.direction === callDirections.inbound &&\n    session.from === 'anonymous'\n  ) {\n    fallbackUserName = i18n.getString('anonymous', currentLocale);\n  }\n  if (!fallbackUserName) {\n    fallbackUserName = i18n.getString('unknown', currentLocale);\n  }\n\n  return (\n    <IncomingCallPanel\n      currentLocale={currentLocale}\n      nameMatches={nameMatches}\n      callerIdName={callerIdName}\n      fallBackName={fallbackUserName}\n      callQueueName={showCallQueueName ? session.callQueueName : null}\n      phoneNumber={phoneNumber}\n      answer={answer}\n      reject={reject}\n      replyWithMessage={replyWithMessage}\n      toVoiceMail={toVoiceMail}\n      formatPhone={formatPhone}\n      areaCode={areaCode}\n      countryCode={countryCode}\n      selectedMatcherIndex={selectedMatcherIndex}\n      onSelectMatcherName={handleSelectMatcherName}\n      avatarUrl={avatarUrl}\n      onBackButtonClick={toggleMinimized}\n      forwardingNumbers={forwardingNumbers}\n      onForward={onForward}\n      brand={brand}\n      showContactDisplayPlaceholder={showContactDisplayPlaceholder}\n      hasOtherActiveCall={hasOtherActiveCall}\n      answerAndEnd={answerAndEnd}\n      answerAndHold={answerAndHold}\n      sessionId={session.id}\n      sourceIcons={sourceIcons}\n      searchContact={searchContact}\n      searchContactList={searchContactList}\n      phoneTypeRenderer={phoneTypeRenderer}\n      phoneSourceNameRenderer={phoneSourceNameRenderer}\n    >\n      {children}\n    </IncomingCallPanel>\n  );\n};\n"],"mappings":"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","ignoreList":[]}