{"version":3,"file":"IncomingCallView.js","names":["_callDirections","_interopRequireDefault","require","_juno","_react","_interopRequireWildcard","_IncomingCallPanel","_i18n","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","next","push","isArray","IncomingCallView","exports","props","currentLocale","_props$nameMatches","nameMatches","phoneNumber","formatPhone","areaCode","countryCode","forwardingNumbers","brand","showContactDisplayPlaceholder","sourceIcons","searchContact","searchContactList","children","session","activeSessionId","showCallQueueName","rejectProp","reject","toVoiceMailProp","toVoiceMail","replyWithMessageProp","replyWithMessage","toggleMinimizedProp","toggleMinimized","hangupProp","hangup","answerProp","answer","onHoldProp","onHold","onForwardProp","onForward","getAvatarUrl","updateSessionMatchedContact","phoneTypeRenderer","phoneSourceNameRenderer","callerIdName","_useState","useState","_useState2","selectedMatcherIndex","setSelectedMatcherIndex","_useState3","_useState4","avatarUrl","setAvatarUrl","_useMountState","useMountState","mounted","current","hasOtherActiveCall","id","message","answerAndEnd","_ref","_callee","_context","answerAndHold","_ref2","_callee2","_context2","forwardNumber","updateAvatarUrl","_ref3","_callee3","contact","_avatarUrl","_context3","_x","getSelectedMatcherItem","currContact","index","findIndex","match","handleSelectMatcherName","useEffect","contactMatch","active","minimized","fallbackUserName","direction","callDirections","inbound","i18n","getString","createElement","fallBackName","callQueueName","onSelectMatcherName","onBackButtonClick","sessionId"],"sources":["components/IncomingCallView/IncomingCallView.tsx"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport { useMountState } from '@ringcentral/juno';\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect, useState } from 'react';\n\nimport IncomingCallPanel from '../IncomingCallPanel';\n\nimport i18n from './i18n';\n\nexport type IncomingCallViewProps = {\n  session: {\n    id?: string;\n    direction?: string;\n    startTime?: number;\n    isOnMute?: boolean;\n    isOnHold?: boolean;\n    isOnRecord?: boolean;\n    to?: string;\n    from?: string;\n    contactMatch?: object;\n    minimized?: boolean;\n    callQueueName?: any;\n  };\n  showCallQueueName?: any;\n  currentLocale: string;\n  toggleMinimized: (...args: any[]) => any;\n  answer: (...args: any[]) => any;\n  reject: (...args: any[]) => any;\n  onForward: (...args: any[]) => any;\n  toVoiceMail: (...args: any[]) => any;\n  replyWithMessage: (...args: any[]) => any;\n  formatPhone: (...args: any[]) => any;\n  nameMatches: any[];\n  areaCode: string;\n  countryCode: string;\n  getAvatarUrl: (...args: any[]) => any;\n  forwardingNumbers: any[];\n  updateSessionMatchedContact: (...args: any[]) => any;\n  showContactDisplayPlaceholder: boolean;\n  brand: string;\n  activeSessionId?: string;\n  sourceIcons?: object;\n  hangup: (...args: any[]) => any;\n  onHold: (...args: any[]) => any;\n  searchContactList: any[];\n  searchContact: (...args: any[]) => any;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  phoneNumber: string;\n  callerIdName: string | null | undefined;\n};\nexport const IncomingCallView: FunctionComponent<IncomingCallViewProps> = (\n  props,\n) => {\n  const {\n    currentLocale,\n    nameMatches = [],\n    phoneNumber,\n    formatPhone,\n    areaCode,\n    countryCode,\n    forwardingNumbers,\n    brand,\n    showContactDisplayPlaceholder,\n    sourceIcons,\n    searchContact,\n    searchContactList,\n    children,\n    session,\n    activeSessionId,\n    showCallQueueName,\n    reject: rejectProp,\n    toVoiceMail: toVoiceMailProp,\n    replyWithMessage: replyWithMessageProp,\n    toggleMinimized: toggleMinimizedProp,\n    hangup: hangupProp,\n    answer: answerProp,\n    onHold: onHoldProp,\n    onForward: onForwardProp,\n    getAvatarUrl,\n    updateSessionMatchedContact,\n    phoneTypeRenderer,\n    phoneSourceNameRenderer,\n    callerIdName,\n  } = props;\n  const [selectedMatcherIndex, setSelectedMatcherIndex] = useState(0);\n  const [avatarUrl, setAvatarUrl] = useState(null);\n\n  const { current: mounted } = useMountState();\n\n  const hasOtherActiveCall = !!activeSessionId;\n  const answer = () => answerProp(session.id);\n  const reject = () => rejectProp(session.id);\n  const toVoiceMail = () => toVoiceMailProp(session.id);\n  const replyWithMessage = (message: string) =>\n    replyWithMessageProp(session.id, message);\n\n  const toggleMinimized = () => toggleMinimizedProp(session.id);\n  const answerAndEnd = async () => {\n    await hangupProp(activeSessionId);\n    await answerProp(session.id);\n  };\n\n  const answerAndHold = async () => {\n    await onHoldProp(activeSessionId);\n    await answerProp(session.id);\n  };\n\n  const onForward = (forwardNumber: string) =>\n    onForwardProp(session.id, forwardNumber);\n\n  const updateAvatarUrl = async (contact: any) => {\n    avatarUrl && setAvatarUrl(null);\n\n    if (contact) {\n      const avatarUrl = await getAvatarUrl(contact);\n      // prevent memory leak issue when component unmounted\n      if (!mounted) return;\n\n      setAvatarUrl(avatarUrl);\n    }\n  };\n\n  const getSelectedMatcherItem = (currContact: any | undefined) => {\n    let index = nameMatches.findIndex((match) => match.id === currContact?.id);\n\n    if (index < 0) index = 0;\n\n    if (index !== selectedMatcherIndex) {\n      setSelectedMatcherIndex(index);\n    }\n\n    return nameMatches[index];\n  };\n\n  const handleSelectMatcherName = (currContact: any) => {\n    const contact = getSelectedMatcherItem(currContact);\n\n    if (contact) {\n      updateAvatarUrl(contact);\n\n      updateSessionMatchedContact(session.id, contact);\n    }\n  };\n\n  useEffect(() => {\n    const contact = getSelectedMatcherItem(\n      session.contactMatch ||\n        // zero index maybe null\n        nameMatches?.[0],\n    );\n\n    updateAvatarUrl(contact);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [session.id]);\n\n  const active = !!session.id;\n  if (!active || session.minimized) {\n    return null;\n  }\n\n  let fallbackUserName: string | undefined;\n  if (\n    session.direction === callDirections.inbound &&\n    session.from === 'anonymous'\n  ) {\n    fallbackUserName = i18n.getString('anonymous', currentLocale);\n  }\n  if (!fallbackUserName) {\n    fallbackUserName = i18n.getString('unknown', currentLocale);\n  }\n\n  return (\n    <IncomingCallPanel\n      currentLocale={currentLocale}\n      nameMatches={nameMatches}\n      callerIdName={callerIdName}\n      fallBackName={fallbackUserName}\n      callQueueName={showCallQueueName ? session.callQueueName : null}\n      phoneNumber={phoneNumber}\n      answer={answer}\n      reject={reject}\n      replyWithMessage={replyWithMessage}\n      toVoiceMail={toVoiceMail}\n      formatPhone={formatPhone}\n      areaCode={areaCode}\n      countryCode={countryCode}\n      selectedMatcherIndex={selectedMatcherIndex}\n      onSelectMatcherName={handleSelectMatcherName}\n      avatarUrl={avatarUrl}\n      onBackButtonClick={toggleMinimized}\n      forwardingNumbers={forwardingNumbers}\n      onForward={onForward}\n      brand={brand}\n      showContactDisplayPlaceholder={showContactDisplayPlaceholder}\n      hasOtherActiveCall={hasOtherActiveCall}\n      answerAndEnd={answerAndEnd}\n      answerAndHold={answerAndHold}\n      sessionId={session.id}\n      sourceIcons={sourceIcons}\n      searchContact={searchContact}\n      searchContactList={searchContactList}\n      phoneTypeRenderer={phoneTypeRenderer}\n      phoneSourceNameRenderer={phoneSourceNameRenderer}\n    >\n      {children}\n    </IncomingCallPanel>\n  );\n};\n"],"mappings":"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","ignoreList":[]}