{"version":3,"file":"CommunicationSetupPanel.js","names":["_CallingSettings","require","_juno","_junoIcon","_react","_interopRequireWildcard","_contexts","_ContactSearchPanelEnum","_i18n","_interopRequireDefault","_i18n2","_CommunicationSetupProvider","_ContactSearchContainer","_helper","_i18n3","_styles","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","asyncGeneratorStep","c","done","Promise","resolve","then","_asyncToGenerator","_next","_throw","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","iterator","Array","from","isArray","_arrayLikeToArray","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","toString","slice","constructor","name","test","l","f","next","maxLength","FromField","_ref","currentLocale","disableFromField","fromNumber","formatPhone","changeFromNumber","options","blockedLabel","inputRef","createElement","FieldLine","RcText","variant","color","concat","fromFieldI18n","getString","RcSelect","fullWidth","textVariant","renderValue","val","text","BLOCKED_ID_VALUE","disabled","InputProps","disableUnderline","MenuProps","TransitionProps","onExited","_inputRef$current","current","focus","map","item","index","RcMenuItem","onClick","phoneNumber","key","RcListItemText","primary","secondary","usageType","CommunicationSetupWrapper","props","_props$ContactSearch","onToNumberChange","triggerEventTracking","toNumber","fromNumbers","recipients","_props$multiple","multiple","_props$directlyProcee","directlyProceedType","setRecipient","clearRecipient","autoFocus","_props$showFromField","showFromField","_props$disableFromFie","children","showAnonymous","_props$label","label","inputI18n","_props$placeholder","placeholder","detectPhoneNumbers","_props$defaultTab","defaultTab","TabsEnum","thirdParty","inputFullWidth","filterCallQueueExtension","useRef","_useAsyncTextFieldSta","useAsyncTextFieldState","_useAsyncTextFieldSta2","innerToNumber","setInnerToNumber","startTyping","updating","_useState","useState","_useState2","openSearchPage","setOpenSearchPage","showSearchPage","trim","setRecipientByChars","Chars","_inputRef$current2","blur","setRecipientHandler","optionItem","keyDownHandler","isSplitterKey","preventDefault","closeSearchPage","_inputRef$current3","hasTags","hiddenInput","useMemo","_useCommunicationSetu","useCommunicationSetupContext","inputPropsRef","onChange","_inputPropsRef$curren","_len","args","_key","onKeyDown","_inputPropsRef$curren2","_len2","_key2","RecipientComponent","StyledRecipientsWrapper","StyledRcChip","deleteIconProps","size","style","fontSize","onDelete","error","isWarning","inputChangeHandler","ContactSearch","ContactSearchContainer","RootWrapper","CallFields","StyledToInputWrapper","StyledRcDialTextField","undefined","title","onPaste","_ref2","regeneratorRuntime","mark","_callee","ev","pastedText","result","wrap","_callee$","_context","prev","clipboardData","getData","sent","stop","_x","endAdornment","RcDialDelete","RcIconButton","symbol","DeleteCircle","onFocus","inputProps","FullSizeWrapper","ResultContainer","optionClickHandler","userInput","directlyProceedText","i18n","CommunicationSetupPanel","CommunicationSetupProvider","exports","initValue","_useRefState","useRefState","_useRefState2","state","_setState","debouncingRef","setState","isUpdate","debounceSetState","cancel","useDebounce","useDepsChange"],"sources":["components/CommunicationSetupPanel/CommunicationSetupPanel.tsx"],"sourcesContent":["import type UserPhoneNumberInfo from '@rc-ex/core/lib/definitions/UserPhoneNumberInfo';\nimport { trackEvents } from '@ringcentral-integration/commons/enums/trackEvents';\nimport { BLOCKED_ID_VALUE } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport type { ToNumber } from '@ringcentral-integration/commons/modules/ComposeText';\nimport {\n  RcDialDelete,\n  RcIconButton,\n  RcListItemText,\n  RcMenuItem,\n  RcSelect,\n  RcText,\n  useDebounce,\n  useDepsChange,\n  useRefState,\n} from '@ringcentral/juno';\nimport { DeleteCircle } from '@ringcentral/juno-icon';\nimport type { FunctionComponent } from 'react';\nimport React, { useMemo, useRef, useState } from 'react';\n\nimport { useCommunicationSetupContext } from '../../contexts';\nimport type { TabsEnumType } from '../ContactSearchPanel/ContactSearchPanelEnum';\nimport { TabsEnum } from '../ContactSearchPanel/ContactSearchPanelEnum';\nimport fromFieldI18n from '../FromField/i18n';\nimport inputI18n from '../RecipientsInput/i18n';\n\nimport { CommunicationSetupProvider } from './CommunicationSetupProvider';\nimport ContactSearchContainer from './ContactSearchContainer';\nimport { isSplitterKey } from './helper';\nimport i18n, { type I18nKey } from './i18n';\nimport {\n  CallFields,\n  FieldLine,\n  FullSizeWrapper,\n  ResultContainer,\n  RootWrapper,\n  StyledRcChip,\n  StyledRcDialTextField,\n  StyledRecipientsWrapper,\n  StyledToInputWrapper,\n} from './styles';\n\nconst maxLength = 30;\n\ninterface FromFieldProps {\n  currentLocale: string;\n  disableFromField: boolean;\n  fromNumber: string;\n  formatPhone: (...args: any[]) => string;\n  changeFromNumber: (...args: any[]) => any;\n  options: {\n    phoneNumber: string;\n    usageType?: string;\n  }[];\n  blockedLabel: string;\n  inputRef: React.RefObject<HTMLInputElement>;\n}\n\nconst FromField: FunctionComponent<FromFieldProps> = ({\n  currentLocale,\n  disableFromField,\n  fromNumber,\n  formatPhone,\n  changeFromNumber,\n  options,\n  blockedLabel,\n  inputRef,\n}) => {\n  return (\n    <FieldLine>\n      <RcText variant=\"caption1\" color=\"neutral.b04\">\n        {`${fromFieldI18n.getString('from', currentLocale)}:`}\n      </RcText>\n      <RcSelect\n        fullWidth\n        textVariant=\"caption1\"\n        data-sign=\"phoneNumber\"\n        renderValue={(val) => {\n          const text =\n            val === BLOCKED_ID_VALUE ? blockedLabel : formatPhone(val);\n          return <span data-sign=\"fromLabel\">{text}</span>;\n        }}\n        disabled={disableFromField}\n        value={fromNumber}\n        InputProps={{\n          // classes: customSelectInputClasses,\n          disableUnderline: true,\n        }}\n        MenuProps={{\n          TransitionProps: {\n            onExited: () => {\n              inputRef.current?.focus();\n            },\n          },\n        }}\n      >\n        {options.map((item, index) => (\n          <RcMenuItem\n            onClick={() => changeFromNumber(item)}\n            value={item.phoneNumber}\n            key={item.phoneNumber}\n            data-sign={`selectMenuItem${index}`}\n          >\n            {item.phoneNumber === BLOCKED_ID_VALUE ? (\n              <RcListItemText primary={blockedLabel} />\n            ) : (\n              <RcListItemText\n                primary={formatPhone(item.phoneNumber)}\n                secondary={fromFieldI18n.getString(\n                  item.usageType as never,\n                  currentLocale,\n                )}\n              />\n            )}\n          </RcMenuItem>\n        ))}\n      </RcSelect>\n    </FieldLine>\n  );\n};\n\n// TODO: keep original style, wait check with designer\n// const CustomSelect = styled(RcSelect)``;\n// const customSelectInputClasses = RcClasses<RcSelectProps['InputProps']>(\n//   ['input'],\n//   'custom-select-input',\n// );\n// const CustomSelect = styled(RcSelect)`\n//   && {\n//     .${customSelectInputClasses.input} {\n//       background-color: transparent;\n//     }\n//   }\n// `;\n\nexport type CommunicationSetupPanelProps = {\n  // To field\n  onToNumberChange: (...args: any[]) => any;\n  label?: string;\n  placeholder?: string | null;\n  recipients: ToNumber[];\n  toNumber: string;\n  triggerEventTracking: (eventName: string, contactType: string) => any;\n  setRecipient: (...args: any[]) => any;\n  clearRecipient: (...args: any[]) => any;\n  autoFocus?: boolean;\n  multiple?: boolean;\n  directlyProceedType?: I18nKey;\n  inputFullWidth: boolean;\n  filterCallQueueExtension?: boolean;\n  // From field\n  showAnonymous?: boolean;\n  fromNumber?: string;\n  fromNumbers?: UserPhoneNumberInfo[];\n  changeFromNumber?: (...args: any[]) => any;\n  formatPhone?: (...args: any[]) => string;\n  detectPhoneNumbers?: (...args: any[]) => any;\n  showFromField?: boolean;\n  disableFromField?: boolean;\n  // Common\n  currentLocale: string;\n  defaultTab?: TabsEnumType;\n  ContactSearch?: FunctionComponent<any>;\n};\n\nconst CommunicationSetupWrapper: FunctionComponent<\n  CommunicationSetupPanelProps\n> = (props) => {\n  const {\n    currentLocale,\n    onToNumberChange,\n    triggerEventTracking,\n    toNumber,\n    fromNumber,\n    fromNumbers,\n    changeFromNumber,\n    formatPhone,\n    recipients,\n    multiple = false,\n    directlyProceedType = 'dial',\n    setRecipient,\n    clearRecipient,\n    autoFocus,\n    showFromField = true,\n    disableFromField = false,\n    children,\n    showAnonymous,\n    label = `${inputI18n.getString('to', currentLocale)}:`,\n    placeholder = `${inputI18n.getString('enterNameOrNumber', currentLocale)}`,\n    detectPhoneNumbers,\n    defaultTab = TabsEnum.thirdParty,\n    inputFullWidth,\n    filterCallQueueExtension,\n  } = props;\n\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [innerToNumber, setInnerToNumber, { updating: startTyping }] =\n    useAsyncTextFieldState(toNumber);\n\n  const [openSearchPage, setOpenSearchPage] = useState<boolean>(false);\n  const showSearchPage = openSearchPage && !!toNumber.trim();\n  const setRecipientByChars = (Chars: string) => {\n    setOpenSearchPage(false);\n    setRecipient({\n      name: Chars,\n      phoneNumber: Chars,\n    });\n    inputRef.current?.blur();\n  };\n\n  const setRecipientHandler = (optionItem: any) => {\n    setOpenSearchPage(false);\n    setRecipient(optionItem);\n  };\n\n  const keyDownHandler = (e: React.KeyboardEvent) => {\n    if (isSplitterKey(e) && !!toNumber.trim()) {\n      e.preventDefault();\n      setRecipientByChars(toNumber);\n    }\n  };\n\n  const closeSearchPage = () => {\n    setInnerToNumber('');\n    setOpenSearchPage(false);\n    onToNumberChange('');\n    inputRef.current?.blur();\n  };\n\n  const hasTags = recipients.length > 0;\n\n  const hiddenInput = !multiple && hasTags;\n\n  const options = useMemo(() => {\n    if (showAnonymous) {\n      return [\n        // @ts-expect-error TS(2488): Type '{ phoneNumber: string; usageType?: string | ... Remove this comment to see the full error message\n        ...fromNumbers,\n        {\n          phoneNumber: BLOCKED_ID_VALUE,\n        },\n      ];\n    }\n\n    return fromNumbers;\n  }, [fromNumbers, showAnonymous]);\n\n  const blockedLabel = fromFieldI18n.getString('Blocked', currentLocale);\n  const { inputPropsRef } = useCommunicationSetupContext();\n\n  const InputProps = {\n    onChange: (...args: any[]) => {\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      inputPropsRef?.current?.onChange.apply(null, args);\n    },\n    onKeyDown: (...args: any[]) => {\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      inputPropsRef?.current?.onKeyDown.apply(null, args);\n    },\n  };\n\n  const RecipientComponent = useMemo(\n    () =>\n      !!recipients.length && (\n        <StyledRecipientsWrapper>\n          {recipients.map((item, index) => (\n            <StyledRcChip\n              data-sign=\"recipientsChip\"\n              deleteIconProps={{ size: 'small' }}\n              style={{ fontSize: '14px' }}\n              onDelete={() => clearRecipient(item)}\n              label={item.name || item.phoneNumber}\n              key={`${item.phoneNumber} - ${index}`}\n              error={item.isWarning}\n            />\n          ))}\n        </StyledRecipientsWrapper>\n      ),\n    [recipients, clearRecipient],\n  );\n\n  const inputChangeHandler = (value: string) => {\n    startTyping(value);\n\n    if (value.trim()) {\n      setOpenSearchPage(true);\n    } else {\n      setOpenSearchPage(false);\n    }\n\n    onToNumberChange(value);\n  };\n\n  const ContactSearch = props.ContactSearch ?? ContactSearchContainer;\n  return (\n    <RootWrapper>\n      <CallFields>\n        <FieldLine>\n          <RcText color=\"neutral.b05\">{label}</RcText>\n          <StyledToInputWrapper inputFullWidth={inputFullWidth}>\n            {RecipientComponent}\n            {!hiddenInput && (\n              <StyledRcDialTextField\n                inputRef={inputRef}\n                // eslint-disable-next-line jsx-a11y/no-autofocus\n                autoFocus={autoFocus}\n                fullWidth\n                size=\"small\"\n                variant=\"borderLess\"\n                textVariant=\"body1\"\n                onKeyDown={keyDownHandler}\n                value={innerToNumber}\n                onChange={inputChangeHandler}\n                placeholder={\n                  inputFullWidth && !!recipients.length\n                    ? undefined\n                    : placeholder ?? undefined\n                }\n                title={placeholder ?? undefined}\n                onPaste={async (ev) => {\n                  if (\n                    detectPhoneNumbers &&\n                    ev.clipboardData &&\n                    ev.clipboardData.getData\n                  ) {\n                    const pastedText = ev.clipboardData.getData('text/plain');\n                    ev.preventDefault();\n                    const result = await detectPhoneNumbers(pastedText);\n                    !result && inputChangeHandler(pastedText);\n                  }\n                }}\n                InputProps={{\n                  ...InputProps,\n                  endAdornment: !!toNumber.length && (\n                    <RcDialDelete\n                      onDelete={(e) => {\n                        e.preventDefault();\n                        closeSearchPage();\n                      }}\n                    >\n                      <RcIconButton\n                        symbol={DeleteCircle}\n                        data-sign=\"deleteButton\"\n                        title=\"Delete\"\n                        variant=\"plain\"\n                        size=\"medium\"\n                      />\n                    </RcDialDelete>\n                  ),\n                  onFocus: () => {\n                    if (toNumber.trim()) {\n                      setOpenSearchPage(true);\n                    }\n                  },\n                }}\n                inputProps={{\n                  'data-sign': 'recipientsInput',\n                  maxLength,\n                }}\n              />\n            )}\n          </StyledToInputWrapper>\n        </FieldLine>\n        {showFromField && (\n          <FromField\n            inputRef={inputRef}\n            currentLocale={currentLocale}\n            disableFromField={disableFromField}\n            // @ts-expect-error TS(2322): Type 'string | undefined' is not assignable to typ... Remove this comment to see the full error message\n            fromNumber={fromNumber}\n            // @ts-expect-error TS(2322): Type '((...args: any[]) => string) | undefined' is... Remove this comment to see the full error message\n            formatPhone={formatPhone}\n            // @ts-expect-error TS(2322): Type '((...args: any[]) => any) | undefined' is no... Remove this comment to see the full error message\n            changeFromNumber={changeFromNumber}\n            // @ts-expect-error TS(2322): Type 'any[] | undefined' is not assignable to type... Remove this comment to see the full error message\n            options={options}\n            blockedLabel={blockedLabel}\n          />\n        )}\n      </CallFields>\n      <FullSizeWrapper>\n        {showSearchPage && (\n          <ResultContainer>\n            <ContactSearch\n              triggerEventTracking={triggerEventTracking}\n              filterCallQueueExtension={filterCallQueueExtension}\n              optionClickHandler={setRecipientHandler}\n              inputRef={inputRef}\n              userInput={toNumber}\n              defaultTab={defaultTab}\n              directlyProceedText={i18n.getString(\n                directlyProceedType,\n                currentLocale,\n              )}\n            />\n          </ResultContainer>\n        )}\n        {children}\n      </FullSizeWrapper>\n    </RootWrapper>\n  );\n};\n\nexport const CommunicationSetupPanel: FunctionComponent<\n  CommunicationSetupPanelProps\n> = (props) => (\n  <CommunicationSetupProvider>\n    <CommunicationSetupWrapper {...props} />\n  </CommunicationSetupProvider>\n);\n\n/**\n * Custom hook for managing async text field control state.\n *\n * use for update value in sync way when using `updating` method,\n * in typing mode, that will not update the value immediately, that will wait for 500ms to update the value, to avoid too many rerender and async cause input cursor jump\n *\n * @param initValue - The initial value for the control state.\n */\nconst useAsyncTextFieldState = (initValue: string) => {\n  const [state, _setState] = useRefState(initValue);\n\n  const debouncingRef = useRef(false);\n  const setState = (val: string, isUpdate?: boolean | undefined) => {\n    debouncingRef.current = false;\n    debounceSetState.cancel();\n    _setState(val, isUpdate);\n  };\n\n  const debounceSetState = useDebounce(() => {\n    setState(initValue);\n  }, 500);\n\n  useDepsChange(() => {\n    if (state.current === initValue) {\n      debouncingRef.current = false;\n\n      return;\n    }\n\n    // when be empty from outside, cancel previous debounce prevent update show again\n    if (state.current !== '' && initValue === '') {\n      setState('', false);\n    } else if (debouncingRef.current) {\n      // use debounce to avoid too many rerender and async cause input cursor jump\n      debounceSetState();\n    } else {\n      setState(initValue, false);\n    }\n  }, [initValue]);\n\n  return [\n    state.current,\n    setState,\n    {\n      updating: (value: string) => {\n        debouncingRef.current = value !== '';\n        _setState(value);\n      },\n    },\n  ] as const;\n};\n"],"mappings":"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","ignoreList":[]}