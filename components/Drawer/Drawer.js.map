{"version":3,"file":"Drawer.js","names":["_springUi","require","_clsx","_interopRequireDefault","_framerMotion","_react","_interopRequireWildcard","_excluded","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","u","next","done","push","value","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","Drawer","exports","_ref","open","onClose","children","onKeyDown","onEscapeKeyDown","disableEscapeKeyDown","disablePortal","container","disableRestoreFocus","backdropProps","bodyProps","disableBackdropAnimation","onExitComplete","rest","useEffect","setShouldRender","prevOpen","usePrevious","_useState","useState","_useState2","shouldRender","onAnimationComplete","createElement","Portal","motion","div","className","role","clsx","onClick","SlideIn","toggle","style","maxHeight","key","FocusTrap","tabIndex"],"sources":["components/Drawer/Drawer.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport {\n  DialogProps,\n  FocusTrap,\n  Portal,\n  SlideIn,\n  usePrevious,\n} from '@ringcentral/spring-ui';\nimport clsx from 'clsx';\nimport { motion, MotionProps } from 'framer-motion';\nimport React, { FunctionComponent, useEffect, useState } from 'react';\n\n// TODO: spring-ui still not have drawer component, so we use a custom drawer component\nexport const Drawer: FunctionComponent<DialogProps> = ({\n  open,\n  onClose,\n  children,\n  onKeyDown,\n  onEscapeKeyDown,\n  disableEscapeKeyDown,\n  disablePortal,\n  container,\n  disableRestoreFocus,\n  backdropProps,\n  bodyProps,\n  disableBackdropAnimation,\n  onExitComplete,\n  ...rest\n}) => {\n  useEffect(() => {\n    if (open) {\n      setShouldRender(true);\n    } else {\n      if (disableBackdropAnimation) {\n        setShouldRender(false);\n      }\n    }\n  }, [open, disableBackdropAnimation]);\n\n  const prevOpen = usePrevious(() => open);\n\n  const [shouldRender, setShouldRender] = useState(open);\n\n  useEffect(() => {\n    if (prevOpen && !open) {\n      onClose?.({} as any, 'closeButtonClick');\n    }\n  }, [prevOpen, open, onClose]);\n\n  const onAnimationComplete: MotionProps['onAnimationComplete'] = (e) => {\n    if (!open) {\n      onExitComplete?.();\n      setShouldRender(false);\n    }\n  };\n\n  return shouldRender ? (\n    <Portal disablePortal={disablePortal} container={container}>\n      <motion.div\n        className=\"fixed inset-0 z-drawer flex items-end justify-center\"\n        role=\"presentation\"\n        {...rest}\n      >\n        <div\n          aria-hidden\n          data-sign=\"backdrop\"\n          className={clsx(\n            'absolute inset-0 bg-neutral-b0/50 transition-opacity duration-300',\n            open ? 'opacity-100' : 'opacity-0',\n          )}\n          onClick={(e) => onClose?.(e, 'backdropClick')}\n          {...backdropProps}\n        />\n\n        <SlideIn\n          toggle={open}\n          from=\"bottom\"\n          className=\"w-full\"\n          onAnimationComplete={onAnimationComplete}\n        >\n          <div\n            role=\"dialog\"\n            aria-modal=\"true\"\n            className={\n              'relative w-full bg-neutral-base rounded-t-lg shadow-lg transform transition-transform duration-300 ease-out'\n            }\n            style={{ maxHeight: '80vh' }}\n            onKeyDown={(e) => {\n              onKeyDown?.(e);\n\n              if (!disableEscapeKeyDown && e.key === 'Escape') {\n                onEscapeKeyDown?.(e);\n                onClose?.(e, 'escapeKeyDown');\n              }\n            }}\n            {...(bodyProps as any)}\n          >\n            <FocusTrap open={open} disableRestoreFocus={disableRestoreFocus}>\n              <div\n                // eslint-disable-next-line jsx-a11y/no-noninteractive-tabindex\n                tabIndex={0}\n                className=\"overflow-y-auto\"\n              >\n                {children}\n              </div>\n            </FocusTrap>\n          </div>\n        </SlideIn>\n      </motion.div>\n    </Portal>\n  ) : null;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAAA,SAAA,GAAAC,OAAA;AAOA,IAAAC,KAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,aAAA,GAAAH,OAAA;AACA,IAAAI,MAAA,GAAAC,uBAAA,CAAAL,OAAA;AAAsE,IAAAM,SAAA;AAVtE;AAAA,SAAAD,wBAAAE,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAJ,uBAAA,YAAAA,wBAAAE,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,mBAAAT,CAAA,iBAAAA,CAAA,gBAAAU,OAAA,CAAAV,CAAA,0BAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAAAN,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAK,UAAA,GAAAL,CAAA,gBAAAA,CAAA;AAAA,SAAAoB,SAAA,WAAAA,QAAA,GAAAH,MAAA,CAAAI,MAAA,GAAAJ,MAAA,CAAAI,MAAA,CAAAC,IAAA,eAAAlB,CAAA,aAAAJ,CAAA,MAAAA,CAAA,GAAAuB,SAAA,CAAAC,MAAA,EAAAxB,CAAA,UAAAC,CAAA,GAAAsB,SAAA,CAAAvB,CAAA,YAAAG,CAAA,IAAAF,CAAA,OAAAc,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAE,CAAA,MAAAC,CAAA,CAAAD,CAAA,IAAAF,CAAA,CAAAE,CAAA,aAAAC,CAAA,KAAAgB,QAAA,CAAAK,KAAA,OAAAF,SAAA;AAAA,SAAAG,eAAAvB,CAAA,EAAAH,CAAA,WAAA2B,eAAA,CAAAxB,CAAA,KAAAyB,qBAAA,CAAAzB,CAAA,EAAAH,CAAA,KAAA6B,2BAAA,CAAA1B,CAAA,EAAAH,CAAA,KAAA8B,gBAAA;AAAA,SAAAA,iBAAA,cAAAC,SAAA;AAAA,SAAAF,4BAAA1B,CAAA,EAAA6B,CAAA,QAAA7B,CAAA,2BAAAA,CAAA,SAAA8B,iBAAA,CAAA9B,CAAA,EAAA6B,CAAA,OAAA/B,CAAA,MAAAiC,QAAA,CAAAlB,IAAA,CAAAb,CAAA,EAAAgC,KAAA,6BAAAlC,CAAA,IAAAE,CAAA,CAAAiC,WAAA,KAAAnC,CAAA,GAAAE,CAAA,CAAAiC,WAAA,CAAAC,IAAA,aAAApC,CAAA,cAAAA,CAAA,GAAAqC,KAAA,CAAAC,IAAA,CAAApC,CAAA,oBAAAF,CAAA,+CAAAuC,IAAA,CAAAvC,CAAA,IAAAgC,iBAAA,CAAA9B,CAAA,EAAA6B,CAAA;AAAA,SAAAC,kBAAA9B,CAAA,EAAA6B,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAA7B,CAAA,CAAAqB,MAAA,MAAAQ,CAAA,GAAA7B,CAAA,CAAAqB,MAAA,YAAAxB,CAAA,MAAAI,CAAA,GAAAkC,KAAA,CAAAN,CAAA,GAAAhC,CAAA,GAAAgC,CAAA,EAAAhC,CAAA,IAAAI,CAAA,CAAAJ,CAAA,IAAAG,CAAA,CAAAH,CAAA,UAAAI,CAAA;AAAA,SAAAwB,sBAAAzB,CAAA,EAAAsC,CAAA,QAAAxC,CAAA,WAAAE,CAAA,gCAAAuC,MAAA,IAAAvC,CAAA,CAAAuC,MAAA,CAAAC,QAAA,KAAAxC,CAAA,4BAAAF,CAAA,QAAAD,CAAA,EAAAI,CAAA,EAAAG,CAAA,EAAAqC,CAAA,EAAAZ,CAAA,OAAAxB,CAAA,OAAAF,CAAA,iBAAAC,CAAA,IAAAN,CAAA,GAAAA,CAAA,CAAAe,IAAA,CAAAb,CAAA,GAAA0C,IAAA,QAAAJ,CAAA,QAAAxB,MAAA,CAAAhB,CAAA,MAAAA,CAAA,UAAAO,CAAA,uBAAAA,CAAA,IAAAR,CAAA,GAAAO,CAAA,CAAAS,IAAA,CAAAf,CAAA,GAAA6C,IAAA,MAAAd,CAAA,CAAAe,IAAA,CAAA/C,CAAA,CAAAgD,KAAA,GAAAhB,CAAA,CAAAR,MAAA,KAAAiB,CAAA,GAAAjC,CAAA,iBAAAL,CAAA,IAAAG,CAAA,OAAAF,CAAA,GAAAD,CAAA,yBAAAK,CAAA,YAAAP,CAAA,eAAA2C,CAAA,GAAA3C,CAAA,cAAAgB,MAAA,CAAA2B,CAAA,MAAAA,CAAA,2BAAAtC,CAAA,QAAAF,CAAA,aAAA4B,CAAA;AAAA,SAAAL,gBAAAxB,CAAA,QAAAmC,KAAA,CAAAW,OAAA,CAAA9C,CAAA,UAAAA,CAAA;AAAA,SAAA+C,yBAAAlD,CAAA,EAAAC,CAAA,gBAAAD,CAAA,iBAAAM,CAAA,EAAAH,CAAA,EAAAI,CAAA,GAAA4C,6BAAA,CAAAnD,CAAA,EAAAC,CAAA,OAAAgB,MAAA,CAAAmC,qBAAA,QAAAhD,CAAA,GAAAa,MAAA,CAAAmC,qBAAA,CAAApD,CAAA,QAAAG,CAAA,MAAAA,CAAA,GAAAC,CAAA,CAAAoB,MAAA,EAAArB,CAAA,IAAAG,CAAA,GAAAF,CAAA,CAAAD,CAAA,UAAAF,CAAA,CAAAoD,OAAA,CAAA/C,CAAA,QAAAgD,oBAAA,CAAAtC,IAAA,CAAAhB,CAAA,EAAAM,CAAA,MAAAC,CAAA,CAAAD,CAAA,IAAAN,CAAA,CAAAM,CAAA,aAAAC,CAAA;AAAA,SAAA4C,8BAAAhD,CAAA,EAAAH,CAAA,gBAAAG,CAAA,iBAAAF,CAAA,gBAAAG,CAAA,IAAAD,CAAA,SAAAY,cAAA,CAAAC,IAAA,CAAAb,CAAA,EAAAC,CAAA,gBAAAJ,CAAA,CAAAqD,OAAA,CAAAjD,CAAA,aAAAH,CAAA,CAAAG,CAAA,IAAAD,CAAA,CAAAC,CAAA,YAAAH,CAAA;AAYA;AACO,IAAMsD,MAAsC,GAAAC,OAAA,CAAAD,MAAA,GAAG,SAAzCA,MAAsCA,CAAAE,IAAA,EAe7C;EAAA,IAdJC,IAAI,GAAAD,IAAA,CAAJC,IAAI;IACJC,OAAO,GAAAF,IAAA,CAAPE,OAAO;IACPC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IACRC,UAAS,GAAAJ,IAAA,CAATI,SAAS;IACTC,eAAe,GAAAL,IAAA,CAAfK,eAAe;IACfC,oBAAoB,GAAAN,IAAA,CAApBM,oBAAoB;IACpBC,aAAa,GAAAP,IAAA,CAAbO,aAAa;IACbC,SAAS,GAAAR,IAAA,CAATQ,SAAS;IACTC,mBAAmB,GAAAT,IAAA,CAAnBS,mBAAmB;IACnBC,aAAa,GAAAV,IAAA,CAAbU,aAAa;IACbC,SAAS,GAAAX,IAAA,CAATW,SAAS;IACTC,wBAAwB,GAAAZ,IAAA,CAAxBY,wBAAwB;IACxBC,cAAc,GAAAb,IAAA,CAAda,cAAc;IACXC,IAAI,GAAArB,wBAAA,CAAAO,IAAA,EAAA1D,SAAA;EAEP,IAAAyE,gBAAS,EAAC,YAAM;IACd,IAAId,IAAI,EAAE;MACRe,eAAe,CAAC,IAAI,CAAC;IACvB,CAAC,MAAM;MACL,IAAIJ,wBAAwB,EAAE;QAC5BI,eAAe,CAAC,KAAK,CAAC;MACxB;IACF;EACF,CAAC,EAAE,CAACf,IAAI,EAAEW,wBAAwB,CAAC,CAAC;EAEpC,IAAMK,QAAQ,GAAG,IAAAC,qBAAW,EAAC;IAAA,OAAMjB,IAAI;EAAA,EAAC;EAExC,IAAAkB,SAAA,GAAwC,IAAAC,eAAQ,EAACnB,IAAI,CAAC;IAAAoB,UAAA,GAAApD,cAAA,CAAAkD,SAAA;IAA/CG,YAAY,GAAAD,UAAA;IAAEL,eAAe,GAAAK,UAAA;EAEpC,IAAAN,gBAAS,EAAC,YAAM;IACd,IAAIE,QAAQ,IAAI,CAAChB,IAAI,EAAE;MACrBC,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG,CAAC,CAAC,EAAS,kBAAkB,CAAC;IAC1C;EACF,CAAC,EAAE,CAACe,QAAQ,EAAEhB,IAAI,EAAEC,OAAO,CAAC,CAAC;EAE7B,IAAMqB,mBAAuD,GAAG,SAA1DA,mBAAuDA,CAAIhF,CAAC,EAAK;IACrE,IAAI,CAAC0D,IAAI,EAAE;MACTY,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAG,CAAC;MAClBG,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,OAAOM,YAAY,gBACjBlF,MAAA,YAAAoF,aAAA,CAACzF,SAAA,CAAA0F,MAAM;IAAClB,aAAa,EAAEA,aAAc;IAACC,SAAS,EAAEA;EAAU,gBACzDpE,MAAA,YAAAoF,aAAA,CAACrF,aAAA,CAAAuF,MAAM,CAACC,GAAG,EAAAhE,QAAA;IACTiE,SAAS,EAAC,sDAAsD;IAChEC,IAAI,EAAC;EAAc,GACff,IAAI,gBAER1E,MAAA,YAAAoF,aAAA,QAAA7D,QAAA;IACE,mBAAW;IACX,aAAU,UAAU;IACpBiE,SAAS,EAAE,IAAAE,gBAAI,EACb,mEAAmE,EACnE7B,IAAI,GAAG,aAAa,GAAG,WACzB,CAAE;IACF8B,OAAO,EAAE,SAATA,OAAOA,CAAGxF,CAAC;MAAA,OAAK2D,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG3D,CAAC,EAAE,eAAe,CAAC;IAAA;EAAC,GAC1CmE,aAAa,CAClB,CAAC,eAEFtE,MAAA,YAAAoF,aAAA,CAACzF,SAAA,CAAAiG,OAAO;IACNC,MAAM,EAAEhC,IAAK;IACbnB,IAAI,EAAC,QAAQ;IACb8C,SAAS,EAAC,QAAQ;IAClBL,mBAAmB,EAAEA;EAAoB,gBAEzCnF,MAAA,YAAAoF,aAAA,QAAA7D,QAAA;IACEkE,IAAI,EAAC,QAAQ;IACb,cAAW,MAAM;IACjBD,SAAS,EACP,6GACD;IACDM,KAAK,EAAE;MAAEC,SAAS,EAAE;IAAO,CAAE;IAC7B/B,SAAS,EAAE,SAAXA,SAASA,CAAG7D,CAAC,EAAK;MAChB6D,UAAS,aAATA,UAAS,uBAATA,UAAS,CAAG7D,CAAC,CAAC;MAEd,IAAI,CAAC+D,oBAAoB,IAAI/D,CAAC,CAAC6F,GAAG,KAAK,QAAQ,EAAE;QAC/C/B,eAAe,aAAfA,eAAe,uBAAfA,eAAe,CAAG9D,CAAC,CAAC;QACpB2D,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAG3D,CAAC,EAAE,eAAe,CAAC;MAC/B;IACF;EAAE,GACGoE,SAAS,gBAEdvE,MAAA,YAAAoF,aAAA,CAACzF,SAAA,CAAAsG,SAAS;IAACpC,IAAI,EAAEA,IAAK;IAACQ,mBAAmB,EAAEA;EAAoB,gBAC9DrE,MAAA,YAAAoF,aAAA;IACE;IACAc,QAAQ,EAAE,CAAE;IACZV,SAAS,EAAC;EAAiB,GAE1BzB,QACE,CACI,CACR,CACE,CACC,CACN,CAAC,GACP,IAAI;AACV,CAAC","ignoreList":[]}