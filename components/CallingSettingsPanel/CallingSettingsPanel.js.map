{"version":3,"sources":["components/CallingSettingsPanel/CallingSettingsPanel.tsx"],"names":["TooltipBaseComp","TooltipBase","getJupiterAppName","brandCode","brandName","shortBrandName","fullBrandName","jupiterAppName","getSoftphoneAppName","getCallingOptionName","callingOption","currentLocale","callingOptions","softphone","jupiter","ringout","i18n","getString","Tooltip","callWith","tooltipContainerRef","keys","browser","push","optionName","overlay","map","key","brand","offset","current","styles","infoIcon","CallWithSettings","callWithOptions","disabled","onCallWithChange","optionRenderer","option","select","tooltipContainer","RingoutSettings","availableNumbersWithLabel","locationSearchable","myLocation","onMyLocationChange","onMyLocationTextChange","ringoutPrompt","onRingoutPromptChange","ringoutHint","locationSelect","text","includes","iconField","CallingSettings","defaultRingoutPrompt","onSave","showRingToneSettings","incomingAudio","incomingAudioFile","outgoingAudio","outgoingAudioFile","defaultIncomingAudio","defaultIncomingAudioFile","defaultOutgoingAudio","defaultOutgoingAudioFile","callWithState","setCallWithState","ringoutPromptState","setRingoutPromptState","myLocationState","setMyLocationState","incomingAudioState","setIncomingAudioState","incomingAudioFileState","setIncomingAudioFileState","outgoingAudioState","setOutgoingAudioState","outgoingAudioFileState","setOutgoingAudioFileState","newCallWith","value","target","setIncomingAudio","fileName","dataUrl","resetIncomingAudio","setOutgoingAudio","resetOutgoingAudio","onClick","isCustomLocation","find","item","CallingSettingsPanel","className","onBackButtonClick","showSpinner","props","content","root"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;AAOA;;AACA;;AAEA;;AACA;;AACA;;AAEA;;AAEA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUA,IAAMA,eAAe,GACnB,OAAOC,qBAAP,KAAuB,UAAvB,GAAoCA,qBAApC,GAAkDA,gCADpD;;AAGO,SAASC,iBAAT,OAMwB;AAAA,MAL7BC,SAK6B,QAL7BA,SAK6B;AAAA,MAJ7BC,SAI6B,QAJ7BA,SAI6B;AAAA,MAH7BC,cAG6B,QAH7BA,cAG6B;AAAA,MAF7BC,aAE6B,QAF7BA,aAE6B;AAAA,MAD7BC,cAC6B,QAD7BA,cAC6B;AAC7B,MAAIA,cAAJ,EAAoB,OAAOA,cAAP;;AACpB,UAAQJ,SAAR;AACE,SAAK,KAAL;AACE,aAAOG,aAAP;;AACF,SAAK,OAAL;AACE,uBAAUD,cAAV;;AACF;AACE,uBAAUD,SAAV;AANJ;AAQD;;AAEM,SAASI,mBAAT,QAKwB;AAAA,MAJ7BL,SAI6B,SAJ7BA,SAI6B;AAAA,MAH7BC,SAG6B,SAH7BA,SAG6B;AAAA,MAF7BC,cAE6B,SAF7BA,cAE6B;AAAA,MAD7BC,aAC6B,SAD7BA,aAC6B;;AAC7B,UAAQH,SAAR;AACE,SAAK,KAAL;AACE,uBAAUG,aAAV;;AACF,SAAK,OAAL;AACE,uBAAUD,cAAV;;AACF;AACE,uBAAUD,SAAV;AANJ;AAQD;;AAEM,SAASK,oBAAT,QAQmB;AAAA,MAPxBC,aAOwB,SAPxBA,aAOwB;AAAA,MANxBP,SAMwB,SANxBA,SAMwB;AAAA,MALxBC,SAKwB,SALxBA,SAKwB;AAAA,MAJxBC,cAIwB,SAJxBA,cAIwB;AAAA,MAHxBC,aAGwB,SAHxBA,aAGwB;AAAA,MAFxBK,aAEwB,SAFxBA,aAEwB;AAAA,MADxBJ,cACwB,SADxBA,cACwB;;AACxB,MAAIG,aAAa,KAAKE,2BAAeC,SAArC,EAAgD;AAC9C,WAAOL,mBAAmB,CAAC;AACzBL,MAAAA,SAAS,EAATA,SADyB;AAEzBC,MAAAA,SAAS,EAATA,SAFyB;AAGzBC,MAAAA,cAAc,EAAdA,cAHyB;AAIzBC,MAAAA,aAAa,EAAbA;AAJyB,KAAD,CAA1B;AAMD;;AACD,MAAII,aAAa,KAAKE,2BAAeE,OAArC,EAA8C;AAC5C,WAAOZ,iBAAiB,CAAC;AACvBC,MAAAA,SAAS,EAATA,SADuB;AAEvBC,MAAAA,SAAS,EAATA,SAFuB;AAGvBC,MAAAA,cAAc,EAAdA,cAHuB;AAIvBC,MAAAA,aAAa,EAAbA,aAJuB;AAKvBC,MAAAA,cAAc,EAAdA;AALuB,KAAD,CAAxB;AAOD;;AACD,MAAIG,aAAa,KAAKE,2BAAeG,OAArC,EAA8C;AAC5C;AACA,WAAO,SAAP;AACD;;AACD,SAAOC,iBAAKC,SAAL,CAAeP,aAAf,EAA8BC,aAA9B,CAAP;AACD;;AAED,IAAMO,OAAwC,GAAG,SAA3CA,OAA2C,QAS3C;AAAA,MARJf,SAQI,SARJA,SAQI;AAAA,MAPJC,SAOI,SAPJA,SAOI;AAAA,MANJe,QAMI,SANJA,QAMI;AAAA,MALJR,aAKI,SALJA,aAKI;AAAA,MAJJS,mBAII,SAJJA,mBAII;AAAA,MAHJf,cAGI,SAHJA,cAGI;AAAA,MAFJC,aAEI,SAFJA,aAEI;AAAA,MADJC,cACI,SADJA,cACI;AACJ,MAAMc,IAAI,GAAG,WAAIF,QAAJ,aAAb;;AACA,MACEA,QAAQ,KAAKP,2BAAeU,OAA5B,IACAH,QAAQ,KAAKP,2BAAeC,SAD5B,IAEAM,QAAQ,KAAKP,2BAAeE,OAH9B,EAIE;AACAO,IAAAA,IAAI,CAACE,IAAL,WAAaJ,QAAb;AACD;;AACD,MAAMK,UAAU,GAAGf,oBAAoB,CAAC;AACtCC,IAAAA,aAAa,EAAES,QADuB;AAEtChB,IAAAA,SAAS,EAATA,SAFsC;AAGtCC,IAAAA,SAAS,EAATA,SAHsC;AAItCO,IAAAA,aAAa,EAAbA,aAJsC;AAKtCN,IAAAA,cAAc,EAAdA,cALsC;AAMtCC,IAAAA,aAAa,EAAbA,aANsC;AAOtCC,IAAAA,cAAc,EAAdA;AAPsC,GAAD,CAAvC;;AASA,MAAMkB,OAAO,gBACX,6CACGJ,IAAI,CAACK,GAAL,CAAS,UAACC,GAAD;AAAA,wBACR;AAAK,MAAA,GAAG,EAAEA;AAAV,OACG,+BAAcX,iBAAKC,SAAL,CAAeU,GAAf,EAAoBhB,aAApB,CAAd,EAAkD;AACjDiB,MAAAA,KAAK,EAAEJ;AAD0C,KAAlD,CADH,CADQ;AAAA,GAAT,CADH,CADF;;AAWA,sBACE,gCAAC,eAAD;AACE,IAAA,SAAS,EAAC,QADZ;AAEE,IAAA,OAAO,EAAC,OAFV;AAGE,IAAA,OAAO,EAAEC,OAHX;AAIE,IAAA,KAAK,EAAE;AACLI,MAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,EAAJ;AADH,KAJT;AAOE,IAAA,YAAY,eAAE;AAAK,MAAA,SAAS,EAAC;AAAf,MAPhB;AAQE,IAAA,mBAAmB,EAAE;AAAA,aAAMT,mBAAmB,CAACU,OAA1B;AAAA;AARvB,kBAUE,gCAAC,gBAAD;AAAU,IAAA,KAAK,EAAE,EAAjB;AAAqB,IAAA,MAAM,EAAE,EAA7B;AAAiC,IAAA,SAAS,EAAEC,mBAAOC;AAAnD,IAVF,CADF;AAcD,CApDD;;AAsDA,IAAMC,gBAAkD,GAAG,SAArDA,gBAAqD,QAWrD;AAAA,MAVJ9B,SAUI,SAVJA,SAUI;AAAA,MATJC,SASI,SATJA,SASI;AAAA,MARJC,cAQI,SARJA,cAQI;AAAA,MAPJC,aAOI,SAPJA,aAOI;AAAA,MANJa,QAMI,SANJA,QAMI;AAAA,MALJe,eAKI,SALJA,eAKI;AAAA,MAJJvB,aAII,SAJJA,aAII;AAAA,MAHJwB,QAGI,SAHJA,QAGI;AAAA,MAFJC,gBAEI,SAFJA,gBAEI;AAAA,MADJ7B,cACI,SADJA,cACI;AACJ,MAAMa,mBAAmB,GAAG,mBAAO,IAAP,CAA5B;;AAEA,MAAMiB,cAAc,GAAG,SAAjBA,cAAiB,CAACC,MAAD,EAAoB;AACzC,QAAMd,UAAU,GAAGf,oBAAoB,CAAC;AACtCC,MAAAA,aAAa,EAAE4B,MADuB;AAEtCnC,MAAAA,SAAS,EAATA,SAFsC;AAGtCC,MAAAA,SAAS,EAATA,SAHsC;AAItCO,MAAAA,aAAa,EAAbA,aAJsC;AAKtCN,MAAAA,cAAc,EAAdA,cALsC;AAMtCC,MAAAA,aAAa,EAAbA,aANsC;AAOtCC,MAAAA,cAAc,EAAdA;AAPsC,KAAD,CAAvC;AASA,WAAOiB,UAAP;AACD,GAXD;;AAaA,sBACE,gCAAC,sBAAD;AACE,IAAA,KAAK,eACH,8CACGR,iBAAKC,SAAL,CAAe,eAAf,EAAgCN,aAAhC,CADH,eAEE,gCAAC,OAAD,EACM;AACFR,MAAAA,SAAS,EAATA,SADE;AAEFC,MAAAA,SAAS,EAATA,SAFE;AAGFe,MAAAA,QAAQ,EAARA,QAHE;AAIFR,MAAAA,aAAa,EAAbA,aAJE;AAKFS,MAAAA,mBAAmB,EAAnBA,mBALE;AAMFf,MAAAA,cAAc,EAAdA,cANE;AAOFC,MAAAA,aAAa,EAAbA,aAPE;AAQFC,MAAAA,cAAc,EAAdA;AARE,KADN,CAFF;AAFJ,kBAmBE,gCAAC,0BAAD;AACE,IAAA,QAAQ,EAAC,gBADX;AAEE,IAAA,SAAS,EAAEwB,mBAAOQ,MAFpB;AAGE,IAAA,KAAK,EAAEpB,QAHT;AAIE,IAAA,QAAQ,EAAEiB,gBAJZ;AAKE,IAAA,OAAO,EAAEF,eALX;AAME,IAAA,aAAa,EAAC,MANhB;AAOE,IAAA,cAAc,EAAEG,cAPlB;AAQE,IAAA,WAAW,EAAEA,cARf;AASE,IAAA,QAAQ,EAAEF,QATZ;AAUE,IAAA,YAAY;AAVd,IAnBF,eA+BE;AAAK,IAAA,SAAS,EAAEJ,mBAAOS,gBAAvB;AAAyC,IAAA,GAAG,EAAEpB;AAA9C,IA/BF,CADF;AAmCD,CA9DD,C,CAgEA;;;AAeA,IAAMqB,eAAwD,GAAG,SAA3DA,eAA2D,QAW3D;AAAA,MAVJ9B,aAUI,SAVJA,aAUI;AAAA,MATJQ,QASI,SATJA,QASI;AAAA,MARJuB,yBAQI,SARJA,yBAQI;AAAA,MAPJC,kBAOI,SAPJA,kBAOI;AAAA,MANJC,UAMI,SANJA,UAMI;AAAA,MALJC,kBAKI,SALJA,kBAKI;AAAA,MAJJC,sBAII,SAJJA,sBAII;AAAA,MAHJX,QAGI,SAHJA,QAGI;AAAA,MAFJY,aAEI,SAFJA,aAEI;AAAA,MADJC,qBACI,SADJA,qBACI;;AACJ,MACE7B,QAAQ,KAAKP,2BAAeC,SAA5B,IACAM,QAAQ,KAAKP,2BAAeU,OAD5B,IAEAH,QAAQ,KAAKP,2BAAeE,OAH9B,EAIE;AACA,wBACE,0DACE;AAAK,MAAA,SAAS,EAAEiB,mBAAOkB;AAAvB,OACGjC,iBAAKC,SAAL,CAAe,aAAf,EAA8BN,aAA9B,CADH,CADF,eAIE,gCAAC,sBAAD;AACE,MAAA,QAAQ,EAAC,YADX;AAEE,MAAA,KAAK,EAAEK,iBAAKC,SAAL,CAAe,iBAAf,EAAkCN,aAAlC;AAFT,OAIG+B,yBAAyB,gBACxB,gCAAC,0BAAD;AACE,MAAA,SAAS,EAAE,4BAAWX,mBAAOQ,MAAlB,EAA0BR,mBAAOmB,cAAjC,CADb;AAEE,MAAA,KAAK,EAAEN,UAFT;AAGE,MAAA,QAAQ,EAAEC,kBAHZ;AAIE,MAAA,YAAY,EACVF,kBAAkB,GACd,UAACL,MAAD,EAAiBa,IAAjB;AAAA,eAAkCb,MAAM,CAACc,QAAP,CAAgBD,IAAhB,CAAlC;AAAA,OADc,GAEd,IAPR;AASE,MAAA,OAAO,EAAET,yBATX;AAUE,MAAA,QAAQ,EAAEP,QAVZ;AAWE,MAAA,aAAa,EAAC,MAXhB;AAYE,MAAA,YAAY,MAZd;AAaE,MAAA,kBAAkB,MAbpB;AAcE,MAAA,gBAAgB,MAdlB;AAeE,MAAA,gBAAgB,EAAE;AAfpB,MADwB,gBAmBxB,gCAAC,qBAAD;AACE,MAAA,QAAQ,EAAC,iBADX;AAEE,MAAA,KAAK,EAAES,UAFT;AAGE,MAAA,SAAS,EAAE,EAHb;AAIE,MAAA,QAAQ,EAAEE;AAJZ,MAvBJ,CAJF,eAmCE,gCAAC,qBAAD;AACE,MAAA,SAAS,EAAEf,mBAAOsB,SADpB;AAEE,MAAA,IAAI,eACF,gCAAC,kBAAD;AACE,QAAA,QAAQ,EAAC,qBADX;AAEE,QAAA,OAAO,EAAEN,aAFX;AAGE,QAAA,QAAQ,EAAEC;AAHZ;AAHJ,OAUGhC,iBAAKC,SAAL,CAAe,wBAAf,EAAyCN,aAAzC,CAVH,CAnCF,CADF;AAkDD;;AACD,SAAO,IAAP;AACD,CArED;;AAuEA,IAAM2C,eAAwD,GAAG,SAA3DA,eAA2D,QAyB3D;AAAA,MAxBJnD,SAwBI,SAxBJA,SAwBI;AAAA,MAvBJC,SAuBI,SAvBJA,SAuBI;AAAA,MAtBJsC,yBAsBI,SAtBJA,yBAsBI;AAAA,MArBJvB,QAqBI,SArBJA,QAqBI;AAAA,MApBJe,eAoBI,SApBJA,eAoBI;AAAA,MAnBJvB,aAmBI,SAnBJA,aAmBI;AAAA,oCAlBJ4C,oBAkBI;AAAA,MAlBJA,oBAkBI,sCAlBmB,IAkBnB;AAAA,6BAjBJpB,QAiBI;AAAA,MAjBJA,QAiBI,+BAjBO,KAiBP;AAAA,oCAhBJQ,kBAgBI;AAAA,MAhBJA,kBAgBI,sCAhBiB,KAgBjB;AAAA,MAfJC,UAeI,SAfJA,UAeI;AAAA,MAdJY,MAcI,SAdJA,MAcI;AAAA,MAbJT,aAaI,SAbJA,aAaI;AAAA,oCAZJU,oBAYI;AAAA,MAZJA,oBAYI,sCAZmB,KAYnB;AAAA,MAXJC,aAWI,SAXJA,aAWI;AAAA,MAVJC,iBAUI,SAVJA,iBAUI;AAAA,MATJC,aASI,SATJA,aASI;AAAA,MARJC,iBAQI,SARJA,iBAQI;AAAA,MAPJC,oBAOI,SAPJA,oBAOI;AAAA,MANJC,wBAMI,SANJA,wBAMI;AAAA,MALJC,oBAKI,SALJA,oBAKI;AAAA,MAJJC,wBAII,SAJJA,wBAII;AAAA,MAHJ5D,cAGI,SAHJA,cAGI;AAAA,MAFJC,aAEI,SAFJA,aAEI;AAAA,MADJC,cACI,SADJA,cACI;;AAAA,kBACsC,qBAASY,QAAT,CADtC;AAAA;AAAA,MACG+C,aADH;AAAA,MACkBC,gBADlB;;AAAA,mBAEgD,qBAASpB,aAAT,CAFhD;AAAA;AAAA,MAEGqB,kBAFH;AAAA,MAEuBC,qBAFvB;;AAAA,mBAG0C,qBAASzB,UAAT,CAH1C;AAAA;AAAA,MAGG0B,eAHH;AAAA,MAGoBC,kBAHpB;;AAAA,mBAIgD,qBAASb,aAAT,CAJhD;AAAA;AAAA,MAIGc,kBAJH;AAAA,MAIuBC,qBAJvB;;AAAA,mBAKwD,qBAC1Dd,iBAD0D,CALxD;AAAA;AAAA,MAKGe,sBALH;AAAA,MAK2BC,yBAL3B;;AAAA,oBAQgD,qBAASf,aAAT,CARhD;AAAA;AAAA,MAQGgB,kBARH;AAAA,MAQuBC,qBARvB;;AAAA,oBASwD,qBAC1DhB,iBAD0D,CATxD;AAAA;AAAA,MASGiB,sBATH;AAAA,MAS2BC,yBAT3B;;AAaJ,wBAAU,YAAM;AACdZ,IAAAA,gBAAgB,CAAChD,QAAD,CAAhB;AACAoD,IAAAA,kBAAkB,CAAC3B,UAAD,CAAlB;AACAyB,IAAAA,qBAAqB,CAACtB,aAAD,CAArB;AACA0B,IAAAA,qBAAqB,CAACf,aAAD,CAArB;AACAiB,IAAAA,yBAAyB,CAAChB,iBAAD,CAAzB;AACAkB,IAAAA,qBAAqB,CAACjB,aAAD,CAArB;AACAmB,IAAAA,yBAAyB,CAAClB,iBAAD,CAAzB;AACD,GARD,EAQG,CACD1C,QADC,EAEDyB,UAFC,EAGDG,aAHC,EAIDW,aAJC,EAKDC,iBALC,EAMDC,aANC,EAODC,iBAPC,CARH;AAiBA,sBACE,+EACE,gCAAC,gBAAD,EACM;AACF1D,IAAAA,SAAS,EAATA,SADE;AAEFC,IAAAA,SAAS,EAATA,SAFE;AAGFe,IAAAA,QAAQ,EAAE+C,aAHR;AAIF3D,IAAAA,cAAc,EAAdA,cAJE;AAKF2B,IAAAA,eAAe,EAAfA,eALE;AAMFvB,IAAAA,aAAa,EAAbA,aANE;AAOFwB,IAAAA,QAAQ,EAARA,QAPE;AAQF9B,IAAAA,cAAc,EAAdA,cARE;AASFC,IAAAA,aAAa,EAAbA,aATE;AAUF8B,IAAAA,gBAAgB,EAAE,0BAAC4C,WAAD,EAAyB;AACzCb,MAAAA,gBAAgB,CAACa,WAAD,CAAhB;;AACA,UAAIA,WAAW,KAAK7D,QAApB,EAA8B;AAC5BoD,QAAAA,kBAAkB,CAAC3B,UAAD,CAAlB;AACAyB,QAAAA,qBAAqB,CAACtB,aAAD,CAArB;AACD,OAHD,MAGO;AAAA;;AACLwB,QAAAA,kBAAkB,CAAC,CAAA7B,yBAAyB,SAAzB,IAAAA,yBAAyB,WAAzB,qCAAAA,yBAAyB,CAAG,CAAH,CAAzB,gFAAgCuC,KAAhC,KAAyC,EAA1C,CAAlB;AACAZ,QAAAA,qBAAqB,CAACd,oBAAD,CAArB;AACD;AACF;AAnBC,GADN,CADF,eAwBE,gCAAC,eAAD,EACM;AACF5C,IAAAA,aAAa,EAAbA,aADE;AAEFQ,IAAAA,QAAQ,EAAE+C,aAFR;AAGFxB,IAAAA,yBAAyB,EAAzBA,yBAHE;AAIFC,IAAAA,kBAAkB,EAAlBA,kBAJE;AAKFC,IAAAA,UAAU,EAAE0B,eALV;AAMFzB,IAAAA,kBAAkB,EAAE0B,kBANlB;AAOFzB,IAAAA,sBAAsB,EAAE,uCAA2B;AAAA,UAAdmC,KAAc,SAAxBC,MAAwB,CAAdD,KAAc;AACjDV,MAAAA,kBAAkB,CAACU,KAAD,CAAlB;AACD,KATC;AAUFlC,IAAAA,aAAa,EAAEqB,kBAVb;AAWFpB,IAAAA,qBAAqB,EAAEqB,qBAXrB;AAYFlC,IAAAA,QAAQ,EAARA;AAZE,GADN,CAxBF,eAwCE,gCAAC,kBAAD,EACM;AACFxB,IAAAA,aAAa,EAAbA,aADE;AAEF8C,IAAAA,oBAAoB,EAClBA,oBAAoB,IAAIS,aAAa,KAAKtD,2BAAeU,OAHzD;AAIFoC,IAAAA,aAAa,EAAEc,kBAJb;AAKFb,IAAAA,iBAAiB,EAAEe,sBALjB;AAMFd,IAAAA,aAAa,EAAEgB,kBANb;AAOFf,IAAAA,iBAAiB,EAAEiB,sBAPjB;AAQFhB,IAAAA,oBAAoB,EAApBA,oBARE;AASFC,IAAAA,wBAAwB,EAAxBA,wBATE;AAUFC,IAAAA,oBAAoB,EAApBA,oBAVE;AAWFC,IAAAA,wBAAwB,EAAxBA,wBAXE;AAYFkB,IAAAA,gBAAgB,EAAE,iCAA2B;AAAA,UAAxBC,QAAwB,SAAxBA,QAAwB;AAAA,UAAdC,OAAc,SAAdA,OAAc;AAC3CZ,MAAAA,qBAAqB,CAACY,OAAD,CAArB;AACAV,MAAAA,yBAAyB,CAACS,QAAD,CAAzB;AACD,KAfC;AAgBFE,IAAAA,kBAAkB,EAAE,8BAAM;AACxBb,MAAAA,qBAAqB,CAACX,oBAAD,CAArB;AACAa,MAAAA,yBAAyB,CAACZ,wBAAD,CAAzB;AACD,KAnBC;AAoBFwB,IAAAA,gBAAgB,EAAE,kCAA2B;AAAA,UAAxBH,QAAwB,UAAxBA,QAAwB;AAAA,UAAdC,OAAc,UAAdA,OAAc;AAC3CR,MAAAA,qBAAqB,CAACQ,OAAD,CAArB;AACAN,MAAAA,yBAAyB,CAACK,QAAD,CAAzB;AACD,KAvBC;AAwBFI,IAAAA,kBAAkB,EAAE,8BAAM;AACxBX,MAAAA,qBAAqB,CAACb,oBAAD,CAArB;AACAe,MAAAA,yBAAyB,CAACd,wBAAD,CAAzB;AACD;AA3BC,GADN,CAxCF,eAuEE,gCAAC,sBAAD,EACM;AACFtD,IAAAA,aAAa,EAAbA,aADE;AAEF8E,IAAAA,OAAO,EAAE,mBAAM;AACbjC,MAAAA,MAAM,CAAC;AACLrC,QAAAA,QAAQ,EAAE+C,aADL;AAELtB,QAAAA,UAAU,EAAE0B,eAFP;AAGLvB,QAAAA,aAAa,EAAEqB,kBAHV;AAILsB,QAAAA,gBAAgB,EAAE,CAAChD,yBAAyB,CAACiD,IAA1B,CACjB,UAACC,IAAD;AAAA,iBAAUA,IAAI,CAACX,KAAL,KAAeX,eAAzB;AAAA,SADiB,CAJd;AAOLZ,QAAAA,aAAa,EAAEc,kBAPV;AAQLb,QAAAA,iBAAiB,EAAEe,sBARd;AASLd,QAAAA,aAAa,EAAEgB,kBATV;AAULf,QAAAA,iBAAiB,EAAEiB;AAVd,OAAD,CAAN;AAYD,KAfC;AAgBF3C,IAAAA,QAAQ,EACL+B,aAAa,KAAK/C,QAAlB,IACCmD,eAAe,KAAK1B,UADrB,IAECwB,kBAAkB,KAAKrB,aAFxB,IAGCyB,kBAAkB,KAAKd,aAHxB,IAICgB,sBAAsB,KAAKf,iBAJ5B,IAKCiB,kBAAkB,KAAKhB,aALxB,IAMCkB,sBAAsB,KAAKjB,iBAN7B,IAOCK,aAAa,KAAKtD,2BAAeG,OAAjC,IAA4C,CAACuD;AAxB9C,GADN,CAvEF,CADF;AAsGD,CA7JD;;AA+JO,IAAMuB,oBAAkE,GAAG,SAArEA,oBAAqE,SAM5E;AAAA,MALJC,SAKI,UALJA,SAKI;AAAA,MAJJC,iBAII,UAJJA,iBAII;AAAA,MAHJpF,aAGI,UAHJA,aAGI;AAAA,kCAFJqF,WAEI;AAAA,MAFJA,WAEI,mCAFU,KAEV;AAAA,MADDC,KACC;;AACJ,MAAMC,OAAO,GAAGF,WAAW,gBACzB,gCAAC,8BAAD,OADyB,gBAGzB,+EACE,gCAAC,eAAD,kCAA0BC,KAA1B;AAAiCtF,IAAAA,aAAa,EAAbA;AAAjC,KADF,CAHF;AAOA,sBACE;AACE,iBAAU,iBADZ;AAEE,IAAA,SAAS,EAAE,4BAAWoB,mBAAOoE,IAAlB,EAAwBL,SAAxB;AAFb,kBAIE,gCAAC,sBAAD;AAAY,IAAA,WAAW,EAAEC;AAAzB,KACG/E,iBAAKC,SAAL,CAAe,OAAf,EAAwBN,aAAxB,CADH,CAJF,eAOE,gCAAC,iBAAD;AAAO,IAAA,SAAS,EAAEoB,mBAAOmE;AAAzB,KAAmCA,OAAnC,CAPF,CADF;AAWD,CAzBM","sourcesContent":["/* eslint-disable react/destructuring-assignment */\nimport React, {\n  FunctionComponent,\n  useState,\n  useRef,\n  ChangeEvent,\n  useEffect,\n} from 'react';\nimport classnames from 'classnames';\nimport formatMessage from 'format-message';\n\nimport callingOptions from '@ringcentral-integration/commons/modules/CallingSettings/callingOptions';\nimport TooltipBase from 'rc-tooltip';\nimport 'rc-tooltip/assets/bootstrap_white.css';\n\nimport InfoIcon from '../../assets/images/Info.svg';\n\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nimport { SpinnerOverlay } from '../SpinnerOverlay';\nimport BackHeader from '../BackHeader';\nimport Panel from '../Panel';\nimport Switch from '../Switch';\nimport IconField from '../IconField';\nimport InputField from '../InputField';\nimport TextInput from '../TextInput';\nimport DropdownSelect from '../DropdownSelect';\nimport SaveButton from '../SaveButton';\nimport { RingTone } from '../Ringtone';\nimport {\n  CallingSettingsPanelProps,\n  CallingSettingsProps,\n  GetCallingOptionProps,\n  GetOptionNameProps,\n  TooltipProps,\n  CallWithProps,\n} from './CallingSettingsPenal.interface';\n\nconst TooltipBaseComp =\n  typeof TooltipBase === 'function' ? TooltipBase : TooltipBase.default;\n\nexport function getJupiterAppName({\n  brandCode,\n  brandName,\n  shortBrandName,\n  fullBrandName,\n  jupiterAppName,\n}: GetOptionNameProps): string {\n  if (jupiterAppName) return jupiterAppName;\n  switch (brandCode) {\n    case 'att':\n      return fullBrandName;\n    case 'telus':\n      return `${shortBrandName} App`;\n    default:\n      return `${brandName} App`;\n  }\n}\n\nexport function getSoftphoneAppName({\n  brandCode,\n  brandName,\n  shortBrandName,\n  fullBrandName,\n}: GetOptionNameProps): string {\n  switch (brandCode) {\n    case 'att':\n      return `${fullBrandName} Phone`;\n    case 'telus':\n      return `${shortBrandName} Phone`;\n    default:\n      return `${brandName} Phone`;\n  }\n}\n\nexport function getCallingOptionName({\n  callingOption,\n  brandCode,\n  brandName,\n  shortBrandName,\n  fullBrandName,\n  currentLocale,\n  jupiterAppName,\n}: GetCallingOptionProps) {\n  if (callingOption === callingOptions.softphone) {\n    return getSoftphoneAppName({\n      brandCode,\n      brandName,\n      shortBrandName,\n      fullBrandName,\n    });\n  }\n  if (callingOption === callingOptions.jupiter) {\n    return getJupiterAppName({\n      brandCode,\n      brandName,\n      shortBrandName,\n      fullBrandName,\n      jupiterAppName,\n    });\n  }\n  if (callingOption === callingOptions.ringout) {\n    // Not to translate\n    return 'RingOut';\n  }\n  return i18n.getString(callingOption, currentLocale);\n}\n\nconst Tooltip: FunctionComponent<TooltipProps> = ({\n  brandCode,\n  brandName,\n  callWith,\n  currentLocale,\n  tooltipContainerRef,\n  shortBrandName,\n  fullBrandName,\n  jupiterAppName,\n}) => {\n  const keys = [`${callWith}Tooltip`];\n  if (\n    callWith !== callingOptions.browser &&\n    callWith !== callingOptions.softphone &&\n    callWith !== callingOptions.jupiter\n  ) {\n    keys.push(`${callWith}Tooltip1`);\n  }\n  const optionName = getCallingOptionName({\n    callingOption: callWith,\n    brandCode,\n    brandName,\n    currentLocale,\n    shortBrandName,\n    fullBrandName,\n    jupiterAppName,\n  });\n  const overlay = (\n    <div>\n      {keys.map((key) => (\n        <div key={key}>\n          {formatMessage(i18n.getString(key, currentLocale), {\n            brand: optionName,\n          })}\n        </div>\n      ))}\n    </div>\n  );\n  return (\n    <TooltipBaseComp\n      placement=\"bottom\"\n      trigger=\"click\"\n      overlay={overlay}\n      align={{\n        offset: [0, 47],\n      }}\n      arrowContent={<div className=\"rc-tooltip-arrow-inner\" />}\n      getTooltipContainer={() => tooltipContainerRef.current}\n    >\n      <InfoIcon width={14} height={14} className={styles.infoIcon} />\n    </TooltipBaseComp>\n  );\n};\n\nconst CallWithSettings: FunctionComponent<CallWithProps> = ({\n  brandCode,\n  brandName,\n  shortBrandName,\n  fullBrandName,\n  callWith,\n  callWithOptions,\n  currentLocale,\n  disabled,\n  onCallWithChange,\n  jupiterAppName,\n}) => {\n  const tooltipContainerRef = useRef(null);\n\n  const optionRenderer = (option: string) => {\n    const optionName = getCallingOptionName({\n      callingOption: option,\n      brandCode,\n      brandName,\n      currentLocale,\n      shortBrandName,\n      fullBrandName,\n      jupiterAppName,\n    });\n    return optionName;\n  };\n\n  return (\n    <InputField\n      label={\n        <span>\n          {i18n.getString('makeCallsWith', currentLocale)}\n          <Tooltip\n            {...{\n              brandCode,\n              brandName,\n              callWith,\n              currentLocale,\n              tooltipContainerRef,\n              shortBrandName,\n              fullBrandName,\n              jupiterAppName,\n            }}\n          />\n        </span>\n      }\n    >\n      <DropdownSelect\n        dataSign=\"callingSetting\"\n        className={styles.select}\n        value={callWith}\n        onChange={onCallWithChange}\n        options={callWithOptions}\n        dropdownAlign=\"left\"\n        renderFunction={optionRenderer}\n        renderValue={optionRenderer}\n        disabled={disabled}\n        titleEnabled\n      />\n      <div className={styles.tooltipContainer} ref={tooltipContainerRef} />\n    </InputField>\n  );\n};\n\n// TODO properly type available numbers\n\ninterface RingoutSettingsProps {\n  currentLocale: string;\n  callWith: string;\n  availableNumbersWithLabel: { label: string; value: string }[];\n  locationSearchable: boolean;\n  myLocation: string;\n  onMyLocationChange: (newMyLocation: string) => void;\n  onMyLocationTextChange: (e: ChangeEvent<HTMLInputElement>) => void;\n  disabled: boolean;\n  ringoutPrompt: boolean;\n  onRingoutPromptChange: (newRingoutPrompt: boolean) => void;\n}\n\nconst RingoutSettings: FunctionComponent<RingoutSettingsProps> = ({\n  currentLocale,\n  callWith,\n  availableNumbersWithLabel,\n  locationSearchable,\n  myLocation,\n  onMyLocationChange,\n  onMyLocationTextChange,\n  disabled,\n  ringoutPrompt,\n  onRingoutPromptChange,\n}) => {\n  if (\n    callWith !== callingOptions.softphone &&\n    callWith !== callingOptions.browser &&\n    callWith !== callingOptions.jupiter\n  ) {\n    return (\n      <div>\n        <div className={styles.ringoutHint}>\n          {i18n.getString('ringoutHint', currentLocale)}\n        </div>\n        <InputField\n          dataSign=\"myLocation\"\n          label={i18n.getString('myLocationLabel', currentLocale)}\n        >\n          {availableNumbersWithLabel ? (\n            <DropdownSelect\n              className={classnames(styles.select, styles.locationSelect)}\n              value={myLocation}\n              onChange={onMyLocationChange}\n              searchOption={\n                locationSearchable\n                  ? (option: string, text: string) => option.includes(text)\n                  : null\n              }\n              options={availableNumbersWithLabel}\n              disabled={disabled}\n              dropdownAlign=\"left\"\n              titleEnabled\n              customInputEnabled\n              optionsWithLabel\n              customInputLimit={30}\n            />\n          ) : (\n            <TextInput\n              dataSign=\"myLocationInput\"\n              value={myLocation}\n              maxLength={30}\n              onChange={onMyLocationTextChange}\n            />\n          )}\n        </InputField>\n        <IconField\n          className={styles.iconField}\n          icon={\n            <Switch\n              dataSign=\"ringoutPromptToggle\"\n              checked={ringoutPrompt}\n              onChange={onRingoutPromptChange}\n            />\n          }\n        >\n          {i18n.getString('press1ToStartCallLabel', currentLocale)}\n        </IconField>\n      </div>\n    );\n  }\n  return null;\n};\n\nconst CallingSettings: FunctionComponent<CallingSettingsProps> = ({\n  brandCode,\n  brandName,\n  availableNumbersWithLabel,\n  callWith,\n  callWithOptions,\n  currentLocale,\n  defaultRingoutPrompt = true,\n  disabled = false,\n  locationSearchable = false,\n  myLocation,\n  onSave,\n  ringoutPrompt,\n  showRingToneSettings = false,\n  incomingAudio,\n  incomingAudioFile,\n  outgoingAudio,\n  outgoingAudioFile,\n  defaultIncomingAudio,\n  defaultIncomingAudioFile,\n  defaultOutgoingAudio,\n  defaultOutgoingAudioFile,\n  shortBrandName,\n  fullBrandName,\n  jupiterAppName,\n}) => {\n  const [callWithState, setCallWithState] = useState(callWith);\n  const [ringoutPromptState, setRingoutPromptState] = useState(ringoutPrompt);\n  const [myLocationState, setMyLocationState] = useState(myLocation);\n  const [incomingAudioState, setIncomingAudioState] = useState(incomingAudio);\n  const [incomingAudioFileState, setIncomingAudioFileState] = useState(\n    incomingAudioFile,\n  );\n  const [outgoingAudioState, setOutgoingAudioState] = useState(outgoingAudio);\n  const [outgoingAudioFileState, setOutgoingAudioFileState] = useState(\n    outgoingAudioFile,\n  );\n\n  useEffect(() => {\n    setCallWithState(callWith);\n    setMyLocationState(myLocation);\n    setRingoutPromptState(ringoutPrompt);\n    setIncomingAudioState(incomingAudio);\n    setIncomingAudioFileState(incomingAudioFile);\n    setOutgoingAudioState(outgoingAudio);\n    setOutgoingAudioFileState(outgoingAudioFile);\n  }, [\n    callWith,\n    myLocation,\n    ringoutPrompt,\n    incomingAudio,\n    incomingAudioFile,\n    outgoingAudio,\n    outgoingAudioFile,\n  ]);\n  return (\n    <>\n      <CallWithSettings\n        {...{\n          brandCode,\n          brandName,\n          callWith: callWithState,\n          jupiterAppName,\n          callWithOptions,\n          currentLocale,\n          disabled,\n          shortBrandName,\n          fullBrandName,\n          onCallWithChange: (newCallWith: string) => {\n            setCallWithState(newCallWith);\n            if (newCallWith === callWith) {\n              setMyLocationState(myLocation);\n              setRingoutPromptState(ringoutPrompt);\n            } else {\n              setMyLocationState(availableNumbersWithLabel?.[0]?.value || '');\n              setRingoutPromptState(defaultRingoutPrompt);\n            }\n          },\n        }}\n      />\n      <RingoutSettings\n        {...{\n          currentLocale,\n          callWith: callWithState,\n          availableNumbersWithLabel,\n          locationSearchable,\n          myLocation: myLocationState,\n          onMyLocationChange: setMyLocationState,\n          onMyLocationTextChange: ({ target: { value } }) => {\n            setMyLocationState(value);\n          },\n          ringoutPrompt: ringoutPromptState,\n          onRingoutPromptChange: setRingoutPromptState,\n          disabled,\n        }}\n      />\n      <RingTone\n        {...{\n          currentLocale,\n          showRingToneSettings:\n            showRingToneSettings && callWithState === callingOptions.browser,\n          incomingAudio: incomingAudioState,\n          incomingAudioFile: incomingAudioFileState,\n          outgoingAudio: outgoingAudioState,\n          outgoingAudioFile: outgoingAudioFileState,\n          defaultIncomingAudio,\n          defaultIncomingAudioFile,\n          defaultOutgoingAudio,\n          defaultOutgoingAudioFile,\n          setIncomingAudio: ({ fileName, dataUrl }) => {\n            setIncomingAudioState(dataUrl);\n            setIncomingAudioFileState(fileName);\n          },\n          resetIncomingAudio: () => {\n            setIncomingAudioState(defaultIncomingAudio);\n            setIncomingAudioFileState(defaultIncomingAudioFile);\n          },\n          setOutgoingAudio: ({ fileName, dataUrl }) => {\n            setOutgoingAudioState(dataUrl);\n            setOutgoingAudioFileState(fileName);\n          },\n          resetOutgoingAudio: () => {\n            setOutgoingAudioState(defaultOutgoingAudio);\n            setOutgoingAudioFileState(defaultOutgoingAudioFile);\n          },\n        }}\n      />\n      <SaveButton\n        {...{\n          currentLocale,\n          onClick: () => {\n            onSave({\n              callWith: callWithState,\n              myLocation: myLocationState,\n              ringoutPrompt: ringoutPromptState,\n              isCustomLocation: !availableNumbersWithLabel.find(\n                (item) => item.value === myLocationState,\n              ),\n              incomingAudio: incomingAudioState,\n              incomingAudioFile: incomingAudioFileState,\n              outgoingAudio: outgoingAudioState,\n              outgoingAudioFile: outgoingAudioFileState,\n            });\n          },\n          disabled:\n            (callWithState === callWith &&\n              myLocationState === myLocation &&\n              ringoutPromptState === ringoutPrompt &&\n              incomingAudioState === incomingAudio &&\n              incomingAudioFileState === incomingAudioFile &&\n              outgoingAudioState === outgoingAudio &&\n              outgoingAudioFileState === outgoingAudioFile) ||\n            (callWithState === callingOptions.ringout && !myLocationState),\n        }}\n      />\n    </>\n  );\n};\n\nexport const CallingSettingsPanel: FunctionComponent<CallingSettingsPanelProps> = ({\n  className,\n  onBackButtonClick,\n  currentLocale,\n  showSpinner = false,\n  ...props\n}) => {\n  const content = showSpinner ? (\n    <SpinnerOverlay />\n  ) : (\n    <>\n      <CallingSettings {...{ ...props, currentLocale }} />\n    </>\n  );\n  return (\n    <div\n      data-sign=\"callingSettings\"\n      className={classnames(styles.root, className)}\n    >\n      <BackHeader onBackClick={onBackButtonClick}>\n        {i18n.getString('title', currentLocale)}\n      </BackHeader>\n      <Panel className={styles.content}>{content}</Panel>\n    </div>\n  );\n};\n"],"file":"CallingSettingsPanel.js"}