{"version":3,"sources":["components/CallingSettingsPanel/CallingSettingsPanel.tsx"],"names":["getCallingOptionName","callingOption","currentLocale","jupiterAppName","softphoneAppName","callingOptions","softphone","jupiter","ringout","i18n","getString","CallWithSettings","callWith","callWithOptions","disabled","onCallWithChange","tooltipContainerRef","optionRenderer","option","optionName","keys","browser","push","map","key","brand","infoSvg","styles","tooltipIcon","select","tooltipContainer","RingoutSettings","availableNumbersWithLabel","locationSearchable","myLocation","onMyLocationChange","onMyLocationTextChange","ringoutPrompt","onRingoutPromptChange","ringoutHint","locationSelect","text","includes","iconField","CallingSettings","defaultRingoutPrompt","onSave","showRingToneSettings","incomingAudio","incomingAudioFile","outgoingAudio","outgoingAudioFile","defaultIncomingAudio","defaultIncomingAudioFile","defaultOutgoingAudio","defaultOutgoingAudioFile","callWithState","setCallWithState","ringoutPromptState","setRingoutPromptState","myLocationState","setMyLocationState","incomingAudioState","setIncomingAudioState","incomingAudioFileState","setIncomingAudioFileState","outgoingAudioState","setOutgoingAudioState","outgoingAudioFileState","setOutgoingAudioFileState","newCallWith","value","target","setIncomingAudio","fileName","dataUrl","resetIncomingAudio","setOutgoingAudio","resetOutgoingAudio","onClick","isCustomLocation","find","item","CallingSettingsPanel","className","onBackButtonClick","showSpinner","props","content","root"],"mappings":"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","sourcesContent":["import 'rc-tooltip/assets/bootstrap_white.css';\n\nimport React, {\n  ChangeEvent,\n  FunctionComponent,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\n\nimport { RcIcon } from '@ringcentral/juno';\nimport classnames from 'classnames';\nimport formatMessage from 'format-message';\nimport { InfoBorder as infoSvg } from '@ringcentral/juno/icon';\n/* eslint-disable react/destructuring-assignment */\nimport callingOptions from '@ringcentral-integration/commons/modules/CallingSettings/callingOptions';\nimport { Tooltip } from '../Rcui/Tooltip';\n\nimport BackHeader from '../BackHeader';\nimport { DropdownSelect } from '../DropdownSelect';\nimport IconField from '../IconField';\nimport InputField from '../InputField';\nimport Panel from '../Panel';\nimport { RingTone } from '../Ringtone';\nimport SaveButton from '../SaveButton';\nimport { SpinnerOverlay } from '../SpinnerOverlay';\nimport Switch from '../Switch';\nimport TextInput from '../TextInput';\nimport {\n  CallingSettingsPanelProps,\n  CallingSettingsProps,\n  CallWithProps,\n  GetCallingOptionNameProps,\n} from './CallingSettingsPenal.interface';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport function getCallingOptionName({\n  callingOption,\n  currentLocale,\n  jupiterAppName,\n  softphoneAppName,\n}: GetCallingOptionNameProps) {\n  if (callingOption === callingOptions.softphone) {\n    return softphoneAppName;\n  }\n  if (callingOption === callingOptions.jupiter) {\n    return jupiterAppName;\n  }\n  if (callingOption === callingOptions.ringout) {\n    // Not to translate\n    return 'RingOut';\n  }\n  return i18n.getString(callingOption, currentLocale);\n}\n\nconst CallWithSettings: FunctionComponent<CallWithProps> = ({\n  callWith,\n  callWithOptions,\n  currentLocale,\n  disabled,\n  onCallWithChange,\n  jupiterAppName,\n  softphoneAppName,\n}) => {\n  const tooltipContainerRef = useRef(null);\n\n  const optionRenderer = (option: string) => {\n    const optionName = getCallingOptionName({\n      callingOption: option,\n      currentLocale,\n      jupiterAppName,\n      softphoneAppName,\n    });\n    return optionName;\n  };\n  const keys = [`${callWith}Tooltip`];\n  if (\n    callWith !== callingOptions.browser &&\n    callWith !== callingOptions.softphone &&\n    callWith !== callingOptions.jupiter\n  ) {\n    keys.push(`${callWith}Tooltip1`);\n  }\n  const optionName = getCallingOptionName({\n    callingOption: callWith,\n    currentLocale,\n    jupiterAppName,\n    softphoneAppName,\n  });\n\n  return (\n    <InputField\n      label={\n        <span data-sign=\"callSettingInfo\">\n          {i18n.getString('makeCallsWith', currentLocale)}\n          <Tooltip\n            title={keys.map((key) => (\n              <div key={key}>\n                {formatMessage(i18n.getString(key, currentLocale), {\n                  brand: optionName,\n                })}\n              </div>\n            ))}\n          >\n            <RcIcon\n              size=\"small\"\n              symbol={infoSvg}\n              className={styles.tooltipIcon}\n            />\n          </Tooltip>\n        </span>\n      }\n    >\n      <DropdownSelect\n        dataSign=\"callingSetting\"\n        className={styles.select}\n        value={callWith}\n        onChange={onCallWithChange}\n        options={callWithOptions}\n        dropdownAlign=\"left\"\n        renderFunction={optionRenderer}\n        renderValue={optionRenderer}\n        valueFunction={(option) => option}\n        disabled={disabled}\n        titleEnabled\n      />\n      <div className={styles.tooltipContainer} ref={tooltipContainerRef} />\n    </InputField>\n  );\n};\n\n// TODO properly type available numbers\n\ninterface RingoutSettingsProps {\n  currentLocale: string;\n  callWith: string;\n  availableNumbersWithLabel: { label: string; value: string }[];\n  locationSearchable: boolean;\n  myLocation: string;\n  onMyLocationChange: (newMyLocation: string) => void;\n  onMyLocationTextChange: (e: ChangeEvent<HTMLInputElement>) => void;\n  disabled: boolean;\n  ringoutPrompt: boolean;\n  onRingoutPromptChange: (newRingoutPrompt: boolean) => void;\n}\n\nconst RingoutSettings: FunctionComponent<RingoutSettingsProps> = ({\n  currentLocale,\n  callWith,\n  availableNumbersWithLabel,\n  locationSearchable,\n  myLocation,\n  onMyLocationChange,\n  onMyLocationTextChange,\n  disabled,\n  ringoutPrompt,\n  onRingoutPromptChange,\n}) => {\n  if (\n    callWith !== callingOptions.softphone &&\n    callWith !== callingOptions.browser &&\n    callWith !== callingOptions.jupiter\n  ) {\n    return (\n      <div>\n        <div className={styles.ringoutHint}>\n          {i18n.getString('ringoutHint', currentLocale)}\n        </div>\n        <InputField\n          dataSign=\"myLocation\"\n          label={i18n.getString('myLocationLabel', currentLocale)}\n        >\n          {availableNumbersWithLabel ? (\n            <DropdownSelect\n              className={classnames(styles.select, styles.locationSelect)}\n              value={myLocation}\n              onChange={onMyLocationChange}\n              searchOption={\n                locationSearchable\n                  ? (option: string, text: string) => option.includes(text)\n                  : null\n              }\n              options={availableNumbersWithLabel}\n              disabled={disabled}\n              dropdownAlign=\"left\"\n              titleEnabled\n              customInputEnabled\n              optionsWithLabel\n              customInputLimit={30}\n            />\n          ) : (\n            <TextInput\n              dataSign=\"myLocationInput\"\n              value={myLocation}\n              maxLength={30}\n              onChange={onMyLocationTextChange}\n            />\n          )}\n        </InputField>\n        <IconField\n          className={styles.iconField}\n          icon={\n            <Switch\n              dataSign=\"ringoutPromptToggle\"\n              checked={ringoutPrompt}\n              onChange={onRingoutPromptChange}\n            />\n          }\n        >\n          {i18n.getString('press1ToStartCallLabel', currentLocale)}\n        </IconField>\n      </div>\n    );\n  }\n  return null;\n};\n\nconst CallingSettings: FunctionComponent<CallingSettingsProps> = ({\n  availableNumbersWithLabel,\n  callWith,\n  callWithOptions,\n  currentLocale,\n  defaultRingoutPrompt = true,\n  disabled = false,\n  locationSearchable = false,\n  myLocation,\n  onSave,\n  ringoutPrompt,\n  showRingToneSettings = false,\n  incomingAudio,\n  incomingAudioFile,\n  outgoingAudio,\n  outgoingAudioFile,\n  defaultIncomingAudio,\n  defaultIncomingAudioFile,\n  defaultOutgoingAudio,\n  defaultOutgoingAudioFile,\n  jupiterAppName,\n  softphoneAppName,\n}) => {\n  const [callWithState, setCallWithState] = useState(callWith);\n  const [ringoutPromptState, setRingoutPromptState] = useState(ringoutPrompt);\n  const [myLocationState, setMyLocationState] = useState(myLocation);\n  const [incomingAudioState, setIncomingAudioState] = useState(incomingAudio);\n  const [incomingAudioFileState, setIncomingAudioFileState] =\n    useState(incomingAudioFile);\n  const [outgoingAudioState, setOutgoingAudioState] = useState(outgoingAudio);\n  const [outgoingAudioFileState, setOutgoingAudioFileState] =\n    useState(outgoingAudioFile);\n\n  useEffect(() => {\n    setCallWithState(callWith);\n    setMyLocationState(myLocation);\n    setRingoutPromptState(ringoutPrompt);\n    setIncomingAudioState(incomingAudio);\n    setIncomingAudioFileState(incomingAudioFile);\n    setOutgoingAudioState(outgoingAudio);\n    setOutgoingAudioFileState(outgoingAudioFile);\n  }, [\n    callWith,\n    myLocation,\n    ringoutPrompt,\n    incomingAudio,\n    incomingAudioFile,\n    outgoingAudio,\n    outgoingAudioFile,\n  ]);\n  return (\n    <>\n      <CallWithSettings\n        {...{\n          callWith: callWithState,\n          jupiterAppName,\n          softphoneAppName,\n          callWithOptions,\n          currentLocale,\n          disabled,\n          onCallWithChange: (newCallWith: string) => {\n            setCallWithState(newCallWith);\n            if (newCallWith === callWith) {\n              setMyLocationState(myLocation);\n              setRingoutPromptState(ringoutPrompt);\n            } else {\n              setMyLocationState(availableNumbersWithLabel?.[0]?.value || '');\n              setRingoutPromptState(defaultRingoutPrompt);\n            }\n          },\n        }}\n      />\n      <RingoutSettings\n        {...{\n          currentLocale,\n          callWith: callWithState,\n          availableNumbersWithLabel,\n          locationSearchable,\n          myLocation: myLocationState,\n          onMyLocationChange: setMyLocationState,\n          onMyLocationTextChange: ({ target: { value } }) => {\n            setMyLocationState(value);\n          },\n          ringoutPrompt: ringoutPromptState,\n          onRingoutPromptChange: setRingoutPromptState,\n          disabled,\n        }}\n      />\n      <RingTone\n        {...{\n          currentLocale,\n          showRingToneSettings:\n            showRingToneSettings && callWithState === callingOptions.browser,\n          incomingAudio: incomingAudioState,\n          incomingAudioFile: incomingAudioFileState,\n          outgoingAudio: outgoingAudioState,\n          outgoingAudioFile: outgoingAudioFileState,\n          defaultIncomingAudio,\n          defaultIncomingAudioFile,\n          defaultOutgoingAudio,\n          defaultOutgoingAudioFile,\n          setIncomingAudio: ({ fileName, dataUrl }) => {\n            setIncomingAudioState(dataUrl);\n            setIncomingAudioFileState(fileName);\n          },\n          resetIncomingAudio: () => {\n            setIncomingAudioState(defaultIncomingAudio);\n            setIncomingAudioFileState(defaultIncomingAudioFile);\n          },\n          setOutgoingAudio: ({ fileName, dataUrl }) => {\n            setOutgoingAudioState(dataUrl);\n            setOutgoingAudioFileState(fileName);\n          },\n          resetOutgoingAudio: () => {\n            setOutgoingAudioState(defaultOutgoingAudio);\n            setOutgoingAudioFileState(defaultOutgoingAudioFile);\n          },\n        }}\n      />\n      <SaveButton\n        {...{\n          currentLocale,\n          onClick: () => {\n            onSave({\n              callWith: callWithState,\n              myLocation: myLocationState,\n              ringoutPrompt: ringoutPromptState,\n              isCustomLocation: !availableNumbersWithLabel.find(\n                (item) => item.value === myLocationState,\n              ),\n              incomingAudio: incomingAudioState,\n              incomingAudioFile: incomingAudioFileState,\n              outgoingAudio: outgoingAudioState,\n              outgoingAudioFile: outgoingAudioFileState,\n            });\n          },\n          disabled:\n            (callWithState === callWith &&\n              myLocationState === myLocation &&\n              ringoutPromptState === ringoutPrompt &&\n              incomingAudioState === incomingAudio &&\n              incomingAudioFileState === incomingAudioFile &&\n              outgoingAudioState === outgoingAudio &&\n              outgoingAudioFileState === outgoingAudioFile) ||\n            (callWithState === callingOptions.ringout && !myLocationState),\n        }}\n      />\n    </>\n  );\n};\n\nexport const CallingSettingsPanel: FunctionComponent<CallingSettingsPanelProps> =\n  ({\n    className,\n    onBackButtonClick,\n    currentLocale,\n    showSpinner = false,\n    ...props\n  }) => {\n    const content = showSpinner ? (\n      <SpinnerOverlay />\n    ) : (\n      <>\n        <CallingSettings {...{ ...props, currentLocale }} />\n      </>\n    );\n    return (\n      <div\n        data-sign=\"callingSettings\"\n        className={classnames(styles.root, className)}\n      >\n        <BackHeader onBackClick={onBackButtonClick}>\n          {i18n.getString('title', currentLocale)}\n        </BackHeader>\n        <Panel className={styles.content}>{content}</Panel>\n      </div>\n    );\n  };\n"],"file":"CallingSettingsPanel.js"}