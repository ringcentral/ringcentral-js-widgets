{"version":3,"sources":["components/DropdownNavigationView/DropdownNavigationView.tsx"],"names":["DropdownNavigationView","props","childNavigationElement","removeChildNavBar","bind","removeListener","el","setTimeout","addListener","window","addEventListener","removeEventListener","ev","target","contains","goTo","virtualPath","tabs","currentPath","currentVirtualPath","length","styles","root","setChildNavigationElement","map","tab","index","Icon","icon","ActiveIcon","activeIcon","active","isActive","path","isReverseFillIcon","Component"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport DropdownNavigationItem from '../DropdownNavigationItem';\nimport { TabPropTypes } from '../NavigationBar';\nimport styles from './styles.scss';\n\ntype DropdownNavigationViewProps = {\n  tabs: TabPropTypes[];\n  goTo: (...args: any[]) => any;\n  currentPath: string;\n  currentVirtualPath?: string;\n};\nexport default class DropdownNavigationView extends Component<DropdownNavigationViewProps> {\n  childNavigationElement: HTMLElement;\n\n  constructor(props) {\n    super(props);\n    this.removeChildNavBar = this.removeChildNavBar.bind(this);\n  }\n\n  componentWillUnmount() {\n    this.removeListener();\n  }\n\n  setChildNavigationElement(el) {\n    setTimeout(() => {\n      this.childNavigationElement = el;\n      if (this.childNavigationElement) {\n        this.addListener();\n      } else {\n        this.removeListener();\n      }\n    }, 0);\n  }\n\n  addListener() {\n    window.addEventListener('click', this.removeChildNavBar);\n  }\n\n  removeListener() {\n    window.removeEventListener('click', this.removeChildNavBar);\n  }\n\n  removeChildNavBar(ev) {\n    if (\n      !this.childNavigationElement ||\n      this.childNavigationElement === ev.target ||\n      this.childNavigationElement.contains(ev.target)\n    ) {\n      return;\n    }\n    this.removeListener();\n    this.props.goTo({\n      virtualPath: '',\n    });\n  }\n\n  render() {\n    const { tabs, goTo, currentPath, currentVirtualPath } = this.props;\n    return tabs.length ? (\n      <div\n        className={styles.root}\n        ref={(el) => {\n          this.setChildNavigationElement(el);\n        }}\n      >\n        {tabs.map((tab, index) => {\n          const Icon = tab.icon;\n          const ActiveIcon = tab.activeIcon;\n          const active =\n            (tab.isActive && tab.isActive(currentPath, currentVirtualPath)) ||\n            (tab.path && tab.path === currentPath) ||\n            (tab.virtualPath && tab.virtualPath === currentVirtualPath);\n          const isReverseFillIcon = tab.path === '/contacts' && !active;\n          return (\n            <DropdownNavigationItem\n              {...tab}\n              key={index}\n              onClick={() => {\n                goTo(tab);\n              }}\n              active={active}\n              icon={typeof Icon === 'function' ? <Icon /> : Icon}\n              isReverseFillIcon={isReverseFillIcon}\n              activeIcon={\n                typeof ActiveIcon === 'function' ? <ActiveIcon /> : ActiveIcon\n              }\n            />\n          );\n        })}\n      </div>\n    ) : null;\n  }\n}\n"],"file":"DropdownNavigationView.js"}