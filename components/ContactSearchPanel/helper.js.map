{"version":3,"file":"helper.js","names":["_ContactSearchPanelEnum","require","_i18n","_interopRequireDefault","e","__esModule","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","n","_defineProperty","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","_typeof","toPrimitive","String","Number","getCountsRes","counts","getPrimaryCount","items","count","filter","isPrimary","getPrimaryNumber","generateOptionsMap","exports","_ref","showOtherContacts","isAbleToSearch","companyContacts","otherContacts","personalContacts","thirdPartyContacts","TabsEnum","thirdParty","company","personal","other","generateTabs","_ref4","optionsMap","thirdPartySourceName","currentLocale","isLoading","companyTabs","label","i18n","getString","number","sort","b","concat"],"sources":["components/ContactSearchPanel/helper.tsx"],"sourcesContent":["import type { IContactSearchItem } from '../../modules/ContactSearchUI';\n\nimport { TabsEnum } from './ContactSearchPanelEnum';\nimport i18n from './i18n';\n\ninterface GenerateOptionsProps {\n  showOtherContacts?: boolean;\n  isAbleToSearch: boolean;\n  companyContacts: IContactSearchItem[];\n  otherContacts: IContactSearchItem[];\n  personalContacts: IContactSearchItem[];\n  thirdPartyContacts?: IContactSearchItem[];\n}\n\ninterface GenerateTabsProps {\n  optionsMap: {\n    [key in keyof typeof TabsEnum]?: IContactSearchItem[];\n  };\n  thirdPartySourceName: string;\n  currentLocale: string;\n  isLoading: boolean;\n}\n\nconst getCountsRes = (counts: number) => (counts > 99 ? `99+` : counts);\n\nconst getPrimaryCount = (items: any) => {\n  const count = items?.filter((i: any) => i.isPrimary).length;\n  return getCountsRes(count);\n};\n\nconst getPrimaryNumber = (items: any) => {\n  return items?.filter((i: any) => i.isPrimary).length;\n};\n\nexport const generateOptionsMap = ({\n  showOtherContacts,\n  isAbleToSearch,\n  companyContacts,\n  otherContacts,\n  personalContacts,\n  thirdPartyContacts,\n}: GenerateOptionsProps) => {\n  return showOtherContacts\n    ? {\n        [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n        [TabsEnum.company]: companyContacts,\n        [TabsEnum.personal]: personalContacts,\n        [TabsEnum.other]: otherContacts,\n      }\n    : {\n        [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n        [TabsEnum.company]: companyContacts,\n        [TabsEnum.personal]: personalContacts,\n      };\n};\n\nexport const generateTabs = ({\n  optionsMap,\n  thirdPartySourceName,\n  currentLocale,\n  isLoading,\n}: GenerateTabsProps) => {\n  const companyTabs = [\n    {\n      label: i18n.getString('companyTabTitle', currentLocale),\n      value: TabsEnum.company,\n      count: getPrimaryCount(optionsMap[TabsEnum.company]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.company]),\n    },\n    {\n      label: i18n.getString('personalTabTitle', currentLocale),\n      value: TabsEnum.personal,\n      count: getPrimaryCount(optionsMap[TabsEnum.personal]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.personal]),\n    },\n    {\n      label: i18n.getString('other', currentLocale),\n      value: TabsEnum.other,\n      count: getPrimaryCount(optionsMap[TabsEnum.other]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.other]),\n    },\n  ].sort((a, b) => {\n    // both non-zero, maintain the original order\n    if (a.number !== 0 && b.number !== 0) {\n      return 0;\n    }\n    // If the count of a is 0 and the count of b is not 0, b should come before a\n    if (a.number === 0 && b.number !== 0) {\n      return 1;\n    }\n    // If the count of b is 0 and the count of a is not 0, a should come before b\n    if (a.number !== 0 && b.number === 0) {\n      return -1;\n    }\n    // both zero, maintain the original order\n    return 0;\n  });\n\n  return [\n    {\n      label: thirdPartySourceName,\n      value: TabsEnum.thirdParty,\n      count: isLoading ? 0 : getPrimaryCount(optionsMap[TabsEnum.thirdParty]),\n    },\n    ...companyTabs,\n  ];\n};\n"],"mappings":"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","ignoreList":[]}