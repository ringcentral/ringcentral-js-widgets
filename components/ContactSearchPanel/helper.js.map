{"version":3,"file":"helper.js","names":["_ContactSearchPanelEnum","require","_i18n","_interopRequireDefault","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","name","Array","from","test","isArray","length","n","_defineProperty","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","toPrimitive","String","Number","getCountsRes","counts","getPrimaryCount","items","count","filter","isPrimary","getPrimaryNumber","generateOptionsMap","_ref","_ref2","_ref3","showOtherContacts","isAbleToSearch","companyContacts","otherContacts","personalContacts","thirdPartyContacts","TabsEnum","thirdParty","company","personal","other","exports","generateTabs","_ref4","optionsMap","thirdPartySourceName","currentLocale","isLoading","companyTabs","label","i18n","getString","number","sort","b","concat"],"sources":["components/ContactSearchPanel/helper.tsx"],"sourcesContent":["import type { IContactSearchItem } from '../../modules/ContactSearchUI';\n\nimport { TabsEnum } from './ContactSearchPanelEnum';\nimport i18n from './i18n';\n\ninterface GenerateOptionsProps {\n  showOtherContacts?: boolean;\n  isAbleToSearch: boolean;\n  companyContacts: IContactSearchItem[];\n  otherContacts: IContactSearchItem[];\n  personalContacts: IContactSearchItem[];\n  thirdPartyContacts?: IContactSearchItem[];\n}\n\ninterface GenerateTabsProps {\n  optionsMap: {\n    [key in keyof typeof TabsEnum]?: IContactSearchItem[];\n  };\n  thirdPartySourceName: string;\n  currentLocale: string;\n  isLoading: boolean;\n}\n\nconst getCountsRes = (counts: number) => (counts > 99 ? `99+` : counts);\n\nconst getPrimaryCount = (items: any) => {\n  const count = items?.filter((i: any) => i.isPrimary).length;\n  return getCountsRes(count);\n};\n\nconst getPrimaryNumber = (items: any) => {\n  return items?.filter((i: any) => i.isPrimary).length;\n};\n\nexport const generateOptionsMap = ({\n  showOtherContacts,\n  isAbleToSearch,\n  companyContacts,\n  otherContacts,\n  personalContacts,\n  thirdPartyContacts,\n}: GenerateOptionsProps) => {\n  return showOtherContacts\n    ? {\n        [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n        [TabsEnum.company]: companyContacts,\n        [TabsEnum.personal]: personalContacts,\n        [TabsEnum.other]: otherContacts,\n      }\n    : {\n        [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n        [TabsEnum.company]: companyContacts,\n        [TabsEnum.personal]: personalContacts,\n      };\n};\n\nexport const generateTabs = ({\n  optionsMap,\n  thirdPartySourceName,\n  currentLocale,\n  isLoading,\n}: GenerateTabsProps) => {\n  const companyTabs = [\n    {\n      label: i18n.getString('companyTabTitle', currentLocale),\n      value: TabsEnum.company,\n      count: getPrimaryCount(optionsMap[TabsEnum.company]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.company]),\n    },\n    {\n      label: i18n.getString('personalTabTitle', currentLocale),\n      value: TabsEnum.personal,\n      count: getPrimaryCount(optionsMap[TabsEnum.personal]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.personal]),\n    },\n    {\n      label: i18n.getString('other', currentLocale),\n      value: TabsEnum.other,\n      count: getPrimaryCount(optionsMap[TabsEnum.other]),\n      number: getPrimaryNumber(optionsMap[TabsEnum.other]),\n    },\n  ].sort((a, b) => {\n    // both non-zero, maintain the original order\n    if (a.number !== 0 && b.number !== 0) {\n      return 0;\n    }\n    // If the count of a is 0 and the count of b is not 0, b should come before a\n    if (a.number === 0 && b.number !== 0) {\n      return 1;\n    }\n    // If the count of b is 0 and the count of a is not 0, a should come before b\n    if (a.number !== 0 && b.number === 0) {\n      return -1;\n    }\n    // both zero, maintain the original order\n    return 0;\n  });\n\n  return [\n    {\n      label: thirdPartySourceName,\n      value: TabsEnum.thirdParty,\n      count: isLoading ? 0 : getPrimaryCount(optionsMap[TabsEnum.thirdParty]),\n    },\n    ...companyTabs,\n  ];\n};\n"],"mappings":"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","ignoreList":[]}