{"version":3,"file":"ContactSearchPanel.js","names":["_react","_interopRequireWildcard","require","_phoneTypes","_juno","_junoIcon","_contexts","_ContactSearchHelper","_usePresence","_helper","_Tooltip","_TextWithHighlight","_ContactSearchPanelEnum","_DoNotCallIndicator","_HelpTextSection","_i18n","_interopRequireDefault","_ContactSearchPanel","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","Array","from","isArray","_arrayLikeToArray","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","o","minLen","n","toString","slice","constructor","name","test","len","arr2","_i","_s","_e","_x","_r","_arr","_n","_d","next","done","err","getCountsRes","counts","PrimaryAvatar","_ref","isDirectlyProceed","inThirdPartyTab","ThirdPartyAvatar","profileImageUrl","type","getPresence","needFetchPresence","contact","_ref2","split","_ref3","firstName","lastName","presentAvatarName","useAvatarShortName","presence","usePresence","fetch","presentAvatarcolor","useAvatarColorToken","createElement","DefaultIcon","size","color","symbol","UserDefault","presenceProps","getPresenceStatus","RcAvatar","src","alt","companyPhoneTypeMap","mobile","direct","extension","ContactSearchPanel","_ref4","companyContacts","personalContacts","_ref4$thirdPartyConta","thirdPartyContacts","optionClickHandler","userInput","isThirdPartySearching","inputRef","centered","setFilterString","thirdPartySourceName","currentLocale","formatPhone","_ref4$minimumSearchLe","minimumSearchLength","directlyProceedText","getCompanyExtraInfoByIds","changeTabTrack","_ref4$defaultTab","defaultTab","TabsEnum","thirdParty","previousUserInput","usePrevious","isAbleToSearch","getPrimaryCount","items","count","isPrimary","_useMemo","useMemo","_optionsMap2","_optionsMap","company","personal","optionsMap","tabItemsMap","label","i18n","getString","_useState","useState","_useState2","activeTab","setActiveTab","useEffect","isLoading","options","showDirectlyItem","validateValidChars","finialOptions","phoneNumber","concat","setIndexHandlerRef","useRef","_useSuggestionList","useSuggestionList","inputValue","onSelect","e","option","item","optionItems","getMenuProps","getItemProps","highlightedIndex","getInputProps","getInputAriaProps","changeHighlightedIndexReason","setHighlightedIndex","useImperativeHandle","current","reason","reRender","_useCommunicationSetu","useCommunicationSetupContext","inputAriaPropsRef","inputPropsRef","getFormattedLabel","useCallback","_ref5","phoneType","formattedPhoneType","phoneTypes","additionProps","process","env","NODE_ENV","initialItemCount","StyledContactSearchPanel","StyledTabsWrapper","RcTabs","onChange","v","_inputRef$current","focus","toLocaleLowerCase","variant","MoreButtonProps","datatype","MenuProps","marginThreshold","map","_ref6","tabName","RcTab","Tooltip","title","TabText","FullSizeWrapper","HelpTextSection","sourceName","inputLength","hasRecords","searchMinimumLength","RcSuggestionList","tabIndex","renderOption","props","state","doNotCall","_props$isDirectlyProc","_props$profileImageUr","presenceStatus","restProps","id","content","RcMenuItem","focused","highlighted","avatar","RcListItemText","primary","Fragment","ContactName","TextWithHighlight","highLightText","text","DoNotCallIndicator","secondary","RcListItemSecondaryAction","RcIcon","Dial","selected","StyledListItemText","inset","itemsRendered","ids","_ref7","data","_ref8","exports"],"sources":["components/ContactSearchPanel/ContactSearchPanel.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, {\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { phoneTypes } from '@ringcentral-integration/commons/enums/phoneTypes';\nimport type {\n  ContactPresence,\n  IContact,\n} from '@ringcentral-integration/commons/interfaces/Contact.model';\nimport {\n  RcAvatar,\n  RcIcon,\n  RcListItemSecondaryAction,\n  RcListItemText,\n  RcMenuItem,\n  RcSuggestionList,\n  RcTab,\n  RcTabs,\n  useAvatarColorToken,\n  useAvatarShortName,\n  usePrevious,\n  useSuggestionList,\n} from '@ringcentral/juno';\nimport { Dial, UserDefault } from '@ringcentral/juno-icon';\n\nimport { useCommunicationSetupContext } from '../../contexts';\nimport type {\n  ContactSearchPanelProps,\n  IContactSearchItem,\n} from '../../modules/ContactSearchUI';\nimport { getPresenceStatus } from '../../modules/ContactSearchUI/ContactSearchHelper';\nimport type { GetPresenceFn } from '../../react-hooks/usePresence';\nimport { usePresence } from '../../react-hooks/usePresence';\nimport { validateValidChars } from '../CommunicationSetupPanel/helper';\nimport { Tooltip } from '../Rcui/Tooltip';\nimport { TextWithHighlight } from '../TextWithHighlight/TextWithHighlight';\nimport type { TabsEnumType } from './ContactSearchPanelEnum';\nimport { TabsEnum } from './ContactSearchPanelEnum';\nimport { DoNotCallIndicator } from './DoNotCallIndicator';\nimport { HelpTextSection } from './HelpTextSection';\nimport i18n, { I18nKey } from './i18n';\nimport {\n  ContactName,\n  DefaultIcon,\n  FullSizeWrapper,\n  StyledContactSearchPanel,\n  StyledListItemText,\n  StyledTabsWrapper,\n  TabText,\n} from './styles/ContactSearchPanel';\n\nconst getCountsRes = (counts: number) => (counts > 99 ? `99+` : counts);\n\nconst PrimaryAvatar = ({\n  isDirectlyProceed,\n  inThirdPartyTab,\n  ThirdPartyAvatar,\n  profileImageUrl,\n  type,\n  name,\n  getPresence,\n  needFetchPresence,\n  contact,\n}: Pick<ContactSearchPanelProps, 'ThirdPartyAvatar'> & {\n  isDirectlyProceed: boolean;\n  inThirdPartyTab: boolean;\n  type: string;\n  name: string;\n  profileImageUrl: string;\n  getPresence: GetPresenceFn;\n  contact: IContact & { presence?: ContactPresence };\n  needFetchPresence: boolean;\n}) => {\n  const [firstName, lastName] = name?.split(/\\s+/) || [];\n  const presentAvatarName = useAvatarShortName({\n    firstName,\n    lastName,\n  });\n  const presence = usePresence(contact, {\n    fetch: needFetchPresence ? getPresence : undefined,\n  });\n\n  const presentAvatarcolor = useAvatarColorToken(name);\n\n  if (isDirectlyProceed)\n    return (\n      <DefaultIcon\n        size=\"xxlarge\"\n        color=\"neutral.f01\"\n        symbol={UserDefault}\n        data-sign=\"directlyProceedAvatar\"\n      />\n    );\n\n  if (inThirdPartyTab && ThirdPartyAvatar)\n    return <ThirdPartyAvatar type={type} />;\n\n  const presenceProps = presence\n    ? { type: getPresenceStatus(presence) }\n    : undefined;\n\n  return (\n    <RcAvatar\n      presenceProps={presenceProps}\n      color={presentAvatarcolor}\n      size=\"xsmall\"\n    >\n      {profileImageUrl ? (\n        <img src={profileImageUrl} alt={name} />\n      ) : (\n        presentAvatarName\n      )}\n    </RcAvatar>\n  );\n};\n\ninterface PhoneTypeMap {\n  [key: string]: string;\n}\n\nconst companyPhoneTypeMap: PhoneTypeMap = {\n  mobile: 'MobileNumber',\n  contact: 'ContactNumber',\n  direct: 'DirectNumber',\n  extension: 'extension',\n};\n\nexport const ContactSearchPanel: FunctionComponent<ContactSearchPanelProps> = ({\n  companyContacts,\n  personalContacts,\n  thirdPartyContacts = [],\n  optionClickHandler,\n  userInput,\n  isThirdPartySearching,\n  inputRef,\n  centered,\n  setFilterString,\n  thirdPartySourceName,\n  currentLocale,\n  formatPhone,\n  ThirdPartyAvatar,\n  minimumSearchLength = 0,\n  directlyProceedText,\n  getCompanyExtraInfoByIds,\n  changeTabTrack,\n  getPresence,\n  defaultTab = TabsEnum.thirdParty,\n}) => {\n  const previousUserInput = usePrevious(() => userInput);\n  const isAbleToSearch = userInput.length >= minimumSearchLength;\n\n  const getPrimaryCount = (items: any) => {\n    const count = items?.filter((i: any) => i.isPrimary).length;\n    return getCountsRes(count);\n  };\n\n  const { optionsMap, tabItemsMap } = useMemo(() => {\n    const _optionsMap = {\n      [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n      [TabsEnum.company]: companyContacts,\n      [TabsEnum.personal]: personalContacts,\n    };\n\n    return {\n      optionsMap: _optionsMap,\n      tabItemsMap: [\n        {\n          label: thirdPartySourceName,\n          value: TabsEnum.thirdParty,\n          count: getPrimaryCount(_optionsMap[TabsEnum.thirdParty]),\n        },\n        {\n          label: i18n.getString('companyTabTitle', currentLocale),\n          value: TabsEnum.company,\n          count: getPrimaryCount(_optionsMap[TabsEnum.company]),\n        },\n        {\n          label: i18n.getString('personalTabTitle', currentLocale),\n          value: TabsEnum.personal,\n          count: getPrimaryCount(_optionsMap[TabsEnum.personal]),\n        },\n      ],\n    };\n  }, [\n    isAbleToSearch,\n    thirdPartyContacts,\n    companyContacts,\n    personalContacts,\n    thirdPartySourceName,\n    currentLocale,\n  ]);\n\n  const [activeTab, setActiveTab] = useState<TabsEnumType>(defaultTab);\n\n  useEffect(() => {\n    if (userInput !== previousUserInput) {\n      setFilterString(userInput);\n    }\n  }, [previousUserInput, userInput, setFilterString]);\n\n  const inThirdPartyTab = activeTab === TabsEnum.thirdParty;\n  const isLoading = inThirdPartyTab && isAbleToSearch && isThirdPartySearching;\n  const options = optionsMap[activeTab];\n  const showDirectlyItem = validateValidChars(userInput);\n  const finialOptions = useMemo(\n    () =>\n      showDirectlyItem\n        ? [\n            {\n              isPrimary: true,\n              isDirectlyProceed: true,\n              name: directlyProceedText,\n              phoneNumber: userInput,\n            } as unknown as IContactSearchItem,\n            ...options,\n          ]\n        : options,\n    [userInput, options, showDirectlyItem, directlyProceedText],\n  );\n\n  const setIndexHandlerRef = useRef<any>(null);\n\n  const {\n    optionItems,\n    inputValue,\n    getMenuProps,\n    getItemProps,\n    highlightedIndex,\n    getInputProps,\n    getInputAriaProps,\n    changeHighlightedIndexReason,\n    setHighlightedIndex,\n  } = useSuggestionList({\n    inputValue: userInput,\n    options: finialOptions,\n    inputRef,\n    onSelect: (e, option) => {\n      const item = { ...option };\n      if (option.isDirectlyProceed) {\n        item.name = item.phoneNumber;\n      }\n      optionClickHandler(item);\n    },\n  });\n\n  useImperativeHandle(setIndexHandlerRef, () => setHighlightedIndex);\n\n  useEffect(() => {\n    if (finialOptions.length) {\n      setIndexHandlerRef?.current(0, { reason: 'mouse', reRender: true });\n    }\n  }, [finialOptions]);\n\n  const { inputAriaPropsRef, inputPropsRef } = useCommunicationSetupContext();\n  useImperativeHandle(inputPropsRef, () => getInputProps());\n  useImperativeHandle(inputAriaPropsRef, () => getInputAriaProps());\n\n  const getFormattedLabel = useCallback(\n    ({\n      type,\n      phoneType,\n      phoneNumber,\n    }: Pick<IContactSearchItem, 'phoneType' | 'phoneNumber' | 'type'>) => {\n      let formattedPhoneType = phoneType;\n      if (type === TabsEnum.personal) {\n        formattedPhoneType = i18n.getString(\n          phoneType as I18nKey,\n          currentLocale,\n        );\n      } else if (type === TabsEnum.company) {\n        formattedPhoneType = i18n.getString(\n          (companyPhoneTypeMap[phoneType] || phoneType) as I18nKey,\n          currentLocale,\n        );\n      }\n      if (type === TabsEnum.company && phoneType === phoneTypes.extension) {\n        return `${formattedPhoneType}. ${phoneNumber}`;\n      }\n\n      return `${formatPhone(phoneNumber)} - ${formattedPhoneType}`;\n    },\n    [currentLocale, formatPhone],\n  );\n\n  //! code will not to package into prod env.\n  const additionProps: any = {};\n  if (process.env.NODE_ENV === 'test') {\n    additionProps.initialItemCount = optionItems.length;\n    additionProps.key = optionItems.length;\n  }\n  return (\n    <StyledContactSearchPanel data-sign=\"contactSearchPanel\">\n      <StyledTabsWrapper>\n        <RcTabs\n          data-sign=\"contactTabsTitle\"\n          value={activeTab}\n          onChange={(e, v) => {\n            inputRef.current?.focus();\n            setActiveTab(v);\n            changeTabTrack(\n              v === 'thirdParty' ? thirdPartySourceName.toLocaleLowerCase() : v,\n            );\n          }}\n          variant=\"moreMenu\"\n          centered={centered}\n          MoreButtonProps={{\n            datatype: 'moreMenu',\n            MenuProps: {\n              marginThreshold: 6,\n            },\n          }}\n        >\n          {tabItemsMap.map(({ label, count, value }) => {\n            const tabName = `${label} (${count})`;\n            return (\n              <RcTab\n                key={label}\n                data-sign={`${value}ContactSearchResult`}\n                label={\n                  <Tooltip title={tabName}>\n                    <TabText data-sign={`${value}ContactTabName`}>\n                      {tabName}\n                    </TabText>\n                  </Tooltip>\n                }\n                value={value}\n              />\n            );\n          })}\n        </RcTabs>\n      </StyledTabsWrapper>\n      <FullSizeWrapper>\n        <HelpTextSection\n          sourceName={thirdPartySourceName}\n          currentLocale={currentLocale}\n          inputLength={userInput.length}\n          isLoading={isLoading}\n          activeTab={activeTab}\n          hasRecords={!!optionItems.length}\n          searchMinimumLength={minimumSearchLength}\n        />\n        {optionItems.length > 0 && (\n          <RcSuggestionList\n            data-sign=\"contactSearchDropdown\"\n            tabIndex={-1}\n            highlightedIndex={highlightedIndex}\n            changeHighlightedIndexReason={changeHighlightedIndexReason}\n            options={optionItems}\n            inputValue={inputValue}\n            getMenuProps={getMenuProps}\n            getItemProps={getItemProps}\n            {...additionProps}\n            renderOption={(props: IContactSearchItem, state) => {\n              const {\n                name,\n                phoneNumber,\n                phoneType,\n                isPrimary,\n                type,\n                doNotCall,\n                isDirectlyProceed = false,\n                profileImageUrl = '',\n                contact,\n                presenceStatus,\n                ...restProps\n              } = props;\n              const needFetchPresence = !!(\n                activeTab === TabsEnum.company &&\n                isPrimary &&\n                contact?.id\n              );\n\n              const content = getFormattedLabel({\n                phoneType,\n                type,\n                phoneNumber,\n              });\n              return isPrimary ? (\n                <RcMenuItem\n                  focused={state.highlighted}\n                  data-sign={\n                    isDirectlyProceed\n                      ? 'directlyProceedEntrance'\n                      : 'contactSearchSelectMenuItem'\n                  }\n                  avatar={\n                    <PrimaryAvatar\n                      contact={contact}\n                      needFetchPresence={needFetchPresence}\n                      getPresence={getPresence}\n                      isDirectlyProceed={isDirectlyProceed}\n                      type={type}\n                      ThirdPartyAvatar={ThirdPartyAvatar}\n                      name={name}\n                      inThirdPartyTab={inThirdPartyTab}\n                      profileImageUrl={profileImageUrl}\n                    />\n                  }\n                  {...restProps}\n                >\n                  <RcListItemText\n                    primary={\n                      <>\n                        <ContactName\n                          data-sign={\n                            isDirectlyProceed\n                              ? 'DirectlyProceedTitle'\n                              : 'contactSearchItem'\n                          }\n                        >\n                          <TextWithHighlight\n                            highLightText={inputValue}\n                            text={name}\n                          />\n                        </ContactName>\n                        {doNotCall && (\n                          <DoNotCallIndicator currentLocale={currentLocale} />\n                        )}\n                      </>\n                    }\n                    secondary={\n                      isDirectlyProceed ? (\n                        <span\n                          title={phoneNumber}\n                          data-sign=\"directlyProceedNumber\"\n                        >\n                          {phoneNumber}\n                        </span>\n                      ) : (\n                        <span title={content}>{content}</span>\n                      )\n                    }\n                  />\n                  {isDirectlyProceed && (\n                    <RcListItemSecondaryAction data-sign=\"dialIcon\">\n                      <RcIcon color=\"action.primary\" symbol={Dial} />\n                    </RcListItemSecondaryAction>\n                  )}\n                </RcMenuItem>\n              ) : (\n                <RcMenuItem\n                  selected={state.selected}\n                  data-sign=\"contactSearchSelectMenuItem\"\n                  avatar={<></>}\n                  {...restProps}\n                >\n                  <StyledListItemText\n                    title={content}\n                    secondary={content}\n                    inset={inThirdPartyTab}\n                  />\n                </RcMenuItem>\n              );\n            }}\n            itemsRendered={(items) => {\n              if (activeTab !== TabsEnum.company) return;\n\n              const ids = items\n                .filter(({ data }) => data && data.isPrimary && data.id)\n                .map(({ data }) => data.id);\n\n              if (ids.length > 0) {\n                getCompanyExtraInfoByIds(ids);\n              }\n            }}\n          />\n        )}\n      </FullSizeWrapper>\n    </StyledContactSearchPanel>\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;AACA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AASA,IAAAC,WAAA,GAAAD,OAAA;AAKA,IAAAE,KAAA,GAAAF,OAAA;AAcA,IAAAG,SAAA,GAAAH,OAAA;AAEA,IAAAI,SAAA,GAAAJ,OAAA;AAKA,IAAAK,oBAAA,GAAAL,OAAA;AAEA,IAAAM,YAAA,GAAAN,OAAA;AACA,IAAAO,OAAA,GAAAP,OAAA;AACA,IAAAQ,QAAA,GAAAR,OAAA;AACA,IAAAS,kBAAA,GAAAT,OAAA;AAEA,IAAAU,uBAAA,GAAAV,OAAA;AACA,IAAAW,mBAAA,GAAAX,OAAA;AACA,IAAAY,gBAAA,GAAAZ,OAAA;AACA,IAAAa,KAAA,GAAAC,sBAAA,CAAAd,OAAA;AACA,IAAAe,mBAAA,GAAAf,OAAA;AAQqC,SAAAc,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAAA,SAAAE,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,yBAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAApB,wBAAAiB,GAAA,EAAAG,WAAA,SAAAA,WAAA,IAAAH,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,aAAAO,OAAA,CAAAP,GAAA,yBAAAA,GAAA,uCAAAA,GAAA,UAAAQ,KAAA,GAAAN,wBAAA,CAAAC,WAAA,OAAAK,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,cAAAX,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AAAA,SAAAW,SAAA,IAAAA,QAAA,GAAAT,MAAA,CAAAU,MAAA,GAAAV,MAAA,CAAAU,MAAA,CAAAC,IAAA,eAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,GAAAF,SAAA,CAAAD,CAAA,YAAAV,GAAA,IAAAa,MAAA,QAAAhB,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAU,MAAA,EAAAb,GAAA,KAAAS,MAAA,CAAAT,GAAA,IAAAa,MAAA,CAAAb,GAAA,gBAAAS,MAAA,YAAAH,QAAA,CAAAQ,KAAA,OAAAH,SAAA;AAAA,SAAAI,yBAAAF,MAAA,EAAAG,QAAA,QAAAH,MAAA,yBAAAJ,MAAA,GAAAQ,6BAAA,CAAAJ,MAAA,EAAAG,QAAA,OAAAhB,GAAA,EAAAU,CAAA,MAAAb,MAAA,CAAAqB,qBAAA,QAAAC,gBAAA,GAAAtB,MAAA,CAAAqB,qBAAA,CAAAL,MAAA,QAAAH,CAAA,MAAAA,CAAA,GAAAS,gBAAA,CAAAP,MAAA,EAAAF,CAAA,MAAAV,GAAA,GAAAmB,gBAAA,CAAAT,CAAA,OAAAM,QAAA,CAAAI,OAAA,CAAApB,GAAA,uBAAAH,MAAA,CAAAI,SAAA,CAAAoB,oBAAA,CAAAlB,IAAA,CAAAU,MAAA,EAAAb,GAAA,aAAAS,MAAA,CAAAT,GAAA,IAAAa,MAAA,CAAAb,GAAA,cAAAS,MAAA;AAAA,SAAAQ,8BAAAJ,MAAA,EAAAG,QAAA,QAAAH,MAAA,yBAAAJ,MAAA,WAAAa,UAAA,GAAAzB,MAAA,CAAA0B,IAAA,CAAAV,MAAA,OAAAb,GAAA,EAAAU,CAAA,OAAAA,CAAA,MAAAA,CAAA,GAAAY,UAAA,CAAAV,MAAA,EAAAF,CAAA,MAAAV,GAAA,GAAAsB,UAAA,CAAAZ,CAAA,OAAAM,QAAA,CAAAI,OAAA,CAAApB,GAAA,kBAAAS,MAAA,CAAAT,GAAA,IAAAa,MAAA,CAAAb,GAAA,YAAAS,MAAA;AAAA,SAAAe,QAAAC,MAAA,EAAAC,cAAA,QAAAH,IAAA,GAAA1B,MAAA,CAAA0B,IAAA,CAAAE,MAAA,OAAA5B,MAAA,CAAAqB,qBAAA,QAAAS,OAAA,GAAA9B,MAAA,CAAAqB,qBAAA,CAAAO,MAAA,GAAAC,cAAA,KAAAC,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA,WAAAhC,MAAA,CAAAE,wBAAA,CAAA0B,MAAA,EAAAI,GAAA,EAAAC,UAAA,OAAAP,IAAA,CAAAQ,IAAA,CAAAjB,KAAA,CAAAS,IAAA,EAAAI,OAAA,YAAAJ,IAAA;AAAA,SAAAS,cAAAvB,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,WAAAF,SAAA,CAAAD,CAAA,IAAAC,SAAA,CAAAD,CAAA,QAAAA,CAAA,OAAAc,OAAA,CAAA3B,MAAA,CAAAgB,MAAA,OAAAoB,OAAA,WAAAjC,GAAA,IAAAkC,eAAA,CAAAzB,MAAA,EAAAT,GAAA,EAAAa,MAAA,CAAAb,GAAA,SAAAH,MAAA,CAAAsC,yBAAA,GAAAtC,MAAA,CAAAuC,gBAAA,CAAA3B,MAAA,EAAAZ,MAAA,CAAAsC,yBAAA,CAAAtB,MAAA,KAAAW,OAAA,CAAA3B,MAAA,CAAAgB,MAAA,GAAAoB,OAAA,WAAAjC,GAAA,IAAAH,MAAA,CAAAC,cAAA,CAAAW,MAAA,EAAAT,GAAA,EAAAH,MAAA,CAAAE,wBAAA,CAAAc,MAAA,EAAAb,GAAA,iBAAAS,MAAA;AAAA,SAAA4B,mBAAAC,GAAA,WAAAC,kBAAA,CAAAD,GAAA,KAAAE,gBAAA,CAAAF,GAAA,KAAAG,2BAAA,CAAAH,GAAA,KAAAI,kBAAA;AAAA,SAAAA,mBAAA,cAAAC,SAAA;AAAA,SAAAH,iBAAAI,IAAA,eAAAC,MAAA,oBAAAD,IAAA,CAAAC,MAAA,CAAAC,QAAA,aAAAF,IAAA,+BAAAG,KAAA,CAAAC,IAAA,CAAAJ,IAAA;AAAA,SAAAL,mBAAAD,GAAA,QAAAS,KAAA,CAAAE,OAAA,CAAAX,GAAA,UAAAY,iBAAA,CAAAZ,GAAA;AAAA,SAAAJ,gBAAAlD,GAAA,EAAAgB,GAAA,EAAAmD,KAAA,IAAAnD,GAAA,GAAAoD,cAAA,CAAApD,GAAA,OAAAA,GAAA,IAAAhB,GAAA,IAAAa,MAAA,CAAAC,cAAA,CAAAd,GAAA,EAAAgB,GAAA,IAAAmD,KAAA,EAAAA,KAAA,EAAArB,UAAA,QAAAuB,YAAA,QAAAC,QAAA,oBAAAtE,GAAA,CAAAgB,GAAA,IAAAmD,KAAA,WAAAnE,GAAA;AAAA,SAAAoE,eAAAG,GAAA,QAAAvD,GAAA,GAAAwD,YAAA,CAAAD,GAAA,oBAAAhE,OAAA,CAAAS,GAAA,iBAAAA,GAAA,GAAAyD,MAAA,CAAAzD,GAAA;AAAA,SAAAwD,aAAAE,KAAA,EAAAC,IAAA,QAAApE,OAAA,CAAAmE,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAb,MAAA,CAAAgB,WAAA,OAAAD,IAAA,KAAAE,SAAA,QAAAC,GAAA,GAAAH,IAAA,CAAAzD,IAAA,CAAAuD,KAAA,EAAAC,IAAA,oBAAApE,OAAA,CAAAwE,GAAA,uBAAAA,GAAA,YAAApB,SAAA,4DAAAgB,IAAA,gBAAAF,MAAA,GAAAO,MAAA,EAAAN,KAAA;AAAA,SAAAO,eAAA3B,GAAA,EAAA5B,CAAA,WAAAwD,eAAA,CAAA5B,GAAA,KAAA6B,qBAAA,CAAA7B,GAAA,EAAA5B,CAAA,KAAA+B,2BAAA,CAAAH,GAAA,EAAA5B,CAAA,KAAA0D,gBAAA;AAAA,SAAAA,iBAAA,cAAAzB,SAAA;AAAA,SAAAF,4BAAA4B,CAAA,EAAAC,MAAA,SAAAD,CAAA,qBAAAA,CAAA,sBAAAnB,iBAAA,CAAAmB,CAAA,EAAAC,MAAA,OAAAC,CAAA,GAAA1E,MAAA,CAAAI,SAAA,CAAAuE,QAAA,CAAArE,IAAA,CAAAkE,CAAA,EAAAI,KAAA,aAAAF,CAAA,iBAAAF,CAAA,CAAAK,WAAA,EAAAH,CAAA,GAAAF,CAAA,CAAAK,WAAA,CAAAC,IAAA,MAAAJ,CAAA,cAAAA,CAAA,mBAAAxB,KAAA,CAAAC,IAAA,CAAAqB,CAAA,OAAAE,CAAA,+DAAAK,IAAA,CAAAL,CAAA,UAAArB,iBAAA,CAAAmB,CAAA,EAAAC,MAAA;AAAA,SAAApB,kBAAAZ,GAAA,EAAAuC,GAAA,QAAAA,GAAA,YAAAA,GAAA,GAAAvC,GAAA,CAAA1B,MAAA,EAAAiE,GAAA,GAAAvC,GAAA,CAAA1B,MAAA,WAAAF,CAAA,MAAAoE,IAAA,OAAA/B,KAAA,CAAA8B,GAAA,GAAAnE,CAAA,GAAAmE,GAAA,EAAAnE,CAAA,MAAAoE,IAAA,CAAApE,CAAA,IAAA4B,GAAA,CAAA5B,CAAA,YAAAoE,IAAA;AAAA,SAAAX,sBAAA7B,GAAA,EAAA5B,CAAA,QAAAqE,EAAA,WAAAzC,GAAA,gCAAAO,MAAA,IAAAP,GAAA,CAAAO,MAAA,CAAAC,QAAA,KAAAR,GAAA,4BAAAyC,EAAA,QAAAC,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAAC,EAAA,EAAAC,IAAA,OAAAC,EAAA,OAAAC,EAAA,iBAAAJ,EAAA,IAAAH,EAAA,GAAAA,EAAA,CAAA5E,IAAA,CAAAmC,GAAA,GAAAiD,IAAA,QAAA7E,CAAA,QAAAb,MAAA,CAAAkF,EAAA,MAAAA,EAAA,UAAAM,EAAA,uBAAAA,EAAA,IAAAL,EAAA,GAAAE,EAAA,CAAA/E,IAAA,CAAA4E,EAAA,GAAAS,IAAA,MAAAJ,IAAA,CAAArD,IAAA,CAAAiD,EAAA,CAAA7B,KAAA,GAAAiC,IAAA,CAAAxE,MAAA,KAAAF,CAAA,GAAA2E,EAAA,sBAAAI,GAAA,IAAAH,EAAA,OAAAL,EAAA,GAAAQ,GAAA,yBAAAJ,EAAA,YAAAN,EAAA,eAAAI,EAAA,GAAAJ,EAAA,cAAAlF,MAAA,CAAAsF,EAAA,MAAAA,EAAA,2BAAAG,EAAA,QAAAL,EAAA,aAAAG,IAAA;AAAA,SAAAlB,gBAAA5B,GAAA,QAAAS,KAAA,CAAAE,OAAA,CAAAX,GAAA,UAAAA,GAAA;AAErC,IAAMoD,YAAY,GAAG,SAAfA,YAAYA,CAAIC,MAAc;EAAA,OAAMA,MAAM,GAAG,EAAE,WAAWA,MAAM;AAAA,CAAC;AAEvE,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAAC,IAAA,EAmBb;EAAA,IAlBJC,iBAAiB,GAAAD,IAAA,CAAjBC,iBAAiB;IACjBC,eAAe,GAAAF,IAAA,CAAfE,eAAe;IACfC,gBAAgB,GAAAH,IAAA,CAAhBG,gBAAgB;IAChBC,eAAe,GAAAJ,IAAA,CAAfI,eAAe;IACfC,IAAI,GAAAL,IAAA,CAAJK,IAAI;IACJvB,IAAI,GAAAkB,IAAA,CAAJlB,IAAI;IACJwB,WAAW,GAAAN,IAAA,CAAXM,WAAW;IACXC,iBAAiB,GAAAP,IAAA,CAAjBO,iBAAiB;IACjBC,OAAO,GAAAR,IAAA,CAAPQ,OAAO;EAAA,IAAAC,KAAA,GAWuB,CAAA3B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE4B,KAAK,CAAC,KAAK,CAAC,KAAI,EAAE;IAAAC,KAAA,GAAAvC,cAAA,CAAAqC,KAAA;IAA/CG,SAAS,GAAAD,KAAA;IAAEE,QAAQ,GAAAF,KAAA;EAC1B,IAAMG,iBAAiB,GAAG,IAAAC,wBAAkB,EAAC;IAC3CH,SAAS,EAATA,SAAS;IACTC,QAAQ,EAARA;EACF,CAAC,CAAC;EACF,IAAMG,QAAQ,GAAG,IAAAC,wBAAW,EAACT,OAAO,EAAE;IACpCU,KAAK,EAAEX,iBAAiB,GAAGD,WAAW,GAAGrC;EAC3C,CAAC,CAAC;EAEF,IAAMkD,kBAAkB,GAAG,IAAAC,yBAAmB,EAACtC,IAAI,CAAC;EAEpD,IAAImB,iBAAiB,EACnB,oBACEhI,MAAA,YAAAoJ,aAAA,CAACnI,mBAAA,CAAAoI,WAAW;IACVC,IAAI,EAAC,SAAS;IACdC,KAAK,EAAC,aAAa;IACnBC,MAAM,EAAEC,qBAAY;IACpB,aAAU;EAAuB,CAClC,CAAC;EAGN,IAAIxB,eAAe,IAAIC,gBAAgB,EACrC,oBAAOlI,MAAA,YAAAoJ,aAAA,CAAClB,gBAAgB;IAACE,IAAI,EAAEA;EAAK,CAAE,CAAC;EAEzC,IAAMsB,aAAa,GAAGX,QAAQ,GAC1B;IAAEX,IAAI,EAAE,IAAAuB,sCAAiB,EAACZ,QAAQ;EAAE,CAAC,GACrC/C,SAAS;EAEb,oBACEhG,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAAwJ,QAAQ;IACPF,aAAa,EAAEA,aAAc;IAC7BH,KAAK,EAAEL,kBAAmB;IAC1BI,IAAI,EAAC;EAAQ,GAEZnB,eAAe,gBACdnI,MAAA,YAAAoJ,aAAA;IAAKS,GAAG,EAAE1B,eAAgB;IAAC2B,GAAG,EAAEjD;EAAK,CAAE,CAAC,GAExCgC,iBAEM,CAAC;AAEf,CAAC;AAMD,IAAMkB,mBAAiC,GAAG;EACxCC,MAAM,EAAE,cAAc;EACtBzB,OAAO,EAAE,eAAe;EACxB0B,MAAM,EAAE,cAAc;EACtBC,SAAS,EAAE;AACb,CAAC;AAEM,IAAMC,kBAA8D,GAAG,SAAjEA,kBAA8DA,CAAAC,KAAA,EAoBrE;EAAA,IAnBJC,eAAe,GAAAD,KAAA,CAAfC,eAAe;IACfC,gBAAgB,GAAAF,KAAA,CAAhBE,gBAAgB;IAAAC,qBAAA,GAAAH,KAAA,CAChBI,kBAAkB;IAAlBA,kBAAkB,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IACvBE,kBAAkB,GAAAL,KAAA,CAAlBK,kBAAkB;IAClBC,SAAS,GAAAN,KAAA,CAATM,SAAS;IACTC,qBAAqB,GAAAP,KAAA,CAArBO,qBAAqB;IACrBC,QAAQ,GAAAR,KAAA,CAARQ,QAAQ;IACRC,QAAQ,GAAAT,KAAA,CAARS,QAAQ;IACRC,eAAe,GAAAV,KAAA,CAAfU,eAAe;IACfC,oBAAoB,GAAAX,KAAA,CAApBW,oBAAoB;IACpBC,aAAa,GAAAZ,KAAA,CAAbY,aAAa;IACbC,WAAW,GAAAb,KAAA,CAAXa,WAAW;IACX/C,gBAAgB,GAAAkC,KAAA,CAAhBlC,gBAAgB;IAAAgD,qBAAA,GAAAd,KAAA,CAChBe,mBAAmB;IAAnBA,mBAAmB,GAAAD,qBAAA,cAAG,CAAC,GAAAA,qBAAA;IACvBE,mBAAmB,GAAAhB,KAAA,CAAnBgB,mBAAmB;IACnBC,wBAAwB,GAAAjB,KAAA,CAAxBiB,wBAAwB;IACxBC,cAAc,GAAAlB,KAAA,CAAdkB,cAAc;IACdjD,WAAW,GAAA+B,KAAA,CAAX/B,WAAW;IAAAkD,gBAAA,GAAAnB,KAAA,CACXoB,UAAU;IAAVA,UAAU,GAAAD,gBAAA,cAAGE,gCAAQ,CAACC,UAAU,GAAAH,gBAAA;EAEhC,IAAMI,iBAAiB,GAAG,IAAAC,iBAAW,EAAC;IAAA,OAAMlB,SAAS;EAAA,EAAC;EACtD,IAAMmB,cAAc,GAAGnB,SAAS,CAAC5H,MAAM,IAAIqI,mBAAmB;EAE9D,IAAMW,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,KAAU,EAAK;IACtC,IAAMC,KAAK,GAAGD,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEjI,MAAM,CAAC,UAAClB,CAAM;MAAA,OAAKA,CAAC,CAACqJ,SAAS;IAAA,EAAC,CAACnJ,MAAM;IAC3D,OAAO8E,YAAY,CAACoE,KAAK,CAAC;EAC5B,CAAC;EAAC,IAAAE,QAAA,GAEkC,IAAAC,cAAO,EAAC,YAAM;MAAA,IAAAC,YAAA;MAChD,IAAMC,WAAW,IAAAD,YAAA,OAAAhI,eAAA,CAAAgI,YAAA,EACdX,gCAAQ,CAACC,UAAU,EAAG,CAACG,cAAc,GAAG,EAAE,GAAGrB,kBAAkB,GAAApG,eAAA,CAAAgI,YAAA,EAC/DX,gCAAQ,CAACa,OAAO,EAAGjC,eAAe,GAAAjG,eAAA,CAAAgI,YAAA,EAClCX,gCAAQ,CAACc,QAAQ,EAAGjC,gBAAgB,GAAA8B,YAAA,CACtC;MAED,OAAO;QACLI,UAAU,EAAEH,WAAW;QACvBI,WAAW,EAAE,CACX;UACEC,KAAK,EAAE3B,oBAAoB;UAC3B1F,KAAK,EAAEoG,gCAAQ,CAACC,UAAU;UAC1BM,KAAK,EAAEF,eAAe,CAACO,WAAW,CAACZ,gCAAQ,CAACC,UAAU,CAAC;QACzD,CAAC,EACD;UACEgB,KAAK,EAAEC,gBAAI,CAACC,SAAS,CAAC,iBAAiB,EAAE5B,aAAa,CAAC;UACvD3F,KAAK,EAAEoG,gCAAQ,CAACa,OAAO;UACvBN,KAAK,EAAEF,eAAe,CAACO,WAAW,CAACZ,gCAAQ,CAACa,OAAO,CAAC;QACtD,CAAC,EACD;UACEI,KAAK,EAAEC,gBAAI,CAACC,SAAS,CAAC,kBAAkB,EAAE5B,aAAa,CAAC;UACxD3F,KAAK,EAAEoG,gCAAQ,CAACc,QAAQ;UACxBP,KAAK,EAAEF,eAAe,CAACO,WAAW,CAACZ,gCAAQ,CAACc,QAAQ,CAAC;QACvD,CAAC;MAEL,CAAC;IACH,CAAC,EAAE,CACDV,cAAc,EACdrB,kBAAkB,EAClBH,eAAe,EACfC,gBAAgB,EAChBS,oBAAoB,EACpBC,aAAa,CACd,CAAC;IAlCMwB,UAAU,GAAAN,QAAA,CAAVM,UAAU;IAAEC,WAAW,GAAAP,QAAA,CAAXO,WAAW;EAAA,IAAAI,SAAA,GAoCG,IAAAC,eAAQ,EAAetB,UAAU,CAAC;IAAAuB,UAAA,GAAA5G,cAAA,CAAA0G,SAAA;IAA7DG,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAE9B,IAAAG,gBAAS,EAAC,YAAM;IACd,IAAIxC,SAAS,KAAKiB,iBAAiB,EAAE;MACnCb,eAAe,CAACJ,SAAS,CAAC;IAC5B;EACF,CAAC,EAAE,CAACiB,iBAAiB,EAAEjB,SAAS,EAAEI,eAAe,CAAC,CAAC;EAEnD,IAAM7C,eAAe,GAAG+E,SAAS,KAAKvB,gCAAQ,CAACC,UAAU;EACzD,IAAMyB,SAAS,GAAGlF,eAAe,IAAI4D,cAAc,IAAIlB,qBAAqB;EAC5E,IAAMyC,OAAO,GAAGZ,UAAU,CAACQ,SAAS,CAAC;EACrC,IAAMK,gBAAgB,GAAG,IAAAC,0BAAkB,EAAC5C,SAAS,CAAC;EACtD,IAAM6C,aAAa,GAAG,IAAApB,cAAO,EAC3B;IAAA,OACEkB,gBAAgB,IAEV;MACEpB,SAAS,EAAE,IAAI;MACfjE,iBAAiB,EAAE,IAAI;MACvBnB,IAAI,EAAEuE,mBAAmB;MACzBoC,WAAW,EAAE9C;IACf,CAAC,EAAA+C,MAAA,CAAAlJ,kBAAA,CACE6I,OAAO,KAEZA,OAAO;EAAA,GACb,CAAC1C,SAAS,EAAE0C,OAAO,EAAEC,gBAAgB,EAAEjC,mBAAmB,CAC5D,CAAC;EAED,IAAMsC,kBAAkB,GAAG,IAAAC,aAAM,EAAM,IAAI,CAAC;EAAC,IAAAC,kBAAA,GAYzC,IAAAC,uBAAiB,EAAC;MACpBC,UAAU,EAAEpD,SAAS;MACrB0C,OAAO,EAAEG,aAAa;MACtB3C,QAAQ,EAARA,QAAQ;MACRmD,QAAQ,EAAE,SAAAA,SAACC,CAAC,EAAEC,MAAM,EAAK;QACvB,IAAMC,IAAI,GAAAhK,aAAA,KAAQ+J,MAAM,CAAE;QAC1B,IAAIA,MAAM,CAACjG,iBAAiB,EAAE;UAC5BkG,IAAI,CAACrH,IAAI,GAAGqH,IAAI,CAACV,WAAW;QAC9B;QACA/C,kBAAkB,CAACyD,IAAI,CAAC;MAC1B;IACF,CAAC,CAAC;IApBAC,WAAW,GAAAP,kBAAA,CAAXO,WAAW;IACXL,UAAU,GAAAF,kBAAA,CAAVE,UAAU;IACVM,YAAY,GAAAR,kBAAA,CAAZQ,YAAY;IACZC,YAAY,GAAAT,kBAAA,CAAZS,YAAY;IACZC,gBAAgB,GAAAV,kBAAA,CAAhBU,gBAAgB;IAChBC,aAAa,GAAAX,kBAAA,CAAbW,aAAa;IACbC,iBAAiB,GAAAZ,kBAAA,CAAjBY,iBAAiB;IACjBC,4BAA4B,GAAAb,kBAAA,CAA5Ba,4BAA4B;IAC5BC,mBAAmB,GAAAd,kBAAA,CAAnBc,mBAAmB;EAcrB,IAAAC,0BAAmB,EAACjB,kBAAkB,EAAE;IAAA,OAAMgB,mBAAmB;EAAA,EAAC;EAElE,IAAAxB,gBAAS,EAAC,YAAM;IACd,IAAIK,aAAa,CAACzK,MAAM,EAAE;MACxB4K,kBAAkB,aAAlBA,kBAAkB,uBAAlBA,kBAAkB,CAAEkB,OAAO,CAAC,CAAC,EAAE;QAAEC,MAAM,EAAE,OAAO;QAAEC,QAAQ,EAAE;MAAK,CAAC,CAAC;IACrE;EACF,CAAC,EAAE,CAACvB,aAAa,CAAC,CAAC;EAAC,IAAAwB,qBAAA,GAEyB,IAAAC,sCAA4B,EAAC,CAAC;IAAnEC,iBAAiB,GAAAF,qBAAA,CAAjBE,iBAAiB;IAAEC,aAAa,GAAAH,qBAAA,CAAbG,aAAa;EACxC,IAAAP,0BAAmB,EAACO,aAAa,EAAE;IAAA,OAAMX,aAAa,CAAC,CAAC;EAAA,EAAC;EACzD,IAAAI,0BAAmB,EAACM,iBAAiB,EAAE;IAAA,OAAMT,iBAAiB,CAAC,CAAC;EAAA,EAAC;EAEjE,IAAMW,iBAAiB,GAAG,IAAAC,kBAAW,EACnC,UAAAC,KAAA,EAIsE;IAAA,IAHpEjH,IAAI,GAAAiH,KAAA,CAAJjH,IAAI;MACJkH,SAAS,GAAAD,KAAA,CAATC,SAAS;MACT9B,WAAW,GAAA6B,KAAA,CAAX7B,WAAW;IAEX,IAAI+B,kBAAkB,GAAGD,SAAS;IAClC,IAAIlH,IAAI,KAAKqD,gCAAQ,CAACc,QAAQ,EAAE;MAC9BgD,kBAAkB,GAAG5C,gBAAI,CAACC,SAAS,CACjC0C,SAAS,EACTtE,aACF,CAAC;IACH,CAAC,MAAM,IAAI5C,IAAI,KAAKqD,gCAAQ,CAACa,OAAO,EAAE;MACpCiD,kBAAkB,GAAG5C,gBAAI,CAACC,SAAS,CAChC7C,mBAAmB,CAACuF,SAAS,CAAC,IAAIA,SAAS,EAC5CtE,aACF,CAAC;IACH;IACA,IAAI5C,IAAI,KAAKqD,gCAAQ,CAACa,OAAO,IAAIgD,SAAS,KAAKE,sBAAU,CAACtF,SAAS,EAAE;MACnE,UAAAuD,MAAA,CAAU8B,kBAAkB,QAAA9B,MAAA,CAAKD,WAAW;IAC9C;IAEA,UAAAC,MAAA,CAAUxC,WAAW,CAACuC,WAAW,CAAC,SAAAC,MAAA,CAAM8B,kBAAkB;EAC5D,CAAC,EACD,CAACvE,aAAa,EAAEC,WAAW,CAC7B,CAAC;;EAED;EACA,IAAMwE,aAAkB,GAAG,CAAC,CAAC;EAC7B,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,MAAM,EAAE;IACnCH,aAAa,CAACI,gBAAgB,GAAG1B,WAAW,CAACrL,MAAM;IACnD2M,aAAa,CAACvN,GAAG,GAAGiM,WAAW,CAACrL,MAAM;EACxC;EACA,oBACE9C,MAAA,YAAAoJ,aAAA,CAACnI,mBAAA,CAAA6O,wBAAwB;IAAC,aAAU;EAAoB,gBACtD9P,MAAA,YAAAoJ,aAAA,CAACnI,mBAAA,CAAA8O,iBAAiB,qBAChB/P,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAA4P,MAAM;IACL,aAAU,kBAAkB;IAC5B3K,KAAK,EAAE2H,SAAU;IACjBiD,QAAQ,EAAE,SAAAA,SAACjC,CAAC,EAAEkC,CAAC,EAAK;MAAA,IAAAC,iBAAA;MAClB,CAAAA,iBAAA,GAAAvF,QAAQ,CAACgE,OAAO,cAAAuB,iBAAA,uBAAhBA,iBAAA,CAAkBC,KAAK,CAAC,CAAC;MACzBnD,YAAY,CAACiD,CAAC,CAAC;MACf5E,cAAc,CACZ4E,CAAC,KAAK,YAAY,GAAGnF,oBAAoB,CAACsF,iBAAiB,CAAC,CAAC,GAAGH,CAClE,CAAC;IACH,CAAE;IACFI,OAAO,EAAC,UAAU;IAClBzF,QAAQ,EAAEA,QAAS;IACnB0F,eAAe,EAAE;MACfC,QAAQ,EAAE,UAAU;MACpBC,SAAS,EAAE;QACTC,eAAe,EAAE;MACnB;IACF;EAAE,GAEDjE,WAAW,CAACkE,GAAG,CAAC,UAAAC,KAAA,EAA6B;IAAA,IAA1BlE,KAAK,GAAAkE,KAAA,CAALlE,KAAK;MAAEV,KAAK,GAAA4E,KAAA,CAAL5E,KAAK;MAAE3G,KAAK,GAAAuL,KAAA,CAALvL,KAAK;IACrC,IAAMwL,OAAO,MAAApD,MAAA,CAAMf,KAAK,QAAAe,MAAA,CAAKzB,KAAK,MAAG;IACrC,oBACEhM,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAA0Q,KAAK;MACJ5O,GAAG,EAAEwK,KAAM;MACX,gBAAAe,MAAA,CAAcpI,KAAK,wBAAsB;MACzCqH,KAAK,eACH1M,MAAA,YAAAoJ,aAAA,CAAC1I,QAAA,CAAAqQ,OAAO;QAACC,KAAK,EAAEH;MAAQ,gBACtB7Q,MAAA,YAAAoJ,aAAA,CAACnI,mBAAA,CAAAgQ,OAAO;QAAC,gBAAAxD,MAAA,CAAcpI,KAAK;MAAiB,GAC1CwL,OACM,CACF,CACV;MACDxL,KAAK,EAAEA;IAAM,CACd,CAAC;EAEN,CAAC,CACK,CACS,CAAC,eACpBrF,MAAA,YAAAoJ,aAAA,CAACnI,mBAAA,CAAAiQ,eAAe,qBACdlR,MAAA,YAAAoJ,aAAA,CAACtI,gBAAA,CAAAqQ,eAAe;IACdC,UAAU,EAAErG,oBAAqB;IACjCC,aAAa,EAAEA,aAAc;IAC7BqG,WAAW,EAAE3G,SAAS,CAAC5H,MAAO;IAC9BqK,SAAS,EAAEA,SAAU;IACrBH,SAAS,EAAEA,SAAU;IACrBsE,UAAU,EAAE,CAAC,CAACnD,WAAW,CAACrL,MAAO;IACjCyO,mBAAmB,EAAEpG;EAAoB,CAC1C,CAAC,EACDgD,WAAW,CAACrL,MAAM,GAAG,CAAC,iBACrB9C,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAAoR,gBAAgB,EAAAhP,QAAA;IACf,aAAU,uBAAuB;IACjCiP,QAAQ,EAAE,CAAC,CAAE;IACbnD,gBAAgB,EAAEA,gBAAiB;IACnCG,4BAA4B,EAAEA,4BAA6B;IAC3DrB,OAAO,EAAEe,WAAY;IACrBL,UAAU,EAAEA,UAAW;IACvBM,YAAY,EAAEA,YAAa;IAC3BC,YAAY,EAAEA;EAAa,GACvBoB,aAAa;IACjBiC,YAAY,EAAE,SAAAA,aAACC,KAAyB,EAAEC,KAAK,EAAK;MAAA,IAEhD/K,IAAI,GAWF8K,KAAK,CAXP9K,IAAI;QACJ2G,WAAW,GAUTmE,KAAK,CAVPnE,WAAW;QACX8B,SAAS,GASPqC,KAAK,CATPrC,SAAS;QACTrD,SAAS,GAQP0F,KAAK,CARP1F,SAAS;QACT7D,IAAI,GAOFuJ,KAAK,CAPPvJ,IAAI;QACJyJ,SAAS,GAMPF,KAAK,CANPE,SAAS;QAAAC,qBAAA,GAMPH,KAAK,CALP3J,iBAAiB;QAAjBA,iBAAiB,GAAA8J,qBAAA,cAAG,KAAK,GAAAA,qBAAA;QAAAC,qBAAA,GAKvBJ,KAAK,CAJPxJ,eAAe;QAAfA,eAAe,GAAA4J,qBAAA,cAAG,EAAE,GAAAA,qBAAA;QACpBxJ,OAAO,GAGLoJ,KAAK,CAHPpJ,OAAO;QACPyJ,cAAc,GAEZL,KAAK,CAFPK,cAAc;QACXC,SAAS,GAAAhP,wBAAA,CACV0O,KAAK;MACT,IAAMrJ,iBAAiB,GAAG,CAAC,EACzB0E,SAAS,KAAKvB,gCAAQ,CAACa,OAAO,IAC9BL,SAAS,KACT1D,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAE2J,EAAE,EACZ;MAED,IAAMC,OAAO,GAAGhD,iBAAiB,CAAC;QAChCG,SAAS,EAATA,SAAS;QACTlH,IAAI,EAAJA,IAAI;QACJoF,WAAW,EAAXA;MACF,CAAC,CAAC;MACF,OAAOvB,SAAS,gBACdjM,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAAgS,UAAU,EAAA5P,QAAA;QACT6P,OAAO,EAAET,KAAK,CAACU,WAAY;QAC3B,aACEtK,iBAAiB,GACb,yBAAyB,GACzB,6BACL;QACDuK,MAAM,eACJvS,MAAA,YAAAoJ,aAAA,CAACtB,aAAa;UACZS,OAAO,EAAEA,OAAQ;UACjBD,iBAAiB,EAAEA,iBAAkB;UACrCD,WAAW,EAAEA,WAAY;UACzBL,iBAAiB,EAAEA,iBAAkB;UACrCI,IAAI,EAAEA,IAAK;UACXF,gBAAgB,EAAEA,gBAAiB;UACnCrB,IAAI,EAAEA,IAAK;UACXoB,eAAe,EAAEA,eAAgB;UACjCE,eAAe,EAAEA;QAAgB,CAClC;MACF,GACG8J,SAAS,gBAEbjS,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAAoS,cAAc;QACbC,OAAO,eACLzS,MAAA,YAAAoJ,aAAA,CAAApJ,MAAA,YAAA0S,QAAA,qBACE1S,MAAA,YAAAoJ,aAAA,CAACnI,mBAAA,CAAA0R,WAAW;UACV,aACE3K,iBAAiB,GACb,sBAAsB,GACtB;QACL,gBAEDhI,MAAA,YAAAoJ,aAAA,CAACzI,kBAAA,CAAAiS,iBAAiB;UAChBC,aAAa,EAAE/E,UAAW;UAC1BgF,IAAI,EAAEjM;QAAK,CACZ,CACU,CAAC,EACbgL,SAAS,iBACR7R,MAAA,YAAAoJ,aAAA,CAACvI,mBAAA,CAAAkS,kBAAkB;UAAC/H,aAAa,EAAEA;QAAc,CAAE,CAErD,CACH;QACDgI,SAAS,EACPhL,iBAAiB,gBACfhI,MAAA,YAAAoJ,aAAA;UACE4H,KAAK,EAAExD,WAAY;UACnB,aAAU;QAAuB,GAEhCA,WACG,CAAC,gBAEPxN,MAAA,YAAAoJ,aAAA;UAAM4H,KAAK,EAAEmB;QAAQ,GAAEA,OAAc;MAExC,CACF,CAAC,EACDnK,iBAAiB,iBAChBhI,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAA6S,yBAAyB;QAAC,aAAU;MAAU,gBAC7CjT,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAA8S,MAAM;QAAC3J,KAAK,EAAC,gBAAgB;QAACC,MAAM,EAAE2J;MAAK,CAAE,CACrB,CAEnB,CAAC,gBAEbnT,MAAA,YAAAoJ,aAAA,CAAChJ,KAAA,CAAAgS,UAAU,EAAA5P,QAAA;QACT4Q,QAAQ,EAAExB,KAAK,CAACwB,QAAS;QACzB,aAAU,6BAA6B;QACvCb,MAAM,eAAEvS,MAAA,YAAAoJ,aAAA,CAAApJ,MAAA,YAAA0S,QAAA,MAAI;MAAE,GACVT,SAAS,gBAEbjS,MAAA,YAAAoJ,aAAA,CAACnI,mBAAA,CAAAoS,kBAAkB;QACjBrC,KAAK,EAAEmB,OAAQ;QACfa,SAAS,EAAEb,OAAQ;QACnBmB,KAAK,EAAErL;MAAgB,CACxB,CACS,CACb;IACH,CAAE;IACFsL,aAAa,EAAE,SAAAA,cAACxH,KAAK,EAAK;MACxB,IAAIiB,SAAS,KAAKvB,gCAAQ,CAACa,OAAO,EAAE;MAEpC,IAAMkH,GAAG,GAAGzH,KAAK,CACdjI,MAAM,CAAC,UAAA2P,KAAA;QAAA,IAAGC,IAAI,GAAAD,KAAA,CAAJC,IAAI;QAAA,OAAOA,IAAI,IAAIA,IAAI,CAACzH,SAAS,IAAIyH,IAAI,CAACxB,EAAE;MAAA,EAAC,CACvDvB,GAAG,CAAC,UAAAgD,KAAA;QAAA,IAAGD,IAAI,GAAAC,KAAA,CAAJD,IAAI;QAAA,OAAOA,IAAI,CAACxB,EAAE;MAAA,EAAC;MAE7B,IAAIsB,GAAG,CAAC1Q,MAAM,GAAG,CAAC,EAAE;QAClBuI,wBAAwB,CAACmI,GAAG,CAAC;MAC/B;IACF;EAAE,EACH,CAEY,CACO,CAAC;AAE/B,CAAC;AAACI,OAAA,CAAAzJ,kBAAA,GAAAA,kBAAA"}