{"version":3,"file":"ContactSearchPanel.js","names":["_phoneTypes","require","_trackEvents","_juno","_junoIcon","_react","_interopRequireWildcard","_contexts","_ContactSearchHelper","_usePresence","_helper","_Tooltip","_TextWithHighlight","_ContactSearchPanelEnum","_DoNotCallIndicator","_HelpTextSection","_helper2","_i18n","_interopRequireDefault","_ContactSearchPanel","_excluded","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ownKeys","keys","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","iterator","Array","from","isArray","_arrayLikeToArray","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","a","toString","slice","constructor","name","test","l","u","next","done","PrimaryAvatar","_ref","inOtherTab","isDirectlyProceed","inThirdPartyTab","ThirdPartyAvatar","profileImageUrl","type","getPresence","needFetchPresence","contact","_ref2","split","_ref3","firstName","lastName","presentAvatarName","useAvatarShortName","presence","usePresence","fetch","undefined","presentAvatarcolor","useAvatarColorToken","createElement","DefaultIcon","size","color","symbol","UserDefault","CallQueueIcon","CallQueue","presenceProps","getPresenceStatus","RcAvatar","src","alt","companyPhoneTypeMap","mobile","direct","extension","ContactSearchPanel","exports","_ref4","otherContacts","companyContacts","personalContacts","_ref4$thirdPartyConta","thirdPartyContacts","optionClickHandler","userInput","isThirdPartySearching","inputRef","centered","setFilterString","thirdPartySourceName","currentLocale","formatPhone","_ref4$minimumSearchLe","minimumSearchLength","directlyProceedText","getCompanyExtraInfoByIds","changeTabTrack","_ref4$defaultTab","defaultTab","TabsEnum","thirdParty","showOtherContacts","_ref4$triggerEventTra","triggerEventTracking","_useState","useState","_useState2","activeTab","setActiveTab","previousUserInput","usePrevious","isAbleToSearch","isLoading","_useMemo","useMemo","_optionsMap","generateOptionsMap","_tabItemsMap","generateTabs","optionsMap","_tabsKey","map","tab","count","join","tabsKey","tabItemsMap","tabLabels","reduce","acc","label","debounceTracking","useDebounce","result","key","trackEvents","getContactSearch","useEffect","other","options","showDirectlyItem","validateValidChars","finialOptions","isPrimary","phoneNumber","concat","setIndexHandlerRef","useRef","_useSuggestionList","useSuggestionList","inputValue","onSelect","option","item","searchedContactClicked","optionItems","getMenuProps","getItemProps","highlightedIndex","getInputProps","getInputAriaProps","changeHighlightedIndexReason","setHighlightedIndex","useImperativeHandle","current","reason","reRender","_useCommunicationSetu","useCommunicationSetupContext","inputAriaPropsRef","inputPropsRef","getFormattedLabel","useCallback","_ref5","phoneType","formattedPhoneType","personal","i18n","getString","company","phoneTypes","additionProps","process","env","NODE_ENV","initialItemCount","StyledContactSearchPanel","StyledTabsWrapper","RcTabs","onChange","v","_inputRef$current","focus","toLocaleLowerCase","variant","MoreButtonProps","datatype","style","padding","MoreIcon","isMenuOpen","RcIcon","ArrowUp2","ArrowDown2","MenuProps","marginThreshold","_ref6","tabName","RcTab","Tooltip","title","TabText","FullSizeWrapper","HelpTextSection","sourceName","inputLength","hasRecords","searchMinimumLength","RcSuggestionList","tabIndex","renderOption","props","state","doNotCall","_props$isDirectlyProc","_props$profileImageUr","presenceStatus","accountName","entityType","resourceType","restProps","id","content","RcMenuItem","focused","highlighted","avatar","RcListItemText","primary","Fragment","ContactName","TextWithHighlight","highLightText","text","DoNotCallIndicator","secondary","RcListItemSecondaryAction","Dial","selected","StyledListItemText","inset","itemsRendered","items","ids","_ref7","data","_ref8","displayName"],"sources":["components/ContactSearchPanel/ContactSearchPanel.tsx"],"sourcesContent":["import { phoneTypes } from '@ringcentral-integration/commons/enums/phoneTypes';\nimport { trackEvents } from '@ringcentral-integration/commons/enums/trackEvents';\nimport type {\n  ContactPresence,\n  IContact,\n} from '@ringcentral-integration/commons/interfaces/Contact.model';\nimport {\n  RcAvatar,\n  RcIcon,\n  RcListItemSecondaryAction,\n  RcListItemText,\n  RcMenuItem,\n  RcSuggestionList,\n  RcTab,\n  RcTabs,\n  useAvatarColorToken,\n  useAvatarShortName,\n  useDebounce,\n  usePrevious,\n  useSuggestionList,\n} from '@ringcentral/juno';\nimport {\n  Dial,\n  ArrowUp2,\n  ArrowDown2,\n  UserDefault,\n  CallQueue,\n} from '@ringcentral/juno-icon';\nimport type { FunctionComponent } from 'react';\nimport React, {\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useCommunicationSetupContext } from '../../contexts';\nimport type {\n  ContactSearchPanelProps,\n  IContactSearchItem,\n} from '../../modules/ContactSearchUI';\nimport { getPresenceStatus } from '../../modules/ContactSearchUI/ContactSearchHelper';\nimport type { GetPresenceFn } from '../../react-hooks/usePresence';\nimport { usePresence } from '../../react-hooks/usePresence';\nimport { validateValidChars } from '../CommunicationSetupPanel/helper';\nimport { Tooltip } from '../Rcui/Tooltip';\nimport { TextWithHighlight } from '../TextWithHighlight/TextWithHighlight';\n\nimport type { TabsEnumType } from './ContactSearchPanelEnum';\nimport { TabsEnum } from './ContactSearchPanelEnum';\nimport { DoNotCallIndicator } from './DoNotCallIndicator';\nimport { HelpTextSection } from './HelpTextSection';\nimport { generateOptionsMap, generateTabs } from './helper';\nimport i18n, { type I18nKey } from './i18n';\nimport {\n  CallQueueIcon,\n  ContactName,\n  DefaultIcon,\n  FullSizeWrapper,\n  StyledContactSearchPanel,\n  StyledListItemText,\n  StyledTabsWrapper,\n  TabText,\n} from './styles/ContactSearchPanel';\n\nconst PrimaryAvatar = ({\n  inOtherTab,\n  isDirectlyProceed,\n  inThirdPartyTab,\n  ThirdPartyAvatar,\n  profileImageUrl,\n  type,\n  name,\n  getPresence,\n  needFetchPresence,\n  contact,\n}: Pick<ContactSearchPanelProps, 'ThirdPartyAvatar'> & {\n  inOtherTab: boolean;\n  isDirectlyProceed: boolean;\n  inThirdPartyTab: boolean;\n  type: string;\n  name: string;\n  profileImageUrl: string;\n  getPresence: GetPresenceFn;\n  contact: IContact & { presence?: ContactPresence };\n  needFetchPresence: boolean;\n}) => {\n  const [firstName, lastName] = name?.split(/\\s+/) || [];\n  const presentAvatarName = useAvatarShortName({\n    firstName,\n    lastName,\n  });\n  const presence = usePresence(contact, {\n    fetch: needFetchPresence ? getPresence : undefined,\n  });\n\n  const presentAvatarcolor = useAvatarColorToken(name);\n\n  if (isDirectlyProceed)\n    return (\n      <DefaultIcon\n        size=\"xxlarge\"\n        color=\"neutral.f01\"\n        symbol={UserDefault}\n        data-sign=\"directlyProceedAvatar\"\n      />\n    );\n\n  if (inOtherTab) {\n    return (\n      <CallQueueIcon\n        symbol={CallQueue}\n        data-sign=\"callQueueAvatar\"\n        size=\"xxlarge\"\n        color=\"neutral.f01\"\n      />\n    );\n  }\n\n  if (inThirdPartyTab && ThirdPartyAvatar)\n    return <ThirdPartyAvatar type={type} />;\n\n  const presenceProps = presence\n    ? { type: getPresenceStatus(presence) }\n    : undefined;\n\n  return (\n    <RcAvatar\n      presenceProps={presenceProps}\n      color={presentAvatarcolor}\n      size=\"xsmall\"\n    >\n      {profileImageUrl ? (\n        <img src={profileImageUrl} alt={name} />\n      ) : (\n        presentAvatarName\n      )}\n    </RcAvatar>\n  );\n};\n\ninterface PhoneTypeMap {\n  [key: string]: string;\n}\n\nconst companyPhoneTypeMap: PhoneTypeMap = {\n  mobile: 'MobileNumber',\n  contact: 'ContactNumber',\n  direct: 'DirectNumber',\n  extension: 'extension',\n};\n\nexport const ContactSearchPanel: FunctionComponent<ContactSearchPanelProps> = ({\n  otherContacts,\n  companyContacts,\n  personalContacts,\n  thirdPartyContacts = [],\n  optionClickHandler,\n  userInput,\n  isThirdPartySearching,\n  inputRef,\n  centered,\n  setFilterString,\n  thirdPartySourceName,\n  currentLocale,\n  formatPhone,\n  ThirdPartyAvatar,\n  minimumSearchLength = 0,\n  directlyProceedText,\n  getCompanyExtraInfoByIds,\n  changeTabTrack,\n  getPresence,\n  defaultTab = TabsEnum.thirdParty,\n  showOtherContacts,\n  triggerEventTracking = () => {},\n}) => {\n  const [activeTab, setActiveTab] = useState<TabsEnumType>(defaultTab);\n  const previousUserInput = usePrevious(() => userInput);\n  const isAbleToSearch = userInput.length >= minimumSearchLength;\n  const inThirdPartyTab = activeTab === TabsEnum.thirdParty;\n  const isLoading = inThirdPartyTab && isAbleToSearch && isThirdPartySearching;\n\n  const { optionsMap, tabItemsMap, tabsKey } = useMemo(() => {\n    const _optionsMap = generateOptionsMap({\n      showOtherContacts,\n      isAbleToSearch,\n      companyContacts,\n      otherContacts,\n      personalContacts,\n      thirdPartyContacts,\n    });\n\n    const _tabItemsMap = generateTabs({\n      optionsMap: _optionsMap,\n      thirdPartySourceName,\n      currentLocale,\n      isLoading,\n    });\n\n    const _tabsKey = _tabItemsMap.map((tab) => tab.count).join('-');\n\n    return {\n      tabsKey: _tabsKey,\n      optionsMap: _optionsMap,\n      tabItemsMap: showOtherContacts ? _tabItemsMap : _tabItemsMap.slice(0, 2),\n    };\n  }, [\n    isAbleToSearch,\n    thirdPartyContacts,\n    companyContacts,\n    personalContacts,\n    otherContacts,\n    thirdPartySourceName,\n    currentLocale,\n    isLoading,\n    showOtherContacts,\n  ]);\n\n  const tabLabels = tabItemsMap.reduce(\n    (acc, tab) => {\n      acc[tab.value] = tab.label;\n      return acc;\n    },\n    {} as {\n      [key in TabsEnumType]: string;\n    },\n  ) as {\n    [key in TabsEnumType]: string;\n  };\n\n  const debounceTracking = useDebounce((optionsMap, tabLabels) => {\n    const result = Object.keys(optionsMap)\n      .filter((key) => {\n        const map = optionsMap as { [x: string]: IContactSearchItem[] };\n        return map[key].length > 0;\n      })\n      .map((key) => (tabLabels as { [x: string]: string })[key]);\n\n    if (result && result.length > 0) {\n      triggerEventTracking(trackEvents.getContactSearch, result.join(', '));\n    }\n  }, 1000);\n\n  useEffect(() => {\n    debounceTracking(optionsMap, tabLabels);\n  }, [optionsMap, tabLabels, debounceTracking]);\n\n  useEffect(() => {\n    if (userInput !== previousUserInput) {\n      setFilterString(userInput);\n    }\n  }, [previousUserInput, userInput, setFilterString]);\n\n  const inOtherTab = activeTab === TabsEnum.other;\n  const options = optionsMap[activeTab] as IContactSearchItem[];\n  const showDirectlyItem = validateValidChars(userInput);\n  const finialOptions = useMemo(\n    () =>\n      showDirectlyItem\n        ? [\n            {\n              isPrimary: true,\n              isDirectlyProceed: true,\n              name: directlyProceedText,\n              phoneNumber: userInput,\n            } as unknown as IContactSearchItem,\n            ...options,\n          ]\n        : options,\n    [userInput, options, showDirectlyItem, directlyProceedText],\n  );\n\n  const setIndexHandlerRef = useRef<any>(null);\n\n  const {\n    optionItems,\n    inputValue,\n    getMenuProps,\n    getItemProps,\n    highlightedIndex,\n    getInputProps,\n    getInputAriaProps,\n    changeHighlightedIndexReason,\n    setHighlightedIndex,\n  } = useSuggestionList({\n    inputValue: userInput,\n    options: finialOptions,\n    inputRef,\n    onSelect: (e, option) => {\n      const item = { ...option };\n      if (option.isDirectlyProceed) {\n        item.name = item.phoneNumber;\n      }\n      optionClickHandler(item);\n      triggerEventTracking(\n        trackEvents.searchedContactClicked,\n        tabLabels[activeTab],\n      );\n    },\n  });\n\n  useImperativeHandle(setIndexHandlerRef, () => setHighlightedIndex);\n\n  useEffect(() => {\n    if (finialOptions.length) {\n      setIndexHandlerRef?.current(0, { reason: 'mouse', reRender: true });\n    }\n  }, [finialOptions]);\n\n  const { inputAriaPropsRef, inputPropsRef } = useCommunicationSetupContext();\n  useImperativeHandle(inputPropsRef, () => getInputProps());\n  useImperativeHandle(inputAriaPropsRef, () => getInputAriaProps());\n\n  const getFormattedLabel = useCallback(\n    ({\n      type,\n      phoneType,\n      phoneNumber,\n    }: Pick<IContactSearchItem, 'phoneType' | 'phoneNumber' | 'type'>) => {\n      let formattedPhoneType = phoneType;\n      if (type === TabsEnum.personal) {\n        formattedPhoneType = i18n.getString(\n          phoneType as I18nKey,\n          currentLocale,\n        );\n      } else if (type === TabsEnum.company) {\n        formattedPhoneType = i18n.getString(\n          (companyPhoneTypeMap[phoneType] || phoneType) as I18nKey,\n          currentLocale,\n        );\n      }\n      if (type === TabsEnum.company && phoneType === phoneTypes.extension) {\n        return `${formattedPhoneType}. ${phoneNumber}`;\n      }\n\n      return `${formatPhone(phoneNumber)} - ${formattedPhoneType}`;\n    },\n    [currentLocale, formatPhone],\n  );\n\n  //! code will not to package into prod env.\n  const additionProps: any = {};\n  if (process.env.NODE_ENV === 'test') {\n    additionProps.initialItemCount = optionItems.length;\n    additionProps.key = optionItems.length;\n  }\n\n  return (\n    <StyledContactSearchPanel data-sign=\"contactSearchPanel\">\n      <StyledTabsWrapper>\n        <RcTabs\n          key={tabsKey}\n          data-sign=\"contactTabsTitle\"\n          value={activeTab}\n          onChange={(e, v) => {\n            inputRef.current?.focus();\n            setActiveTab(v);\n            changeTabTrack(\n              v === 'thirdParty' ? thirdPartySourceName.toLocaleLowerCase() : v,\n            );\n          }}\n          variant=\"moreMenu\"\n          centered={centered}\n          MoreButtonProps={{\n            datatype: 'moreMenu',\n            // @ts-ignore\n            'data-sign': 'moreMenu',\n            style: {\n              padding: 0,\n            },\n            MoreIcon: (isMenuOpen: boolean) =>\n              isMenuOpen ? (\n                <RcIcon symbol={ArrowUp2} />\n              ) : (\n                <RcIcon symbol={ArrowDown2} />\n              ),\n            MenuProps: {\n              marginThreshold: 6,\n            },\n          }}\n        >\n          {tabItemsMap.map(({ label, count, value }) => {\n            const tabName = `${label} (${count})`;\n            return (\n              <RcTab\n                style={{\n                  padding: '6px 8px',\n                }}\n                key={label}\n                data-sign={`${value}ContactSearchResult`}\n                label={\n                  <Tooltip title={tabName}>\n                    <TabText data-sign={`${value}ContactTabName`}>\n                      {tabName}\n                    </TabText>\n                  </Tooltip>\n                }\n                value={value}\n              />\n            );\n          })}\n        </RcTabs>\n      </StyledTabsWrapper>\n      <FullSizeWrapper>\n        <HelpTextSection\n          sourceName={thirdPartySourceName}\n          currentLocale={currentLocale}\n          inputLength={userInput.length}\n          isLoading={isLoading}\n          activeTab={activeTab}\n          hasRecords={!!optionItems.length}\n          searchMinimumLength={minimumSearchLength}\n        />\n        {optionItems.length > 0 && (\n          <RcSuggestionList\n            data-sign=\"contactSearchDropdown\"\n            tabIndex={-1}\n            highlightedIndex={highlightedIndex}\n            changeHighlightedIndexReason={changeHighlightedIndexReason}\n            options={optionItems}\n            inputValue={inputValue}\n            getMenuProps={getMenuProps}\n            getItemProps={getItemProps}\n            {...additionProps}\n            renderOption={(props: IContactSearchItem, state) => {\n              const {\n                name,\n                phoneNumber,\n                phoneType,\n                isPrimary,\n                type,\n                doNotCall,\n                isDirectlyProceed = false,\n                profileImageUrl = '',\n                contact,\n                presenceStatus,\n                accountName,\n                // @ts-ignore\n                entityType,\n                // @ts-ignore\n                resourceType,\n                ...restProps\n              } = props;\n              const needFetchPresence = !!(\n                activeTab === TabsEnum.company &&\n                isPrimary &&\n                contact?.id\n              );\n\n              const content = getFormattedLabel({\n                phoneType,\n                type,\n                phoneNumber,\n              });\n              return isPrimary ? (\n                <RcMenuItem\n                  focused={state.highlighted}\n                  data-sign={\n                    isDirectlyProceed\n                      ? 'directlyProceedEntrance'\n                      : 'contactSearchSelectMenuItem'\n                  }\n                  avatar={\n                    <PrimaryAvatar\n                      contact={contact}\n                      needFetchPresence={needFetchPresence}\n                      getPresence={getPresence}\n                      isDirectlyProceed={isDirectlyProceed}\n                      type={type}\n                      ThirdPartyAvatar={ThirdPartyAvatar}\n                      name={name}\n                      inOtherTab={inOtherTab}\n                      inThirdPartyTab={inThirdPartyTab}\n                      profileImageUrl={profileImageUrl}\n                    />\n                  }\n                  {...restProps}\n                >\n                  <RcListItemText\n                    primary={\n                      <>\n                        <ContactName\n                          data-sign={\n                            isDirectlyProceed\n                              ? 'DirectlyProceedTitle'\n                              : 'contactSearchItem'\n                          }\n                        >\n                          <TextWithHighlight\n                            highLightText={inputValue}\n                            text={name}\n                          />\n                        </ContactName>\n                        {doNotCall && (\n                          <DoNotCallIndicator currentLocale={currentLocale} />\n                        )}\n                      </>\n                    }\n                    secondary={\n                      isDirectlyProceed ? (\n                        <span\n                          title={phoneNumber}\n                          data-sign=\"directlyProceedNumber\"\n                        >\n                          {phoneNumber}\n                        </span>\n                      ) : (\n                        <>\n                          <span title={content}>{content}</span>{' '}\n                          {accountName && (\n                            <>\n                              <br />\n                              <span\n                                title={accountName} //todo: test account name once design is finalized\n                                style={{ color: 'gray' }}\n                              >\n                                {accountName}\n                              </span>\n                            </>\n                          )}{' '}\n                        </>\n                      )\n                    }\n                  />\n                  {isDirectlyProceed && (\n                    <RcListItemSecondaryAction data-sign=\"dialIcon\">\n                      <RcIcon color=\"action.primary\" symbol={Dial} />\n                    </RcListItemSecondaryAction>\n                  )}\n                </RcMenuItem>\n              ) : (\n                <RcMenuItem\n                  selected={state.selected}\n                  data-sign=\"contactSearchSelectMenuItem\"\n                  avatar={<></>}\n                  {...restProps}\n                >\n                  <StyledListItemText\n                    title={content}\n                    secondary={content}\n                    inset={inThirdPartyTab}\n                  />\n                </RcMenuItem>\n              );\n            }}\n            itemsRendered={(items) => {\n              if (activeTab !== TabsEnum.company) return;\n\n              const ids = items\n                .filter(({ data }) => data && data.isPrimary && data.id)\n                .map(({ data }) => data.id);\n\n              if (ids.length > 0) {\n                getCompanyExtraInfoByIds(ids);\n              }\n            }}\n          />\n        )}\n      </FullSizeWrapper>\n    </StyledContactSearchPanel>\n  );\n};\n\nContactSearchPanel.displayName = 'ContactSearchPanel';\n"],"mappings":"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","ignoreList":[]}