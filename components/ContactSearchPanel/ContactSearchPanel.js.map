{"version":3,"file":"ContactSearchPanel.js","names":["_phoneTypes","require","_trackEvents","_juno","_junoIcon","_react","_interopRequireWildcard","_contexts","_ContactSearchHelper","_usePresence","_helper","_Tooltip","_TextWithHighlight","_ContactSearchPanelEnum","_DoNotCallIndicator","_HelpTextSection","_i18n","_interopRequireDefault","_ContactSearchPanel","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_objectWithoutProperties","o","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ownKeys","keys","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","Symbol","iterator","Array","from","isArray","_arrayLikeToArray","_toPropertyKey","value","configurable","writable","_toPrimitive","toPrimitive","String","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","toString","slice","constructor","name","test","l","f","next","done","getCountsRes","counts","PrimaryAvatar","_ref","inOtherTab","isDirectlyProceed","inThirdPartyTab","ThirdPartyAvatar","profileImageUrl","type","getPresence","needFetchPresence","contact","_ref2","split","_ref3","firstName","lastName","presentAvatarName","useAvatarShortName","presence","usePresence","fetch","undefined","presentAvatarcolor","useAvatarColorToken","createElement","DefaultIcon","size","color","symbol","UserDefault","CallQueueIcon","CallQueue","presenceProps","getPresenceStatus","RcAvatar","src","alt","companyPhoneTypeMap","mobile","direct","extension","ContactSearchPanel","_ref4","otherContacts","companyContacts","personalContacts","_ref4$thirdPartyConta","thirdPartyContacts","optionClickHandler","userInput","isThirdPartySearching","inputRef","centered","setFilterString","thirdPartySourceName","currentLocale","formatPhone","_ref4$minimumSearchLe","minimumSearchLength","directlyProceedText","getCompanyExtraInfoByIds","changeTabTrack","_ref4$defaultTab","defaultTab","TabsEnum","thirdParty","showOtherContacts","_ref4$triggerEventTra","triggerEventTracking","_useState","useState","_useState2","activeTab","setActiveTab","previousUserInput","usePrevious","isAbleToSearch","isLoading","getPrimaryCount","items","count","isPrimary","_useMemo","useMemo","_ref5","_ref6","_optionsMap","company","personal","other","_tabItemsMap","label","i18n","getString","optionsMap","tabItemsMap","tabLabels","reduce","acc","tab","debounceTracking","useDebounce","result","key","map","trackEvents","getContactSearch","join","useEffect","options","showDirectlyItem","validateValidChars","finialOptions","phoneNumber","concat","setIndexHandlerRef","useRef","_useSuggestionList","useSuggestionList","inputValue","onSelect","option","item","searchedContactClicked","optionItems","getMenuProps","getItemProps","highlightedIndex","getInputProps","getInputAriaProps","changeHighlightedIndexReason","setHighlightedIndex","useImperativeHandle","current","reason","reRender","_useCommunicationSetu","useCommunicationSetupContext","inputAriaPropsRef","inputPropsRef","getFormattedLabel","useCallback","_ref7","phoneType","formattedPhoneType","phoneTypes","additionProps","process","env","NODE_ENV","initialItemCount","StyledContactSearchPanel","StyledTabsWrapper","RcTabs","onChange","v","_inputRef$current","focus","toLocaleLowerCase","variant","MoreButtonProps","datatype","style","padding","MoreIcon","isMenuOpen","RcIcon","ArrowUp2","ArrowDown2","MenuProps","marginThreshold","_ref8","tabName","RcTab","Tooltip","title","TabText","FullSizeWrapper","HelpTextSection","sourceName","inputLength","hasRecords","searchMinimumLength","RcSuggestionList","tabIndex","renderOption","props","state","doNotCall","_props$isDirectlyProc","_props$profileImageUr","presenceStatus","entityType","resourceType","restProps","id","content","RcMenuItem","focused","highlighted","avatar","RcListItemText","primary","Fragment","ContactName","TextWithHighlight","highLightText","text","DoNotCallIndicator","secondary","RcListItemSecondaryAction","Dial","selected","StyledListItemText","inset","itemsRendered","ids","_ref9","data","_ref10","exports"],"sources":["components/ContactSearchPanel/ContactSearchPanel.tsx"],"sourcesContent":["import { phoneTypes } from '@ringcentral-integration/commons/enums/phoneTypes';\nimport { trackEvents } from '@ringcentral-integration/commons/enums/trackEvents';\nimport type {\n  ContactPresence,\n  IContact,\n} from '@ringcentral-integration/commons/interfaces/Contact.model';\nimport {\n  RcAvatar,\n  RcIcon,\n  RcListItemSecondaryAction,\n  RcListItemText,\n  RcMenuItem,\n  RcSuggestionList,\n  RcTab,\n  RcTabs,\n  useAvatarColorToken,\n  useAvatarShortName,\n  useDebounce,\n  usePrevious,\n  useSuggestionList,\n} from '@ringcentral/juno';\nimport {\n  Dial,\n  ArrowUp2,\n  ArrowDown2,\n  UserDefault,\n  CallQueue,\n} from '@ringcentral/juno-icon';\nimport type { FunctionComponent } from 'react';\nimport React, {\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useCommunicationSetupContext } from '../../contexts';\nimport type {\n  ContactSearchPanelProps,\n  IContactSearchItem,\n} from '../../modules/ContactSearchUI';\nimport { getPresenceStatus } from '../../modules/ContactSearchUI/ContactSearchHelper';\nimport type { GetPresenceFn } from '../../react-hooks/usePresence';\nimport { usePresence } from '../../react-hooks/usePresence';\nimport { validateValidChars } from '../CommunicationSetupPanel/helper';\nimport { Tooltip } from '../Rcui/Tooltip';\nimport { TextWithHighlight } from '../TextWithHighlight/TextWithHighlight';\n\nimport type { TabsEnumType } from './ContactSearchPanelEnum';\nimport { TabsEnum } from './ContactSearchPanelEnum';\nimport { DoNotCallIndicator } from './DoNotCallIndicator';\nimport { HelpTextSection } from './HelpTextSection';\nimport i18n, { type I18nKey } from './i18n';\nimport {\n  CallQueueIcon,\n  ContactName,\n  DefaultIcon,\n  FullSizeWrapper,\n  StyledContactSearchPanel,\n  StyledListItemText,\n  StyledTabsWrapper,\n  TabText,\n} from './styles/ContactSearchPanel';\n\nconst getCountsRes = (counts: number) => (counts > 99 ? `99+` : counts);\n\nconst PrimaryAvatar = ({\n  inOtherTab,\n  isDirectlyProceed,\n  inThirdPartyTab,\n  ThirdPartyAvatar,\n  profileImageUrl,\n  type,\n  name,\n  getPresence,\n  needFetchPresence,\n  contact,\n}: Pick<ContactSearchPanelProps, 'ThirdPartyAvatar'> & {\n  inOtherTab: boolean;\n  isDirectlyProceed: boolean;\n  inThirdPartyTab: boolean;\n  type: string;\n  name: string;\n  profileImageUrl: string;\n  getPresence: GetPresenceFn;\n  contact: IContact & { presence?: ContactPresence };\n  needFetchPresence: boolean;\n}) => {\n  const [firstName, lastName] = name?.split(/\\s+/) || [];\n  const presentAvatarName = useAvatarShortName({\n    firstName,\n    lastName,\n  });\n  const presence = usePresence(contact, {\n    fetch: needFetchPresence ? getPresence : undefined,\n  });\n\n  const presentAvatarcolor = useAvatarColorToken(name);\n\n  if (isDirectlyProceed)\n    return (\n      <DefaultIcon\n        size=\"xxlarge\"\n        color=\"neutral.f01\"\n        symbol={UserDefault}\n        data-sign=\"directlyProceedAvatar\"\n      />\n    );\n\n  if (inOtherTab) {\n    return (\n      <CallQueueIcon\n        symbol={CallQueue}\n        data-sign=\"callQueueAvatar\"\n        size=\"xxlarge\"\n        color=\"neutral.f01\"\n      />\n    );\n  }\n\n  if (inThirdPartyTab && ThirdPartyAvatar)\n    return <ThirdPartyAvatar type={type} />;\n\n  const presenceProps = presence\n    ? { type: getPresenceStatus(presence) }\n    : undefined;\n\n  return (\n    <RcAvatar\n      presenceProps={presenceProps}\n      color={presentAvatarcolor}\n      size=\"xsmall\"\n    >\n      {profileImageUrl ? (\n        <img src={profileImageUrl} alt={name} />\n      ) : (\n        presentAvatarName\n      )}\n    </RcAvatar>\n  );\n};\n\ninterface PhoneTypeMap {\n  [key: string]: string;\n}\n\nconst companyPhoneTypeMap: PhoneTypeMap = {\n  mobile: 'MobileNumber',\n  contact: 'ContactNumber',\n  direct: 'DirectNumber',\n  extension: 'extension',\n};\n\nexport const ContactSearchPanel: FunctionComponent<ContactSearchPanelProps> = ({\n  otherContacts,\n  companyContacts,\n  personalContacts,\n  thirdPartyContacts = [],\n  optionClickHandler,\n  userInput,\n  isThirdPartySearching,\n  inputRef,\n  centered,\n  setFilterString,\n  thirdPartySourceName,\n  currentLocale,\n  formatPhone,\n  ThirdPartyAvatar,\n  minimumSearchLength = 0,\n  directlyProceedText,\n  getCompanyExtraInfoByIds,\n  changeTabTrack,\n  getPresence,\n  defaultTab = TabsEnum.thirdParty,\n  showOtherContacts,\n  triggerEventTracking = () => {},\n}) => {\n  const [activeTab, setActiveTab] = useState<TabsEnumType>(defaultTab);\n  const previousUserInput = usePrevious(() => userInput);\n  const isAbleToSearch = userInput.length >= minimumSearchLength;\n  const inThirdPartyTab = activeTab === TabsEnum.thirdParty;\n  const isLoading = inThirdPartyTab && isAbleToSearch && isThirdPartySearching;\n\n  const getPrimaryCount = (items: any) => {\n    const count = items?.filter((i: any) => i.isPrimary).length;\n    return getCountsRes(count);\n  };\n\n  const { optionsMap, tabItemsMap } = useMemo(() => {\n    const _optionsMap = showOtherContacts\n      ? {\n          [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n          [TabsEnum.company]: companyContacts,\n          [TabsEnum.personal]: personalContacts,\n          [TabsEnum.other]: otherContacts,\n        }\n      : {\n          [TabsEnum.thirdParty]: !isAbleToSearch ? [] : thirdPartyContacts,\n          [TabsEnum.company]: companyContacts,\n          [TabsEnum.personal]: personalContacts,\n        };\n    const _tabItemsMap = [\n      {\n        label: thirdPartySourceName,\n        value: TabsEnum.thirdParty,\n        count: isLoading\n          ? 0\n          : getPrimaryCount(_optionsMap[TabsEnum.thirdParty]),\n      },\n      {\n        label: i18n.getString('companyTabTitle', currentLocale),\n        value: TabsEnum.company,\n        count: getPrimaryCount(_optionsMap[TabsEnum.company]),\n      },\n      {\n        label: i18n.getString('personalTabTitle', currentLocale),\n        value: TabsEnum.personal,\n        count: getPrimaryCount(_optionsMap[TabsEnum.personal]),\n      },\n      {\n        label: i18n.getString('other', currentLocale),\n        value: TabsEnum.other,\n        count: getPrimaryCount(_optionsMap[TabsEnum.other]),\n      },\n    ];\n\n    return {\n      optionsMap: _optionsMap,\n      tabItemsMap: showOtherContacts ? _tabItemsMap : _tabItemsMap.slice(0, 2),\n    };\n  }, [\n    isAbleToSearch,\n    thirdPartyContacts,\n    companyContacts,\n    personalContacts,\n    otherContacts,\n    thirdPartySourceName,\n    currentLocale,\n    isLoading,\n    showOtherContacts,\n  ]);\n\n  const tabLabels = tabItemsMap.reduce(\n    (acc, tab) => {\n      acc[tab.value] = tab.label;\n      return acc;\n    },\n    {} as {\n      [key in TabsEnumType]: string;\n    },\n  ) as {\n    [key in TabsEnumType]: string;\n  };\n\n  const debounceTracking = useDebounce((optionsMap, tabLabels) => {\n    const result = Object.keys(optionsMap)\n      .filter((key) => {\n        const map = optionsMap as { [x: string]: IContactSearchItem[] };\n        return map[key].length > 0;\n      })\n      .map((key) => (tabLabels as { [x: string]: string })[key]);\n\n    if (result && result.length > 0) {\n      triggerEventTracking(trackEvents.getContactSearch, result.join(', '));\n    }\n  }, 1000);\n\n  useEffect(() => {\n    debounceTracking(optionsMap, tabLabels);\n  }, [optionsMap, tabLabels, debounceTracking]);\n\n  useEffect(() => {\n    if (userInput !== previousUserInput) {\n      setFilterString(userInput);\n    }\n  }, [previousUserInput, userInput, setFilterString]);\n\n  const inOtherTab = activeTab === TabsEnum.other;\n  const options = optionsMap[activeTab] as IContactSearchItem[];\n  const showDirectlyItem = validateValidChars(userInput);\n  const finialOptions = useMemo(\n    () =>\n      showDirectlyItem\n        ? [\n            {\n              isPrimary: true,\n              isDirectlyProceed: true,\n              name: directlyProceedText,\n              phoneNumber: userInput,\n            } as unknown as IContactSearchItem,\n            ...options,\n          ]\n        : options,\n    [userInput, options, showDirectlyItem, directlyProceedText],\n  );\n\n  const setIndexHandlerRef = useRef<any>(null);\n\n  const {\n    optionItems,\n    inputValue,\n    getMenuProps,\n    getItemProps,\n    highlightedIndex,\n    getInputProps,\n    getInputAriaProps,\n    changeHighlightedIndexReason,\n    setHighlightedIndex,\n  } = useSuggestionList({\n    inputValue: userInput,\n    options: finialOptions,\n    inputRef,\n    onSelect: (e, option) => {\n      const item = { ...option };\n      if (option.isDirectlyProceed) {\n        item.name = item.phoneNumber;\n      }\n      optionClickHandler(item);\n      triggerEventTracking(\n        trackEvents.searchedContactClicked,\n        tabLabels[activeTab],\n      );\n    },\n  });\n\n  useImperativeHandle(setIndexHandlerRef, () => setHighlightedIndex);\n\n  useEffect(() => {\n    if (finialOptions.length) {\n      setIndexHandlerRef?.current(0, { reason: 'mouse', reRender: true });\n    }\n  }, [finialOptions]);\n\n  const { inputAriaPropsRef, inputPropsRef } = useCommunicationSetupContext();\n  useImperativeHandle(inputPropsRef, () => getInputProps());\n  useImperativeHandle(inputAriaPropsRef, () => getInputAriaProps());\n\n  const getFormattedLabel = useCallback(\n    ({\n      type,\n      phoneType,\n      phoneNumber,\n    }: Pick<IContactSearchItem, 'phoneType' | 'phoneNumber' | 'type'>) => {\n      let formattedPhoneType = phoneType;\n      if (type === TabsEnum.personal) {\n        formattedPhoneType = i18n.getString(\n          phoneType as I18nKey,\n          currentLocale,\n        );\n      } else if (type === TabsEnum.company) {\n        formattedPhoneType = i18n.getString(\n          (companyPhoneTypeMap[phoneType] || phoneType) as I18nKey,\n          currentLocale,\n        );\n      }\n      if (type === TabsEnum.company && phoneType === phoneTypes.extension) {\n        return `${formattedPhoneType}. ${phoneNumber}`;\n      }\n\n      return `${formatPhone(phoneNumber)} - ${formattedPhoneType}`;\n    },\n    [currentLocale, formatPhone],\n  );\n\n  //! code will not to package into prod env.\n  const additionProps: any = {};\n  if (process.env.NODE_ENV === 'test') {\n    additionProps.initialItemCount = optionItems.length;\n    additionProps.key = optionItems.length;\n  }\n  return (\n    <StyledContactSearchPanel data-sign=\"contactSearchPanel\">\n      <StyledTabsWrapper>\n        <RcTabs\n          data-sign=\"contactTabsTitle\"\n          value={activeTab}\n          onChange={(e, v) => {\n            inputRef.current?.focus();\n            setActiveTab(v);\n            changeTabTrack(\n              v === 'thirdParty' ? thirdPartySourceName.toLocaleLowerCase() : v,\n            );\n          }}\n          variant=\"moreMenu\"\n          centered={centered}\n          MoreButtonProps={{\n            datatype: 'moreMenu',\n            // @ts-ignore\n            'data-sign': 'moreMenu',\n            style: {\n              padding: 0,\n            },\n            MoreIcon: (isMenuOpen: boolean) =>\n              isMenuOpen ? (\n                <RcIcon symbol={ArrowUp2} />\n              ) : (\n                <RcIcon symbol={ArrowDown2} />\n              ),\n            MenuProps: {\n              marginThreshold: 6,\n            },\n          }}\n        >\n          {tabItemsMap.map(({ label, count, value }) => {\n            const tabName = `${label} (${count})`;\n            return (\n              <RcTab\n                style={{\n                  padding: '6px 8px',\n                }}\n                key={label}\n                data-sign={`${value}ContactSearchResult`}\n                label={\n                  <Tooltip title={tabName}>\n                    <TabText data-sign={`${value}ContactTabName`}>\n                      {tabName}\n                    </TabText>\n                  </Tooltip>\n                }\n                value={value}\n              />\n            );\n          })}\n        </RcTabs>\n      </StyledTabsWrapper>\n      <FullSizeWrapper>\n        <HelpTextSection\n          sourceName={thirdPartySourceName}\n          currentLocale={currentLocale}\n          inputLength={userInput.length}\n          isLoading={isLoading}\n          activeTab={activeTab}\n          hasRecords={!!optionItems.length}\n          searchMinimumLength={minimumSearchLength}\n        />\n        {optionItems.length > 0 && (\n          <RcSuggestionList\n            data-sign=\"contactSearchDropdown\"\n            tabIndex={-1}\n            highlightedIndex={highlightedIndex}\n            changeHighlightedIndexReason={changeHighlightedIndexReason}\n            options={optionItems}\n            inputValue={inputValue}\n            getMenuProps={getMenuProps}\n            getItemProps={getItemProps}\n            {...additionProps}\n            renderOption={(props: IContactSearchItem, state) => {\n              const {\n                name,\n                phoneNumber,\n                phoneType,\n                isPrimary,\n                type,\n                doNotCall,\n                isDirectlyProceed = false,\n                profileImageUrl = '',\n                contact,\n                presenceStatus,\n                // @ts-ignore\n                entityType,\n                // @ts-ignore\n                resourceType,\n                ...restProps\n              } = props;\n              const needFetchPresence = !!(\n                activeTab === TabsEnum.company &&\n                isPrimary &&\n                contact?.id\n              );\n\n              const content = getFormattedLabel({\n                phoneType,\n                type,\n                phoneNumber,\n              });\n              return isPrimary ? (\n                <RcMenuItem\n                  focused={state.highlighted}\n                  data-sign={\n                    isDirectlyProceed\n                      ? 'directlyProceedEntrance'\n                      : 'contactSearchSelectMenuItem'\n                  }\n                  avatar={\n                    <PrimaryAvatar\n                      contact={contact}\n                      needFetchPresence={needFetchPresence}\n                      getPresence={getPresence}\n                      isDirectlyProceed={isDirectlyProceed}\n                      type={type}\n                      ThirdPartyAvatar={ThirdPartyAvatar}\n                      name={name}\n                      inOtherTab={inOtherTab}\n                      inThirdPartyTab={inThirdPartyTab}\n                      profileImageUrl={profileImageUrl}\n                    />\n                  }\n                  {...restProps}\n                >\n                  <RcListItemText\n                    primary={\n                      <>\n                        <ContactName\n                          data-sign={\n                            isDirectlyProceed\n                              ? 'DirectlyProceedTitle'\n                              : 'contactSearchItem'\n                          }\n                        >\n                          <TextWithHighlight\n                            highLightText={inputValue}\n                            text={name}\n                          />\n                        </ContactName>\n                        {doNotCall && (\n                          <DoNotCallIndicator currentLocale={currentLocale} />\n                        )}\n                      </>\n                    }\n                    secondary={\n                      isDirectlyProceed ? (\n                        <span\n                          title={phoneNumber}\n                          data-sign=\"directlyProceedNumber\"\n                        >\n                          {phoneNumber}\n                        </span>\n                      ) : (\n                        <span title={content}>{content}</span>\n                      )\n                    }\n                  />\n                  {isDirectlyProceed && (\n                    <RcListItemSecondaryAction data-sign=\"dialIcon\">\n                      <RcIcon color=\"action.primary\" symbol={Dial} />\n                    </RcListItemSecondaryAction>\n                  )}\n                </RcMenuItem>\n              ) : (\n                <RcMenuItem\n                  selected={state.selected}\n                  data-sign=\"contactSearchSelectMenuItem\"\n                  avatar={<></>}\n                  {...restProps}\n                >\n                  <StyledListItemText\n                    title={content}\n                    secondary={content}\n                    inset={inThirdPartyTab}\n                  />\n                </RcMenuItem>\n              );\n            }}\n            itemsRendered={(items) => {\n              if (activeTab !== TabsEnum.company) return;\n\n              const ids = items\n                .filter(({ data }) => data && data.isPrimary && data.id)\n                .map(({ data }) => data.id);\n\n              if (ids.length > 0) {\n                getCompanyExtraInfoByIds(ids);\n              }\n            }}\n          />\n        )}\n      </FullSizeWrapper>\n    </StyledContactSearchPanel>\n  );\n};\n"],"mappings":"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","ignoreList":[]}