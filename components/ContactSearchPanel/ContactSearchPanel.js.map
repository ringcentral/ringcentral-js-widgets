{"version":3,"file":"ContactSearchPanel.js","names":["_phoneTypes","require","_trackEvents","_juno","_junoIcon","_react","_interopRequireWildcard","_contexts","_ContactSearchHelper","_usePresence","_helper","_Tooltip","_TextWithHighlight","_ContactSearchPanelEnum","_DoNotCallIndicator","_HelpTextSection","_helper2","_i18n","_interopRequireDefault","_ContactSearchPanel","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_objectWithoutProperties","o","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","ownKeys","keys","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","iterator","Array","from","isArray","_arrayLikeToArray","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","toString","slice","constructor","name","test","l","f","next","done","PrimaryAvatar","_ref","inOtherTab","isDirectlyProceed","inThirdPartyTab","ThirdPartyAvatar","profileImageUrl","type","getPresence","needFetchPresence","contact","_ref2","split","_ref3","firstName","lastName","presentAvatarName","useAvatarShortName","presence","usePresence","fetch","undefined","presentAvatarcolor","useAvatarColorToken","createElement","DefaultIcon","size","color","symbol","UserDefault","CallQueueIcon","CallQueue","presenceProps","getPresenceStatus","RcAvatar","src","alt","companyPhoneTypeMap","mobile","direct","extension","ContactSearchPanel","_ref4","otherContacts","companyContacts","personalContacts","_ref4$thirdPartyConta","thirdPartyContacts","optionClickHandler","userInput","isThirdPartySearching","inputRef","centered","setFilterString","thirdPartySourceName","currentLocale","formatPhone","_ref4$minimumSearchLe","minimumSearchLength","directlyProceedText","getCompanyExtraInfoByIds","changeTabTrack","_ref4$defaultTab","defaultTab","TabsEnum","thirdParty","showOtherContacts","_ref4$triggerEventTra","triggerEventTracking","_useState","useState","_useState2","activeTab","setActiveTab","previousUserInput","usePrevious","isAbleToSearch","isLoading","_useMemo","useMemo","_optionsMap","generateOptionsMap","_tabItemsMap","generateTabs","optionsMap","_tabsKey","map","tab","count","join","tabsKey","tabItemsMap","tabLabels","reduce","acc","label","debounceTracking","useDebounce","result","key","trackEvents","getContactSearch","useEffect","other","options","showDirectlyItem","validateValidChars","finialOptions","isPrimary","phoneNumber","concat","setIndexHandlerRef","useRef","_useSuggestionList","useSuggestionList","inputValue","onSelect","option","item","searchedContactClicked","optionItems","getMenuProps","getItemProps","highlightedIndex","getInputProps","getInputAriaProps","changeHighlightedIndexReason","setHighlightedIndex","useImperativeHandle","current","reason","reRender","_useCommunicationSetu","useCommunicationSetupContext","inputAriaPropsRef","inputPropsRef","getFormattedLabel","useCallback","_ref5","phoneType","formattedPhoneType","personal","i18n","getString","company","phoneTypes","additionProps","process","env","NODE_ENV","initialItemCount","StyledContactSearchPanel","StyledTabsWrapper","RcTabs","onChange","v","_inputRef$current","focus","toLocaleLowerCase","variant","MoreButtonProps","datatype","style","padding","MoreIcon","isMenuOpen","RcIcon","ArrowUp2","ArrowDown2","MenuProps","marginThreshold","_ref6","tabName","RcTab","Tooltip","title","TabText","FullSizeWrapper","HelpTextSection","sourceName","inputLength","hasRecords","searchMinimumLength","RcSuggestionList","tabIndex","renderOption","props","state","doNotCall","_props$isDirectlyProc","_props$profileImageUr","presenceStatus","accountName","entityType","resourceType","restProps","id","content","RcMenuItem","focused","highlighted","avatar","RcListItemText","primary","Fragment","ContactName","TextWithHighlight","highLightText","text","DoNotCallIndicator","secondary","RcListItemSecondaryAction","Dial","selected","StyledListItemText","inset","itemsRendered","items","ids","_ref7","data","_ref8","exports","displayName"],"sources":["components/ContactSearchPanel/ContactSearchPanel.tsx"],"sourcesContent":["import { phoneTypes } from '@ringcentral-integration/commons/enums/phoneTypes';\nimport { trackEvents } from '@ringcentral-integration/commons/enums/trackEvents';\nimport type {\n  ContactPresence,\n  IContact,\n} from '@ringcentral-integration/commons/interfaces/Contact.model';\nimport {\n  RcAvatar,\n  RcIcon,\n  RcListItemSecondaryAction,\n  RcListItemText,\n  RcMenuItem,\n  RcSuggestionList,\n  RcTab,\n  RcTabs,\n  useAvatarColorToken,\n  useAvatarShortName,\n  useDebounce,\n  usePrevious,\n  useSuggestionList,\n} from '@ringcentral/juno';\nimport {\n  Dial,\n  ArrowUp2,\n  ArrowDown2,\n  UserDefault,\n  CallQueue,\n} from '@ringcentral/juno-icon';\nimport type { FunctionComponent } from 'react';\nimport React, {\n  useCallback,\n  useEffect,\n  useImperativeHandle,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\n\nimport { useCommunicationSetupContext } from '../../contexts';\nimport type {\n  ContactSearchPanelProps,\n  IContactSearchItem,\n} from '../../modules/ContactSearchUI';\nimport { getPresenceStatus } from '../../modules/ContactSearchUI/ContactSearchHelper';\nimport type { GetPresenceFn } from '../../react-hooks/usePresence';\nimport { usePresence } from '../../react-hooks/usePresence';\nimport { validateValidChars } from '../CommunicationSetupPanel/helper';\nimport { Tooltip } from '../Rcui/Tooltip';\nimport { TextWithHighlight } from '../TextWithHighlight/TextWithHighlight';\n\nimport type { TabsEnumType } from './ContactSearchPanelEnum';\nimport { TabsEnum } from './ContactSearchPanelEnum';\nimport { DoNotCallIndicator } from './DoNotCallIndicator';\nimport { HelpTextSection } from './HelpTextSection';\nimport { generateOptionsMap, generateTabs } from './helper';\nimport i18n, { type I18nKey } from './i18n';\nimport {\n  CallQueueIcon,\n  ContactName,\n  DefaultIcon,\n  FullSizeWrapper,\n  StyledContactSearchPanel,\n  StyledListItemText,\n  StyledTabsWrapper,\n  TabText,\n} from './styles/ContactSearchPanel';\n\nconst PrimaryAvatar = ({\n  inOtherTab,\n  isDirectlyProceed,\n  inThirdPartyTab,\n  ThirdPartyAvatar,\n  profileImageUrl,\n  type,\n  name,\n  getPresence,\n  needFetchPresence,\n  contact,\n}: Pick<ContactSearchPanelProps, 'ThirdPartyAvatar'> & {\n  inOtherTab: boolean;\n  isDirectlyProceed: boolean;\n  inThirdPartyTab: boolean;\n  type: string;\n  name: string;\n  profileImageUrl: string;\n  getPresence: GetPresenceFn;\n  contact: IContact & { presence?: ContactPresence };\n  needFetchPresence: boolean;\n}) => {\n  const [firstName, lastName] = name?.split(/\\s+/) || [];\n  const presentAvatarName = useAvatarShortName({\n    firstName,\n    lastName,\n  });\n  const presence = usePresence(contact, {\n    fetch: needFetchPresence ? getPresence : undefined,\n  });\n\n  const presentAvatarcolor = useAvatarColorToken(name);\n\n  if (isDirectlyProceed)\n    return (\n      <DefaultIcon\n        size=\"xxlarge\"\n        color=\"neutral.f01\"\n        symbol={UserDefault}\n        data-sign=\"directlyProceedAvatar\"\n      />\n    );\n\n  if (inOtherTab) {\n    return (\n      <CallQueueIcon\n        symbol={CallQueue}\n        data-sign=\"callQueueAvatar\"\n        size=\"xxlarge\"\n        color=\"neutral.f01\"\n      />\n    );\n  }\n\n  if (inThirdPartyTab && ThirdPartyAvatar)\n    return <ThirdPartyAvatar type={type} />;\n\n  const presenceProps = presence\n    ? { type: getPresenceStatus(presence) }\n    : undefined;\n\n  return (\n    <RcAvatar\n      presenceProps={presenceProps}\n      color={presentAvatarcolor}\n      size=\"xsmall\"\n    >\n      {profileImageUrl ? (\n        <img src={profileImageUrl} alt={name} />\n      ) : (\n        presentAvatarName\n      )}\n    </RcAvatar>\n  );\n};\n\ninterface PhoneTypeMap {\n  [key: string]: string;\n}\n\nconst companyPhoneTypeMap: PhoneTypeMap = {\n  mobile: 'MobileNumber',\n  contact: 'ContactNumber',\n  direct: 'DirectNumber',\n  extension: 'extension',\n};\n\nexport const ContactSearchPanel: FunctionComponent<ContactSearchPanelProps> = ({\n  otherContacts,\n  companyContacts,\n  personalContacts,\n  thirdPartyContacts = [],\n  optionClickHandler,\n  userInput,\n  isThirdPartySearching,\n  inputRef,\n  centered,\n  setFilterString,\n  thirdPartySourceName,\n  currentLocale,\n  formatPhone,\n  ThirdPartyAvatar,\n  minimumSearchLength = 0,\n  directlyProceedText,\n  getCompanyExtraInfoByIds,\n  changeTabTrack,\n  getPresence,\n  defaultTab = TabsEnum.thirdParty,\n  showOtherContacts,\n  triggerEventTracking = () => {},\n}) => {\n  const [activeTab, setActiveTab] = useState<TabsEnumType>(defaultTab);\n  const previousUserInput = usePrevious(() => userInput);\n  const isAbleToSearch = userInput.length >= minimumSearchLength;\n  const inThirdPartyTab = activeTab === TabsEnum.thirdParty;\n  const isLoading = inThirdPartyTab && isAbleToSearch && isThirdPartySearching;\n\n  const { optionsMap, tabItemsMap, tabsKey } = useMemo(() => {\n    const _optionsMap = generateOptionsMap({\n      showOtherContacts,\n      isAbleToSearch,\n      companyContacts,\n      otherContacts,\n      personalContacts,\n      thirdPartyContacts,\n    });\n\n    const _tabItemsMap = generateTabs({\n      optionsMap: _optionsMap,\n      thirdPartySourceName,\n      currentLocale,\n      isLoading,\n    });\n\n    const _tabsKey = _tabItemsMap.map((tab) => tab.count).join('-');\n\n    return {\n      tabsKey: _tabsKey,\n      optionsMap: _optionsMap,\n      tabItemsMap: showOtherContacts ? _tabItemsMap : _tabItemsMap.slice(0, 2),\n    };\n  }, [\n    isAbleToSearch,\n    thirdPartyContacts,\n    companyContacts,\n    personalContacts,\n    otherContacts,\n    thirdPartySourceName,\n    currentLocale,\n    isLoading,\n    showOtherContacts,\n  ]);\n\n  const tabLabels = tabItemsMap.reduce(\n    (acc, tab) => {\n      acc[tab.value] = tab.label;\n      return acc;\n    },\n    {} as {\n      [key in TabsEnumType]: string;\n    },\n  ) as {\n    [key in TabsEnumType]: string;\n  };\n\n  const debounceTracking = useDebounce((optionsMap, tabLabels) => {\n    const result = Object.keys(optionsMap)\n      .filter((key) => {\n        const map = optionsMap as { [x: string]: IContactSearchItem[] };\n        return map[key].length > 0;\n      })\n      .map((key) => (tabLabels as { [x: string]: string })[key]);\n\n    if (result && result.length > 0) {\n      triggerEventTracking(trackEvents.getContactSearch, result.join(', '));\n    }\n  }, 1000);\n\n  useEffect(() => {\n    debounceTracking(optionsMap, tabLabels);\n  }, [optionsMap, tabLabels, debounceTracking]);\n\n  useEffect(() => {\n    if (userInput !== previousUserInput) {\n      setFilterString(userInput);\n    }\n  }, [previousUserInput, userInput, setFilterString]);\n\n  const inOtherTab = activeTab === TabsEnum.other;\n  const options = optionsMap[activeTab] as IContactSearchItem[];\n  const showDirectlyItem = validateValidChars(userInput);\n  const finialOptions = useMemo(\n    () =>\n      showDirectlyItem\n        ? [\n            {\n              isPrimary: true,\n              isDirectlyProceed: true,\n              name: directlyProceedText,\n              phoneNumber: userInput,\n            } as unknown as IContactSearchItem,\n            ...options,\n          ]\n        : options,\n    [userInput, options, showDirectlyItem, directlyProceedText],\n  );\n\n  const setIndexHandlerRef = useRef<any>(null);\n\n  const {\n    optionItems,\n    inputValue,\n    getMenuProps,\n    getItemProps,\n    highlightedIndex,\n    getInputProps,\n    getInputAriaProps,\n    changeHighlightedIndexReason,\n    setHighlightedIndex,\n  } = useSuggestionList({\n    inputValue: userInput,\n    options: finialOptions,\n    inputRef,\n    onSelect: (e, option) => {\n      const item = { ...option };\n      if (option.isDirectlyProceed) {\n        item.name = item.phoneNumber;\n      }\n      optionClickHandler(item);\n      triggerEventTracking(\n        trackEvents.searchedContactClicked,\n        tabLabels[activeTab],\n      );\n    },\n  });\n\n  useImperativeHandle(setIndexHandlerRef, () => setHighlightedIndex);\n\n  useEffect(() => {\n    if (finialOptions.length) {\n      setIndexHandlerRef?.current(0, { reason: 'mouse', reRender: true });\n    }\n  }, [finialOptions]);\n\n  const { inputAriaPropsRef, inputPropsRef } = useCommunicationSetupContext();\n  useImperativeHandle(inputPropsRef, () => getInputProps());\n  useImperativeHandle(inputAriaPropsRef, () => getInputAriaProps());\n\n  const getFormattedLabel = useCallback(\n    ({\n      type,\n      phoneType,\n      phoneNumber,\n    }: Pick<IContactSearchItem, 'phoneType' | 'phoneNumber' | 'type'>) => {\n      let formattedPhoneType = phoneType;\n      if (type === TabsEnum.personal) {\n        formattedPhoneType = i18n.getString(\n          phoneType as I18nKey,\n          currentLocale,\n        );\n      } else if (type === TabsEnum.company) {\n        formattedPhoneType = i18n.getString(\n          (companyPhoneTypeMap[phoneType] || phoneType) as I18nKey,\n          currentLocale,\n        );\n      }\n      if (type === TabsEnum.company && phoneType === phoneTypes.extension) {\n        return `${formattedPhoneType}. ${phoneNumber}`;\n      }\n\n      return `${formatPhone(phoneNumber)} - ${formattedPhoneType}`;\n    },\n    [currentLocale, formatPhone],\n  );\n\n  //! code will not to package into prod env.\n  const additionProps: any = {};\n  if (process.env.NODE_ENV === 'test') {\n    additionProps.initialItemCount = optionItems.length;\n    additionProps.key = optionItems.length;\n  }\n\n  return (\n    <StyledContactSearchPanel data-sign=\"contactSearchPanel\">\n      <StyledTabsWrapper>\n        <RcTabs\n          key={tabsKey}\n          data-sign=\"contactTabsTitle\"\n          value={activeTab}\n          onChange={(e, v) => {\n            inputRef.current?.focus();\n            setActiveTab(v);\n            changeTabTrack(\n              v === 'thirdParty' ? thirdPartySourceName.toLocaleLowerCase() : v,\n            );\n          }}\n          variant=\"moreMenu\"\n          centered={centered}\n          MoreButtonProps={{\n            datatype: 'moreMenu',\n            // @ts-ignore\n            'data-sign': 'moreMenu',\n            style: {\n              padding: 0,\n            },\n            MoreIcon: (isMenuOpen: boolean) =>\n              isMenuOpen ? (\n                <RcIcon symbol={ArrowUp2} />\n              ) : (\n                <RcIcon symbol={ArrowDown2} />\n              ),\n            MenuProps: {\n              marginThreshold: 6,\n            },\n          }}\n        >\n          {tabItemsMap.map(({ label, count, value }) => {\n            const tabName = `${label} (${count})`;\n            return (\n              <RcTab\n                style={{\n                  padding: '6px 8px',\n                }}\n                key={label}\n                data-sign={`${value}ContactSearchResult`}\n                label={\n                  <Tooltip title={tabName}>\n                    <TabText data-sign={`${value}ContactTabName`}>\n                      {tabName}\n                    </TabText>\n                  </Tooltip>\n                }\n                value={value}\n              />\n            );\n          })}\n        </RcTabs>\n      </StyledTabsWrapper>\n      <FullSizeWrapper>\n        <HelpTextSection\n          sourceName={thirdPartySourceName}\n          currentLocale={currentLocale}\n          inputLength={userInput.length}\n          isLoading={isLoading}\n          activeTab={activeTab}\n          hasRecords={!!optionItems.length}\n          searchMinimumLength={minimumSearchLength}\n        />\n        {optionItems.length > 0 && (\n          <RcSuggestionList\n            data-sign=\"contactSearchDropdown\"\n            tabIndex={-1}\n            highlightedIndex={highlightedIndex}\n            changeHighlightedIndexReason={changeHighlightedIndexReason}\n            options={optionItems}\n            inputValue={inputValue}\n            getMenuProps={getMenuProps}\n            getItemProps={getItemProps}\n            {...additionProps}\n            renderOption={(props: IContactSearchItem, state) => {\n              const {\n                name,\n                phoneNumber,\n                phoneType,\n                isPrimary,\n                type,\n                doNotCall,\n                isDirectlyProceed = false,\n                profileImageUrl = '',\n                contact,\n                presenceStatus,\n                accountName,\n                // @ts-ignore\n                entityType,\n                // @ts-ignore\n                resourceType,\n                ...restProps\n              } = props;\n              const needFetchPresence = !!(\n                activeTab === TabsEnum.company &&\n                isPrimary &&\n                contact?.id\n              );\n\n              const content = getFormattedLabel({\n                phoneType,\n                type,\n                phoneNumber,\n              });\n              return isPrimary ? (\n                <RcMenuItem\n                  focused={state.highlighted}\n                  data-sign={\n                    isDirectlyProceed\n                      ? 'directlyProceedEntrance'\n                      : 'contactSearchSelectMenuItem'\n                  }\n                  avatar={\n                    <PrimaryAvatar\n                      contact={contact}\n                      needFetchPresence={needFetchPresence}\n                      getPresence={getPresence}\n                      isDirectlyProceed={isDirectlyProceed}\n                      type={type}\n                      ThirdPartyAvatar={ThirdPartyAvatar}\n                      name={name}\n                      inOtherTab={inOtherTab}\n                      inThirdPartyTab={inThirdPartyTab}\n                      profileImageUrl={profileImageUrl}\n                    />\n                  }\n                  {...restProps}\n                >\n                  <RcListItemText\n                    primary={\n                      <>\n                        <ContactName\n                          data-sign={\n                            isDirectlyProceed\n                              ? 'DirectlyProceedTitle'\n                              : 'contactSearchItem'\n                          }\n                        >\n                          <TextWithHighlight\n                            highLightText={inputValue}\n                            text={name}\n                          />\n                        </ContactName>\n                        {doNotCall && (\n                          <DoNotCallIndicator currentLocale={currentLocale} />\n                        )}\n                      </>\n                    }\n                    secondary={\n                      isDirectlyProceed ? (\n                        <span\n                          title={phoneNumber}\n                          data-sign=\"directlyProceedNumber\"\n                        >\n                          {phoneNumber}\n                        </span>\n                      ) : (\n                        <>\n                          <span title={content}>{content}</span>{' '}\n                          {accountName && (\n                            <>\n                              <br />\n                              <span\n                                title={accountName} //todo: test account name once design is finalized\n                                style={{ color: 'gray' }}\n                              >\n                                {accountName}\n                              </span>\n                            </>\n                          )}{' '}\n                        </>\n                      )\n                    }\n                  />\n                  {isDirectlyProceed && (\n                    <RcListItemSecondaryAction data-sign=\"dialIcon\">\n                      <RcIcon color=\"action.primary\" symbol={Dial} />\n                    </RcListItemSecondaryAction>\n                  )}\n                </RcMenuItem>\n              ) : (\n                <RcMenuItem\n                  selected={state.selected}\n                  data-sign=\"contactSearchSelectMenuItem\"\n                  avatar={<></>}\n                  {...restProps}\n                >\n                  <StyledListItemText\n                    title={content}\n                    secondary={content}\n                    inset={inThirdPartyTab}\n                  />\n                </RcMenuItem>\n              );\n            }}\n            itemsRendered={(items) => {\n              if (activeTab !== TabsEnum.company) return;\n\n              const ids = items\n                .filter(({ data }) => data && data.isPrimary && data.id)\n                .map(({ data }) => data.id);\n\n              if (ids.length > 0) {\n                getCompanyExtraInfoByIds(ids);\n              }\n            }}\n          />\n        )}\n      </FullSizeWrapper>\n    </StyledContactSearchPanel>\n  );\n};\n\nContactSearchPanel.displayName = 'ContactSearchPanel';\n"],"mappings":"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","ignoreList":[]}