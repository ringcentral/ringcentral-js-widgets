{"version":3,"file":"index.js","names":["_status","_interopRequireDefault","require","_clsx","_propTypes","_react","_default_avatar","_GlipPostContent","_styles","e","__esModule","PostAvatar","_ref","creator","viewProfile","createElement","src","defaultAvatar","alt","onClick","id","avatar","propTypes","PropTypes","object","func","isRequired","defaultProps","PostName","_ref2","showName","className","styles","name","firstName","lastName","bool","PostStatus","_ref3","sendStatus","status","creating","string","PostTime","_ref4","creationTime","time","GlipPost","_ref5","post","atRender","addedPersons","type","addedPersonIds","map","peronName","key","clsx","root","content","title","undefined"],"sources":["components/GlipPostItem/index.js"],"sourcesContent":["import status from '@ringcentral-integration/commons/modules/GlipPosts/status';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport defaultAvatar from '../../assets/images/default_avatar.png';\nimport GlipPostContent from '../GlipPostContent';\n\nimport styles from './styles.scss';\n\nfunction PostAvatar({ creator, viewProfile }) {\n  if (!creator) {\n    // TODO: update alt with i18n\n    return <img src={defaultAvatar} alt=\"default avatar\" />;\n  }\n  return (\n    <img\n      onClick={() => viewProfile(creator.id)}\n      src={creator.avatar || defaultAvatar}\n      alt={creator.id}\n    />\n  );\n}\n\nPostAvatar.propTypes = {\n  creator: PropTypes.object,\n  viewProfile: PropTypes.func.isRequired,\n};\n\nPostAvatar.defaultProps = {\n  creator: null,\n};\n\nfunction PostName({ creator, showName, viewProfile }) {\n  if (!creator || !showName) {\n    return null;\n  }\n  return (\n    <span className={styles.name} onClick={() => viewProfile(creator.id)}>\n      {creator.firstName} {creator.lastName}\n    </span>\n  );\n}\n\nPostName.propTypes = {\n  creator: PropTypes.object,\n  viewProfile: PropTypes.func.isRequired,\n  showName: PropTypes.bool.isRequired,\n};\n\nPostName.defaultProps = {\n  creator: null,\n};\n\nfunction PostStatus({ sendStatus }) {\n  if (!sendStatus) {\n    return null;\n  }\n  // TODO: update sending status with i18n\n  return (\n    <span>({sendStatus === status.creating ? 'Sending' : 'Send failed'})</span>\n  );\n}\n\nPostStatus.propTypes = {\n  sendStatus: PropTypes.string,\n};\n\nPostStatus.defaultProps = {\n  sendStatus: null,\n};\n\nfunction PostTime({ creationTime }) {\n  if (!creationTime) {\n    return null;\n  }\n  return <div className={styles.time}>{creationTime}</div>;\n}\n\nPostTime.propTypes = {\n  creationTime: PropTypes.string,\n};\n\nPostTime.defaultProps = {\n  creationTime: null,\n};\n\nexport default function GlipPost({\n  post,\n  className,\n  creationTime,\n  showName,\n  atRender,\n  viewProfile,\n}) {\n  let addedPersons = null;\n  if (post.type === 'PersonsAdded') {\n    addedPersons =\n      post.addedPersonIds &&\n      post.addedPersonIds.map((id) => {\n        const peronName = atRender({ id, type: 'Person' });\n        return <span key={id}>{peronName}</span>;\n      });\n  }\n  // TODO: update joining status with i18n\n  return (\n    <div className={clsx(styles.root, className)}>\n      <PostTime creationTime={creationTime} />\n      <div className={styles.avatar}>\n        <PostAvatar creator={post.creator} viewProfile={viewProfile} />\n      </div>\n      <div className={styles.content}>\n        <div className={styles.title}>\n          <PostName\n            creator={post.creator}\n            showName={showName || post.type !== 'TextMessage'}\n            viewProfile={viewProfile}\n          />\n          {post.type === 'PersonJoined' ? 'joined the team' : null}\n          {post.type === 'PersonsAdded' ? 'added ' : null}\n          {addedPersons}\n          {post.type === 'PersonsAdded' ? 'to the team' : null}\n          <PostStatus sendStatus={post.sendStatus} />\n        </div>\n        {post.type === 'TextMessage' ? (\n          <GlipPostContent post={post} atRender={atRender} />\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nGlipPost.propTypes = {\n  className: PropTypes.string,\n  post: PropTypes.object,\n  creationTime: PropTypes.string,\n  showName: PropTypes.bool,\n  atRender: PropTypes.func,\n  viewProfile: PropTypes.func.isRequired,\n};\n\nGlipPost.defaultProps = {\n  className: undefined,\n  creationTime: undefined,\n  post: {},\n  showName: true,\n  atRender: undefined,\n};\n"],"mappings":"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","ignoreList":[]}