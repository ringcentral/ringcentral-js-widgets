{"version":3,"file":"RingtoneSelection.js","names":["_RingtoneConfiguration","require","_juno","_junoIcon","_react","_interopRequireWildcard","_RemoveRingtoneDialog","_RingtoneUploadButton","_i18n","_styles","_interopRequireDefault","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","asyncGeneratorStep","o","c","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","f","next","push","isArray","RingtoneSelection","_ref","label","volume","isDisabled","ringtoneList","ringtoneDeviceId","selectedRingtoneId","enableCustomRingtone","isUploadRingtoneDisabled","updateCurrentRingtone","uploadCustomRingtone","removeCustomRingtone","showAlert","_useState","useState","_useState2","playing","setPlaying","_useState3","_useState4","playingId","setPlayingId","_useState5","_useState6","open","setOpen","_useState7","_useState8","audioUrl","setAudioUrl","_useState9","id","_useState10","ringtonePlanToRemoved","setRingtonePlanToRemoved","audio","useAudio","resetPlaying","onplay","onpause","onended","onerror","undefined","src","_audio$setSinkId","setSinkId","turnOffAudio","useCallback","pause","currentTime","customRingtoneNameList","useMemo","customRingtoneList","filter","ringtone","type","map","useEffect","_audio$setSinkId2","createElement","className","styles","ringtoneContainer","RemoveRingtoneDialog","getFileNameWithoutExt","onCancel","onConfirm","RcTypography","variant","color","RcSelect","displayEmpty","fullWidth","disabled","MenuProps","PopoverClasses","paper","ringtonePopover","onOpen","onClose","RingtoneUploadButton","isButtonDisabled","message","onUploadRingtone","info","onClickAddButton","url","isDefaultRingtone","RcMenuItem","key","ringtoneItem","onClick","stopPropagation","RcText","actionWrapper","RcTooltip","title","RcIcon","symbol","Delete","size","deleteIcon","PlayCircleBorder","_ref2","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","abrupt","play","t0","console","log","stop","_x","exports"],"sources":["components/RingtoneSelection/RingtoneSelection.tsx"],"sourcesContent":["import {\n  getFileNameWithoutExt,\n  type RINGS_TYPE,\n  type RingtoneItem,\n} from '@ringcentral-integration/commons/modules/RingtoneConfiguration';\nimport {\n  RcIcon,\n  RcMenuItem,\n  RcSelect,\n  RcText,\n  RcTooltip,\n  RcTypography,\n  useAudio,\n} from '@ringcentral/juno';\nimport { PlayCircleBorder, Delete } from '@ringcentral/juno-icon';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { RemoveRingtoneDialog } from './components/RemoveRingtoneDialog';\nimport { RingtoneUploadButton } from './components/RingtoneUploadButton';\nimport { t } from './i18n';\nimport styles from './styles.scss';\n\nexport interface RingtoneSelectionProps {\n  ringtoneList: RingtoneItem[];\n  selectedRingtoneId: string;\n  ringtoneDeviceId?: string;\n  enableCustomRingtone?: boolean;\n  volume?: number;\n  label?: string;\n  isDisabled?: boolean;\n  isUploadRingtoneDisabled?: boolean;\n  updateCurrentRingtone: (id: string) => void;\n  removeCustomRingtone: (id: string) => void;\n  uploadCustomRingtone: (props: any) => void;\n  showAlert: (message: string) => void;\n}\n\nexport const RingtoneSelection = ({\n  label,\n  volume,\n  isDisabled,\n  ringtoneList,\n  ringtoneDeviceId,\n  selectedRingtoneId,\n  enableCustomRingtone,\n  isUploadRingtoneDisabled,\n  updateCurrentRingtone,\n  uploadCustomRingtone,\n  removeCustomRingtone,\n  showAlert,\n}: RingtoneSelectionProps) => {\n  const [playing, setPlaying] = useState(false);\n  const [playingId, setPlayingId] = useState('');\n  const [open, setOpen] = useState(false);\n  const [audioUrl, setAudioUrl] = useState('');\n  const [ringtonePlanToRemoved, setRingtonePlanToRemoved] = useState<{\n    id: string;\n    name: string;\n  }>({\n    id: '',\n    name: '',\n  });\n\n  const audio = useAudio((audio) => {\n    const resetPlaying = () => {\n      setPlaying(false);\n      setPlayingId('');\n    };\n    audio.onplay = () => setPlaying(true);\n    audio.onpause = resetPlaying;\n    audio.onended = resetPlaying;\n    audio.onerror = resetPlaying;\n    if (volume !== undefined) {\n      audio.volume = volume;\n    }\n\n    if (audioUrl) {\n      audio.src = audioUrl;\n    }\n    if (ringtoneDeviceId) {\n      audio.setSinkId?.(ringtoneDeviceId);\n    }\n  });\n\n  const turnOffAudio = useCallback(() => {\n    if (playing) {\n      audio.pause();\n      audio.currentTime = 0;\n    }\n  }, [audio, playing]);\n\n  const customRingtoneNameList = useMemo(() => {\n    const customRingtoneList = ringtoneList.filter(\n      (ringtone) => ringtone.type === 'custom',\n    );\n    return customRingtoneList.map((ringtone) => ringtone.name!);\n  }, [ringtoneList]);\n\n  useEffect(() => {\n    if (volume !== undefined) {\n      audio.volume = volume;\n    }\n    if (ringtoneDeviceId) {\n      audio.setSinkId?.(ringtoneDeviceId);\n    }\n  }, [audio, volume, ringtoneDeviceId]);\n\n  return (\n    <div\n      className={styles.ringtoneContainer}\n      data-sign=\"ringtoneSelectionContainer\"\n    >\n      {enableCustomRingtone && (\n        <RemoveRingtoneDialog\n          name={getFileNameWithoutExt(ringtonePlanToRemoved.name)}\n          open={!!(ringtonePlanToRemoved.id && ringtonePlanToRemoved.name)}\n          onCancel={() => setRingtonePlanToRemoved({ id: '', name: '' })}\n          onConfirm={() => {\n            setRingtonePlanToRemoved({ id: '', name: '' });\n            removeCustomRingtone(ringtonePlanToRemoved.id);\n          }}\n        />\n      )}\n      {label ? (\n        <RcTypography\n          data-sign=\"ringtoneSelectionLabel\"\n          variant=\"body2\"\n          color=\"neutral.f06\"\n        >\n          {label}\n        </RcTypography>\n      ) : null}\n      <RcSelect\n        displayEmpty\n        fullWidth\n        disabled={isDisabled}\n        MenuProps={{\n          PopoverClasses: {\n            paper: styles.ringtonePopover,\n          },\n        }}\n        open={open}\n        variant=\"box\"\n        data-sign=\"ringtoneSelection\"\n        value={selectedRingtoneId}\n        onOpen={() => setOpen(true)}\n        onClose={() => {\n          turnOffAudio();\n          setOpen(false);\n        }}\n      >\n        {enableCustomRingtone && (\n          <RingtoneUploadButton\n            isButtonDisabled={isUploadRingtoneDisabled}\n            customRingtoneNameList={customRingtoneNameList}\n            showAlert={(message) => {\n              showAlert(message);\n              setOpen(false);\n            }}\n            onUploadRingtone={(info) => {\n              uploadCustomRingtone(info);\n              setOpen(false);\n            }}\n            onClickAddButton={turnOffAudio}\n          />\n        )}\n        {ringtoneList.map((ringtone) => {\n          const { id, type, name, url } = ringtone;\n          const isDefaultRingtone = type === 'default';\n          return (\n            <RcMenuItem\n              key={id}\n              className={styles.ringtoneItem}\n              value={id}\n              onClick={(e) => {\n                e.stopPropagation();\n                if (selectedRingtoneId !== id) {\n                  updateCurrentRingtone(id);\n                }\n                setOpen(false);\n              }}\n            >\n              <RcText>\n                {isDefaultRingtone\n                  ? t(id as RINGS_TYPE)\n                  : getFileNameWithoutExt(name!)}\n              </RcText>\n              {url && (\n                <div className={styles.actionWrapper}>\n                  {!isDefaultRingtone && (\n                    <RcTooltip title={t('delete')}>\n                      <RcIcon\n                        symbol={Delete}\n                        size=\"small\"\n                        className={styles.deleteIcon}\n                        color=\"action.grayDark\"\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          turnOffAudio();\n                          setOpen(false);\n                          setRingtonePlanToRemoved({ id, name: name! });\n                        }}\n                      />\n                    </RcTooltip>\n                  )}\n                  <RcTooltip title={t('play')}>\n                    <RcIcon\n                      symbol={PlayCircleBorder}\n                      size=\"small\"\n                      color={\n                        playing && id === playingId\n                          ? 'action.primary'\n                          : 'action.grayDark'\n                      }\n                      onClick={async (e) => {\n                        e.stopPropagation();\n                        try {\n                          turnOffAudio();\n                          if (ringtoneDeviceId === 'off' || !ringtoneDeviceId) {\n                            return;\n                          }\n                          setPlayingId(id);\n                          audio.src = url;\n                          setAudioUrl(url);\n                          audio.play();\n                        } catch (err) {\n                          console.log(err);\n                        }\n                      }}\n                    />\n                  </RcTooltip>\n                </div>\n              )}\n            </RcMenuItem>\n          );\n        })}\n      </RcSelect>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}