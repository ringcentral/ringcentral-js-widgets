{"version":3,"sources":["components/CarrouselBar/index.tsx"],"names":["DEFAULT_SCROLL_INTERVAL","CarrouselBar","props","state","currentIndex","showAnimation","animationMode","hoverBar","timeout","setInterval","setState","prevState","validChildren","length","scrollInterval","nextProps","children","getValidChildren","clearTimeout","React","Children","toArray","styles","root","center","Component","defaultProps","undefined"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,uBAAuB,GAAG,IAAhC;;IAiBMC,Y;;;;;AACJ,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,YAAY,EAAE,CADH;AAEXC,MAAAA,aAAa,EAAE,KAFJ;AAGXC,MAAAA,aAAa,EAAE,MAHJ;AAIXC,MAAAA,QAAQ,EAAE;AAJC,KAAb;AAFiB;AAQlB;;;;wCACmB;AAAA;;AAClB,WAAKC,OAAL,GAAeC,WAAW,CAAC,YAAM;AAC/B,YAAI,CAAC,MAAI,CAACP,KAAL,CAAWK,QAAhB,EAA0B;AACxB,UAAA,MAAI,CAACG,QAAL,CAAc,UAACC,SAAD;AAAA,mBAAgB;AAC5BP,cAAAA,YAAY,EACVO,SAAS,CAACP,YAAV,IAA0B,MAAI,CAACQ,aAAL,CAAmBC,MAAnB,GAA4B,CAAtD,GACI,CADJ,GAEIF,SAAS,CAACP,YAAV,GAAyB,CAJH;AAK5BC,cAAAA,aAAa,EAAE,IALa;AAM5BC,cAAAA,aAAa,EAAEK,SAAS,CAACL,aAAV,KAA4B,MAA5B,GAAqC,QAArC,GAAgD,MANnC;AAO5BC,cAAAA,QAAQ,EAAE;AAPkB,aAAhB;AAAA,WAAd;AASD;AACF,OAZyB,EAYvB,KAAKL,KAAL,CAAWY,cAZY,CAA1B;AAaD;;;8CACyBC,S,EAAW;AACnC,UAAIA,SAAS,CAACC,QAAV,KAAuB,KAAKd,KAAL,CAAWc,QAAtC,EAAgD;AAC9C,aAAKJ,aAAL,GAAqB,KAAKK,gBAAL,CAAsBF,SAAS,CAACC,QAAhC,CAArB;AACD;;AACD,UAAID,SAAS,CAACR,QAAV,KAAuB,KAAKL,KAAL,CAAWK,QAAlC,IAA8C,CAAC,CAACQ,SAAS,CAACR,QAA9D,EAAwE;AACtE,aAAKG,QAAL,CAAc;AAAA,iBAAO;AACnBH,YAAAA,QAAQ,EAAE;AADS,WAAP;AAAA,SAAd;AAGD;AACF;;;2CACsB;AACrBW,MAAAA,YAAY,CAAC,KAAKV,OAAN,CAAZ;AACA,WAAKA,OAAL,GAAe,IAAf;AACD;;;qCACgBQ,Q,EAAU;AACzB;AACA,aAAOG,kBAAMC,QAAN,CAAeC,OAAf,CAAuBL,QAAvB,CAAP;AACD;;;6BACQ;AACP,WAAKJ,aAAL,GAAqB,KAAKK,gBAAL,CAAsB,KAAKf,KAAL,CAAWc,QAAjC,CAArB;;AACA,UAAI,KAAKJ,aAAL,CAAmBC,MAAnB,GAA4B,CAAhC,EAAmC;AACjC,eAAO,KAAKX,KAAL,CAAWc,QAAlB;AACD;;AACD,0BACE;AAAK,QAAA,SAAS,EAAEM,mBAAOC;AAAvB,sBACE;AACE,QAAA,SAAS,EACP,KAAKpB,KAAL,CAAWE,aAAX,IAA4B,CAAC,KAAKF,KAAL,CAAWI,QAAxC,GACIe,mBAAO,KAAKnB,KAAL,CAAWG,aAAlB,CADJ,GAEIgB,mBAAOE;AAJf,SAOG,KAAKZ,aAAL,CAAmB,KAAKT,KAAL,CAAWC,YAA9B,CAPH,CADF,CADF;AAaD;;;;EA7DwBqB,gB;;AA+D3BxB,YAAY,CAACyB,YAAb,GAA4B;AAC1BV,EAAAA,QAAQ,EAAEW,SADgB;AAE1Bb,EAAAA,cAAc,EAAEd,uBAFU;AAG1BO,EAAAA,QAAQ,EAAE;AAHgB,CAA5B;eAKeN,Y","sourcesContent":["import React, { Component } from 'react';\n\nimport styles from './styles.scss';\n\nconst DEFAULT_SCROLL_INTERVAL = 5000;\ntype CarrouselBarProps = {\n  scrollInterval?: number;\n  hoverBar?: boolean;\n};\ntype CarrouselBarState = ((prevState: any) => {\n  currentIndex: any;\n  showAnimation: boolean;\n  animationMode: string;\n  hoverBar: boolean;\n}) &\n  (() => { hoverBar: boolean }) & {\n    currentIndex: number;\n    showAnimation: boolean;\n    animationMode: string;\n    hoverBar: boolean;\n  };\nclass CarrouselBar extends Component<CarrouselBarProps, CarrouselBarState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentIndex: 0,\n      showAnimation: false,\n      animationMode: 'move',\n      hoverBar: false,\n    };\n  }\n  componentDidMount() {\n    this.timeout = setInterval(() => {\n      if (!this.props.hoverBar) {\n        this.setState((prevState) => ({\n          currentIndex:\n            prevState.currentIndex >= this.validChildren.length - 1\n              ? 0\n              : prevState.currentIndex + 1,\n          showAnimation: true,\n          animationMode: prevState.animationMode === 'move' ? 'moveOn' : 'move',\n          hoverBar: false,\n        }));\n      }\n    }, this.props.scrollInterval);\n  }\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.children !== this.props.children) {\n      this.validChildren = this.getValidChildren(nextProps.children);\n    }\n    if (nextProps.hoverBar !== this.props.hoverBar && !!nextProps.hoverBar) {\n      this.setState(() => ({\n        hoverBar: true,\n      }));\n    }\n  }\n  componentWillUnmount() {\n    clearTimeout(this.timeout);\n    this.timeout = null;\n  }\n  getValidChildren(children) {\n    // .toArray automatically removes invalid React children\n    return React.Children.toArray(children);\n  }\n  render() {\n    this.validChildren = this.getValidChildren(this.props.children);\n    if (this.validChildren.length < 2) {\n      return this.props.children;\n    }\n    return (\n      <div className={styles.root}>\n        <div\n          className={\n            this.state.showAnimation && !this.state.hoverBar\n              ? styles[this.state.animationMode]\n              : styles.center\n          }\n        >\n          {this.validChildren[this.state.currentIndex]}\n        </div>\n      </div>\n    );\n  }\n}\nCarrouselBar.defaultProps = {\n  children: undefined,\n  scrollInterval: DEFAULT_SCROLL_INTERVAL,\n  hoverBar: false,\n};\nexport default CarrouselBar;\n"],"file":"index.js"}