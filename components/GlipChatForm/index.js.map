{"version":3,"file":"index.js","names":["_clsx","_interopRequireDefault","require","_propTypes","_rcEditorMention","_interopRequireWildcard","_rcTooltip","_react","_emoji","_upload","_EmojiSelect","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_classCallCheck","TypeError","_defineProperties","length","o","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","value","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","arguments","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","isOnMobileDevice","navigator","userAgent","match","GlipChatForm","_Component","_super","props","_this","state","defaultValue","toEditorState","textValue","suggestions","_onInputChange","editorState","setState","onTextChange","mentions","getMentions","map","mention","email","replace","member","members","find","m","matcherId","id","toString","_onSearchChange","filter","search","toLowerCase","name","concat","firstName","lastName","indexOf","_getSuggestions","_onSubmit","onSubmit","preventDefault","_onTextAreaKeyDown","shiftKey","ctrlKey","altKey","_onSelectEmoji","emoji","newText","setTimeout","_metionInput","reset","_onSelectFile","file","target","files","reader","FileReader","onloadend","evt","readyState","DONE","onUploadFile","result","readAsArrayBuffer","componentDidMount","_autoFocus","componentWillReceiveProps","nextProps","groupId","componentDidUpdate","prevProps","suggestion","createElement","Nav","style","height","_editor","focusEditor","render","_this2","_this$props","className","placeholder","noFoundString","clsx","styles","root","tools","placement","trigger","arrowContent","overlayClassName","emojisTooltip","overlay","width","onSelect","alt","src","emojiIcon","uploadIcon","type","onChange","lineHeight","mentionInput","ref","input","onSearchChange","prefix","notFoundContent","multiLines","mode","onKeyDown","submit","Component","exports","propTypes","PropTypes","string","func","isRequired","array","number","defaultProps","undefined"],"sources":["components/GlipChatForm/index.js"],"sourcesContent":["import clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport Mention, {\n  Nav,\n  toString,\n  toEditorState,\n  getMentions,\n} from 'rc-editor-mention';\nimport 'rc-editor-mention/assets/index.css';\nimport Tooltip from 'rc-tooltip';\nimport 'rc-tooltip/assets/bootstrap_white.css';\nimport React, { Component } from 'react';\n\nimport emojiIcon from '../../assets/images/emoji.png';\nimport uploadIcon from '../../assets/images/upload.png';\nimport EmojiSelect from '../EmojiSelect';\n\nimport styles from './styles.scss';\n\nfunction isOnMobileDevice() {\n  if (typeof navigator !== 'undefined') {\n    return (\n      navigator.userAgent.match(/Android/i) ||\n      navigator.userAgent.match(/iPhone/i) ||\n      navigator.userAgent.match(/iPad/i)\n    );\n  }\n  return false;\n}\n\nexport default class GlipChatForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      defaultValue: toEditorState(props.textValue),\n      suggestions: [],\n    };\n    this._onInputChange = (editorState) => {\n      this.setState({\n        defaultValue: editorState,\n      });\n      if (typeof this.props.onTextChange === 'function') {\n        const mentions = getMentions(editorState).map((mention) => {\n          const email = mention.replace('@[', '').replace(']', '');\n          const member = this.props.members.find((m) => m.email === email);\n          return {\n            mention,\n            matcherId: member && member.id,\n          };\n        });\n        this.props.onTextChange(toString(editorState), mentions);\n      }\n    };\n\n    this._onSearchChange = (value) => {\n      const members = this.props.members.filter((m) => {\n        const search = value && value.toLowerCase();\n        if (!search) {\n          return true;\n        }\n        const name = `${m.firstName} ${m.lastName}`.toLowerCase();\n        if (name.indexOf(search) > -1) {\n          return true;\n        }\n        if (m.email && m.email.indexOf(search) > -1) {\n          return true;\n        }\n        return false;\n      });\n      const suggestions = this._getSuggestions(members);\n      this.setState({\n        suggestions,\n      });\n    };\n\n    this._onSubmit = (e) => {\n      this.props.onSubmit();\n      e.preventDefault();\n    };\n\n    this._onTextAreaKeyDown = (e) => {\n      if (e.key === 'Enter' && !e.shiftKey && !e.ctrlKey && !e.altKey) {\n        this.props.onSubmit();\n        e.preventDefault();\n      }\n    };\n\n    this._onSelectEmoji = (emoji) => {\n      const newText = this.props.textValue\n        ? `${this.props.textValue} ${emoji} `\n        : `${emoji} `;\n      if (typeof this.props.onTextChange === 'function') {\n        this.props.onTextChange(newText);\n      }\n      this.setState({\n        defaultValue: toEditorState(newText),\n      });\n      setTimeout(() => {\n        if (this._metionInput) {\n          this._metionInput.reset();\n        }\n      }, 10);\n    };\n\n    this._onSelectFile = (e) => {\n      const file = e.target.files[0];\n      if (!file) {\n        return;\n      }\n      const reader = new FileReader();\n      reader.onloadend = (evt) => {\n        if (evt.target.readyState === FileReader.DONE) {\n          this.props.onUploadFile(file.name, evt.target.result);\n        }\n      };\n      reader.readAsArrayBuffer(file);\n    };\n  }\n\n  componentDidMount() {\n    this._autoFocus();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.members !== nextProps.members) {\n      const suggestions = this._getSuggestions(nextProps.members);\n      this.setState({\n        suggestions,\n      });\n    }\n    if (nextProps.groupId !== this.props.groupId) {\n      const suggestions = this._getSuggestions(nextProps.members);\n      this.setState({\n        suggestions,\n        defaultValue: toEditorState(nextProps.textValue),\n      });\n    }\n    if (this.props.textValue !== nextProps.textValue) {\n      this.setState({\n        defaultValue: toEditorState(nextProps.textValue),\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.groupId !== this.props.groupId) {\n      this._autoFocus();\n      if (this._metionInput) {\n        this._metionInput.reset();\n      }\n    }\n    if (this.props.textValue.length === 0 && prevProps.textValue.length > 0) {\n      if (this._metionInput) {\n        this._metionInput.reset();\n      }\n    }\n  }\n\n  _getSuggestions(suggestions) {\n    return suggestions.map((suggestion) => (\n      <Nav\n        style={{ height: 34 }}\n        value={`[${suggestion.email}]`}\n        key={suggestion.id}\n      >\n        <span>\n          {suggestion.firstName} {suggestion.lastName}\n        </span>\n      </Nav>\n    ));\n  }\n\n  _autoFocus() {\n    if (isOnMobileDevice()) {\n      return;\n    }\n    if (this._metionInput) {\n      this._metionInput._editor.focusEditor();\n    }\n  }\n\n  render() {\n    const { className, placeholder, height } = this.props;\n    const noFoundString = 'No found.'; // TODO: i18n after string confirmed\n    return (\n      <div className={clsx(styles.root, className)} style={{ height }}>\n        <div className={styles.tools}>\n          <Tooltip\n            placement=\"top\"\n            trigger=\"click\"\n            arrowContent={<div className=\"rc-tooltip-arrow-inner\" />}\n            overlayClassName={styles.emojisTooltip}\n            overlay={\n              <div style={{ width: 250, height: 200 }}>\n                <EmojiSelect onSelect={this._onSelectEmoji} />\n              </div>\n            }\n          >\n            <img alt=\"emoji\" src={emojiIcon} className={styles.emoji} />\n          </Tooltip>\n          <label className={styles.file}>\n            <img alt=\"emoji\" src={uploadIcon} />\n            <input type=\"file\" onChange={this._onSelectFile} />\n          </label>\n        </div>\n        <form onSubmit={this._onSubmit}>\n          <Mention\n            style={{ width: '100%', height: height - 35, lineHeight: '18px' }}\n            className={styles.mentionInput}\n            ref={(input) => {\n              this._metionInput = input;\n            }}\n            placeholder={placeholder}\n            placement=\"bottom\"\n            defaultValue={this.state.defaultValue}\n            onChange={this._onInputChange}\n            onSearchChange={this._onSearchChange}\n            suggestions={this.state.suggestions}\n            prefix=\"@\"\n            notFoundContent={noFoundString}\n            multiLines\n            mode=\"immutable\"\n            onKeyDown={this._onTextAreaKeyDown}\n          />\n          <input type=\"submit\" className={styles.submit} />\n        </form>\n      </div>\n    );\n  }\n}\n\nGlipChatForm.propTypes = {\n  textValue: PropTypes.string,\n  className: PropTypes.string,\n  onTextChange: PropTypes.func,\n  onSubmit: PropTypes.func.isRequired,\n  onUploadFile: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  groupId: PropTypes.string,\n  members: PropTypes.array,\n  height: PropTypes.number,\n};\n\nGlipChatForm.defaultProps = {\n  className: undefined,\n  textValue: '',\n  onTextChange: undefined,\n  placeholder: undefined,\n  groupId: undefined,\n  members: [],\n  height: 120,\n};\n"],"mappings":"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","ignoreList":[]}