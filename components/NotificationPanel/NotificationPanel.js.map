{"version":3,"sources":["components/NotificationPanel/NotificationPanel.tsx"],"names":["NotificationPanel","messages","className","exitAnimation","entranceAnimation","backdropEntranceAnimation","backdropExitAnimation","duration","rest","currentMessages","setCurrentMessages","timer","setTimer","updatedMessages","length","forEach","currentMessage","updatedMessage","some","m","id","animation","backdropAnimation","push","timerId","setTimeout","clearTimeout","styles","root","map","data","i","defaultProps"],"mappings":"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","sourcesContent":["import 'animate.css/animate.min.css';\n\nimport React, { FunctionComponent, useEffect, useState } from 'react';\n\nimport classNames from 'classnames';\n\nimport { NotificationItem } from './NotificationItem';\nimport {\n  NotificationMessage,\n  NotificationPanelProps,\n} from './NotificationPanel.interface';\nimport styles from './styles.scss';\n\nexport const NotificationPanel: FunctionComponent<NotificationPanelProps> = ({\n  messages,\n  className,\n  exitAnimation,\n  entranceAnimation,\n  backdropEntranceAnimation,\n  backdropExitAnimation,\n  duration,\n  ...rest\n}) => {\n  const [currentMessages, setCurrentMessages] = useState(messages);\n  const [timer, setTimer] = useState(null);\n\n  useEffect(() => {\n    const updatedMessages: NotificationMessage[] = [];\n    // if length is grater means that is delete item.\n    if (currentMessages.length > messages.length) {\n      currentMessages.forEach((currentMessage) => {\n        const updatedMessage = {\n          ...currentMessage,\n        };\n        // if that can't find this id, that means that is delete\n        if (!messages.some((m) => m.id === currentMessage.id)) {\n          updatedMessage.animation = exitAnimation;\n          updatedMessage.backdropAnimation = backdropExitAnimation;\n        } else {\n          updatedMessage.animation = '';\n          updatedMessage.backdropAnimation = '';\n        }\n        updatedMessages.push(updatedMessage);\n      });\n\n      setCurrentMessages(updatedMessages);\n\n      if (duration > 0) {\n        const timerId = setTimeout(() => {\n          setCurrentMessages(messages);\n        }, duration);\n\n        setTimer(timerId);\n      }\n    } else {\n      if (timer) {\n        clearTimeout(timer);\n      }\n      setCurrentMessages(messages);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages]);\n\n  return (\n    <div className={classNames(styles.root, className)}>\n      {currentMessages.map((data, i) => {\n        return (\n          <NotificationItem\n            {...rest}\n            data={data}\n            duration={duration}\n            backdropAnimation={\n              data.backdropAnimation ?? backdropEntranceAnimation\n            }\n            animation={data.animation ?? entranceAnimation}\n            key={i}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nNotificationPanel.defaultProps = {\n  entranceAnimation: 'fadeInDown',\n  exitAnimation: 'fadeOutUp',\n  backdropEntranceAnimation: 'fadeIn',\n  backdropExitAnimation: 'fadeOut',\n  duration: 500,\n};\n"],"file":"NotificationPanel.js"}