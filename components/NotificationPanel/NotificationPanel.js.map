{"version":3,"file":"NotificationPanel.js","names":["_juno","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_NotificationItem","_styles","_excluded","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","iterator","u","next","done","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","NotificationPanel","exports","_ref","_ref$entranceAnimatio","entranceAnimation","_ref$exitAnimation","exitAnimation","_ref$backdropEntrance","backdropEntranceAnimation","_ref$backdropExitAnim","backdropExitAnimation","_ref$duration","duration","messages","className","rest","_useState","useState","_useState2","currentMessages","setCurrentMessages","_useSleep","useSleep","sleep","cancel","useEffect","updatedMessages","currentMessage","updatedMessage","some","m","id","animation","backdropAnimation","then","createElement","clsx","styles","root","map","data","_data$backdropAnimati","_data$animation","NotificationItem","key"],"sources":["components/NotificationPanel/NotificationPanel.tsx"],"sourcesContent":["// TODO: should use juno animation to do that\nimport { useSleep } from '@ringcentral/juno';\nimport 'animate.css/animate.min.css';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect, useState } from 'react';\n\nimport { NotificationItem } from './NotificationItem';\nimport type {\n  NotificationMessage,\n  NotificationPanelProps,\n} from './NotificationPanel.interface';\nimport styles from './styles.scss';\n\nexport const NotificationPanel: FunctionComponent<NotificationPanelProps> = ({\n  entranceAnimation = 'fadeInDown',\n  exitAnimation = 'fadeOutUp',\n  backdropEntranceAnimation = 'fadeIn',\n  backdropExitAnimation = 'fadeOut',\n  duration = 500,\n  messages,\n  className,\n  ...rest\n}) => {\n  const [currentMessages, setCurrentMessages] = useState(messages);\n  const { sleep, cancel } = useSleep();\n\n  useEffect(() => {\n    const updatedMessages: NotificationMessage[] = [];\n    // if length is grater means that is delete item.\n    if (currentMessages.length > messages.length) {\n      currentMessages.forEach((currentMessage) => {\n        const updatedMessage = {\n          ...currentMessage,\n        };\n        // if that can't find this id, that means that is delete\n        if (!messages.some((m) => m.id === currentMessage.id)) {\n          updatedMessage.animation = exitAnimation;\n          updatedMessage.backdropAnimation = backdropExitAnimation;\n        } else {\n          updatedMessage.animation = '';\n          updatedMessage.backdropAnimation = '';\n        }\n        updatedMessages.push(updatedMessage);\n      });\n\n      setCurrentMessages(updatedMessages);\n\n      if (duration > 0) {\n        sleep(duration)\n          .then(() => {\n            setCurrentMessages(messages);\n          })\n          .catch(() => {\n            // ignore cancel\n          });\n      }\n    } else {\n      cancel();\n      setCurrentMessages(messages);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages]);\n\n  return (\n    <div className={clsx(styles.root, className)}>\n      {currentMessages.map((data, i) => {\n        return (\n          <NotificationItem\n            {...rest}\n            data={data}\n            duration={duration}\n            backdropAnimation={\n              data.backdropAnimation ?? backdropEntranceAnimation\n            }\n            animation={data.animation ?? entranceAnimation}\n            key={i}\n          />\n        );\n      })}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}