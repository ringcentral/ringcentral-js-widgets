{"version":3,"file":"NotificationPanel.js","names":["_juno","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_NotificationItem","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","iterator","f","next","done","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","s","includes","propertyIsEnumerable","NotificationPanel","_ref","_ref$entranceAnimatio","entranceAnimation","_ref$exitAnimation","exitAnimation","_ref$backdropEntrance","backdropEntranceAnimation","_ref$backdropExitAnim","backdropExitAnimation","_ref$duration","duration","messages","className","rest","_useState","useState","_useState2","currentMessages","setCurrentMessages","_useSleep","useSleep","sleep","cancel","useEffect","updatedMessages","currentMessage","updatedMessage","some","m","id","animation","backdropAnimation","then","createElement","clsx","styles","root","map","data","_data$backdropAnimati","_data$animation","NotificationItem","key","exports"],"sources":["components/NotificationPanel/NotificationPanel.tsx"],"sourcesContent":["// TODO: should use juno animation to do that\nimport { useSleep } from '@ringcentral/juno';\nimport 'animate.css/animate.min.css';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect, useState } from 'react';\n\nimport { NotificationItem } from './NotificationItem';\nimport type {\n  NotificationMessage,\n  NotificationPanelProps,\n} from './NotificationPanel.interface';\nimport styles from './styles.scss';\n\nexport const NotificationPanel: FunctionComponent<NotificationPanelProps> = ({\n  entranceAnimation = 'fadeInDown',\n  exitAnimation = 'fadeOutUp',\n  backdropEntranceAnimation = 'fadeIn',\n  backdropExitAnimation = 'fadeOut',\n  duration = 500,\n  messages,\n  className,\n  ...rest\n}) => {\n  const [currentMessages, setCurrentMessages] = useState(messages);\n  const { sleep, cancel } = useSleep();\n\n  useEffect(() => {\n    const updatedMessages: NotificationMessage[] = [];\n    // if length is grater means that is delete item.\n    if (currentMessages.length > messages.length) {\n      currentMessages.forEach((currentMessage) => {\n        const updatedMessage = {\n          ...currentMessage,\n        };\n        // if that can't find this id, that means that is delete\n        if (!messages.some((m) => m.id === currentMessage.id)) {\n          updatedMessage.animation = exitAnimation;\n          updatedMessage.backdropAnimation = backdropExitAnimation;\n        } else {\n          updatedMessage.animation = '';\n          updatedMessage.backdropAnimation = '';\n        }\n        updatedMessages.push(updatedMessage);\n      });\n\n      setCurrentMessages(updatedMessages);\n\n      if (duration > 0) {\n        sleep(duration)\n          .then(() => {\n            setCurrentMessages(messages);\n          })\n          .catch(() => {\n            // ignore cancel\n          });\n      }\n    } else {\n      cancel();\n      setCurrentMessages(messages);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages]);\n\n  return (\n    <div className={clsx(styles.root, className)}>\n      {currentMessages.map((data, i) => {\n        return (\n          <NotificationItem\n            {...rest}\n            data={data}\n            duration={duration}\n            backdropAnimation={\n              data.backdropAnimation ?? backdropEntranceAnimation\n            }\n            animation={data.animation ?? entranceAnimation}\n            key={i}\n          />\n        );\n      })}\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}