{"version":3,"file":"NotificationPanel.js","names":["require","_react","_interopRequireWildcard","_classnames","_interopRequireDefault","_juno","_NotificationItem","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","TypeError","Number","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","_i","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","err","isArray","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","NotificationPanel","_ref","_ref$entranceAnimatio","entranceAnimation","_ref$exitAnimation","exitAnimation","_ref$backdropEntrance","backdropEntranceAnimation","_ref$backdropExitAnim","backdropExitAnimation","_ref$duration","duration","messages","className","rest","_useState","useState","_useState2","currentMessages","setCurrentMessages","_useSleep","useSleep","sleep","cancel","useEffect","updatedMessages","currentMessage","updatedMessage","some","m","id","animation","backdropAnimation","then","createElement","classNames","styles","root","map","data","_data$backdropAnimati","_data$animation","NotificationItem","exports"],"sources":["components/NotificationPanel/NotificationPanel.tsx"],"sourcesContent":["// TODO: should use juno animation to do that\nimport 'animate.css/animate.min.css';\n\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect, useState } from 'react';\n\nimport classNames from 'classnames';\n\nimport { useSleep } from '@ringcentral/juno';\n\nimport { NotificationItem } from './NotificationItem';\nimport type {\n  NotificationMessage,\n  NotificationPanelProps,\n} from './NotificationPanel.interface';\nimport styles from './styles.scss';\n\nexport const NotificationPanel: FunctionComponent<NotificationPanelProps> = ({\n  entranceAnimation = 'fadeInDown',\n  exitAnimation = 'fadeOutUp',\n  backdropEntranceAnimation = 'fadeIn',\n  backdropExitAnimation = 'fadeOut',\n  duration = 500,\n  messages,\n  className,\n  ...rest\n}) => {\n  const [currentMessages, setCurrentMessages] = useState(messages);\n  const { sleep, cancel } = useSleep();\n\n  useEffect(() => {\n    const updatedMessages: NotificationMessage[] = [];\n    // if length is grater means that is delete item.\n    if (currentMessages.length > messages.length) {\n      currentMessages.forEach((currentMessage) => {\n        const updatedMessage = {\n          ...currentMessage,\n        };\n        // if that can't find this id, that means that is delete\n        if (!messages.some((m) => m.id === currentMessage.id)) {\n          updatedMessage.animation = exitAnimation;\n          updatedMessage.backdropAnimation = backdropExitAnimation;\n        } else {\n          updatedMessage.animation = '';\n          updatedMessage.backdropAnimation = '';\n        }\n        updatedMessages.push(updatedMessage);\n      });\n\n      setCurrentMessages(updatedMessages);\n\n      if (duration > 0) {\n        sleep(duration)\n          .then(() => {\n            setCurrentMessages(messages);\n          })\n          .catch(() => {\n            // ignore cancel\n          });\n      }\n    } else {\n      cancel();\n      setCurrentMessages(messages);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages]);\n\n  return (\n    <div className={classNames(styles.root, className)}>\n      {currentMessages.map((data, i) => {\n        return (\n          <NotificationItem\n            {...rest}\n            data={data}\n            duration={duration}\n            backdropAnimation={\n              data.backdropAnimation ?? backdropEntranceAnimation\n            }\n            animation={data.animation ?? entranceAnimation}\n            key={i}\n          />\n        );\n      })}\n    </div>\n  );\n};\n"],"mappings":"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"}