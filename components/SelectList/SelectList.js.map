{"version":3,"sources":["components/SelectList/SelectList.tsx"],"names":["SelectListBasicWithScrollCheck","SelectListBasic","SelectList","props","field","appName","children","disabled","onChange","autoClose","otherTitle","onBackClick","matchedTitle","currentLocale","valueFunction","renderFunction","startAdornment","associatedTitle","sourceValue","value","backHeaderClassName","onSelectViewVisible","foundFromServerTitle","secondaryRenderFunction","multiple","open","setOpen","renderListView","data","type","filter","scrollCheck","document","activeElement","blur","elm","styles","e","preventDefault","stopPropagation","i18n","getString","defaultProps","options","otherOptions","associatedOptions","showAssociatedSection","placeholder","rightIcon","contactSearch","showFoundFromServer","foundFromServerEntities"],"mappings":"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","sourcesContent":["import React, {\n  ComponentProps,\n  FunctionComponent,\n  useEffect,\n  useState,\n} from 'react';\n\nimport formatMessage from 'format-message';\n\nimport { SelectListBasic, SelectListBasicProps } from '../SelectListBasic';\nimport i18n from './i18n';\nimport { ListView, ListViewProps } from './ListView';\nimport styles from './styles.scss';\nimport { WithScrollCheck } from './WithScrollCheck';\n\nconst SelectListBasicWithScrollCheck: FunctionComponent<SelectListBasicProps> =\n  WithScrollCheck(SelectListBasic);\n\nexport { SelectListBasicWithScrollCheck };\n\nexport type SelectListProps = {\n  title: string;\n  otherOptions?: object[];\n  associatedOptions?: object[];\n  showOtherSection?: boolean;\n  showAssociatedSection?: boolean;\n  placeholder?: string;\n  searchOption: (...args: any[]) => any;\n  disabled?: boolean;\n  field?: string;\n  value?: any;\n  rightIcon?: JSX.Element;\n  onSelectViewVisible?: (...args: any[]) => any;\n  currentLocale: string;\n  matchedTitle?: string;\n  otherTitle?: string;\n  associatedTitle?: string;\n  backHeaderClassName?: string;\n  contactSearch?: (...args: any[]) => any;\n  appName?: string;\n  autoClose?: boolean;\n  onBackClick: () => void;\n  multiple?: boolean;\n} & Pick<\n  ListViewProps,\n  | 'options'\n  | 'valueFunction'\n  | 'renderFunction'\n  | 'startAdornment'\n  | 'onChange'\n  | 'secondaryRenderFunction'\n> &\n  Pick<\n    SelectListBasicProps,\n    'foundFromServerEntities' | 'foundFromServerTitle' | 'showFoundFromServer'\n  >;\n\ntype RenderListView = ComponentProps<\n  typeof SelectListBasicWithScrollCheck\n>['renderListView'];\n\nexport const SelectList: FunctionComponent<SelectListProps> = (props) => {\n  const {\n    field,\n    appName,\n    children,\n    disabled,\n    onChange,\n    autoClose,\n    otherTitle,\n    onBackClick,\n    matchedTitle,\n    currentLocale,\n    valueFunction,\n    renderFunction,\n    startAdornment,\n    associatedTitle,\n    value: sourceValue,\n    backHeaderClassName,\n    onSelectViewVisible,\n    foundFromServerTitle,\n    secondaryRenderFunction,\n    multiple,\n  } = props;\n  const [open, setOpen] = useState(false);\n\n  useEffect(() => {\n    onSelectViewVisible(open, field);\n  }, [field, onSelectViewVisible, open]);\n\n  const renderListView: RenderListView = (data, type, filter, scrollCheck) => (\n    <ListView\n      filter={filter}\n      options={data}\n      value={sourceValue}\n      onChange={(value) => {\n        if (document.activeElement) {\n          (document.activeElement as HTMLInputElement).blur();\n        }\n        onChange(value);\n        // auto close select section after selected a value\n        if (autoClose) {\n          setOpen(false);\n          onBackClick();\n        }\n      }}\n      renderFunction={renderFunction}\n      secondaryRenderFunction={secondaryRenderFunction}\n      valueFunction={valueFunction}\n      onSelect={(elm) => scrollCheck(elm, type)}\n      startAdornment={startAdornment}\n      multiple={multiple}\n    />\n  );\n\n  return (\n    <div\n      className={disabled ? styles.disabled : null}\n      data-sign=\"select-list-panel\"\n    >\n      <div\n        className={styles.field}\n        data-sign=\"select-list-open\"\n        onClick={(e) => {\n          e.preventDefault();\n          e.stopPropagation();\n          if (disabled) {\n            return;\n          }\n          setOpen(true);\n        }}\n      >\n        {children}\n      </div>\n      <SelectListBasicWithScrollCheck\n        {...props}\n        matchedTitle={matchedTitle || i18n.getString('matched', currentLocale)}\n        otherTitle={otherTitle || i18n.getString('other', currentLocale)}\n        associatedTitle={\n          associatedTitle || i18n.getString('associated', currentLocale)\n        }\n        foundFromServerTitle={\n          foundFromServerTitle ||\n          formatMessage(i18n.getString('foundFromServer', currentLocale), {\n            appName,\n          })\n        }\n        renderListView={renderListView}\n        open={open}\n        setOpen={setOpen}\n        backHeaderClassName={backHeaderClassName}\n      />\n    </div>\n  );\n};\nSelectList.defaultProps = {\n  options: [],\n  otherOptions: [],\n  associatedOptions: [],\n  showAssociatedSection: false,\n  placeholder: '',\n  disabled: false,\n  matchedTitle: '',\n  otherTitle: '',\n  associatedTitle: '',\n  field: '',\n  value: {},\n  rightIcon: null,\n  onChange() {},\n  startAdornment() {},\n  onSelectViewVisible() {},\n  backHeaderClassName: null,\n  contactSearch: null,\n  appName: null,\n  showFoundFromServer: false,\n  foundFromServerTitle: null,\n  foundFromServerEntities: [],\n  autoClose: true,\n  onBackClick() {},\n};\n"],"file":"SelectList.js"}