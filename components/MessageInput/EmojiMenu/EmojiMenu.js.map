{"version":3,"file":"EmojiMenu.js","names":["_hooks","require","_styledComponents","_springIcon","_springUi","_react","_interopRequireWildcard","_i18n","_interopRequireDefault","_useEmojiI18n","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_slicedToArray","r","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","t","toString","call","slice","name","Array","from","test","length","n","l","i","u","f","next","Object","done","push","value","isArray","WeakMap","__proto__","has","get","set","_t","hasOwnProperty","defineProperty","getOwnPropertyDescriptor","Picker","lazy","Promise","resolve","then","EmojiMenu","exports","forwardRef","props","ref","_props$closeWhenFocus","closeWhenFocusOnInput","_props$autoClose","autoClose","action","onSelect","onOpen","onClose","getInputElement","theme","useTheme","popperRef","useRef","positionRef","innerRef","_React$useState","React","useState","_React$useState2","anchorEl","setAnchorEl","emojiI18n","useEmojiI18n","isOpen","Boolean","id","undefined","anchorElRef","useForkRef","close","open","current","toggle","handleClickAway","input","document","activeElement","handleSelectEmoji","data","preventFocus","_e$nativeEvent$compos","hostElm","nativeEvent","composedPath","tagName","toLocaleLowerCase","textField","getSelectionPosition","preventDefault","useEffect","useLayoutEffect","requestAnimationFrame","_popperRef$current","_popperRef$current$up","update","useEventListener","useImperativeHandle","_useLocale","useLocale","i18n","createElement","Fragment","IconButton","variant","size","color","className","TooltipProps","title","symbol","Emoji","onMouseDown","onClick","Popper","placement","padding","left","ClickAwayListener","onClickAway","onKeyDown","key","stopPropagation","Suspense","fallback","perLine","maxFrequentRows","previewPosition","onEmojiSelect","palette","type"],"sources":["components/MessageInput/EmojiMenu/EmojiMenu.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { useTheme } from '@ringcentral/juno';\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport { EmojiMd as Emoji } from '@ringcentral/spring-icon';\nimport {\n  ClickAwayListener,\n  getSelectionPosition,\n  IconButton,\n  Popper,\n  useEventListener,\n  useForkRef,\n} from '@ringcentral/spring-ui';\nimport React, {\n  ComponentProps,\n  forwardRef,\n  HTMLAttributes,\n  lazy,\n  PropsWithChildren,\n  Ref,\n  Suspense,\n  useEffect,\n  useImperativeHandle,\n  useLayoutEffect,\n  useRef,\n} from 'react';\n\nimport i18n from '../i18n';\n\nimport { Emoji as IEmoji } from './Emoji.interface';\nimport './styles.scss';\nimport { useEmojiI18n } from './useEmojiI18n';\n\n// Compatible with running in shared worker\n// @ts-ignore\nconst Picker = lazy(() => import('@emoji-mart/react'));\n\ntype PositionType = ReturnType<typeof getSelectionPosition> | null;\n\nexport type EmojiMenuAction = {\n  toggle: () => void;\n  close: () => void;\n  open: () => void;\n};\n\nexport type EmojiMenuProps = PropsWithChildren<{\n  onSelect: (emoji: IEmoji, position: PositionType) => void;\n  /**\n   * will close popup after select emoji\n   */\n  autoClose?: boolean;\n  /**\n   * will close popup when focus on input\n   */\n  closeWhenFocusOnInput?: boolean;\n  onOpen?: () => void;\n  onClose?: () => void;\n  /**\n   * target host to send emoji inputRef\n   */\n  getInputElement?: () => HTMLInputElement | HTMLTextAreaElement;\n  action?: Ref<EmojiMenuAction>;\n}> &\n  Omit<HTMLAttributes<HTMLButtonElement>, 'onSelect'>;\n\ntype PopperRef = ComponentProps<typeof Popper>['ref'];\n\nexport const EmojiMenu = forwardRef<HTMLButtonElement, EmojiMenuProps>(\n  (props, ref) => {\n    const {\n      closeWhenFocusOnInput = true,\n      autoClose = true,\n      action,\n      onSelect,\n      onOpen,\n      onClose,\n      getInputElement,\n    } = props;\n\n    const theme = useTheme();\n    const popperRef: PopperRef = useRef(null);\n    const positionRef = useRef<PositionType>(null);\n    const innerRef = useRef<HTMLButtonElement>(null);\n    const [anchorEl, setAnchorEl] = React.useState<HTMLButtonElement | null>(\n      null,\n    );\n    const emojiI18n = useEmojiI18n();\n    const isOpen = Boolean(anchorEl);\n    const id = isOpen ? 'emoji-menu' : undefined;\n    const anchorElRef = useForkRef(ref, innerRef);\n\n    const close = () => {\n      if (isOpen) {\n        onClose?.();\n        setAnchorEl(null);\n      }\n    };\n\n    const open = () => {\n      if (!isOpen) {\n        onOpen?.();\n        setAnchorEl(innerRef.current);\n      }\n    };\n\n    const toggle = () => {\n      if (isOpen) {\n        close();\n      } else {\n        open();\n      }\n    };\n\n    const handleClickAway = (): void => {\n      const input = getInputElement?.();\n      // when text input be focus, not close that popper\n      if (\n        input &&\n        !closeWhenFocusOnInput &&\n        document.activeElement === getInputElement?.()\n      ) {\n        return;\n      }\n\n      close();\n    };\n\n    const handleSelectEmoji = (data: IEmoji) => {\n      onSelect(data, positionRef.current);\n      positionRef.current = null;\n      if (autoClose) {\n        close();\n      }\n    };\n\n    const preventFocus = (\n      e: React.MouseEvent<HTMLElement, MouseEvent>,\n    ): void => {\n      const hostElm = e.nativeEvent.composedPath()?.[0] as HTMLElement;\n\n      // when focus on search input not prevent default, and remember current focus position\n      if (hostElm && hostElm.tagName.toLocaleLowerCase() === 'input') {\n        const textField = getInputElement?.();\n\n        if (textField) {\n          positionRef.current = getSelectionPosition(textField);\n        }\n\n        return;\n      }\n\n      e.preventDefault();\n    };\n\n    useEffect(() => {\n      // preload emoji picker\n      // @ts-ignore\n      import('@emoji-mart/react');\n    }, []);\n\n    // update popper position after view ready\n    useLayoutEffect(() => {\n      if (!isOpen) return;\n\n      requestAnimationFrame(() => {\n        (popperRef.current as any)?.update?.();\n      });\n    });\n\n    useEventListener(getInputElement?.()!, 'focus', () => {\n      positionRef.current = null;\n    });\n\n    useImperativeHandle(action, () => ({\n      close,\n      open,\n      toggle,\n    }));\n    const { t } = useLocale(i18n);\n\n    return (\n      <>\n        <IconButton\n          variant=\"icon\"\n          size=\"large\"\n          color=\"secondary\"\n          aria-describedby={id}\n          className=\"text-neutral-b2\"\n          ref={anchorElRef}\n          TooltipProps={{\n            title: t('emoji'),\n          }}\n          data-sign=\"emojiButton\"\n          symbol={Emoji}\n          onMouseDown={(e) => {\n            e.preventDefault();\n          }}\n          onClick={toggle}\n        />\n        {isOpen && (\n          <Popper\n            placement=\"top\"\n            ref={popperRef}\n            className=\"z-modal min-h-[300px] min-w-[280px] w-full\"\n            id={id}\n            anchorEl={anchorEl}\n            padding={{\n              left: 10,\n            }}\n          >\n            <ClickAwayListener onClickAway={handleClickAway}>\n              <div\n                className=\"border rounded-sui-sm shadow-md\"\n                onMouseDown={preventFocus}\n                onKeyDown={(e) => {\n                  if (e.key !== 'Escape') {\n                    return;\n                  }\n\n                  e.stopPropagation();\n                  onClose?.();\n                  close();\n                }}\n              >\n                <Suspense fallback={null}>\n                  <Picker\n                    // https://github.com/missive/emoji-mart#custom-emojis\n                    perLine={7}\n                    maxFrequentRows={2}\n                    previewPosition=\"none\"\n                    i18n={emojiI18n}\n                    onEmojiSelect={handleSelectEmoji}\n                    // TODO: spring-ui not have light or dark in the theme info, need to fix inside spring-ui\n                    theme={theme.palette.type}\n                  />\n                </Suspense>\n              </div>\n            </ClickAwayListener>\n          </Popper>\n        )}\n      </>\n    );\n  },\n);\n"],"mappings":"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","ignoreList":[]}