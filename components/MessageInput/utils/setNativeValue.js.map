{"version":3,"file":"setNativeValue.js","names":["setNativeValue","element","value","valueSetter","Object","getOwnPropertyDescriptor","set","prototype","getPrototypeOf","prototypeValueSetter","call","dispatchEvent","Event","bubbles"],"sources":["components/MessageInput/utils/setNativeValue.ts"],"sourcesContent":["/**\n * using native value to set to trigger native onChange and input event\n\n// TODO: find way to trigger browser history(cmd+z, cmd+y) events\n */\nexport function setNativeValue(element: HTMLElement, value: string) {\n  const valueSetter = Object.getOwnPropertyDescriptor(element, 'value')!.set;\n  const prototype = Object.getPrototypeOf(element);\n  const prototypeValueSetter = Object.getOwnPropertyDescriptor(\n    prototype,\n    'value',\n  )!.set;\n\n  if (valueSetter && valueSetter !== prototypeValueSetter) {\n    prototypeValueSetter!.call(element, value);\n  } else {\n    valueSetter!.call(element, value);\n  }\n\n  element.dispatchEvent(new Event('input', { bubbles: true }));\n}\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACO,SAASA,cAAcA,CAACC,OAAoB,EAAEC,KAAa,EAAE;EAClE,IAAMC,WAAW,GAAGC,MAAM,CAACC,wBAAwB,CAACJ,OAAO,EAAE,OAAO,CAAC,CAAEK,GAAG;EAC1E,IAAMC,SAAS,GAAGH,MAAM,CAACI,cAAc,CAACP,OAAO,CAAC;EAChD,IAAMQ,oBAAoB,GAAGL,MAAM,CAACC,wBAAwB,CAC1DE,SAAS,EACT,OACF,CAAC,CAAED,GAAG;EAEN,IAAIH,WAAW,IAAIA,WAAW,KAAKM,oBAAoB,EAAE;IACvDA,oBAAoB,CAAEC,IAAI,CAACT,OAAO,EAAEC,KAAK,CAAC;EAC5C,CAAC,MAAM;IACLC,WAAW,CAAEO,IAAI,CAACT,OAAO,EAAEC,KAAK,CAAC;EACnC;EAEAD,OAAO,CAACU,aAAa,CAAC,IAAIC,KAAK,CAAC,OAAO,EAAE;IAAEC,OAAO,EAAE;EAAK,CAAC,CAAC,CAAC;AAC9D","ignoreList":[]}