{"version":3,"file":"index.js","names":["_debounce","require","_utils","_juno","_junoIcon","_clsx","_interopRequireDefault","_propTypes","_react","_interopRequireWildcard","_EmojiMenu","_FileAttacher","_i18n","_styles","_utils2","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","UIHeightOffset","exports","MAX_PREVIEW_ATTACHMENT_SIZE","SMS_ACCEPT_TYPES","SUPPORTED_MMS_MIME_TYPES_IN_LOWERCASE","join","MessageInput","_Component","props","context","_this","_lastValueChange","textArea","emojiActionRef","onChange","_this$updateMessageTe","_this2","Date","now","currentTarget","newHeight","calculateNewHeight","state","height","onHeightChange","setState","updateMessageText","debounce","fn","onKeyDown","shiftKey","preventDefault","sendButtonDisabled","onSend","_this$updateMessageTe2","flush","disabled","attachments","minHeight","attachmentsLength","React","createRef","UNSAFE_componentWillReceiveProps","nextProps","_this3","_nextProps$attachment","setNewHeight","newAttachmentsLength","supportAttachment","componentDidMount","inputExpandable","style","scrollHeight","concat","_this$props","maxHeight","supportEmoji","mmsLength","attachmentsHeight","inputToolBarHeight","othersHeight","render","_this4","_this$props2","currentLocale","maxLength","removeAttachment","addAttachments","_this$state","inputHeight","hasToolBar","createElement","className","clsx","styles","root","AttachButton","multiple","acceptTypes","onUpload","_ref","_callee2","data","_this4$emojiActionRef","files","_context2","current","close","all","map","_ref2","_callee","file","name","size","base64Url","_context","fileToBase64","_x2","_x","EmojiMenu","action","getInputElement","onSelect","position","emoji","result","getTextFieldInsertResult","input","insertValue","sourcePosition","nextPositionInfo","start","requestAnimationFrame","setSelectionPosition","end","setNativeValue","focus","textField","textFieldMargin","ref","target","placeholder","i18n","getString","onKeyPressCapture","_this4$emojiActionRef2","submitField","RcIconButton","symbol","SendFilled","color","onClick","AttachmentList","onRemoveAttachment","Component","propTypes","PropTypes","string","isRequired","bool","number","func","array","defaultProps","undefined","_default"],"sources":["components/MessageInput/index.tsx"],"sourcesContent":["import { debounce } from '@ringcentral-integration/commons/lib/debounce-throttle/debounce';\nimport { fileToBase64 } from '@ringcentral-integration/utils';\nimport { RcIconButton, setSelectionPosition } from '@ringcentral/juno';\nimport { SendFilled } from '@ringcentral/juno-icon';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport { EmojiMenu } from './EmojiMenu';\nimport {\n  AttachButton,\n  AttachmentList,\n  FileItem,\n  SUPPORTED_MMS_MIME_TYPES_IN_LOWERCASE,\n} from './FileAttacher';\nimport i18n from './i18n';\nimport styles from './styles.scss';\nimport { getTextFieldInsertResult, setNativeValue } from './utils';\n\nexport const UIHeightOffset = 10;\n// display up to preview 3 items in view\nexport const MAX_PREVIEW_ATTACHMENT_SIZE = 2.5;\nconst SMS_ACCEPT_TYPES = SUPPORTED_MMS_MIME_TYPES_IN_LOWERCASE.join();\n\nclass MessageInput extends Component {\n  static propTypes = {\n    value: PropTypes.string.isRequired,\n    currentLocale: PropTypes.string.isRequired,\n    disabled: PropTypes.bool,\n    sendButtonDisabled: PropTypes.bool,\n    minHeight: PropTypes.number,\n    maxHeight: PropTypes.number,\n    maxLength: PropTypes.number,\n    onSend: PropTypes.func,\n    onChange: PropTypes.func,\n    onHeightChange: PropTypes.func,\n    inputExpandable: PropTypes.bool,\n    supportAttachment: PropTypes.bool,\n    supportEmoji: PropTypes.bool,\n    attachments: PropTypes.array,\n    addAttachments: PropTypes.func,\n    removeAttachment: PropTypes.func,\n  };\n\n  static defaultProps = {\n    disabled: false,\n    sendButtonDisabled: false,\n    onSend: undefined,\n    onChange: undefined,\n    onHeightChange: undefined,\n    minHeight: 41,\n    maxHeight: 300,\n    maxLength: 1000,\n    inputExpandable: true,\n    supportAttachment: false,\n    supportEmoji: false,\n    attachments: [],\n    addAttachments: undefined,\n    removeAttachment: undefined,\n  };\n\n  _lastValueChange: any;\n  textArea: any;\n  emojiActionRef: any;\n\n  constructor(props: any, context: any) {\n    super(props, context);\n    this.state = {\n      value: props.value,\n      height: props.minHeight,\n      attachmentsLength: 0,\n    };\n    this._lastValueChange = 0;\n    this.emojiActionRef = React.createRef();\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  UNSAFE_componentWillReceiveProps(nextProps: any) {\n    if (\n      // @ts-expect-error TS(2339): Property 'value' does not exist on type 'Readonly<... Remove this comment to see the full error message\n      nextProps.value !== this.state.value &&\n      // ignore value changes from props for 300ms after typing\n      // this is to prevent unnecessary value changes when used in chrome extension\n      // where value pushed back to background and back takes longer\n      Date.now() - this._lastValueChange > 300\n    ) {\n      // use setState(updater, callback) to recalculate height after value has been update to DOM\n      this.setState(\n        () => ({\n          value: nextProps.value,\n        }),\n        () => {\n          this.setNewHeight();\n        },\n      );\n    }\n    const newAttachmentsLength = nextProps.attachments?.length;\n    if (\n      // @ts-expect-error TS(2339): Property 'value' does not exist on type 'Readonly<... Remove this comment to see the full error message\n      newAttachmentsLength !== this.state.attachmentsLength &&\n      nextProps.supportAttachment\n    ) {\n      this.setState({\n        attachmentsLength: newAttachmentsLength,\n      });\n      // need to pass latest attachments length to calculate new height\n      this.setNewHeight(newAttachmentsLength);\n    }\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    // do a initial size check in case the component is mounted with multi line value\n    this.setNewHeight();\n  }\n\n  calculateNewHeight(attachmentsLength?: number) {\n    // @ts-expect-error TS(2339): Property 'inputExpandable' does not exist on type ... Remove this comment to see the full error message\n    if (!this.props.inputExpandable) {\n      // @ts-expect-error TS(2339): Property 'minHeight' does not exist on type 'Reado... Remove this comment to see the full error message\n      return this.props.minHeight;\n    }\n    // temporarily set height to 0 to check scrollHeight\n    this.textArea.style.height = 0;\n    const newHeight = this.textArea.scrollHeight + UIHeightOffset;\n    // set height back to original to avoid messing with react\n    // @ts-expect-error TS(2339): Property 'height' does not exist on type 'Readonly... Remove this comment to see the full error message\n    this.textArea.style.height = `${this.state.height - UIHeightOffset}px`;\n    const {\n      // @ts-expect-error TS(2339): Property 'minHeight' does not exist on type 'Reado... Remove this comment to see the full error message\n      minHeight,\n      // @ts-expect-error TS(2339): Property 'maxHeight' does not exist on type 'Reado... Remove this comment to see the full error message\n      maxHeight,\n      // @ts-expect-error TS(2339): Property 'attachments' does not exist on type 'Reado... Remove this comment to see the full error message\n      attachments,\n      // @ts-expect-error TS(2339): Property 'supportAttachment' does not exist on type 'Reado... Remove this comment to see the full error message\n      supportAttachment,\n      // @ts-expect-error TS(2339): Property 'supportEmoji' does not exist on type 'Reado... Remove this comment to see the full error message\n      supportEmoji,\n    } = this.props;\n    const mmsLength = attachmentsLength ?? attachments.length;\n    const attachmentsHeight =\n      (mmsLength > MAX_PREVIEW_ATTACHMENT_SIZE\n        ? MAX_PREVIEW_ATTACHMENT_SIZE\n        : mmsLength) * 50;\n    const inputToolBarHeight = supportAttachment || supportEmoji ? 40 : 0;\n    const othersHeight = attachmentsHeight + inputToolBarHeight;\n    if (newHeight < minHeight) {\n      return minHeight;\n    }\n    if (newHeight > maxHeight - othersHeight) {\n      return maxHeight - othersHeight;\n    }\n    return newHeight;\n  }\n\n  setNewHeight(attachmentsLength?: number) {\n    const newHeight = this.calculateNewHeight(attachmentsLength);\n    // @ts-expect-error TS(2339): Property 'height' does not exist on type 'Readonly... Remove this comment to see the full error message\n    if (newHeight !== this.state.height) {\n      // @ts-expect-error TS(2339): Property 'onHeightChange' does not exist on type '... Remove this comment to see the full error message\n      if (typeof this.props.onHeightChange === 'function') {\n        // @ts-expect-error TS(2339): Property 'onHeightChange' does not exist on type '... Remove this comment to see the full error message\n        this.props.onHeightChange(newHeight);\n      }\n      this.setState({\n        height: newHeight,\n      });\n    }\n  }\n\n  onChange = (e: any) => {\n    this._lastValueChange = Date.now();\n    const {\n      currentTarget: { value },\n    } = e;\n    const newHeight = this.calculateNewHeight();\n    if (\n      // @ts-expect-error TS(2339): Property 'height' does not exist on type 'Readonly... Remove this comment to see the full error message\n      newHeight !== this.state.height &&\n      // @ts-expect-error TS(2339): Property 'onHeightChange' does not exist on type '... Remove this comment to see the full error message\n      typeof this.props.onHeightChange === 'function'\n    ) {\n      // @ts-expect-error TS(2339): Property 'onHeightChange' does not exist on type '... Remove this comment to see the full error message\n      this.props.onHeightChange(newHeight);\n    }\n    this.setState({\n      value,\n      height: newHeight,\n    });\n    // ues debounce for avoiding frequent updates compose text module state\n    this.updateMessageText?.();\n  };\n\n  updateMessageText =\n    // @ts-expect-error TS(2339): Property 'onChange' does not exist on type 'Readon... Remove this comment to see the full error message\n    typeof this.props.onChange === 'function'\n      ? debounce({\n          // @ts-expect-error TS(2339): Property 'onChange' does not exist on type 'Readon... Remove this comment to see the full error message\n          fn: () => this.props.onChange(this.state.value),\n        })\n      : null;\n\n  onKeyDown = (e: any) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n\n      // TODO: this component should be refactored whole UX logic\n      // @ts-expect-error TS(2339): Property 'sendButtonDisabled' does not exist on ty... Remove this comment to see the full error message\n      if (this.props.sendButtonDisabled) return;\n\n      this.onSend();\n    }\n  };\n\n  onSend = () => {\n    this.updateMessageText?.flush();\n    // @ts-expect-error TS(2339): Property 'disabled' does not exist on type 'Readon... Remove this comment to see the full error message\n    if (!this.props.disabled && typeof this.props.onSend === 'function') {\n      // @ts-expect-error TS(2339): Property 'onSend' does not exist on type 'Readonly... Remove this comment to see the full error message\n      this.props.onSend(this.state.value, this.props.attachments);\n    }\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const {\n      // @ts-expect-error TS(2339): Property 'currentLocale' does not exist on type 'R... Remove this comment to see the full error message\n      currentLocale,\n      // @ts-expect-error TS(2339): Property 'disabled' does not exist on type 'Readon... Remove this comment to see the full error message\n      disabled,\n      // @ts-expect-error TS(2339): Property 'sendButtonDisabled' does not exist on ty... Remove this comment to see the full error message\n      sendButtonDisabled,\n      // @ts-expect-error TS(2339): Property 'maxLength' does not exist on type 'Reado... Remove this comment to see the full error message\n      maxLength,\n      // @ts-expect-error TS(2339): Property 'supportAttachment' does not exist on typ... Remove this comment to see the full error message\n      supportAttachment,\n      // @ts-expect-error TS(2339): Property 'supportEmoji' does not exist on typ... Remove this comment to see the full error message\n      supportEmoji,\n      // @ts-expect-error TS(2339): Property 'attachments' does not exist on type 'Rea... Remove this comment to see the full error message\n      attachments,\n      // @ts-expect-error TS(2339): Property 'removeAttachment' does not exist on type... Remove this comment to see the full error message\n      removeAttachment,\n      // @ts-expect-error TS(2339): Property 'addAttachments' does not exist on type... Remove this comment to see the full error message\n      addAttachments,\n    } = this.props;\n    // @ts-expect-error TS(2339): Property 'value' does not exist on type 'Readonly<... Remove this comment to see the full error message\n    const { value, height } = this.state;\n    const inputHeight = height - UIHeightOffset;\n    const hasToolBar = supportEmoji || supportAttachment;\n    return (\n      <div className={clsx(styles.root)}>\n        {hasToolBar && (\n          <div>\n            {supportAttachment && (\n              <AttachButton\n                multiple\n                currentLocale={currentLocale}\n                acceptTypes={SMS_ACCEPT_TYPES}\n                onUpload={async (data) => {\n                  // when upload be trigger also close popup\n                  this.emojiActionRef.current?.close();\n                  if (data?.length) {\n                    const files = await Promise.all(\n                      data.map(async (file) => {\n                        const { name, size } = file;\n                        const base64Url = await fileToBase64(file);\n                        return {\n                          name,\n                          size,\n                          file,\n                          base64Url,\n                        };\n                      }),\n                    );\n                    addAttachments?.(files);\n                  }\n                }}\n              />\n            )}\n            {supportEmoji && (\n              <EmojiMenu\n                data-sign=\"emojiButton\"\n                action={this.emojiActionRef}\n                currentLocale={currentLocale}\n                getInputElement={() => this.textArea!}\n                onSelect={(data, position) => {\n                  if (!this.textArea) return;\n\n                  const emoji = data.native;\n\n                  const result = getTextFieldInsertResult({\n                    input: this.textArea,\n                    insertValue: emoji,\n                    sourcePosition: position,\n                  });\n\n                  const nextPositionInfo = result.start;\n\n                  if (nextPositionInfo) {\n                    requestAnimationFrame(() => {\n                      setSelectionPosition(this.textArea, {\n                        start: nextPositionInfo,\n                        end: nextPositionInfo,\n                      });\n                    });\n                  }\n\n                  setNativeValue(this.textArea, result.value);\n                  this.textArea.focus();\n                }}\n              />\n            )}\n          </div>\n        )}\n        <div\n          className={clsx(\n            styles.textField,\n            !hasToolBar ? styles.textFieldMargin : null,\n          )}\n        >\n          <textarea\n            data-sign=\"messageInput\"\n            ref={(target) => {\n              this.textArea = target;\n            }}\n            placeholder={i18n.getString('typeMessage', currentLocale)}\n            value={value}\n            maxLength={maxLength}\n            onChange={this.onChange}\n            onKeyPressCapture={this.onKeyDown}\n            onKeyDown={(e) => {\n              if (e.key === 'Escape') {\n                this.emojiActionRef.current?.close();\n              }\n            }}\n            style={{\n              height: inputHeight,\n            }}\n            disabled={disabled}\n          />\n          <div className={styles.submitField}>\n            <RcIconButton\n              size=\"small\"\n              data-sign=\"messageButton\"\n              disabled={disabled || sendButtonDisabled}\n              symbol={SendFilled}\n              color=\"action.primary\"\n              onClick={this.onSend}\n            />\n          </div>\n        </div>\n        {supportAttachment && attachments?.length > 0 && (\n          <div className={styles.attachments}>\n            <AttachmentList\n              files={attachments as FileItem[]}\n              onRemoveAttachment={removeAttachment}\n              data-sign=\"textAttachmentsList\"\n            />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default MessageInput;\n"],"mappings":"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","ignoreList":[]}