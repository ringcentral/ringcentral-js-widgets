{"version":3,"file":"useFileSize.js","names":["_hooks","require","_react","_i18n","_interopRequireDefault","e","__esModule","numberFormatOptions","minimumFractionDigits","maximumFractionDigits","useFileSize","exports","bytes","_useLocale","useLocale","i18n","t","useMemo","concat","formatNumber"],"sources":["components/MessageInput/FileAttacher/useFileSize.tsx"],"sourcesContent":["import { useLocale } from '@ringcentral-integration/micro-core/src/app/hooks';\nimport { useMemo } from 'react';\n\nimport i18n from './i18n';\n\nconst numberFormatOptions = {\n  minimumFractionDigits: 1,\n  maximumFractionDigits: 1,\n};\n\n// refer from J: project/common/ui/common/src/helper/helper.ts\nexport const useFileSize = (bytes?: number) => {\n  const { t } = useLocale(i18n);\n\n  return useMemo(() => {\n    if (!bytes || bytes < 0) {\n      return null;\n    }\n\n    if (typeof bytes !== 'number' || bytes === 0) {\n      return `0 ${t('B')}`;\n    }\n\n    if (bytes < 100) {\n      const formatNumber = i18n.formatNumber(bytes, numberFormatOptions);\n      return `${formatNumber} ${t('B')}`;\n    }\n    if (bytes / 1024 < 1000) {\n      const formatNumber = i18n.formatNumber(bytes / 1024, numberFormatOptions);\n      return `${formatNumber} ${t('KB')}`;\n    }\n    if (bytes / 1024 / 1024 < 1000) {\n      const formatNumber = i18n.formatNumber(\n        bytes / 1024 / 1024,\n        numberFormatOptions,\n      );\n      return `${formatNumber} ${t('MB')}`;\n    }\n    const formatNumber = i18n.formatNumber(\n      bytes / 1024 / 1024 / 1024,\n      numberFormatOptions,\n    );\n    return `${formatNumber} ${t('GB')}`;\n  }, [bytes, t]);\n};\n"],"mappings":";;;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAD,OAAA;AAEA,IAAAE,KAAA,GAAAC,sBAAA,CAAAH,OAAA;AAA0B,SAAAG,uBAAAC,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAE1B,IAAME,mBAAmB,GAAG;EAC1BC,qBAAqB,EAAE,CAAC;EACxBC,qBAAqB,EAAE;AACzB,CAAC;;AAED;AACO,IAAMC,WAAW,GAAAC,OAAA,CAAAD,WAAA,GAAG,SAAdA,WAAWA,CAAIE,KAAc,EAAK;EAC7C,IAAAC,UAAA,GAAc,IAAAC,gBAAS,EAACC,gBAAI,CAAC;IAArBC,CAAC,GAAAH,UAAA,CAADG,CAAC;EAET,OAAO,IAAAC,cAAO,EAAC,YAAM;IACnB,IAAI,CAACL,KAAK,IAAIA,KAAK,GAAG,CAAC,EAAE;MACvB,OAAO,IAAI;IACb;IAEA,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,CAAC,EAAE;MAC5C,YAAAM,MAAA,CAAYF,CAAC,CAAC,GAAG,CAAC;IACpB;IAEA,IAAIJ,KAAK,GAAG,GAAG,EAAE;MACf,IAAMO,aAAY,GAAGJ,gBAAI,CAACI,YAAY,CAACP,KAAK,EAAEL,mBAAmB,CAAC;MAClE,UAAAW,MAAA,CAAUC,aAAY,OAAAD,MAAA,CAAIF,CAAC,CAAC,GAAG,CAAC;IAClC;IACA,IAAIJ,KAAK,GAAG,IAAI,GAAG,IAAI,EAAE;MACvB,IAAMO,cAAY,GAAGJ,gBAAI,CAACI,YAAY,CAACP,KAAK,GAAG,IAAI,EAAEL,mBAAmB,CAAC;MACzE,UAAAW,MAAA,CAAUC,cAAY,OAAAD,MAAA,CAAIF,CAAC,CAAC,IAAI,CAAC;IACnC;IACA,IAAIJ,KAAK,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,EAAE;MAC9B,IAAMO,cAAY,GAAGJ,gBAAI,CAACI,YAAY,CACpCP,KAAK,GAAG,IAAI,GAAG,IAAI,EACnBL,mBACF,CAAC;MACD,UAAAW,MAAA,CAAUC,cAAY,OAAAD,MAAA,CAAIF,CAAC,CAAC,IAAI,CAAC;IACnC;IACA,IAAMG,YAAY,GAAGJ,gBAAI,CAACI,YAAY,CACpCP,KAAK,GAAG,IAAI,GAAG,IAAI,GAAG,IAAI,EAC1BL,mBACF,CAAC;IACD,UAAAW,MAAA,CAAUC,YAAY,OAAAD,MAAA,CAAIF,CAAC,CAAC,IAAI,CAAC;EACnC,CAAC,EAAE,CAACJ,KAAK,EAAEI,CAAC,CAAC,CAAC;AAChB,CAAC","ignoreList":[]}