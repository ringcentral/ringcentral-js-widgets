{"version":3,"file":"AttachButton.js","names":["_juno","require","_junoIcon","_react","_interopRequireDefault","_useFileUpload3","_i18n","_excluded","e","__esModule","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","i","u","f","o","next","done","push","value","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","handlePreventLeaveFocus","preventDefault","AttachButton","exports","_ref","accept","acceptTypes","_ref$multiple","multiple","currentLocale","onUpload","rest","_useFileUpload","useFileUpload","_useFileUpload2","selectFile","createElement","RcIconButton","size","symbol","Attachment","title","i18n","getString","onMouseDown","onClick","result","files","map","it","file"],"sources":["components/MessageInput/FileAttacher/AttachButton.tsx"],"sourcesContent":["import { RcIconButton, RcIconButtonProps } from '@ringcentral/juno';\nimport { Attachment } from '@ringcentral/juno-icon';\nimport React, { FC } from 'react';\nimport { useFileUpload } from 'use-file-upload';\n\nimport i18n from './i18n';\n\ntype AttachmentMenuViewProps = RcIconButtonProps & {\n  acceptTypes: string;\n  currentLocale: string;\n  multiple?: boolean;\n  onUpload?: (files: File[]) => void;\n};\n\nconst handlePreventLeaveFocus = (\n  e: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n): void => e.preventDefault();\n\nexport const AttachButton: FC<AttachmentMenuViewProps> = ({\n  acceptTypes: accept,\n  multiple = false,\n  currentLocale,\n  onUpload,\n  ...rest\n}) => {\n  const [, selectFile] = useFileUpload();\n  return (\n    <RcIconButton\n      data-sign=\"attachButton\"\n      size=\"medium\"\n      symbol={Attachment}\n      title={i18n.getString('attachFiles', currentLocale)}\n      {...rest}\n      onMouseDown={handlePreventLeaveFocus}\n      onClick={() =>\n        selectFile({ accept, multiple }, (result) => {\n          const files = multiple\n            ? (result as unknown as { file: File }[])\n            : [result as unknown as { file: File }];\n          onUpload?.(files.map((it) => it.file));\n        })\n      }\n    />\n  );\n};\n"],"mappings":"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","ignoreList":[]}