{"version":3,"file":"DialerPanel.spec.js","names":["_juno","require","_createDialerPanel","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","mockAudio","window","HTMLMediaElement","prototype","play","describe","wrapper","getCallButton","find","at","getDeleteButton","last","afterEach","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","unmount","stop","it","_callee2","toNumber","setToNumber","recipientsInput","eventObj","_callee2$","_context2","jest","createDialerPanel","RcDialTextField","target","simulate","expect","toBeCalledWith","_callee3","deleteButton","_callee3$","_context3","exists","toBeFalsy","toBeTruthy","_callee4","dialoutStatus","dialout","callButton","_callee4$","_context4","not","toBeCalled","goToManualDialSettings","manualDialSettings","hasDialer","callButtonTip","noDialerWrapper","noManualDialSettings","noCallButtonTip","noRecipientsInput"],"sources":["components/DialerPanel/tests/DialerPanel.spec.tsx"],"sourcesContent":["import type { ReactWrapper } from 'enzyme';\n\nimport { RcDialTextField } from '@ringcentral/juno';\n\nimport type { DialoutStatusesType } from '../../../enums/dialoutStatus';\nimport { createDialerPanel } from './createDialerPanel';\n\nconst mockAudio = () => {\n  window.HTMLMediaElement.prototype.play = () => {\n    return new Promise((resolve) => {\n      resolve();\n    });\n  };\n};\n\nmockAudio();\n\ndescribe('<DialerPanel />', () => {\n  let wrapper: ReactWrapper;\n  const getCallButton = () => wrapper.find('[data-sign=\"callButton\"]').at(0);\n  const getDeleteButton = () =>\n    wrapper.find('button[data-sign=\"deleteButton\"]').last();\n\n  afterEach(async () => {\n    wrapper.unmount();\n  });\n\n  it('User can manually input numbers in the recipientsInput', async () => {\n    const toNumber = '';\n    const setToNumber = jest.fn(() => {});\n    wrapper = createDialerPanel({ toNumber, setToNumber });\n    const recipientsInput = wrapper.find(RcDialTextField).at(0);\n    const eventObj = { target: { value: '1243' } };\n    recipientsInput.find('input').at(0).simulate('change', eventObj);\n    expect(setToNumber).toBeCalledWith('1243');\n  });\n\n  it('Delete button show switch', async () => {\n    wrapper = createDialerPanel({ toNumber: '' });\n    let deleteButton = getDeleteButton();\n    expect(deleteButton.exists()).toBeFalsy();\n    wrapper = createDialerPanel({ toNumber: '6508652493' });\n    deleteButton = getDeleteButton();\n    expect(deleteButton.exists()).toBeTruthy();\n  });\n\n  it(`Dialpad is not allowed to dialout in the state of dialing`, async () => {\n    const toNumber = '6508652493';\n    const dialoutStatus = 'dialing' as DialoutStatusesType;\n    const dialout = jest.fn(() => {});\n    wrapper = createDialerPanel({ toNumber, dialout, dialoutStatus });\n    const callButton = getCallButton();\n    callButton.simulate('click');\n    expect(dialout).not.toBeCalled();\n  });\n\n  it('User clicks manualDialSettings', () => {\n    const goToManualDialSettings = jest.fn(() => {});\n    wrapper = createDialerPanel({ goToManualDialSettings });\n    const manualDialSettings = wrapper\n      .find('[data-sign=\"manualDialSettings\"]')\n      .at(0);\n    manualDialSettings.simulate('click');\n    expect(goToManualDialSettings).toBeCalled();\n  });\n\n  it('Check Disabled Allow Manual Calls', () => {\n    /* RCI-3899: Check Disabled Allow Manual Calls\n      https://test_it_domain/test-cases/RCI-3899\n    */\n    wrapper = createDialerPanel({ hasDialer: true });\n    const manualDialSettings = wrapper\n      .find('[data-sign=\"manualDialSettings\"]')\n      .at(0);\n    const callButtonTip = wrapper.find('[data-sign=\"callButtonTip\"]').at(0);\n    const recipientsInput = wrapper.find(RcDialTextField).at(0);\n    expect(recipientsInput.exists()).toBeTruthy();\n    expect(manualDialSettings.exists()).toBeTruthy();\n    expect(callButtonTip.exists()).toBeTruthy();\n\n    const noDialerWrapper = createDialerPanel({ hasDialer: false });\n    const noManualDialSettings = noDialerWrapper\n      .find('[data-sign=\"manualDialSettings\"]')\n      .at(0);\n    const noCallButtonTip = noDialerWrapper\n      .find('[data-sign=\"callButtonTip\"]')\n      .at(0);\n    const noRecipientsInput = noDialerWrapper.find(RcDialTextField).at(0);\n    expect(noRecipientsInput.exists()).toBeFalsy();\n    expect(noManualDialSettings.exists()).toBeFalsy();\n    expect(noCallButtonTip.exists()).toBeFalsy();\n  });\n});\n"],"mappings":"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"}