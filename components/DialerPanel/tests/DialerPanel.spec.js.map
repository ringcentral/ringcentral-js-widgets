{"version":3,"file":"DialerPanel.spec.js","names":["_juno","require","_createDialerPanel","asyncGeneratorStep","n","t","e","r","o","a","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","mockAudio","window","HTMLMediaElement","prototype","play","describe","wrapper","getCallButton","find","at","getDeleteButton","last","afterEach","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","unmount","stop","it","_callee2","toNumber","setToNumber","recipientsInput","eventObj","_callee2$","_context2","jest","fn","createDialerPanel","RcDialTextField","target","simulate","expect","toHaveBeenCalledWith","_callee3","deleteButton","_callee3$","_context3","exists","toBeFalsy","toBeTruthy","_callee4","dialoutStatus","dialout","callButton","_callee4$","_context4","not","toHaveBeenCalled","goToManualDialSettings","manualDialSettings","hasDialer","callButtonTip","noDialerWrapper","noManualDialSettings","noCallButtonTip","noRecipientsInput"],"sources":["components/DialerPanel/tests/DialerPanel.spec.tsx"],"sourcesContent":["import { RcDialTextField } from '@ringcentral/juno';\nimport type { ReactWrapper } from 'enzyme';\n\nimport type { DialoutStatusesType } from '../../../enums/dialoutStatus';\n\nimport { createDialerPanel } from './createDialerPanel';\n\nconst mockAudio = () => {\n  window.HTMLMediaElement.prototype.play = () => {\n    return new Promise((resolve) => {\n      resolve();\n    });\n  };\n};\n\nmockAudio();\n\ndescribe('<DialerPanel />', () => {\n  let wrapper: ReactWrapper;\n  const getCallButton = () => wrapper.find('[data-sign=\"callButton\"]').at(0);\n  const getDeleteButton = () =>\n    wrapper.find('button[data-sign=\"deleteButton\"]').last();\n\n  afterEach(async () => {\n    wrapper.unmount();\n  });\n\n  it('User can manually input numbers in the recipientsInput', async () => {\n    const toNumber = '';\n    const setToNumber = jest.fn(() => {});\n    wrapper = createDialerPanel({ toNumber, setToNumber });\n    const recipientsInput = wrapper.find(RcDialTextField).at(0);\n    const eventObj = { target: { value: '1243' } };\n    recipientsInput.find('input').at(0).simulate('change', eventObj);\n    expect(setToNumber).toHaveBeenCalledWith('1243');\n  });\n\n  it('Delete button show switch', async () => {\n    wrapper = createDialerPanel({ toNumber: '' });\n    let deleteButton = getDeleteButton();\n    expect(deleteButton.exists()).toBeFalsy();\n    wrapper = createDialerPanel({ toNumber: '6508652493' });\n    deleteButton = getDeleteButton();\n    expect(deleteButton.exists()).toBeTruthy();\n  });\n\n  it(`Dialpad is not allowed to dialout in the state of dialing`, async () => {\n    const toNumber = '6508652493';\n    const dialoutStatus = 'dialing' as DialoutStatusesType;\n    const dialout = jest.fn(() => {});\n    wrapper = createDialerPanel({ toNumber, dialout, dialoutStatus });\n    const callButton = getCallButton();\n    callButton.simulate('click');\n    expect(dialout).not.toHaveBeenCalled();\n  });\n\n  it('User clicks manualDialSettings', () => {\n    const goToManualDialSettings = jest.fn(() => {});\n    wrapper = createDialerPanel({ goToManualDialSettings });\n    const manualDialSettings = wrapper\n      .find('[data-sign=\"manualDialSettings\"]')\n      .at(0);\n    manualDialSettings.simulate('click');\n    expect(goToManualDialSettings).toHaveBeenCalled();\n  });\n\n  it('Check Disabled Allow Manual Calls', () => {\n    /* RCI-3899: Check Disabled Allow Manual Calls\n      https://test_it_domain/test-cases/RCI-3899\n    */\n    wrapper = createDialerPanel({ hasDialer: true });\n    const manualDialSettings = wrapper\n      .find('[data-sign=\"manualDialSettings\"]')\n      .at(0);\n    const callButtonTip = wrapper.find('[data-sign=\"callButtonTip\"]').at(0);\n    const recipientsInput = wrapper.find(RcDialTextField).at(0);\n    expect(recipientsInput.exists()).toBeTruthy();\n    expect(manualDialSettings.exists()).toBeTruthy();\n    expect(callButtonTip.exists()).toBeTruthy();\n\n    const noDialerWrapper = createDialerPanel({ hasDialer: false });\n    const noManualDialSettings = noDialerWrapper\n      .find('[data-sign=\"manualDialSettings\"]')\n      .at(0);\n    const noCallButtonTip = noDialerWrapper\n      .find('[data-sign=\"callButtonTip\"]')\n      .at(0);\n    const noRecipientsInput = noDialerWrapper.find(RcDialTextField).at(0);\n    expect(noRecipientsInput.exists()).toBeFalsy();\n    expect(noManualDialSettings.exists()).toBeFalsy();\n    expect(noCallButtonTip.exists()).toBeFalsy();\n  });\n});\n"],"mappings":"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","ignoreList":[]}