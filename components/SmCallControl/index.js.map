{"version":3,"file":"index.js","names":["_callDirections","_interopRequireDefault","require","_telephonyStatus","_clsx","_react","_End","_Mute","_Unmute","_CircleButton","_i18n","_styles","e","__esModule","SmCallControl","props","onMute","onUnmute","onHangup","onReject","isOnMute","callStatus","currentLocale","callDirection","canRejectCall","callDirections","inbound","telephonyStatuses","ringing","muteIcon","MuteIcon","UnmuteIcon","muteAction","muteTitle","endTitle","endAction","disabledCtrl","createElement","className","styles","smWraper","title","i18n","getString","dataSign","icon","onClick","clsx","button","buttonDisabled","disabled","showBorder","EndIcon","hangup","defaultProps","_default","exports"],"sources":["components/SmCallControl/index.tsx"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport telephonyStatuses from '@ringcentral-integration/commons/enums/telephonyStatus';\nimport clsx from 'clsx';\nimport React from 'react';\n\nimport EndIcon from '../../assets/images/End.svg';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport CircleButton from '../CircleButton';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\ntype SmCallControlProps = {\n  onMute?: (...args: any[]) => any;\n  onUnmute?: (...args: any[]) => any;\n  onHangup?: (...args: any[]) => any;\n  onReject?: (...args: any[]) => any;\n  isOnMute?: boolean;\n  callStatus?: string;\n  currentLocale?: string;\n  callDirection: string;\n};\nconst SmCallControl: React.FC<SmCallControlProps> = (props) => {\n  const {\n    onMute,\n    onUnmute,\n    onHangup,\n    onReject,\n    isOnMute,\n    callStatus,\n    currentLocale,\n    callDirection,\n  } = props;\n  // reject conditions: call direction is inbound & call status is ringing\n  function canRejectCall() {\n    return (\n      callDirections.inbound === callDirection &&\n      telephonyStatuses.ringing === callStatus\n    );\n  }\n  const muteIcon = isOnMute ? MuteIcon : UnmuteIcon;\n  const muteAction = isOnMute ? onUnmute : onMute;\n  const muteTitle = isOnMute ? 'unmute' : 'mute';\n  const endTitle = canRejectCall() ? 'reject' : 'hangup';\n  const endAction = canRejectCall() ? onReject : onHangup;\n  const disabledCtrl = callStatus === telephonyStatuses.ringing;\n  return (\n    <div className={styles.smWraper}>\n      <span title={i18n.getString(muteTitle, currentLocale)}>\n        <CircleButton\n          dataSign={muteTitle}\n          icon={muteIcon}\n          onClick={muteAction}\n          className={clsx(\n            styles.button,\n            disabledCtrl ? styles.buttonDisabled : null,\n          )}\n          disabled={disabledCtrl}\n        />\n      </span>\n      <span title={i18n.getString(endTitle, currentLocale)}>\n        <CircleButton\n          dataSign={endTitle}\n          showBorder={false}\n          icon={EndIcon}\n          onClick={endAction}\n          className={clsx(styles.hangup, styles.button)}\n        />\n      </span>\n    </div>\n  );\n};\nSmCallControl.defaultProps = {\n  onMute() {},\n  onUnmute() {},\n  onHangup() {},\n  onReject() {},\n  isOnMute: false,\n  callStatus: 'CallConnected',\n  currentLocale: 'en-US',\n};\nexport default SmCallControl;\n"],"mappings":";;;;;;;AAAA,IAAAA,eAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,gBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,MAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAAI,IAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,KAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,OAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,aAAA,GAAAR,sBAAA,CAAAC,OAAA;AAEA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,OAAA,GAAAV,sBAAA,CAAAC,OAAA;AAAmC,SAAAD,uBAAAW,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAYnC,IAAME,aAA2C,GAAG,SAA9CA,aAA2CA,CAAIC,KAAK,EAAK;EAC7D,IACEC,MAAM,GAQJD,KAAK,CARPC,MAAM;IACNC,QAAQ,GAONF,KAAK,CAPPE,QAAQ;IACRC,QAAQ,GAMNH,KAAK,CANPG,QAAQ;IACRC,QAAQ,GAKNJ,KAAK,CALPI,QAAQ;IACRC,QAAQ,GAINL,KAAK,CAJPK,QAAQ;IACRC,UAAU,GAGRN,KAAK,CAHPM,UAAU;IACVC,aAAa,GAEXP,KAAK,CAFPO,aAAa;IACbC,aAAa,GACXR,KAAK,CADPQ,aAAa;EAEf;EACA,SAASC,aAAaA,CAAA,EAAG;IACvB,OACEC,0BAAc,CAACC,OAAO,KAAKH,aAAa,IACxCI,2BAAiB,CAACC,OAAO,KAAKP,UAAU;EAE5C;EACA,IAAMQ,QAAQ,GAAGT,QAAQ,GAAGU,gBAAQ,GAAGC,kBAAU;EACjD,IAAMC,UAAU,GAAGZ,QAAQ,GAAGH,QAAQ,GAAGD,MAAM;EAC/C,IAAMiB,SAAS,GAAGb,QAAQ,GAAG,QAAQ,GAAG,MAAM;EAC9C,IAAMc,QAAQ,GAAGV,aAAa,CAAC,CAAC,GAAG,QAAQ,GAAG,QAAQ;EACtD,IAAMW,SAAS,GAAGX,aAAa,CAAC,CAAC,GAAGL,QAAQ,GAAGD,QAAQ;EACvD,IAAMkB,YAAY,GAAGf,UAAU,KAAKM,2BAAiB,CAACC,OAAO;EAC7D,oBACEvB,MAAA,YAAAgC,aAAA;IAAKC,SAAS,EAAEC,kBAAM,CAACC;EAAS,gBAC9BnC,MAAA,YAAAgC,aAAA;IAAMI,KAAK,EAAEC,gBAAI,CAACC,SAAS,CAACV,SAAS,EAAEX,aAAa;EAAE,gBACpDjB,MAAA,YAAAgC,aAAA,CAAC5B,aAAA,WAAY;IACXmC,QAAQ,EAAEX,SAAU;IACpBY,IAAI,EAAEhB,QAAS;IACfiB,OAAO,EAAEd,UAAW;IACpBM,SAAS,EAAE,IAAAS,gBAAI,EACbR,kBAAM,CAACS,MAAM,EACbZ,YAAY,GAAGG,kBAAM,CAACU,cAAc,GAAG,IACzC,CAAE;IACFC,QAAQ,EAAEd;EAAa,CACxB,CACG,CAAC,eACP/B,MAAA,YAAAgC,aAAA;IAAMI,KAAK,EAAEC,gBAAI,CAACC,SAAS,CAACT,QAAQ,EAAEZ,aAAa;EAAE,gBACnDjB,MAAA,YAAAgC,aAAA,CAAC5B,aAAA,WAAY;IACXmC,QAAQ,EAAEV,QAAS;IACnBiB,UAAU,EAAE,KAAM;IAClBN,IAAI,EAAEO,eAAQ;IACdN,OAAO,EAAEX,SAAU;IACnBG,SAAS,EAAE,IAAAS,gBAAI,EAACR,kBAAM,CAACc,MAAM,EAAEd,kBAAM,CAACS,MAAM;EAAE,CAC/C,CACG,CACH,CAAC;AAEV,CAAC;AACDlC,aAAa,CAACwC,YAAY,GAAG;EAC3BtC,MAAM,WAANA,MAAMA,CAAA,EAAG,CAAC,CAAC;EACXC,QAAQ,WAARA,QAAQA,CAAA,EAAG,CAAC,CAAC;EACbC,QAAQ,WAARA,QAAQA,CAAA,EAAG,CAAC,CAAC;EACbC,QAAQ,WAARA,QAAQA,CAAA,EAAG,CAAC,CAAC;EACbC,QAAQ,EAAE,KAAK;EACfC,UAAU,EAAE,eAAe;EAC3BC,aAAa,EAAE;AACjB,CAAC;AAAC,IAAAiC,QAAA,GAAAC,OAAA,cACa1C,aAAa","ignoreList":[]}