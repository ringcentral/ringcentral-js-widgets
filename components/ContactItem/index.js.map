{"version":3,"sources":["components/ContactItem/index.js"],"names":["AvatarNode","name","avatarUrl","isInactive","avatarStyle","styles","inactiveAvatarNode","avatarNode","propTypes","PropTypes","string","bool","defaultProps","undefined","ContactItem","props","renderPresence","contact","presence","contactStatus","presenceNodeContainer","presenceNode","renderMiddle","currentLocale","infoWrapper","inactiveContactName","inactiveText","i18n","getString","contactName","state","loading","onItemSelected","bind","_mounted","_loadingTimeout","setTimeout","setState","getAvatarUrl","getPresence","clearTimeout","func","onSelect","root","extensionNumber","type","profileImageUrl","sourceNodeRenderer","sourceNode","sourceType","contactProfile","avatarNodeContainer","sourceNodeContainer","phoneNumber","PureComponent","isRequired","shape","id","email","object"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport PlaceholderImage from '../PlaceholderImage';\nimport PresenceStatusIcon from '../PresenceStatusIcon';\nimport DefaultAvatar from '../../assets/images/DefaultAvatar.svg';\nimport i18n from './i18n';\n\nimport styles from './styles.scss';\n\nfunction AvatarNode({ name, avatarUrl, isInactive }) {\n  const avatarStyle = isInactive ? styles.inactiveAvatarNode : styles.avatarNode;\n  return (\n    <PlaceholderImage\n      className={avatarStyle}\n      alt={name}\n      src={avatarUrl}\n      placeholder={<DefaultAvatar className={avatarStyle} />}\n    />\n  );\n}\n\nAvatarNode.propTypes = {\n  name: PropTypes.string,\n  avatarUrl: PropTypes.string,\n  isInactive: PropTypes.bool,\n};\nAvatarNode.defaultProps = {\n  name: undefined,\n  avatarUrl: undefined,\n  isInactive: false,\n};\n\nexport default class ContactItem extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true\n    };\n    this.onItemSelected = this.onItemSelected.bind(this);\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    this._loadingTimeout = setTimeout(() => {\n      if (this._mounted) {\n        this.setState({\n          loading: false\n        });\n      }\n    }, 3);\n    setTimeout(() => {\n      if (this._mounted) {\n        this.props.getAvatarUrl(this.props.contact);\n        this.props.getPresence(this.props.contact);\n      }\n    }, 500);\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    if (this._loadingTimeout) {\n      clearTimeout(this._loadingTimeout);\n    }\n  }\n\n  onItemSelected() {\n    const func = this.props.onSelect;\n    if (func) {\n      func(this.props.contact);\n    }\n  }\n\n  renderPresence = (contact) => {\n    const { presence, contactStatus } = contact;\n    if (contactStatus === 'NotActivated') {\n      return null;\n    }\n\n    return presence ? (\n      <div className={styles.presenceNodeContainer}>\n        <PresenceStatusIcon className={styles.presenceNode} {...presence} />\n      </div>\n    ) : null;\n  };\n\n  renderMiddle = (contact, currentLocale) => {\n    const { name, contactStatus } = contact;\n    if (contactStatus === 'NotActivated') {\n      return (\n        <div className={styles.infoWrapper}>\n          <div className={styles.inactiveContactName} title={name}>\n            {name}\n          </div>\n          <div className={styles.inactiveText}>\n            {i18n.getString('notActivated', currentLocale)}\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className={styles.contactName} title={name}>\n        {name}\n      </div>\n    );\n  };\n\n  render() {\n    if (this.state.loading) {\n      return <div className={styles.root} />;\n    }\n    const {\n      contact,\n      currentLocale\n    } = this.props;\n    const {\n      name, extensionNumber, type, profileImageUrl, contactStatus,\n    } = contact;\n\n    const { sourceNodeRenderer } = this.props;\n    const sourceNode = sourceNodeRenderer({ sourceType: type });\n    return (\n      <div className={styles.root} onClick={this.onItemSelected} data-sign=\"contactItem\">\n        <div className={styles.contactProfile}>\n          <div className={styles.avatarNodeContainer}>\n            <AvatarNode\n              name={name}\n              avatarUrl={profileImageUrl}\n              isInactive={contactStatus === 'NotActivated'} />\n          </div>\n          {sourceNode ? (\n            <div className={styles.sourceNodeContainer}>{sourceNode}</div>\n          ) : null}\n          {this.renderPresence(this.props.contact)}\n        </div>\n        {this.renderMiddle(contact, currentLocale)}\n        <div className={styles.phoneNumber} title={extensionNumber}>\n          {extensionNumber}\n        </div>\n      </div>\n    );\n  }\n}\n\nContactItem.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  contact: PropTypes.shape({\n    id: PropTypes.string,\n    type: PropTypes.string,\n    name: PropTypes.string,\n    extensionNumber: PropTypes.string,\n    email: PropTypes.string,\n    profileImageUrl: PropTypes.string,\n    presence: PropTypes.object,\n    contactStatus: PropTypes.string\n  }).isRequired,\n  getAvatarUrl: PropTypes.func.isRequired,\n  getPresence: PropTypes.func.isRequired,\n  onSelect: PropTypes.func,\n  sourceNodeRenderer: PropTypes.func\n};\n\nContactItem.defaultProps = {\n  onSelect: undefined,\n  sourceNodeRenderer: () => null\n};\n"],"file":"index.js"}