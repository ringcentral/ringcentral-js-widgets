{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_classnames2","_callDirections","_telephonyStatus","_End","_Button","_CircleButton","_LogBasicInfo","_i18n","_i18n2","_styles","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","LogNotification","_ref","formatPhone","currentLog","currentLocale","showLogButton","isExpand","onStay","onDiscard","onSave","onExpand","currentSession","onReject","onHangup","showEndButton","disableLinks","extraButtons","endButton","_classnames","callStatus","direction","isInComingCall","callDirections","inbound","telephonyStatuses","ringing","endTitle","endAction","createElement","title","callControlI18n","getString","dataSign","showBorder","icon","EndIcon","onClick","className","classnames","styles","hangup","buttonDisabled","disabled","extraButtonBox","Button","tooltip","i18n","expandButtonWithEnd","expandDisableButton","expandButton","container","basicInfo","confirmationContainer","confirmationInfo","confirmationButtons","saveButton","selected","discardButton","stayButton","defaultProps","_default","exports"],"sources":["components/LogNotification/index.tsx"],"sourcesContent":["import React from 'react';\n\nimport classnames from 'classnames';\n\nimport callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport telephonyStatuses from '@ringcentral-integration/commons/enums/telephonyStatus';\n\nimport EndIcon from '../../assets/images/End.svg';\nimport { Button } from '../Button';\nimport CircleButton from '../CircleButton';\nimport LogBasicInfo from '../LogBasicInfo';\nimport callControlI18n from '../SmCallControl/i18n';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\ntype LogNotificationProps = {\n  currentLocale: string;\n  showLogButton?: boolean;\n  currentLog?: object;\n  formatPhone?: (...args: any[]) => any;\n  isExpand?: boolean;\n  onStay?: (...args: any[]) => any;\n  onDiscard?: (...args: any[]) => any;\n  onSave?: (...args: any[]) => any;\n  onExpand?: (...args: any[]) => any;\n  currentSession?: object;\n  onReject?: (...args: any[]) => any;\n  onHangup?: (...args: any[]) => any;\n  showEndButton?: boolean;\n  disableLinks?: boolean;\n};\nconst LogNotification: React.SFC<LogNotificationProps> = ({\n  formatPhone,\n  currentLog,\n  currentLocale,\n  showLogButton,\n  isExpand,\n  onStay,\n  onDiscard,\n  onSave,\n  onExpand,\n  currentSession,\n  onReject,\n  onHangup,\n  showEndButton,\n  disableLinks,\n}) => {\n  let extraButtons = null;\n  if (showEndButton && showLogButton) {\n    let endButton = null;\n    if (currentSession) {\n      // @ts-expect-error TS(2339): Property 'callStatus' does not exist on type '{}'.\n      const { callStatus, direction } = currentSession;\n      const isInComingCall =\n        callDirections.inbound === direction &&\n        telephonyStatuses.ringing === callStatus;\n      const endTitle = isInComingCall ? 'reject' : 'hangup';\n      const endAction = isInComingCall ? onReject : onHangup;\n      endButton = (\n        <span title={callControlI18n.getString(endTitle, currentLocale)}>\n          <CircleButton\n            dataSign={endTitle}\n            showBorder={false}\n            icon={EndIcon}\n            onClick={endAction}\n            className={classnames({\n              [styles.hangup]: true,\n              [styles.endButton]: true,\n              [styles.buttonDisabled]: disableLinks,\n            })}\n            disabled={disableLinks}\n          />\n        </span>\n      );\n    }\n    extraButtons = (\n      <div className={styles.extraButtonBox}>\n        {endButton}\n        <Button\n          tooltip={i18n.getString('log', currentLocale)}\n          disabled={isExpand}\n          className={classnames(\n            styles.expandButtonWithEnd,\n            isExpand && styles.expandDisableButton,\n          )}\n          // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n          onClick={() => onExpand()}\n        >\n          {i18n.getString('log', currentLocale)}\n        </Button>\n      </div>\n    );\n  } else if (showLogButton) {\n    extraButtons = (\n      <Button\n        disabled={isExpand}\n        className={classnames(\n          styles.expandButton,\n          isExpand && styles.expandDisableButton,\n        )}\n        // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n        onClick={() => onExpand()}\n      >\n        {i18n.getString('log', currentLocale)}\n      </Button>\n    );\n  }\n  return (\n    <div className={styles.container}>\n      <div className={styles.basicInfo}>\n        <LogBasicInfo\n          currentLog={currentLog}\n          currentLocale={currentLocale}\n          formatPhone={formatPhone}\n        />\n        {extraButtons}\n      </div>\n      {isExpand ? (\n        <div className={styles.confirmationContainer}>\n          <div className={styles.confirmationInfo}>\n            {i18n.getString('confirmationInfo', currentLocale)}\n          </div>\n          <div className={styles.confirmationButtons}>\n            {onSave ? (\n              <Button\n                tooltip={i18n.getString('save', currentLocale)}\n                className={classnames(styles.saveButton, styles.selected)}\n                onClick={() => onSave()}\n              >\n                {i18n.getString('save', currentLocale)}\n              </Button>\n            ) : null}\n            {onDiscard ? (\n              <Button\n                tooltip={i18n.getString('discard', currentLocale)}\n                className={styles.discardButton}\n                onClick={() => onDiscard()}\n              >\n                {i18n.getString('discard', currentLocale)}\n              </Button>\n            ) : null}\n            {onStay ? (\n              <Button\n                tooltip={i18n.getString('stay', currentLocale)}\n                className={styles.stayButton}\n                onClick={() => onStay()}\n              >\n                {i18n.getString('stay', currentLocale)}\n              </Button>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\nLogNotification.defaultProps = {\n  showLogButton: true,\n  currentLog: {},\n  formatPhone: undefined,\n  isExpand: undefined,\n  onStay: undefined,\n  onDiscard: undefined,\n  onSave: undefined,\n  onExpand: undefined,\n  currentSession: undefined,\n  onReject: () => null,\n  onHangup: () => null,\n  showEndButton: false,\n  disableLinks: false,\n};\nexport default LogNotification;\n"],"mappings":"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"}