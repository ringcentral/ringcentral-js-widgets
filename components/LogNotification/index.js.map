{"version":3,"file":"index.js","names":["_callDirections","_interopRequireDefault","require","_telephonyStatus","_clsx2","_react","_End","_Button","_CircleButton","_LogBasicInfo","_i18n","_i18n2","_styles","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","toPrimitive","call","TypeError","String","Number","LogNotification","_ref","formatPhone","currentLog","currentLocale","showLogButton","isExpand","onStay","onDiscard","onSave","onExpand","currentSession","onReject","onHangup","showEndButton","disableLinks","extraButtons","endButton","callStatus","direction","isInComingCall","callDirections","inbound","telephonyStatuses","ringing","endTitle","endAction","createElement","title","callControlI18n","getString","dataSign","showBorder","icon","EndIcon","onClick","className","clsx","styles","hangup","buttonDisabled","disabled","extraButtonBox","Button","tooltip","i18n","expandButtonWithEnd","expandDisableButton","expandButton","container","basicInfo","confirmationContainer","confirmationInfo","confirmationButtons","saveButton","selected","discardButton","stayButton","defaultProps","undefined","_default","exports"],"sources":["components/LogNotification/index.tsx"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport telephonyStatuses from '@ringcentral-integration/commons/enums/telephonyStatus';\nimport clsx from 'clsx';\nimport React from 'react';\n\nimport EndIcon from '../../assets/images/End.svg';\nimport { Button } from '../Button';\nimport CircleButton from '../CircleButton';\nimport LogBasicInfo from '../LogBasicInfo';\nimport callControlI18n from '../SmCallControl/i18n';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\ntype LogNotificationProps = {\n  currentLocale: string;\n  showLogButton?: boolean;\n  currentLog?: object;\n  formatPhone?: (...args: any[]) => any;\n  isExpand?: boolean;\n  onStay?: (...args: any[]) => any;\n  onDiscard?: (...args: any[]) => any;\n  onSave?: (...args: any[]) => any;\n  onExpand?: (...args: any[]) => any;\n  currentSession?: object;\n  onReject?: (...args: any[]) => any;\n  onHangup?: (...args: any[]) => any;\n  showEndButton?: boolean;\n  disableLinks?: boolean;\n};\nconst LogNotification: React.FC<LogNotificationProps> = ({\n  formatPhone,\n  currentLog,\n  currentLocale,\n  showLogButton,\n  isExpand,\n  onStay,\n  onDiscard,\n  onSave,\n  onExpand,\n  currentSession,\n  onReject,\n  onHangup,\n  showEndButton,\n  disableLinks,\n}) => {\n  let extraButtons = null;\n  if (showEndButton && showLogButton) {\n    let endButton = null;\n    if (currentSession) {\n      // @ts-expect-error TS(2339): Property 'callStatus' does not exist on type '{}'.\n      const { callStatus, direction } = currentSession;\n      const isInComingCall =\n        callDirections.inbound === direction &&\n        telephonyStatuses.ringing === callStatus;\n      const endTitle = isInComingCall ? 'reject' : 'hangup';\n      const endAction = isInComingCall ? onReject : onHangup;\n      endButton = (\n        <span title={callControlI18n.getString(endTitle, currentLocale)}>\n          <CircleButton\n            dataSign={endTitle}\n            showBorder={false}\n            icon={EndIcon}\n            onClick={endAction}\n            className={clsx({\n              [styles.hangup]: true,\n              [styles.endButton]: true,\n              [styles.buttonDisabled]: disableLinks,\n            })}\n            disabled={disableLinks}\n          />\n        </span>\n      );\n    }\n    extraButtons = (\n      <div className={styles.extraButtonBox}>\n        {endButton}\n        <Button\n          tooltip={i18n.getString('log', currentLocale)}\n          disabled={isExpand}\n          className={clsx(\n            styles.expandButtonWithEnd,\n            isExpand && styles.expandDisableButton,\n          )}\n          // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n          onClick={() => onExpand()}\n          dataSign=\"expandNotification\"\n        >\n          {i18n.getString('log', currentLocale)}\n        </Button>\n      </div>\n    );\n  } else if (showLogButton) {\n    extraButtons = (\n      <Button\n        disabled={isExpand}\n        className={clsx(\n          styles.expandButton,\n          isExpand && styles.expandDisableButton,\n        )}\n        // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n        onClick={() => onExpand()}\n      >\n        {i18n.getString('log', currentLocale)}\n      </Button>\n    );\n  }\n  return (\n    <div className={styles.container}>\n      <div className={styles.basicInfo}>\n        <LogBasicInfo\n          currentLog={currentLog}\n          currentLocale={currentLocale}\n          formatPhone={formatPhone}\n        />\n        {extraButtons}\n      </div>\n      {isExpand ? (\n        <div className={styles.confirmationContainer}>\n          <div\n            className={styles.confirmationInfo}\n            data-sign={'confirmationInfo'}\n          >\n            {i18n.getString('confirmationInfo', currentLocale)}\n          </div>\n          <div className={styles.confirmationButtons}>\n            {onSave ? (\n              <Button\n                tooltip={i18n.getString('save', currentLocale)}\n                dataSign=\"saveAndWorkOnNew\"\n                className={clsx(styles.saveButton, styles.selected)}\n                onClick={() => onSave()}\n              >\n                {i18n.getString('save', currentLocale)}\n              </Button>\n            ) : null}\n            {onDiscard ? (\n              <Button\n                tooltip={i18n.getString('discard', currentLocale)}\n                className={styles.discardButton}\n                dataSign=\"discardAndWorkOnNew\"\n                onClick={() => onDiscard()}\n              >\n                {i18n.getString('discard', currentLocale)}\n              </Button>\n            ) : null}\n            {onStay ? (\n              <Button\n                tooltip={i18n.getString('stay', currentLocale)}\n                className={styles.stayButton}\n                onClick={() => onStay()}\n                dataSign=\"stayOnPreviousWork\"\n              >\n                {i18n.getString('stay', currentLocale)}\n              </Button>\n            ) : null}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\nLogNotification.defaultProps = {\n  showLogButton: true,\n  currentLog: {},\n  formatPhone: undefined,\n  isExpand: undefined,\n  onStay: undefined,\n  onDiscard: undefined,\n  onSave: undefined,\n  onExpand: undefined,\n  currentSession: undefined,\n  onReject: () => null,\n  onHangup: () => null,\n  showEndButton: false,\n  disableLinks: false,\n};\nexport default LogNotification;\n"],"mappings":"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","ignoreList":[]}