{"version":3,"file":"CallItem.js","names":["_callDirections","_interopRequireDefault","require","_callLogHelpers","_formatDuration","_formatNumber","_parseNumber","_juno","_clsx","_react","_interopRequireWildcard","_checkShouldHideContactUser","_checkShouldHidePhoneNumber","_usePromise","_ActionMenu","_ContactDisplay","_CountdownTimer","_DurationCounter","_CallIcon","_i18n","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","Symbol","iterator","f","o","next","done","push","value","length","Array","isArray","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_toPrimitive","toPrimitive","String","Number","asyncGeneratorStep","c","Promise","resolve","then","_asyncToGenerator","_next","_throw","constructor","prototype","_createForOfIteratorHelper","_n","F","s","_arrayLikeToArray","toString","slice","name","from","test","CallItem","_ref","_getSelectedContact$t","_getSelectedContact","_ref$currentSiteCode","currentSiteCode","_ref$isMultipleSiteEn","isMultipleSiteEnabled","_ref$extended","extended","extendedProp","_ref$isLoggedContact","isLoggedContact","_ref$isLogging","isLogging","isLoggingProp","_ref$disableClickToDi","disableClickToDial","_ref$outboundSmsPermi","outboundSmsPermission","_ref$internalSmsPermi","internalSmsPermission","_ref$disableLinks","disableLinks","_ref$disableCallButto","disableCallButton","_ref$showContactDispl","showContactDisplayPlaceholder","_ref$showCallerIdName","showCallerIdName","_ref$autoLog","autoLog","_ref$readTextPermissi","readTextPermission","_ref$withAnimation","withAnimation","_ref$showChooseEntity","showChooseEntityModal","_ref$enableCDC","enableCDC","_ref$maxExtensionNumb","maxExtensionNumberLength","_ref$formatPhone","formatPhone","phoneNumber","onSizeChanged","renderIndex","brand","currentLocale","areaCode","countryCode","active","onViewContact","onCreateContact","createEntityTypes","onLogCall","onClickToDial","onClickToSms","dateTimeFormatter","enableContactFallback","sourceIcons","phoneSourceNameRenderer","renderContactName","renderSubContactName","renderExtraButton","contactDisplayStyle","externalViewEntityProp","externalViewEntity","externalHasEntity","shouldHideEntityButton","currentDelaySavingState","onItemHeightChanged","direction","telephonyStatus","result","startTime","duration","_call$activityMatches","activityMatches","offset","type","toName","_ref2","delayUpdatingStartTime","delayUpdatingMinutes","useEffect","getInitialContactIndex","useEventCallback","contactMatches","getContactMatches","_iterator","_step","_loop","activity","index","findIndex","contact","v","_ret","err","toNumberEntity","id","onSelectContact","idx","selected","parseInt","userSelectionRef","current","setSelected","logCall","toggleExtended","contactDisplay","contactDisplayRef","contains","target","setExtended","getSelectedContact","isSelected","undefined","getPhoneNumber","isInbound","extensionNumber","to","fromMatches","toMatches","getFallbackContactName","_call$to","_ref3","regeneratorRuntime","mark","_callee","redirect","_args","wrap","_callee$","_context","prev","setIsLogging","mounted","stop","viewSelectedContact","createSelectedContact","_ref4","_callee2","entityType","_phoneNumber","_callee2$","_context2","isCreating","setIsCreating","_x","clickToSms","_ref5","formatted","formatNumber","maxExtensionLength","clickToDial","usePromise","_useState","useState","_useState2","_useState3","_useState4","_useState5","_useState6","_useState7","_useState8","useRef","previousCall","usePrevious","shouldHideNumber","checkShouldHidePhoneNumber","isContactMatchesHidden","checkShouldHideContactUser","fallbackContactName","ringing","isRinging","missed","isMissed","parsedInfo","parseNumber","isExtension","hasPlus","number","disableClickToSms","durationEl","i18n","getString","createElement","formatDuration","dateEl","utcTimestamp","statusEl","contactName","subContactName","extraButton","menuExtended","selectedMatchContactType","callerIdName","getTelephoneDisplayName","className","styles","root","onClick","wrapper","CallIcon","inboundTitle","outboundTitle","missedTitle","infoWrapper","ContactDisplay","showCallerIdIcon","isOnConferenceCall","callDirections","outbound","reference","ref","clsx","selectClassName","dropdownSelect","disabled","fallBackName","stopPropagation","showType","showPlaceholder","details","concat","CountdownTimer","variant","creationTime","onToggle","onLog","onViewEntity","onCreateEntity","hasEntity","isLogged","addLogTitle","editLogTitle","textTitle","callTitle","createEntityTitle","viewEntityTitle","exports"],"sources":["components/CallItem/CallItem.tsx"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport type { Call } from '@ringcentral-integration/commons/interfaces/Call.interface';\nimport {\n  getTelephoneDisplayName,\n  isInbound,\n  isMissed,\n  isRinging,\n} from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport { formatDuration } from '@ringcentral-integration/commons/lib/formatDuration';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport { parseNumber } from '@ringcentral-integration/commons/lib/parseNumber';\nimport { useEventCallback, usePrevious } from '@ringcentral/juno';\nimport clsx from 'clsx';\nimport React, { FunctionComponent, useEffect, useRef, useState } from 'react';\n\nimport { checkShouldHideContactUser } from '../../lib/checkShouldHideContactUser';\nimport { checkShouldHidePhoneNumber } from '../../lib/checkShouldHidePhoneNumber';\nimport usePromise from '../../react-hooks/usePromise';\nimport ActionMenu from '../ActionMenu';\nimport { ContactDisplay } from '../ContactDisplay';\nimport { CountdownTimer } from '../CountdownTimer';\nimport DurationCounter from '../DurationCounter';\n\nimport { CallIcon } from './CallIcon';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\ntype CallItemProps = {\n  renderIndex?: number;\n  extended?: boolean;\n  // TODO: find correct type\n  call: Call & {\n    offset: number;\n    type: string;\n  };\n  areaCode: string;\n  brand: string;\n  countryCode: string;\n  currentLocale: string;\n  onLogCall?: (...args: any[]) => any;\n  onViewContact?: (...args: any[]) => any;\n  onCreateContact?: (...args: any[]) => any;\n  createEntityTypes?: any[];\n  onClickToDial?: (...args: any[]) => any;\n  onClickToSms?: (...args: any[]) => any;\n  isLoggedContact?: (...args: any[]) => any;\n  disableLinks?: boolean;\n  disableCallButton?: boolean;\n  disableClickToDial?: boolean;\n  outboundSmsPermission?: boolean;\n  internalSmsPermission?: boolean;\n  active: boolean;\n  dateTimeFormatter: (...args: any[]) => any;\n  isLogging?: boolean;\n  enableContactFallback?: boolean;\n  autoLog?: boolean;\n  showContactDisplayPlaceholder?: boolean;\n  sourceIcons?: any;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  renderContactName?: (...args: any[]) => any;\n  renderSubContactName?: (...args: any[]) => any;\n  renderExtraButton?: (...args: any[]) => any;\n  contactDisplayStyle?: string;\n  externalViewEntity?: (...args: any[]) => any;\n  externalHasEntity?: (...args: any[]) => any;\n  shouldHideEntityButton?: (...args: any[]) => boolean;\n  readTextPermission?: boolean;\n  onSizeChanged?: (...args: any[]) => any;\n  onItemHeightChanged?: (renderIndex?: number) => void;\n  withAnimation?: boolean;\n  currentSiteCode?: string;\n  isMultipleSiteEnabled?: boolean;\n  showCallerIdName?: boolean;\n  showChooseEntityModal?: boolean;\n  enableCDC?: boolean;\n  maxExtensionNumberLength?: number;\n  formatPhone?: (...args: any[]) => any;\n  currentDelaySavingState?: any;\n};\n\nexport const CallItem: FunctionComponent<CallItemProps> = ({\n  currentSiteCode = '',\n  isMultipleSiteEnabled = false,\n  extended: extendedProp = false,\n  isLoggedContact = () => false,\n  isLogging: isLoggingProp = false,\n  disableClickToDial = false,\n  outboundSmsPermission = false,\n  internalSmsPermission = false,\n  disableLinks = false,\n  disableCallButton = false,\n  showContactDisplayPlaceholder = true,\n  showCallerIdName = false,\n  autoLog = false,\n  readTextPermission = true,\n  withAnimation = true,\n  showChooseEntityModal = true,\n  enableCDC = false,\n  maxExtensionNumberLength = 6,\n  formatPhone = (phoneNumber: string) => phoneNumber,\n  onSizeChanged,\n  renderIndex,\n  call,\n  brand,\n  currentLocale,\n  areaCode,\n  countryCode,\n  active,\n  onViewContact,\n  onCreateContact,\n  createEntityTypes,\n  onLogCall,\n  onClickToDial,\n  onClickToSms,\n  dateTimeFormatter,\n  enableContactFallback,\n  sourceIcons,\n  phoneSourceNameRenderer,\n  renderContactName,\n  renderSubContactName,\n  renderExtraButton,\n  contactDisplayStyle,\n  externalViewEntity: externalViewEntityProp,\n  externalHasEntity,\n  shouldHideEntityButton,\n  currentDelaySavingState,\n  onItemHeightChanged,\n}) => {\n  const {\n    direction,\n    telephonyStatus,\n    result,\n    startTime,\n    duration,\n    activityMatches = [],\n    offset,\n    type,\n    toName,\n  } = call;\n\n  const { delayUpdatingStartTime, delayUpdatingMinutes } =\n    currentDelaySavingState ?? {};\n\n  useEffect(() => {\n    if (onItemHeightChanged) {\n      onItemHeightChanged(renderIndex);\n    }\n  }, [currentDelaySavingState, onItemHeightChanged, renderIndex]);\n\n  const getInitialContactIndex = useEventCallback(() => {\n    const contactMatches = getContactMatches()!;\n\n    const activityMatches = call.activityMatches || [];\n    for (const activity of activityMatches) {\n      const index = contactMatches.findIndex((contact) =>\n        isLoggedContact?.(call, activity, contact),\n      );\n      if (index > -1) return index;\n    }\n    if (call.toNumberEntity) {\n      const index = contactMatches.findIndex(\n        (contact) => contact.id === call.toNumberEntity,\n      );\n      return index;\n    }\n    return showContactDisplayPlaceholder ? -1 : 0;\n  });\n\n  const onSelectContact = (value: any, idx: any) => {\n    const selected = showContactDisplayPlaceholder\n      ? parseInt(idx, 10) - 1\n      : parseInt(idx, 10);\n    userSelectionRef.current = true;\n    setSelected(selected);\n    if (autoLog) {\n      logCall(false, selected);\n    }\n  };\n\n  const toggleExtended = (e: any) => {\n    const contactDisplay = contactDisplayRef.current;\n    if (contactDisplay && contactDisplay.contains(e.target)) {\n      return;\n    }\n    if (onSizeChanged) {\n      onSizeChanged(renderIndex);\n    } else {\n      setExtended((extended) => !extended);\n    }\n  };\n\n  const getSelectedContact = (isSelected = selected) => {\n    const contactMatches = getContactMatches();\n    return (\n      (isSelected > -1 && contactMatches[isSelected]) ||\n      (contactMatches.length === 1 && contactMatches[0]) ||\n      null\n    );\n  };\n\n  const getPhoneNumber = () => {\n    return (\n      isInbound(call)\n        ? call.from!.phoneNumber || call.from!.extensionNumber\n        : call.to!.phoneNumber || call.to!.extensionNumber\n    ) as string;\n  };\n\n  const getContactMatches = () => {\n    return (isInbound(call) ? call.fromMatches : call.toMatches) || [];\n  };\n\n  const getFallbackContactName = () => {\n    return isInbound(call) ? call.from!.name : call.to?.name;\n  };\n\n  const logCall = async (redirect = true, isSelected = selected) => {\n    if (typeof onLogCall === 'function' && !isLogging) {\n      setIsLogging(true);\n      await mounted(\n        onLogCall({\n          contact: getSelectedContact(isSelected),\n          call: call,\n          redirect,\n        }),\n      );\n\n      setIsLogging(false);\n    }\n  };\n\n  const viewSelectedContact = () => {\n    if (typeof onViewContact !== 'function') return;\n\n    const activityMatches = (call && call.activityMatches) || [];\n    onViewContact({\n      activityMatches,\n      contactMatches: getContactMatches(),\n      contact: getSelectedContact(),\n      phoneNumber: getPhoneNumber(),\n    });\n  };\n\n  const createSelectedContact = async (entityType: any) => {\n    if (typeof onCreateContact === 'function' && !isCreating) {\n      setIsCreating(true);\n      const phoneNumber = getPhoneNumber();\n      await mounted(\n        onCreateContact({\n          phoneNumber,\n          name: enableContactFallback ? getFallbackContactName() : '',\n          entityType,\n        }),\n      );\n\n      setIsCreating(false);\n    }\n  };\n\n  const clickToSms = ({ countryCode, areaCode }: any) => {\n    if (!onClickToSms) return;\n\n    const phoneNumber = getPhoneNumber()!;\n    const contact = getSelectedContact();\n    if (contact) {\n      onClickToSms({\n        ...contact,\n        phoneNumber,\n      });\n    } else {\n      const formatted = formatNumber({\n        phoneNumber,\n        countryCode,\n        areaCode,\n        maxExtensionLength: maxExtensionNumberLength,\n      });\n      onClickToSms(\n        {\n          name: enableContactFallback ? getFallbackContactName() : formatted,\n          phoneNumber,\n        },\n        true,\n      );\n    }\n  };\n\n  const clickToDial = () => {\n    if (onClickToDial) {\n      const contact = getSelectedContact() || {};\n      const phoneNumber = getPhoneNumber();\n\n      if (phoneNumber) {\n        onClickToDial({\n          ...contact,\n          phoneNumber,\n        });\n      }\n    }\n  };\n\n  const mounted = usePromise();\n  const [selected, setSelected] = useState(getInitialContactIndex());\n  const [extended, setExtended] = useState(extendedProp);\n  const [isLogging, setIsLogging] = useState(isLoggingProp);\n  const [isCreating, setIsCreating] = useState(false);\n\n  const contactDisplayRef = useRef<HTMLElement | null>(null);\n  const userSelectionRef = useRef(false);\n  const previousCall = usePrevious(() => call);\n\n  useEffect(() => {\n    setExtended(extendedProp);\n  }, [extendedProp]);\n\n  useEffect(() => {\n    setIsLogging(isLoggingProp);\n  }, [isLoggingProp]);\n\n  useEffect(() => {\n    if (\n      !userSelectionRef.current &&\n      previousCall &&\n      (call.activityMatches !== previousCall?.activityMatches ||\n        call.fromMatches !== previousCall?.fromMatches ||\n        call.toMatches !== previousCall?.toMatches)\n    ) {\n      setSelected(getInitialContactIndex());\n    }\n  }, [call, getInitialContactIndex, previousCall]);\n\n  const phoneNumber = getPhoneNumber();\n  const contactMatches = getContactMatches();\n  const shouldHideNumber =\n    enableCDC && checkShouldHidePhoneNumber(phoneNumber, contactMatches);\n  const isContactMatchesHidden =\n    enableCDC && checkShouldHideContactUser(contactMatches);\n  const fallbackContactName = getFallbackContactName();\n\n  const ringing = isRinging(call);\n\n  const missed = isInbound(call) && isMissed(call);\n  const parsedInfo = parseNumber({\n    phoneNumber,\n    countryCode: countryCode as never,\n    areaCode,\n  });\n  const isExtension =\n    !parsedInfo.hasPlus &&\n    parsedInfo.number &&\n    parsedInfo.number.length <= maxExtensionNumberLength;\n  const disableClickToSms = !(\n    onClickToSms &&\n    (isExtension ? internalSmsPermission : outboundSmsPermission)\n  );\n\n  const durationEl =\n    typeof duration === 'undefined' ? (\n      disableLinks ? (\n        i18n.getString('unavailable', currentLocale)\n      ) : (\n        <DurationCounter startTime={startTime!} offset={offset} />\n      )\n    ) : (\n      formatDuration(duration)\n    );\n  const dateEl = !active ? dateTimeFormatter({ utcTimestamp: startTime }) : '';\n  const statusEl = active\n    ? i18n.getString((result || telephonyStatus) as never, currentLocale)\n    : '';\n\n  const contactName = renderContactName?.(call);\n  const subContactName = renderSubContactName?.(call);\n  const extraButton = renderExtraButton?.(call);\n\n  const menuExtended = extended;\n  const selectedMatchContactType = getSelectedContact()?.type ?? '';\n  const callerIdName = showCallerIdName\n    ? getTelephoneDisplayName(call)\n    : undefined;\n\n  return (\n    <div\n      className={styles.root}\n      onClick={toggleExtended}\n      data-sign=\"calls_item_root\"\n    >\n      <div data-sign=\"calls_item_wrapper\" className={styles.wrapper}>\n        <CallIcon\n          direction={direction!}\n          ringing={ringing}\n          active={active}\n          missed={missed}\n          inboundTitle={i18n.getString('inboundCall', currentLocale)}\n          outboundTitle={i18n.getString('outboundCall', currentLocale)}\n          missedTitle={i18n.getString('missedCall', currentLocale)}\n          type={type}\n        />\n        <div className={styles.infoWrapper}>\n          <ContactDisplay\n            showCallerIdIcon\n            callerIdName={callerIdName}\n            formatPhone={formatPhone}\n            missed={missed}\n            isOnConferenceCall={\n              direction === callDirections.outbound && toName === 'Conference'\n            }\n            contactName={contactName}\n            subContactName={subContactName}\n            reference={(ref) => {\n              contactDisplayRef.current = ref;\n            }}\n            className={clsx(\n              styles.contactDisplay,\n              contactDisplayStyle,\n              missed && styles.missed,\n              active && styles.active,\n            )}\n            selectClassName={styles.dropdownSelect}\n            brand={brand}\n            sourceIcons={sourceIcons}\n            phoneSourceNameRenderer={phoneSourceNameRenderer}\n            // TODO: find correct type\n            contactMatches={contactMatches as never}\n            selected={selected}\n            onSelectContact={onSelectContact}\n            disabled={disableLinks}\n            isLogging={isLogging}\n            fallBackName={fallbackContactName}\n            enableContactFallback={enableContactFallback}\n            areaCode={areaCode}\n            countryCode={countryCode}\n            phoneNumber={shouldHideNumber ? null : phoneNumber}\n            currentLocale={currentLocale}\n            stopPropagation={false}\n            showType={false}\n            showPlaceholder={showContactDisplayPlaceholder}\n            currentSiteCode={currentSiteCode}\n            isMultipleSiteEnabled={isMultipleSiteEnabled}\n          />\n          <div className={styles.details}>\n            <span data-sign=\"duration\">{durationEl}</span>\n            <span data-sign=\"date\">{` | ${dateEl}${statusEl}`}</span>\n          </div>\n          {delayUpdatingStartTime && delayUpdatingMinutes && (\n            <CountdownTimer\n              variant=\"plain\"\n              currentLocale={currentLocale}\n              creationTime={delayUpdatingStartTime}\n              duration={delayUpdatingMinutes}\n            />\n          )}\n        </div>\n        {extraButton}\n      </div>\n      <ActionMenu\n        extended={menuExtended}\n        onToggle={toggleExtended}\n        currentLocale={currentLocale}\n        onLog={onLogCall && logCall}\n        onViewEntity={onViewContact && viewSelectedContact}\n        onCreateEntity={onCreateContact && createSelectedContact}\n        createEntityTypes={createEntityTypes}\n        hasEntity={!!contactMatches.length}\n        selectedMatchContactType={selectedMatchContactType}\n        onClickToDial={onClickToDial && clickToDial}\n        onClickToSms={\n          readTextPermission\n            ? () => clickToSms({ countryCode, areaCode })\n            : undefined\n        }\n        phoneNumber={phoneNumber}\n        disableLinks={disableLinks}\n        shouldHideEntityButton={() => {\n          if (shouldHideEntityButton) {\n            return shouldHideEntityButton(call);\n          }\n          return isContactMatchesHidden;\n        }}\n        disableCallButton={disableCallButton}\n        disableClickToDial={disableClickToDial}\n        isLogging={isLogging || isLogging}\n        isLogged={activityMatches.length > 0}\n        isCreating={isCreating}\n        addLogTitle={i18n.getString('addLog', currentLocale)}\n        editLogTitle={i18n.getString('editLog', currentLocale)}\n        textTitle={i18n.getString('text', currentLocale)}\n        callTitle={i18n.getString('call', currentLocale)}\n        createEntityTitle={i18n.getString('addEntity', currentLocale)}\n        viewEntityTitle={i18n.getString('viewDetails', currentLocale)}\n        externalViewEntity={\n          externalViewEntityProp\n            ? () => externalViewEntityProp?.(call)\n            : undefined\n        }\n        externalHasEntity={externalHasEntity && externalHasEntity(call)}\n        disableClickToSms={disableClickToSms}\n        withAnimation={withAnimation}\n        showChooseEntityModal={showChooseEntityModal}\n      />\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}