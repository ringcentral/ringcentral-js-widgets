{"version":3,"sources":["components/CallItem/index.tsx"],"names":["callIconMap","callDirections","inbound","dynamicsFont","outbound","missed","CallIcon","direction","active","ringing","inboundTitle","outboundTitle","missedTitle","type","icon","messageTypes","fax","messageDirection","title","styles","activeCall","callIcon","propTypes","PropTypes","string","isRequired","bool","defaultProps","CallItem","props","onSelectContact","value","idx","showContactDisplayPlaceholder","autoLog","selected","parseInt","_userSelection","setState","logCall","redirect","toggleExtended","e","contactDisplay","contains","target","onSizeChanged","renderIndex","state","extended","getSelectedContact","contactMatches","getContactMatches","length","bind","viewSelectedContact","onViewContact","call","activityMatches","contact","phoneNumber","getPhoneNumber","createSelectedContact","entityType","onCreateContact","_mounted","isCreating","name","enableContactFallback","getFallbackContactName","clickToSms","countryCode","areaCode","onClickToSms","formatted","clickToDial","onClickToDial","externalViewEntity","getInitialContactIndex","isLogging","loading","_loadingTimeout","setTimeout","nextProps","fromMatches","toMatches","clearTimeout","isLoggedContact","activity","index","findIndex","toNumberEntity","id","from","extensionNumber","to","onLogCall","root","telephonyStatus","result","startTime","duration","offset","toName","brand","currentLocale","currentSiteCode","isMultipleSiteEnabled","disableLinks","disableCallButton","disableClickToDial","outboundSmsPermission","internalSmsPermission","createEntityTypes","dateTimeFormatter","sourceIcons","phoneTypeRenderer","phoneSourceNameRenderer","renderContactName","renderExtraButton","contactDisplayStyle","externalHasEntity","readTextPermission","withAnimation","showChooseEntityModal","enableCDC","shouldHideNumber","isContactMatchesHidden","fallbackContactName","parsedInfo","isExtension","hasPlus","number","disableClickToSms","durationEl","i18n","getString","dateEl","utcTimestamp","statusEl","contactName","undefined","extraButton","menuExtended","selectedMatchContactType","wrapper","infoWrapper","ref","dropdownSelect","details","Component","shape","array","webphoneSession","object","func"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\n/* eslint-disable react/destructuring-assignment */\nimport callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport messageDirection from '@ringcentral-integration/commons/enums/messageDirection';\nimport messageTypes from '@ringcentral-integration/commons/enums/messageTypes';\nimport {\n  isInbound,\n  isMissed,\n  isRinging,\n} from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport formatNumber from '@ringcentral-integration/commons/lib/formatNumber';\nimport parseNumber from '@ringcentral-integration/commons/lib/parseNumber';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport FaxInboundIcon from '../../assets/images/FaxInbound.svg';\nimport FaxOutboundIcon from '../../assets/images/FaxOutbound.svg';\nimport { checkShouldHideContactUser } from '../../lib/checkShouldHideContactUser';\nimport { checkShouldHidePhoneNumber } from '../../lib/checkShouldHidePhoneNumber';\nimport formatDuration from '../../lib/formatDuration';\nimport ActionMenu from '../ActionMenu';\nimport ContactDisplay from '../ContactDisplay';\nimport DurationCounter from '../DurationCounter';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst callIconMap = {\n  [callDirections.inbound]: dynamicsFont.inbound,\n  [callDirections.outbound]: dynamicsFont.outbound,\n  missed: dynamicsFont.missed,\n};\n\nconst CallIcon = ({\n  direction,\n  missed,\n  active,\n  ringing,\n  inboundTitle,\n  outboundTitle,\n  missedTitle,\n  type,\n}) => {\n  let icon = null;\n  switch (type) {\n    case messageTypes.fax: {\n      icon =\n        direction === messageDirection.inbound ? (\n          <span title={inboundTitle}>\n            <FaxInboundIcon width={21} />\n          </span>\n        ) : (\n          <span title={outboundTitle}>\n            <FaxOutboundIcon width={21} />\n          </span>\n        );\n      break;\n    }\n    default: {\n      let title = null;\n      if (missed) {\n        title = missedTitle;\n      } else if (direction === callDirections.inbound) {\n        title = inboundTitle;\n      } else {\n        title = outboundTitle;\n      }\n      icon = (\n        <span\n          className={classnames(\n            missed ? callIconMap.missed : callIconMap[direction],\n            active && styles.activeCall,\n            ringing && styles.ringing,\n            missed && styles.missed,\n          )}\n          title={title}\n        />\n      );\n    }\n  }\n  return <div className={styles.callIcon}>{icon}</div>;\n};\nCallIcon.propTypes = {\n  direction: PropTypes.string.isRequired,\n  missed: PropTypes.bool,\n  active: PropTypes.bool,\n  ringing: PropTypes.bool,\n  inboundTitle: PropTypes.string,\n  outboundTitle: PropTypes.string,\n  missedTitle: PropTypes.string,\n  type: PropTypes.string,\n};\nCallIcon.defaultProps = {\n  missed: false,\n  active: false,\n  ringing: false,\n  inboundTitle: '',\n  outboundTitle: '',\n  missedTitle: '',\n  type: '',\n};\n\nclass CallItem extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      selected: this.getInitialContactIndex(),\n      isLogging: false,\n      isCreating: false,\n      loading: true,\n      extended: false,\n    };\n    this._userSelection = false;\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    this._loadingTimeout = setTimeout(() => {\n      // clear timeout is probably not necessary\n      if (this._mounted) {\n        this.setState({\n          loading: false,\n        });\n      }\n    }, 10);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const { call, extended } = this.props;\n    if (\n      !this._userSelection &&\n      (nextProps.call.activityMatches !== call.activityMatches ||\n        nextProps.call.fromMatches !== call.fromMatches ||\n        nextProps.call.toMatches !== call.toMatches)\n    ) {\n      this.setState({\n        selected: this.getInitialContactIndex(nextProps),\n      });\n    }\n    if (extended !== nextProps.extended && extended !== nextProps.extended) {\n      this.setState({\n        extended: nextProps.extended,\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    if (this._loadingTimeout) {\n      clearTimeout(this._loadingTimeout);\n      this._loadingTimeout = null;\n    }\n  }\n\n  onSelectContact = (value, idx) => {\n    const { showContactDisplayPlaceholder, autoLog } = this.props;\n    const selected = showContactDisplayPlaceholder\n      ? parseInt(idx, 10) - 1\n      : parseInt(idx, 10);\n    this._userSelection = true;\n    this.setState({\n      selected,\n    });\n    if (autoLog) {\n      this.logCall({ redirect: false, selected });\n    }\n  };\n\n  toggleExtended = (e) => {\n    if (this.contactDisplay && this.contactDisplay.contains(e.target)) {\n      return;\n    }\n    const { onSizeChanged, renderIndex } = this.props;\n    if (onSizeChanged) {\n      onSizeChanged(renderIndex);\n    } else {\n      this.setState((state) => ({\n        extended: !state.extended,\n      }));\n    }\n  };\n\n  getInitialContactIndex(nextProps = this.props) {\n    const contactMatches = this.getContactMatches(nextProps);\n    const { isLoggedContact, showContactDisplayPlaceholder } = this.props;\n    const activityMatches = nextProps.call.activityMatches;\n    // console.log('getInitialContactIndex:', nextProps.call.toNumberEntity);\n    for (const activity of activityMatches) {\n      const index = contactMatches.findIndex((contact) =>\n        // TODO find a better name or mechanism...\n        isLoggedContact(nextProps.call, activity, contact),\n      );\n      if (index > -1) return index;\n    }\n    if (nextProps.call.toNumberEntity) {\n      const index = contactMatches.findIndex(\n        (contact) => contact.id === nextProps.call.toNumberEntity,\n      );\n      return index;\n    }\n    return showContactDisplayPlaceholder ? -1 : 0;\n  }\n\n  getSelectedContact = (selected = this.state.selected) => {\n    const contactMatches = this.getContactMatches();\n    return (\n      (selected > -1 && contactMatches[selected]) ||\n      (contactMatches.length === 1 && contactMatches[0]) ||\n      null\n    );\n  };\n\n  getPhoneNumber() {\n    return isInbound(this.props.call)\n      ? this.props.call.from.phoneNumber || this.props.call.from.extensionNumber\n      : this.props.call.to.phoneNumber || this.props.call.to.extensionNumber;\n  }\n\n  getContactMatches(nextProps = this.props) {\n    return isInbound(nextProps.call)\n      ? nextProps.call.fromMatches\n      : nextProps.call.toMatches;\n  }\n\n  getFallbackContactName() {\n    return isInbound(this.props.call)\n      ? this.props.call.from.name\n      : this.props.call.to.name;\n  }\n\n  async logCall(redirect = true, selected = this.state.selected) {\n    if (\n      typeof this.props.onLogCall === 'function' &&\n      this._mounted &&\n      !this.state.isLogging\n    ) {\n      this.setState({\n        isLogging: true,\n      });\n      await this.props.onLogCall({\n        contact: this.getSelectedContact(selected),\n        call: this.props.call,\n        redirect,\n      });\n      if (this._mounted) {\n        this.setState({\n          isLogging: false,\n        });\n      }\n    }\n  }\n\n  logCall = this.logCall.bind(this);\n\n  viewSelectedContact = () => {\n    if (typeof this.props.onViewContact === 'function') {\n      const { call } = this.props;\n      const activityMatches = (call && call.activityMatches) || [];\n      this.props.onViewContact({\n        activityMatches,\n        contactMatches: this.getContactMatches(),\n        contact: this.getSelectedContact(),\n        phoneNumber: this.getPhoneNumber(),\n      });\n    }\n  };\n\n  createSelectedContact = async (entityType) => {\n    // console.log('click createSelectedContact!!', entityType);\n    if (\n      typeof this.props.onCreateContact === 'function' &&\n      this._mounted &&\n      !this.state.isCreating\n    ) {\n      this.setState({\n        isCreating: true,\n      });\n      // console.log('start to create: isCreating...', this.state.isCreating);\n      const phoneNumber = this.getPhoneNumber();\n      await this.props.onCreateContact({\n        phoneNumber,\n        name: this.props.enableContactFallback\n          ? this.getFallbackContactName()\n          : '',\n        entityType,\n      });\n\n      if (this._mounted) {\n        this.setState({\n          isCreating: false,\n        });\n        // console.log('created: isCreating...', this.state.isCreating);\n      }\n    }\n  };\n\n  clickToSms = ({ countryCode, areaCode }) => {\n    if (this.props.onClickToSms) {\n      const phoneNumber = this.getPhoneNumber();\n      const contact = this.getSelectedContact();\n      if (contact) {\n        this.props.onClickToSms({\n          ...contact,\n          phoneNumber,\n        });\n      } else {\n        const formatted = formatNumber({\n          phoneNumber,\n          countryCode,\n          areaCode,\n        });\n        this.props.onClickToSms(\n          {\n            name: this.props.enableContactFallback\n              ? this.getFallbackContactName()\n              : formatted,\n            phoneNumber,\n          },\n          true,\n        );\n      }\n    }\n  };\n\n  clickToDial = () => {\n    if (this.props.onClickToDial) {\n      const contact = this.getSelectedContact() || {};\n      const phoneNumber = this.getPhoneNumber();\n\n      if (phoneNumber) {\n        this.props.onClickToDial({\n          ...contact,\n          phoneNumber,\n        });\n      }\n    }\n  };\n\n  externalViewEntity = () => this.props.externalViewEntity(this.props.call);\n\n  render() {\n    if (this.state.loading) {\n      return <div className={styles.root} />;\n    }\n    const {\n      call: {\n        direction,\n        telephonyStatus,\n        result,\n        startTime,\n        duration,\n        activityMatches,\n        offset,\n        type,\n        toName,\n      },\n      brand,\n      currentLocale,\n      currentSiteCode,\n      isMultipleSiteEnabled,\n      areaCode,\n      countryCode,\n      disableLinks,\n      disableCallButton,\n      disableClickToDial,\n      outboundSmsPermission,\n      internalSmsPermission,\n      active,\n      onViewContact,\n      onCreateContact,\n      createEntityTypes,\n      onLogCall,\n      onClickToDial,\n      onClickToSms,\n      dateTimeFormatter,\n      isLogging,\n      enableContactFallback,\n      showContactDisplayPlaceholder,\n      sourceIcons,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      renderContactName,\n      renderExtraButton,\n      contactDisplayStyle,\n      externalViewEntity,\n      externalHasEntity,\n      readTextPermission,\n      withAnimation,\n      showChooseEntityModal,\n      enableCDC,\n    } = this.props;\n    const phoneNumber = this.getPhoneNumber();\n    const contactMatches = this.getContactMatches();\n    const shouldHideNumber =\n      enableCDC && checkShouldHidePhoneNumber(phoneNumber, contactMatches);\n    const isContactMatchesHidden =\n      enableCDC && checkShouldHideContactUser(contactMatches);\n    const fallbackContactName = this.getFallbackContactName();\n    const ringing = isRinging(this.props.call);\n    const missed = isInbound(this.props.call) && isMissed(this.props.call);\n    const parsedInfo = parseNumber({\n      phoneNumber,\n      countryCode,\n      areaCode,\n    });\n    const isExtension =\n      !parsedInfo.hasPlus && parsedInfo.number && parsedInfo.number.length <= 6;\n    const disableClickToSms = !(\n      onClickToSms &&\n      (isExtension ? internalSmsPermission : outboundSmsPermission)\n    );\n\n    let durationEl = null;\n    if (typeof duration === 'undefined') {\n      durationEl = disableLinks ? (\n        i18n.getString('unavailable', currentLocale)\n      ) : (\n        <DurationCounter startTime={startTime} offset={offset} />\n      );\n    } else {\n      durationEl = formatDuration(duration);\n    }\n    let dateEl = '';\n    if (!active) {\n      dateEl = dateTimeFormatter({ utcTimestamp: startTime });\n    }\n    let statusEl = '';\n    if (active) {\n      statusEl = i18n.getString(result || telephonyStatus, currentLocale);\n    }\n    const contactName =\n      typeof renderContactName === 'function'\n        ? renderContactName(this.props.call)\n        : undefined;\n    const extraButton =\n      typeof renderExtraButton === 'function'\n        ? renderExtraButton(this.props.call)\n        : undefined;\n    const menuExtended = this.props.extended || this.state.extended;\n    const selectedMatchContactType = this.getSelectedContact()?.type ?? '';\n\n    return (\n      <div\n        className={styles.root}\n        onClick={this.toggleExtended}\n        data-sign=\"calls_item_root\"\n      >\n        <div data-sign=\"calls_item_wrapper\" className={styles.wrapper}>\n          <CallIcon\n            direction={direction}\n            ringing={ringing}\n            active={active}\n            missed={missed}\n            inboundTitle={i18n.getString('inboundCall', currentLocale)}\n            outboundTitle={i18n.getString('outboundCall', currentLocale)}\n            missedTitle={i18n.getString('missedCall', currentLocale)}\n            type={type}\n          />\n          <div className={styles.infoWrapper}>\n            <ContactDisplay\n              missed={missed}\n              isOnConferenceCall={\n                direction === callDirections.outbound && toName === 'Conference'\n              }\n              contactName={contactName}\n              reference={(ref) => {\n                this.contactDisplay = ref;\n              }}\n              className={classnames(\n                styles.contactDisplay,\n                contactDisplayStyle,\n                missed && styles.missed,\n                active && styles.active,\n              )}\n              selectClassName={styles.dropdownSelect}\n              brand={brand}\n              sourceIcons={sourceIcons}\n              phoneTypeRenderer={phoneTypeRenderer}\n              phoneSourceNameRenderer={phoneSourceNameRenderer}\n              contactMatches={contactMatches}\n              selected={this.state.selected}\n              onSelectContact={this.onSelectContact}\n              disabled={disableLinks}\n              isLogging={isLogging || this.state.isLogging}\n              fallBackName={fallbackContactName}\n              enableContactFallback={enableContactFallback}\n              areaCode={areaCode}\n              countryCode={countryCode}\n              phoneNumber={shouldHideNumber ? null : phoneNumber}\n              currentLocale={currentLocale}\n              stopPropagation={false}\n              showType={false}\n              showPlaceholder={showContactDisplayPlaceholder}\n              currentSiteCode={currentSiteCode}\n              isMultipleSiteEnabled={isMultipleSiteEnabled}\n            />\n            <div className={styles.details}>\n              {durationEl}\n              {` | ${dateEl}${statusEl}`}\n            </div>\n          </div>\n          {extraButton}\n        </div>\n        <ActionMenu\n          extended={menuExtended}\n          onToggle={this.toggleExtended}\n          currentLocale={currentLocale}\n          onLog={onLogCall && this.logCall}\n          onViewEntity={onViewContact && this.viewSelectedContact}\n          onCreateEntity={onCreateContact && this.createSelectedContact}\n          createEntityTypes={createEntityTypes}\n          hasEntity={!!contactMatches.length}\n          selectedMatchContactType={selectedMatchContactType}\n          onClickToDial={onClickToDial && this.clickToDial}\n          onClickToSms={\n            readTextPermission\n              ? () => this.clickToSms({ countryCode, areaCode })\n              : undefined\n          }\n          phoneNumber={phoneNumber}\n          disableLinks={disableLinks}\n          shouldHideEntityButton={isContactMatchesHidden}\n          disableCallButton={disableCallButton}\n          disableClickToDial={disableClickToDial}\n          isLogging={isLogging || this.state.isLogging}\n          isLogged={activityMatches.length > 0}\n          isCreating={this.state.isCreating}\n          addLogTitle={i18n.getString('addLog', currentLocale)}\n          editLogTitle={i18n.getString('editLog', currentLocale)}\n          textTitle={i18n.getString('text', currentLocale)}\n          callTitle={i18n.getString('call', currentLocale)}\n          createEntityTitle={i18n.getString('addEntity', currentLocale)}\n          viewEntityTitle={i18n.getString('viewDetails', currentLocale)}\n          externalViewEntity={externalViewEntity && this.externalViewEntity}\n          externalHasEntity={\n            externalHasEntity && externalHasEntity(this.props.call)\n          }\n          disableClickToSms={disableClickToSms}\n          withAnimation={withAnimation}\n          showChooseEntityModal={showChooseEntityModal}\n        />\n      </div>\n    );\n  }\n}\n\nCallItem.propTypes = {\n  renderIndex: PropTypes.number,\n  extended: PropTypes.bool,\n  call: PropTypes.shape({\n    result: PropTypes.string,\n    duration: PropTypes.number,\n    offset: PropTypes.number,\n    type: PropTypes.string,\n    toName: PropTypes.string,\n    direction: PropTypes.string.isRequired,\n    telephonyStatus: PropTypes.string,\n    startTime: PropTypes.number.isRequired,\n    activityMatches: PropTypes.array.isRequired,\n    fromMatches: PropTypes.array.isRequired,\n    toMatches: PropTypes.array.isRequired,\n    from: PropTypes.shape({\n      phoneNumber: PropTypes.string,\n      extensionNumber: PropTypes.string,\n      name: PropTypes.string,\n    }).isRequired,\n    to: PropTypes.shape({\n      phoneNumber: PropTypes.string,\n      extensionNumber: PropTypes.string,\n      name: PropTypes.string,\n    }),\n    webphoneSession: PropTypes.object,\n  }).isRequired,\n  areaCode: PropTypes.string.isRequired,\n  brand: PropTypes.string.isRequired,\n  countryCode: PropTypes.string.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n  onLogCall: PropTypes.func,\n  onViewContact: PropTypes.func,\n  onCreateContact: PropTypes.func,\n  createEntityTypes: PropTypes.array,\n  onClickToDial: PropTypes.func,\n  onClickToSms: PropTypes.func,\n  isLoggedContact: PropTypes.func,\n  disableLinks: PropTypes.bool,\n  disableCallButton: PropTypes.bool,\n  disableClickToDial: PropTypes.bool,\n  outboundSmsPermission: PropTypes.bool,\n  internalSmsPermission: PropTypes.bool,\n  active: PropTypes.bool.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n  isLogging: PropTypes.bool,\n  enableContactFallback: PropTypes.bool,\n  autoLog: PropTypes.bool,\n  showContactDisplayPlaceholder: PropTypes.bool,\n  sourceIcons: PropTypes.object,\n  phoneTypeRenderer: PropTypes.func,\n  phoneSourceNameRenderer: PropTypes.func,\n  renderContactName: PropTypes.func,\n  renderExtraButton: PropTypes.func,\n  contactDisplayStyle: PropTypes.string,\n  externalViewEntity: PropTypes.func,\n  externalHasEntity: PropTypes.func,\n  readTextPermission: PropTypes.bool,\n  onSizeChanged: PropTypes.func,\n  withAnimation: PropTypes.bool,\n  currentSiteCode: PropTypes.string,\n  isMultipleSiteEnabled: PropTypes.bool,\n  showChooseEntityModal: PropTypes.bool,\n  enableCDC: PropTypes.bool,\n};\n\nCallItem.defaultProps = {\n  currentSiteCode: '',\n  isMultipleSiteEnabled: false,\n  renderIndex: undefined,\n  extended: false,\n  onLogCall: undefined,\n  onClickToDial: undefined,\n  onClickToSms: undefined,\n  onViewContact: undefined,\n  onCreateContact: undefined,\n  createEntityTypes: undefined,\n  isLoggedContact: () => false,\n  isLogging: false,\n  disableClickToDial: false,\n  outboundSmsPermission: false,\n  internalSmsPermission: false,\n  disableLinks: false,\n  disableCallButton: false,\n  enableContactFallback: undefined,\n  showContactDisplayPlaceholder: true,\n  autoLog: false,\n  sourceIcons: undefined,\n  phoneTypeRenderer: undefined,\n  phoneSourceNameRenderer: undefined,\n  renderContactName: undefined,\n  renderExtraButton: undefined,\n  contactDisplayStyle: undefined,\n  externalViewEntity: undefined,\n  externalHasEntity: undefined,\n  readTextPermission: true,\n  onSizeChanged: undefined,\n  withAnimation: true,\n  showChooseEntityModal: true,\n  enableCDC: false,\n};\n\nexport default CallItem;\n"],"file":"index.js"}