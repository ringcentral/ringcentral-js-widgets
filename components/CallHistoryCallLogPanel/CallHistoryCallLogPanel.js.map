{"version":3,"file":"CallHistoryCallLogPanel.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_BasicCallInfo","_CallLogPanel","_juno","_EvActivityCallUI","_IvrInfo","_styles","_utils","_ActivityCallLogWrapper","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","CallHistoryCallLogPanel","_ref","currentLocale","currentLog","basicInfo","isInbound","disposeCall","status","saveStatus","disableDispose","isWide","ivrAlertData","onCopySuccess","scrollTo","referenceFieldOptions","method","rest","rootRef","useRef","isLoading","saveStatusValue","saving","headerTitle","concat","editLogSection","useCallback","props","_rootRef$current","createElement","EditLogSection","current","editSectionRef","buttonText","callLogMethods","create","submit","ref","classes","root","styles","callLogCallControl","classNames","noneShadow","refs","header","renderSaveLogButton","showSpinner","isInTransferPage","currentIdentify","renderEditLogSection","renderBasicInfo","Fragment","BasicCallInfo","isRinging","subject","followInfos","callInfos","panel","IvrInfo","isCallEnd","SubmitButtonWrapper","RcButton","size","fullWidth","disabled","loading","onClick","getButtonText","exports"],"sources":["components/CallHistoryCallLogPanel/CallHistoryCallLogPanel.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, { useCallback, useRef } from 'react';\n\nimport classNames from 'classnames';\n\nimport { BasicCallInfo } from '@ringcentral-integration/widgets/components/BasicCallInfo';\nimport type { CallLogPanelProps } from '@ringcentral-integration/widgets/components/CallLogPanel';\nimport CallLogPanel from '@ringcentral-integration/widgets/components/CallLogPanel';\nimport type { CallLogTitle } from '@ringcentral-integration/widgets/components/CallLogPanel/CallLog.interface';\nimport { RcButton } from '@ringcentral/juno';\n\nimport type {\n  CallLogMethods,\n  EvActivityCallUIFunctions,\n  EvActivityCallUIProps,\n} from '../../interfaces/EvActivityCallUI.interface';\nimport {\n  callLogMethods,\n  saveStatus as saveStatusValue,\n} from '../../interfaces/EvActivityCallUI.interface';\nimport { IvrInfo } from '../ActivityCallLogPanel/IvrInfo';\nimport styles from '../ActivityCallLogPanel/styles.scss';\nimport { EditLogSection, getButtonText } from '../ActivityCallLogPanel/utils';\nimport { SubmitButtonWrapper } from '../ActivityCallLogPanel/ActivityCallLogWrapper';\n\nexport type CallHistoryCallLogPanelProps = EvActivityCallUIProps &\n  EvActivityCallUIFunctions &\n  Pick<CallLogPanelProps, 'startAdornmentRender'> & {\n    method: CallLogMethods;\n  };\n\nexport const CallHistoryCallLogPanel: FunctionComponent<CallHistoryCallLogPanelProps> =\n  ({\n    currentLocale,\n    currentLog,\n    basicInfo,\n    isInbound,\n    disposeCall,\n    status,\n    saveStatus,\n    disableDispose,\n    isWide,\n    ivrAlertData,\n    onCopySuccess,\n    scrollTo,\n    referenceFieldOptions,\n    method,\n    ...rest\n  }) => {\n    const rootRef = useRef<CallLogPanel>(null);\n    const isLoading = saveStatus === saveStatusValue.saving;\n    const headerTitle = `${method}CallLog` as CallLogTitle;\n\n    const editLogSection = useCallback(\n      (props) => (\n        <EditLogSection\n          isWide={isWide}\n          {...props}\n          scrollTo={scrollTo}\n          rootRef={rootRef.current?.editSectionRef}\n          referenceFieldOptions={referenceFieldOptions}\n        />\n      ),\n      [isWide, scrollTo, referenceFieldOptions],\n    );\n\n    let buttonText;\n    if (\n      saveStatus === callLogMethods.create ||\n      saveStatus === saveStatusValue.submit\n    ) {\n      buttonText = callLogMethods.create;\n    } else {\n      buttonText = saveStatus;\n    }\n\n    return (\n      <CallLogPanel\n        ref={rootRef}\n        {...rest}\n        currentLog={currentLog}\n        currentLocale={currentLocale}\n        classes={{\n          root: styles.root,\n          callLogCallControl: classNames(\n            styles.callLogCallControl,\n            styles.noneShadow,\n          ),\n        }}\n        refs={{\n          root: rootRef,\n        }}\n        isWide={isWide}\n        header\n        headerTitle={headerTitle}\n        renderSaveLogButton={() => null}\n        showSpinner={false}\n        isInTransferPage={false}\n        // TODO: that need refactor CallLogPanel and then can remove that\n        currentIdentify=\"123\"\n        renderEditLogSection={editLogSection}\n        renderBasicInfo={() => {\n          return (\n            <>\n              <BasicCallInfo\n                status={status}\n                currentLocale={currentLocale}\n                isInbound={isInbound}\n                isRinging={false}\n                subject={basicInfo.subject}\n                followInfos={basicInfo.followInfos}\n                callInfos={basicInfo.callInfos}\n                onCopySuccess={onCopySuccess}\n                classes={{\n                  panel: styles.noneShadow,\n                }}\n              />\n              {ivrAlertData?.length > 0 && (\n                <IvrInfo isCallEnd ivrAlertData={ivrAlertData} />\n              )}\n            </>\n          );\n        }}\n      >\n        <SubmitButtonWrapper>\n          <RcButton\n            data-sign={method}\n            size=\"large\"\n            fullWidth\n            disabled={disableDispose}\n            loading={isLoading}\n            onClick={disposeCall}\n          >\n            {getButtonText(buttonText, currentLocale)}\n          </RcButton>\n        </SubmitButtonWrapper>\n      </CallLogPanel>\n    );\n  };\n"],"mappings":"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"}