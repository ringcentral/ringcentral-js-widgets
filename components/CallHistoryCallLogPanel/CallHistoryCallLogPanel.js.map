{"version":3,"sources":["components/CallHistoryCallLogPanel/CallHistoryCallLogPanel.tsx"],"names":["CallHistoryCallLogPanel","currentLocale","currentLog","basicInfo","isInbound","disposeCall","status","saveStatus","disableDispose","isWide","ivrAlertData","onCopySuccess","scrollTo","referenceFieldOptions","method","rest","rootRef","isLoading","saveStatusValue","saving","headerTitle","editLogSection","props","current","editSectionRef","buttonText","callLogMethods","create","submit","root","styles","callLogCallControl","noneShadow","subject","followInfos","callInfos","panel","length"],"mappings":"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","sourcesContent":["import React, { FunctionComponent, useCallback, useRef } from 'react';\n\nimport classNames from 'classnames';\n\nimport { BasicCallInfo } from '@ringcentral-integration/widgets/components/BasicCallInfo';\nimport CallLogPanel, {\n  CallLogPanelProps,\n} from '@ringcentral-integration/widgets/components/CallLogPanel';\nimport { CallLogTitle } from '@ringcentral-integration/widgets/components/CallLogPanel/CallLog.interface';\nimport { RcButton } from '@ringcentral/juno';\n\nimport {\n  callLogMethods,\n  CallLogMethods,\n  EvActivityCallUIFunctions,\n  EvActivityCallUIProps,\n  saveStatus as saveStatusValue,\n} from '../../interfaces/EvActivityCallUI.interface';\nimport { IvrInfo } from '../ActivityCallLogPanel/IvrInfo';\nimport styles from '../ActivityCallLogPanel/styles.scss';\nimport { EditLogSection, getButtonText } from '../ActivityCallLogPanel/utils';\nimport { SubmitButtonWrapper } from '../ActivityCallLogPanel/ActivityCallLogWrapper';\n\nexport type CallHistoryCallLogPanelProps = EvActivityCallUIProps &\n  EvActivityCallUIFunctions &\n  Pick<CallLogPanelProps, 'startAdornmentRender'> & {\n    method: CallLogMethods;\n  };\n\nexport const CallHistoryCallLogPanel: FunctionComponent<CallHistoryCallLogPanelProps> =\n  ({\n    currentLocale,\n    currentLog,\n    basicInfo,\n    isInbound,\n    disposeCall,\n    status,\n    saveStatus,\n    disableDispose,\n    isWide,\n    ivrAlertData,\n    onCopySuccess,\n    scrollTo,\n    referenceFieldOptions,\n    method,\n    ...rest\n  }) => {\n    const rootRef = useRef<CallLogPanel>(null);\n    const isLoading = saveStatus === saveStatusValue.saving;\n    const headerTitle = `${method}CallLog` as CallLogTitle;\n\n    const editLogSection = useCallback(\n      (props) => (\n        <EditLogSection\n          isWide={isWide}\n          {...props}\n          scrollTo={scrollTo}\n          rootRef={rootRef.current?.editSectionRef}\n          referenceFieldOptions={referenceFieldOptions}\n        />\n      ),\n      [isWide, scrollTo, referenceFieldOptions],\n    );\n\n    let buttonText;\n    if (\n      saveStatus === callLogMethods.create ||\n      saveStatus === saveStatusValue.submit\n    ) {\n      buttonText = callLogMethods.create;\n    } else {\n      buttonText = saveStatus;\n    }\n\n    return (\n      <CallLogPanel\n        ref={rootRef}\n        {...rest}\n        currentLog={currentLog}\n        currentLocale={currentLocale}\n        classes={{\n          root: styles.root,\n          callLogCallControl: classNames(\n            styles.callLogCallControl,\n            styles.noneShadow,\n          ),\n        }}\n        refs={{\n          root: rootRef,\n        }}\n        isWide={isWide}\n        header\n        headerTitle={headerTitle}\n        renderSaveLogButton={() => null}\n        showSpinner={false}\n        isInTransferPage={false}\n        // TODO: that need refactor CallLogPanel and then can remove that\n        currentIdentify=\"123\"\n        renderEditLogSection={editLogSection}\n        renderBasicInfo={() => {\n          return (\n            <>\n              <BasicCallInfo\n                status={status}\n                currentLocale={currentLocale}\n                isInbound={isInbound}\n                isRinging={false}\n                subject={basicInfo.subject}\n                followInfos={basicInfo.followInfos}\n                callInfos={basicInfo.callInfos}\n                onCopySuccess={onCopySuccess}\n                classes={{\n                  panel: styles.noneShadow,\n                }}\n              />\n              {ivrAlertData?.length > 0 && (\n                <IvrInfo isCallEnd ivrAlertData={ivrAlertData} />\n              )}\n            </>\n          );\n        }}\n      >\n        <SubmitButtonWrapper>\n          <RcButton\n            data-sign={method}\n            size=\"large\"\n            fullWidth\n            disabled={disableDispose}\n            loading={isLoading}\n            onClick={disposeCall}\n          >\n            {getButtonText(buttonText, currentLocale)}\n          </RcButton>\n        </SubmitButtonWrapper>\n      </CallLogPanel>\n    );\n  };\n"],"file":"CallHistoryCallLogPanel.js"}