{"version":3,"file":"RecipientsInput.js","names":["_juno","require","_junoIcon","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_i18n","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","f","o","next","done","push","value","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","throttledTime","RecipientsInput","forwardRef","_ref","ref","placeholder","currentLocale","onChange","onDelete","onClear","className","deleteIconProps","rest","innerRef","useRef","inputRef","useForkRef","_useState","useState","_useState2","mouseDownTime","setMouseDownTime","_useState3","_useState4","timer","setTimer","haveDeleteButton","handleMouseDown","useEventCallback","Date","setTimeout","handleMouseUp","curTime","clearTimeout","useEffect","current","focus","placeholderText","i18n","getString","createElement","clsx","styles","inputRoot","RcTextField","title","inputProps","maxLength","fullWidth","clearBtn","_onChange","_x","target","classes","root","textFieldRoot","InputProps","disableUnderline","input","endAdornment","RcIconButton","color","symbol","Deletenumber","combineProps","onMouseUp","onMouseDown","variant","size","autoComplete","exports"],"sources":["components/Rcui/RecipientsInput/RecipientsInput.tsx"],"sourcesContent":["import type {\n  RcBaseProps,\n  RcIconButtonProps,\n  RcTextFieldProps,\n} from '@ringcentral/juno';\nimport {\n  combineProps,\n  RcIconButton,\n  RcTextField,\n  useEventCallback,\n  useForkRef,\n} from '@ringcentral/juno';\nimport { Deletenumber } from '@ringcentral/juno-icon';\nimport clsx from 'clsx';\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type RecipientsInputProps = {\n  recipients?: {\n    phoneNumber: string;\n    name?: string;\n  }[];\n  /** if you need default placeholder, you need pass currentLocal */\n  currentLocale?: string;\n  onChange(value?: string): any;\n  onDelete(): any;\n  onClear(): any;\n  /** props for `deleteIcon` */\n  deleteIconProps?: RcBaseProps<RcIconButtonProps, 'variant' | 'size'>;\n  className?: string;\n} & Omit<RcTextFieldProps, 'onChange'>;\n\nconst throttledTime = 1000;\n\n/** @deprecated use juno RcDialTextField directly */\nexport const RecipientsInput = forwardRef<\n  HTMLInputElement,\n  RecipientsInputProps\n>(\n  (\n    {\n      placeholder,\n      value,\n      currentLocale,\n      onChange,\n      onDelete,\n      onClear,\n      className,\n      deleteIconProps,\n      ...rest\n    },\n    ref,\n  ) => {\n    const innerRef = useRef<HTMLInputElement>();\n\n    const inputRef = useForkRef(ref, innerRef);\n    // @ts-expect-error TS(2345): Argument of type 'null' is not assignable to param... Remove this comment to see the full error message\n    const [mouseDownTime, setMouseDownTime] = useState<number>(null);\n    const [timer, setTimer] = useState(null);\n\n    const haveDeleteButton = !!value;\n\n    const handleMouseDown = useEventCallback(() => {\n      setMouseDownTime(+new Date());\n\n      setTimer(\n        // @ts-expect-error TS(2345): Argument of type 'Timeout' is not assignable to pa... Remove this comment to see the full error message\n        setTimeout(() => {\n          onClear();\n          setTimer(null);\n        }, throttledTime),\n      );\n    });\n\n    const handleMouseUp = useEventCallback(() => {\n      const curTime = +new Date();\n      if (mouseDownTime && curTime - mouseDownTime >= throttledTime) {\n        return;\n      }\n\n      // @ts-expect-error TS(2769): No overload matches this call.\n      clearTimeout(timer);\n      onDelete();\n    });\n\n    useEffect(() => {\n      innerRef.current!.focus();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [value]);\n\n    const placeholderText =\n      placeholder || i18n.getString('dialPlaceholder', currentLocale);\n\n    return (\n      <div className={clsx(className, styles.inputRoot)}>\n        <RcTextField\n          placeholder={placeholderText}\n          title={placeholderText}\n          value={value}\n          inputProps={{\n            maxLength: 30,\n          }}\n          fullWidth\n          clearBtn={false}\n          inputRef={inputRef}\n          onChange={(e) => {\n            onChange(e.target.value);\n          }}\n          classes={{\n            root: styles.textFieldRoot,\n          }}\n          data-sign=\"numberField\"\n          InputProps={{\n            disableUnderline: true,\n            classes: {\n              root: styles.root,\n              input: styles.input,\n            },\n            endAdornment: haveDeleteButton && (\n              <RcIconButton\n                color=\"neutral.f03\"\n                symbol={Deletenumber}\n                data-sign=\"deleteButton\"\n                title=\"delete\"\n                {...combineProps(\n                  {\n                    onMouseUp: handleMouseUp,\n                    onMouseDown: handleMouseDown,\n                  },\n                  deleteIconProps,\n                )}\n                variant=\"plain\"\n                size=\"large\"\n              />\n            ),\n          }}\n          autoComplete=\"off\"\n          {...rest}\n        />\n      </div>\n    );\n  },\n);\n"],"mappings":"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","ignoreList":[]}