{"version":3,"file":"RecipientsInput.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_juno","_junoIcon","_i18n","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","done","push","value","err","isArray","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","throttledTime","RecipientsInput","forwardRef","_ref","ref","placeholder","currentLocale","onChange","onDelete","onClear","className","deleteIconProps","rest","innerRef","useRef","inputRef","useForkRef","_useState","useState","_useState2","mouseDownTime","setMouseDownTime","_useState3","_useState4","timer","setTimer","haveDeleteButton","handleMouseDown","useEventCallback","Date","setTimeout","handleMouseUp","curTime","clearTimeout","useEffect","current","focus","createElement","classNames","styles","inputRoot","RcTextField","i18n","getString","inputProps","maxLength","fullWidth","clearBtn","_onChange","_x2","e","classes","root","textFieldRoot","InputProps","disableUnderline","input","endAdornment","RcIconButton","color","symbol","Deletenumber","title","combineProps","onMouseUp","onMouseDown","variant","size","autoComplete","exports"],"sources":["components/Rcui/RecipientsInput/RecipientsInput.tsx"],"sourcesContent":["import React, { forwardRef, useEffect, useRef, useState } from 'react';\n\nimport classNames from 'classnames';\n\nimport type {\n  RcBaseProps,\n  RcIconButtonProps,\n  RcTextFieldProps,\n} from '@ringcentral/juno';\nimport {\n  combineProps,\n  RcIconButton,\n  RcTextField,\n  useEventCallback,\n  useForkRef,\n} from '@ringcentral/juno';\nimport { Deletenumber } from '@ringcentral/juno-icon';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type RecipientsInputProps = {\n  recipients?: {\n    phoneNumber: string;\n    name?: string;\n  }[];\n  /** if you need default placeholder, you need pass currentLocal */\n  currentLocale?: string;\n  onChange(value?: string): any;\n  onDelete(): any;\n  onClear(): any;\n  /** props for `deleteIcon` */\n  deleteIconProps?: RcBaseProps<RcIconButtonProps, 'variant' | 'size'>;\n  className?: string;\n} & Omit<RcTextFieldProps, 'onChange'>;\n\nconst throttledTime = 1000;\n\n/** @deprecated use juno RcDialTextField directly */\nexport const RecipientsInput = forwardRef<\n  HTMLInputElement,\n  RecipientsInputProps\n>(\n  (\n    {\n      placeholder,\n      value,\n      currentLocale,\n      onChange,\n      onDelete,\n      onClear,\n      className,\n      deleteIconProps,\n      ...rest\n    },\n    ref,\n  ) => {\n    const innerRef = useRef<HTMLInputElement>();\n\n    const inputRef = useForkRef(ref, innerRef);\n    // @ts-expect-error TS(2345): Argument of type 'null' is not assignable to param... Remove this comment to see the full error message\n    const [mouseDownTime, setMouseDownTime] = useState<number>(null);\n    const [timer, setTimer] = useState(null);\n\n    const haveDeleteButton = !!value;\n\n    const handleMouseDown = useEventCallback(() => {\n      setMouseDownTime(+new Date());\n\n      setTimer(\n        // @ts-expect-error TS(2345): Argument of type 'Timeout' is not assignable to pa... Remove this comment to see the full error message\n        setTimeout(() => {\n          onClear();\n          setTimer(null);\n        }, throttledTime),\n      );\n    });\n\n    const handleMouseUp = useEventCallback(() => {\n      const curTime = +new Date();\n      if (mouseDownTime && curTime - mouseDownTime >= throttledTime) {\n        return;\n      }\n\n      // @ts-expect-error TS(2769): No overload matches this call.\n      clearTimeout(timer);\n      onDelete();\n    });\n\n    useEffect(() => {\n      innerRef.current!.focus();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [value]);\n\n    return (\n      <div className={classNames(className, styles.inputRoot)}>\n        <RcTextField\n          placeholder={\n            placeholder || i18n.getString('dialPlaceholder', currentLocale)\n          }\n          value={value}\n          inputProps={{\n            maxLength: 30,\n          }}\n          fullWidth\n          clearBtn={false}\n          inputRef={inputRef}\n          onChange={(e) => {\n            onChange(e.target.value);\n          }}\n          classes={{\n            root: styles.textFieldRoot,\n          }}\n          data-sign=\"numberField\"\n          InputProps={{\n            disableUnderline: true,\n            classes: {\n              root: styles.root,\n              input: styles.input,\n            },\n            endAdornment: haveDeleteButton && (\n              <RcIconButton\n                color=\"neutral.f03\"\n                symbol={Deletenumber}\n                data-sign=\"deleteButton\"\n                title=\"delete\"\n                {...combineProps(\n                  {\n                    onMouseUp: handleMouseUp,\n                    onMouseDown: handleMouseDown,\n                  },\n                  deleteIconProps,\n                )}\n                variant=\"plain\"\n                size=\"large\"\n              />\n            ),\n          }}\n          autoComplete=\"off\"\n          {...rest}\n        />\n      </div>\n    );\n  },\n);\n"],"mappings":"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"}