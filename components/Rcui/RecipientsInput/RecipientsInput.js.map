{"version":3,"file":"RecipientsInput.js","names":["_juno","require","_junoIcon","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_i18n","_styles","_excluded","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","Symbol","iterator","u","next","done","push","value","isArray","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","throttledTime","RecipientsInput","exports","forwardRef","_ref","ref","placeholder","currentLocale","onChange","onDelete","onClear","className","deleteIconProps","rest","innerRef","useRef","inputRef","useForkRef","_useState","useState","_useState2","mouseDownTime","setMouseDownTime","_useState3","_useState4","timer","setTimer","haveDeleteButton","handleMouseDown","useEventCallback","Date","setTimeout","handleMouseUp","curTime","clearTimeout","useEffect","current","focus","placeholderText","i18n","getString","createElement","clsx","styles","inputRoot","RcTextField","title","inputProps","maxLength","fullWidth","clearBtn","_onChange","_x","target","classes","root","textFieldRoot","InputProps","disableUnderline","input","endAdornment","RcIconButton","color","symbol","Deletenumber","combineProps","onMouseUp","onMouseDown","variant","size","autoComplete"],"sources":["components/Rcui/RecipientsInput/RecipientsInput.tsx"],"sourcesContent":["import type {\n  RcBaseProps,\n  RcIconButtonProps,\n  RcTextFieldProps,\n} from '@ringcentral/juno';\nimport {\n  combineProps,\n  RcIconButton,\n  RcTextField,\n  useEventCallback,\n  useForkRef,\n} from '@ringcentral/juno';\nimport { Deletenumber } from '@ringcentral/juno-icon';\nimport clsx from 'clsx';\nimport React, { forwardRef, useEffect, useRef, useState } from 'react';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type RecipientsInputProps = {\n  recipients?: {\n    phoneNumber: string;\n    name?: string;\n  }[];\n  /** if you need default placeholder, you need pass currentLocal */\n  currentLocale?: string;\n  onChange(value?: string): any;\n  onDelete(): any;\n  onClear(): any;\n  /** props for `deleteIcon` */\n  deleteIconProps?: RcBaseProps<RcIconButtonProps, 'variant' | 'size'>;\n  className?: string;\n} & Omit<RcTextFieldProps, 'onChange'>;\n\nconst throttledTime = 1000;\n\n/** @deprecated use juno RcDialTextField directly */\nexport const RecipientsInput = forwardRef<\n  HTMLInputElement,\n  RecipientsInputProps\n>(\n  (\n    {\n      placeholder,\n      value,\n      currentLocale,\n      onChange,\n      onDelete,\n      onClear,\n      className,\n      deleteIconProps,\n      ...rest\n    },\n    ref,\n  ) => {\n    const innerRef = useRef<HTMLInputElement>();\n\n    const inputRef = useForkRef(ref, innerRef);\n    // @ts-expect-error TS(2345): Argument of type 'null' is not assignable to param... Remove this comment to see the full error message\n    const [mouseDownTime, setMouseDownTime] = useState<number>(null);\n    const [timer, setTimer] = useState(null);\n\n    const haveDeleteButton = !!value;\n\n    const handleMouseDown = useEventCallback(() => {\n      setMouseDownTime(+new Date());\n\n      setTimer(\n        // @ts-expect-error TS(2345): Argument of type 'Timeout' is not assignable to pa... Remove this comment to see the full error message\n        setTimeout(() => {\n          onClear();\n          setTimer(null);\n        }, throttledTime),\n      );\n    });\n\n    const handleMouseUp = useEventCallback(() => {\n      const curTime = +new Date();\n      if (mouseDownTime && curTime - mouseDownTime >= throttledTime) {\n        return;\n      }\n\n      // @ts-expect-error TS(2769): No overload matches this call.\n      clearTimeout(timer);\n      onDelete();\n    });\n\n    useEffect(() => {\n      innerRef.current!.focus();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [value]);\n\n    const placeholderText =\n      placeholder || i18n.getString('dialPlaceholder', currentLocale);\n\n    return (\n      <div className={clsx(className, styles.inputRoot)}>\n        <RcTextField\n          placeholder={placeholderText}\n          title={placeholderText}\n          value={value}\n          inputProps={{\n            maxLength: 30,\n          }}\n          fullWidth\n          clearBtn={false}\n          inputRef={inputRef}\n          onChange={(e) => {\n            onChange(e.target.value);\n          }}\n          classes={{\n            root: styles.textFieldRoot,\n          }}\n          data-sign=\"numberField\"\n          InputProps={{\n            disableUnderline: true,\n            classes: {\n              root: styles.root,\n              input: styles.input,\n            },\n            endAdornment: haveDeleteButton && (\n              <RcIconButton\n                color=\"neutral.f03\"\n                symbol={Deletenumber}\n                data-sign=\"deleteButton\"\n                title=\"delete\"\n                {...combineProps(\n                  {\n                    onMouseUp: handleMouseUp,\n                    onMouseDown: handleMouseDown,\n                  },\n                  deleteIconProps,\n                )}\n                variant=\"plain\"\n                size=\"large\"\n              />\n            ),\n          }}\n          autoComplete=\"off\"\n          {...rest}\n        />\n      </div>\n    );\n  },\n);\n"],"mappings":"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","ignoreList":[]}