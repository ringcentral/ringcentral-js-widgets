{"version":3,"sources":["components/ToField/index.js"],"names":["SelectedRecipientItem","phoneNumber","name","onRemove","className","length","styles","extension","removeReceiver","propTypes","PropTypes","string","isRequired","func","defaultProps","undefined","SelectedRecipients","items","removeFromRecipients","selectReceivers","map","item","arrayOf","shape","ToField","props","onReceiversInputFocus","setState","isFocusOnInput","onReceiversInputBlur","onReceiversInputKeyUp","e","searchContact","searchString","currentTarget","value","setSelectedIndex","index","selectedContactIndex","scrollDirection","scrollOperation","direction","addSelectedContactIndex","searchResults","state","preState","reduceSelectedContactIndex","isSplitter","key","keyCode","handleHotKey","preventDefault","relatedContactList","currentSelected","addToRecipients","replace","onClean","currentValue","newProps","label","i18n","getString","currentLocale","container","rightPanel","recipients","inputField","onChange","onInputKeyUp","numberInput","placeholder","autoFocus","removeButton","formatPhone","titleEnabled","Component","entityType","phoneType","bool"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './styles.scss';\nimport { RemoveButton } from '../RemoveButton';\nimport ContactDropdownList from '../ContactDropdownList';\nimport i18n from './i18n';\n\nfunction SelectedRecipientItem({ phoneNumber, name = phoneNumber, onRemove }) {\n  const className =\n    phoneNumber.length > 5 ? styles.phoneNumber : styles.extension;\n  return (\n    <li className={className}>\n      <span>{name}</span>\n      <RemoveButton\n        className={styles.removeReceiver}\n        onClick={onRemove}\n        visibility\n      />\n    </li>\n  );\n}\n\nSelectedRecipientItem.propTypes = {\n  name: PropTypes.string,\n  phoneNumber: PropTypes.string.isRequired,\n  onRemove: PropTypes.func.isRequired,\n};\nSelectedRecipientItem.defaultProps = {\n  name: undefined,\n};\n\nfunction SelectedRecipients({ items, removeFromRecipients }) {\n  if (items.length < 1) {\n    return null;\n  }\n  return (\n    <ul className={styles.selectReceivers}>\n      {items.map((item) => (\n        <SelectedRecipientItem\n          key={item.phoneNumber}\n          name={item.name}\n          phoneNumber={item.phoneNumber}\n          onRemove={() => removeFromRecipients(item.phoneNumber)}\n        />\n      ))}\n    </ul>\n  );\n}\n\nSelectedRecipients.propTypes = {\n  removeFromRecipients: PropTypes.func.isRequired,\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      phoneNumber: PropTypes.string.isRequired,\n      name: PropTypes.string,\n    }),\n  ).isRequired,\n};\n\nexport default class ToField extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFocusOnInput: false,\n      selectedContactIndex: 0,\n      scrollDirection: null,\n      currentValue: props.value.replace(',', ''),\n    };\n  }\n\n  onReceiversInputFocus = () => {\n    this.setState({\n      isFocusOnInput: true,\n    });\n  };\n\n  onReceiversInputBlur = () => {\n    this.setState({\n      isFocusOnInput: false,\n    });\n  };\n\n  onReceiversInputKeyUp = (e) => {\n    this.props.searchContact({ searchString: e.currentTarget.value });\n  };\n\n  setSelectedIndex = (index) => {\n    this.setState({\n      selectedContactIndex: index,\n      scrollDirection: null,\n    });\n  };\n\n  scrollOperation = (direction) => {\n    if (direction === 'ArrowDown' || direction === 'ArrowUp') {\n      this.setState({\n        scrollDirection: direction,\n      });\n    }\n  };\n\n  addSelectedContactIndex = () => {\n    const length = this.props.searchResults.length;\n    if (this.state.selectedContactIndex >= length - 1) {\n      this.setState({\n        selectedContactIndex: length - 1,\n      });\n    } else {\n      this.setState((preState) => ({\n        selectedContactIndex: preState.selectedContactIndex + 1,\n      }));\n    }\n  };\n\n  reduceSelectedContactIndex = () => {\n    if (this.state.selectedContactIndex > 0) {\n      this.setState((preState) => ({\n        selectedContactIndex: preState.selectedContactIndex - 1,\n      }));\n    } else {\n      this.setState({\n        selectedContactIndex: 0,\n      });\n    }\n  };\n\n  isSplitter = (e) => {\n    if (\n      e.key === ',' ||\n      e.key === ';' ||\n      e.key === 'Enter' ||\n      (e.key === 'Unidentified' && // for Safari (FF cannot rely on keyCode...)\n        (e.keyCode === 186 || // semicolon\n        e.keyCode === 188 || // comma\n          e.keyCode === 13)) // enter\n    ) {\n      return true;\n    }\n    return false;\n  };\n\n  // using React SyntheticEvent to deal with cross browser issue\n  handleHotKey = (e) => {\n    if (this.state.isFocusOnInput && this.props.value.length >= 3) {\n      if (e.key === 'ArrowUp') {\n        this.reduceSelectedContactIndex();\n        this.scrollOperation(e.key);\n      } else if (e.key === 'ArrowDown') {\n        this.addSelectedContactIndex();\n        this.scrollOperation(e.key);\n      }\n    } else {\n      this.setState({\n        selectedContactIndex: 0,\n      });\n    }\n    if (this.isSplitter(e)) {\n      e.preventDefault();\n      if (this.props.value.length === 0) {\n        return;\n      }\n      const relatedContactList =\n        this.props.value.length >= 3 ? this.props.searchResults : [];\n      const currentSelected =\n        relatedContactList[this.state.selectedContactIndex];\n      if (currentSelected && e.key === 'Enter') {\n        this.props.addToRecipients({\n          name: currentSelected.name,\n          phoneNumber: currentSelected.phoneNumber,\n        });\n      } else {\n        this.props.addToRecipients({\n          name: this.props.value.replace(',', ''),\n          phoneNumber: this.props.value.replace(',', ''),\n        });\n        this.props.onClean();\n      }\n      this.props.onClean();\n    }\n  };\n\n  componentWillReceiveProps(newProps) {\n    this.setState({\n      currentValue: newProps.value.replace(',', ''),\n    });\n    if (\n      newProps.value &&\n      newProps.value !== this.props.value &&\n      this.props.value[this.props.value.length - 1] === ','\n    ) {\n      this.setState({\n        isFocusOnInput: true,\n      });\n      this.props.addToRecipients(\n        {\n          name: this.props.value.replace(',', ''),\n          phoneNumber: this.props.value.replace(',', ''),\n        },\n        false,\n      );\n    }\n  }\n\n  componentDidMount() {\n    this.props.searchContact({ searchString: this.props.value });\n  }\n\n  render() {\n    const relatedContactList =\n      this.props.value.length >= 3 ? this.props.searchResults : [];\n    const label = (\n      <label htmlFor=\"to-field-input\">\n        {this.props.label || i18n.getString('to', this.props.currentLocale)}\n      </label>\n    );\n    return (\n      <div className={styles.container} onKeyDown={this.handleHotKey}>\n        {label}\n        <div className={styles.rightPanel}>\n          <SelectedRecipients\n            items={this.props.recipients}\n            removeFromRecipients={this.props.removeFromRecipients}\n          />\n          <div className={styles.inputField}>\n            <input\n              id=\"to-field-input\"\n              name=\"receiver\"\n              value={this.state.currentValue}\n              onChange={this.props.onChange}\n              onKeyUp={this.onInputKeyUp}\n              className={styles.numberInput}\n              maxLength={30}\n              onFocus={this.onReceiversInputFocus}\n              onBlur={this.onReceiversInputBlur}\n              placeholder={\n                this.props.placeholder ||\n                i18n.getString('enterNameOrNumber', this.props.currentLocale)\n              }\n              autoComplete=\"off\"\n              autoFocus={this.props.autoFocus} // eslint-disable-line\n            />\n          </div>\n          <RemoveButton\n            className={styles.removeButton}\n            onClick={this.props.onClean}\n            visibility={\n              this.props.value.length > 0 && this.state.isFocusOnInput\n            }\n          />\n        </div>\n        <ContactDropdownList\n          currentLocale={this.props.currentLocale}\n          scrollDirection={this.state.scrollDirection}\n          selectedIndex={this.state.selectedContactIndex}\n          setSelectedIndex={this.setSelectedIndex}\n          addToRecipients={this.props.addToRecipients}\n          items={relatedContactList}\n          formatContactPhone={this.props.formatPhone}\n          visibility={this.state.isFocusOnInput}\n          titleEnabled={this.props.titleEnabled}\n        />\n      </div>\n    );\n  }\n}\n\nToField.propTypes = {\n  label: PropTypes.string,\n  placeholder: PropTypes.string,\n  searchContact: PropTypes.func,\n  searchResults: PropTypes.arrayOf(\n    PropTypes.shape({\n      name: PropTypes.string.isRequired,\n      entityType: PropTypes.string.isRequired,\n      phoneType: PropTypes.string.isRequired,\n      phoneNumber: PropTypes.string.isRequired,\n    }),\n  ),\n  recipients: PropTypes.arrayOf(\n    PropTypes.shape({\n      phoneNumber: PropTypes.string.isRequired,\n      name: PropTypes.string,\n    }),\n  ).isRequired,\n  value: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onClean: PropTypes.func.isRequired,\n  addToRecipients: PropTypes.func.isRequired,\n  removeFromRecipients: PropTypes.func.isRequired,\n  formatPhone: PropTypes.func,\n  titleEnabled: PropTypes.bool,\n  autoFocus: PropTypes.bool,\n  currentLocale: PropTypes.string.isRequired,\n};\n\nToField.defaultProps = {\n  label: null,\n  placeholder: null,\n  titleEnabled: undefined,\n  autoFocus: false,\n  searchContact: () => null,\n  formatPhone: (phoneNumber) => phoneNumber,\n  searchResults: [],\n};\n"],"file":"index.js"}