{"version":3,"sources":["components/ContactDisplay/index.tsx"],"names":["UnReadDot","styled","div","MenuButton","RcButton","_Title","children","unread","missed","rest","Title","ellipsis","StyledMenu","RcMenu","RcMenuItem","ContactDisplay","reference","className","contactMatches","selected","onSelectContact","disabled","isLogging","fallBackName","enableContactFallback","areaCode","countryCode","phoneNumber","currentLocale","currentSiteCode","isMultipleSiteEnabled","groupNumbers","showType","selectClassName","selectedClassName","showPlaceholder","placeholder","brand","stopPropagation","sourceIcons","phoneSourceNameRenderer","showGroupNumberName","contactName","isOnConferenceCall","iconClassName","dropdownRenderFunction","dropdownClassName","phoneNumberAfterFormat","siteCode","unreadDot","anchorEl","setAnchorEl","handleClick","event","preventDefault","currentTarget","handleClose","contentEl","confStr","i18n","getString","groupNames","map","groupNumber","groupContact","find","match","extensionNumber","name","display","join","length","title","entityName","entityType","entities","currPlaceholder","_selected","curr","value","open","Boolean","items","ArrowUp2","ArrowDown2","e","reason","entity","i","itemValue","isPlaceholder","child","styles","root","defaultProps"],"mappings":"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","sourcesContent":["import React, { FunctionComponent, useState } from 'react';\n\nimport classnames from 'classnames';\n\nimport formatNumber from '@ringcentral-integration/commons/lib/formatNumber';\nimport {\n  ellipsis,\n  flexWidth,\n  palette2,\n  radius,\n  RcButton,\n  RcIcon,\n  RcMenu,\n  RcMenuItem,\n  spacing,\n  styled,\n} from '@ringcentral/juno';\nimport { ArrowDown2, ArrowUp2 } from '@ringcentral/juno/icon';\n\nimport {\n  ContactDisplayItem,\n  ContactDisplayItemProps,\n} from './ContactDisplayItem';\nimport { displayFormatter } from './displayFormatter';\nimport { Entity } from './Entity.interface';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst UnReadDot = styled.div`\n  display: inline-block;\n  height: 8px;\n  ${flexWidth('8px')}\n  background-color: ${palette2('interactive', 'f01')};\n  border-radius: ${radius('round')};\n  margin-right: ${spacing(1.5)};\n`;\n\nconst MenuButton = styled(RcButton)`\n  && {\n    padding: 0;\n    font-size: 14px;\n    font-weight: normal;\n    max-width: 100%;\n  }\n`;\n\ntype ContactDisplayProps = {\n  isOnConferenceCall?: boolean;\n  reference?: (...args: any[]) => any;\n  className?: string;\n  contactMatches: Entity[];\n  selected: number;\n  onSelectContact?: (...args: any[]) => any;\n  disabled?: boolean;\n  isLogging: boolean;\n  fallBackName?: string;\n  enableContactFallback?: boolean;\n  areaCode: string;\n  countryCode: string;\n  phoneNumber?: string;\n  currentLocale: string;\n  currentSiteCode?: string;\n  isMultipleSiteEnabled?: boolean;\n  groupNumbers?: string[];\n  showType?: boolean;\n  selectClassName?: string;\n  selectedClassName?: string;\n  showPlaceholder?: boolean;\n  placeholder?: string;\n  brand?: string;\n  stopPropagation?: boolean;\n  sourceIcons?: ContactDisplayItemProps['sourceIcons'];\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  showGroupNumberName?: boolean;\n  contactName?: any;\n  iconClassName?: string;\n  dropdownRenderFunction?: (...args: any[]) => any;\n  dropdownClassName?: string;\n  unread?: boolean;\n  missed?: boolean;\n};\n\ntype TitleProps = React.DetailedHTMLProps<\n  React.HTMLAttributes<HTMLDivElement>,\n  HTMLDivElement\n> & {\n  unread?: boolean;\n  missed?: boolean;\n};\n\nconst _Title: FunctionComponent<TitleProps> = ({\n  children,\n  // just pick out of props\n  unread,\n  missed,\n  ...rest\n}) => (\n  <div {...rest} data-sign=\"currentName\">\n    {children}\n  </div>\n);\n\nconst Title = styled(_Title)`\n  font-size: 14px;\n  color: ${({ unread, missed }) =>\n    // eslint-disable-next-line no-nested-ternary\n    missed\n      ? palette2('danger', 'f02')\n      : unread\n      ? palette2('interactive', 'f01')\n      : palette2('neutral', 'f06')};\n  ${ellipsis};\n  line-height: 1.3;\n`;\n\nconst StyledMenu = styled(RcMenu)`\n  ${RcMenuItem} {\n    max-width: 230px;\n\n    span {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n`;\n\nconst ContactDisplay: React.FC<ContactDisplayProps> = ({\n  reference,\n  className,\n  contactMatches,\n  selected,\n  onSelectContact,\n  disabled,\n  isLogging,\n  fallBackName,\n  enableContactFallback,\n  areaCode,\n  countryCode,\n  phoneNumber,\n  currentLocale,\n  currentSiteCode,\n  isMultipleSiteEnabled,\n  groupNumbers,\n  showType,\n  selectClassName,\n  selectedClassName,\n  showPlaceholder,\n  placeholder,\n  brand,\n  stopPropagation,\n  sourceIcons = {},\n  phoneSourceNameRenderer,\n  showGroupNumberName,\n  contactName,\n  isOnConferenceCall,\n  iconClassName,\n  dropdownRenderFunction,\n  dropdownClassName,\n  unread,\n  missed,\n}) => {\n  const phoneNumberAfterFormat = formatNumber({\n    phoneNumber,\n    countryCode,\n    areaCode,\n    siteCode: currentSiteCode,\n    isMultipleSiteEnabled,\n  });\n\n  const unreadDot = unread && (\n    <UnReadDot data-sign=\"unread\" aria-label=\"unread\" />\n  );\n\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);\n\n  const handleClick = (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n  ) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => setAnchorEl(null);\n\n  const contentEl = (() => {\n    if (isOnConferenceCall) {\n      const confStr = i18n.getString('conferenceCall', currentLocale);\n      return (\n        <Title title={confStr} unread={unread} missed={missed}>\n          {unreadDot}\n          {confStr}\n        </Title>\n      );\n    }\n\n    if (contactName) {\n      return (\n        <Title title={contactName} unread={unread} missed={missed}>\n          {unreadDot}\n          {contactName}\n        </Title>\n      );\n    }\n\n    if (groupNumbers && showGroupNumberName) {\n      const groupNames = groupNumbers.map((groupNumber) => {\n        const groupContact = contactMatches.find(\n          (match) => match.extensionNumber === groupNumber,\n        );\n        return (groupContact && groupContact.name) || groupNumber;\n      });\n      const display = groupNames.join(', ');\n\n      return (\n        <Title title={display} unread={unread} missed={missed}>\n          {unreadDot}\n          {display}\n        </Title>\n      );\n    }\n\n    if (groupNumbers) {\n      const display = groupNumbers.join(', ');\n      return (\n        <Title title={display} unread={unread} missed={missed}>\n          {unreadDot}\n          {display}\n        </Title>\n      );\n    }\n\n    if (contactMatches.length === 0) {\n      const display =\n        (enableContactFallback && fallBackName) ||\n        phoneNumberAfterFormat ||\n        i18n.getString('unknownNumber', currentLocale);\n      const title =\n        (enableContactFallback && fallBackName) || phoneNumberAfterFormat || '';\n      return (\n        <Title title={title} unread={unread} missed={missed}>\n          {unreadDot}\n          {display}\n        </Title>\n      );\n    }\n\n    if (contactMatches.length === 1) {\n      const display = contactMatches[0].name;\n      const title = displayFormatter({\n        entityName: display,\n        entityType: contactMatches[0].entityType,\n        phoneNumber: phoneNumberAfterFormat,\n        brand,\n        currentLocale,\n        phoneSourceNameRenderer,\n      });\n\n      return (\n        <Title title={title} unread={unread} missed={missed}>\n          {unreadDot}\n          {display}\n        </Title>\n      );\n    }\n\n    if (contactMatches.length > 1) {\n      const entities = [...contactMatches];\n      let currPlaceholder: string;\n      let _selected = selected;\n      if (showPlaceholder) {\n        currPlaceholder =\n          placeholder || i18n.getString('select', currentLocale);\n      } else {\n        _selected = _selected < 0 ? 0 : _selected;\n      }\n\n      const curr = entities[_selected];\n\n      const value = displayFormatter({\n        entityName: curr?.name,\n        entityType: showType && curr.entityType,\n        brand,\n        currentLocale,\n        phoneSourceNameRenderer,\n      });\n\n      const title = curr\n        ? displayFormatter({\n            entityName: curr.name,\n            entityType: curr.entityType,\n            phoneNumber: phoneNumberAfterFormat,\n            brand,\n            currentLocale,\n            phoneSourceNameRenderer,\n          })\n        : phoneNumberAfterFormat;\n\n      const open = Boolean(anchorEl);\n\n      const items = currPlaceholder ? [{} as Entity, ...entities] : entities;\n\n      return (\n        <Title unread={unread} missed={missed}>\n          <MenuButton\n            variant=\"plain\"\n            data-sign=\"menuButton\"\n            color={unread ? 'interactive.f01' : 'neutral.f06'}\n            onClick={handleClick}\n            disabled={disabled || isLogging}\n            title={title}\n            endIcon={\n              <RcIcon\n                symbol={open ? ArrowUp2 : ArrowDown2}\n                size=\"small\"\n                color=\"neutral.f04\"\n              />\n            }\n          >\n            {unreadDot}\n            <Title unread={unread} missed={missed}>\n              {selected > -1 ? value : currPlaceholder}\n            </Title>\n          </MenuButton>\n          <StyledMenu\n            open={open}\n            anchorEl={anchorEl}\n            onClose={(e: any, reason) => {\n              // stop event propagation to prevent click event on item\n              if (reason === 'backdropClick') {\n                e.stopPropagation();\n              }\n\n              handleClose();\n            }}\n            aria-label=\"choice a presence state\"\n          >\n            {items.map((entity, i) => {\n              const title = entity\n                ? displayFormatter({\n                    entityName: entity.name,\n                    entityType: entity.entityType,\n                    phoneNumber: phoneNumberAfterFormat,\n                    brand,\n                    currentLocale,\n                    phoneSourceNameRenderer,\n                  })\n                : phoneNumberAfterFormat;\n\n              const itemValue = displayFormatter({\n                entityName: entity.name,\n                entityType: showType && entity.entityType,\n                brand,\n                currentLocale,\n                phoneSourceNameRenderer,\n              });\n\n              const isPlaceholder = showPlaceholder && i === 0;\n\n              const child = (() => {\n                if (isPlaceholder) {\n                  return currPlaceholder;\n                }\n\n                return dropdownRenderFunction ? (\n                  dropdownRenderFunction(entity)\n                ) : (\n                  <ContactDisplayItem\n                    entityName={entity.name}\n                    entityType={entity.entityType}\n                    sourceIcons={sourceIcons}\n                  />\n                );\n              })();\n\n              return (\n                <RcMenuItem\n                  title={title}\n                  value={itemValue}\n                  key={i}\n                  selected={value === itemValue}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    if (isPlaceholder) {\n                      // TODO: should check that feature in salesforce\n                      // do nothing\n                    } else {\n                      onSelectContact(entity, i);\n                    }\n\n                    handleClose();\n                  }}\n                >\n                  {child}\n                </RcMenuItem>\n              );\n            })}\n          </StyledMenu>\n        </Title>\n      );\n    }\n  })();\n\n  return <div className={classnames(styles.root, className)}>{contentEl}</div>;\n};\nContactDisplay.defaultProps = {\n  currentSiteCode: '',\n  isMultipleSiteEnabled: false,\n  isOnConferenceCall: false,\n  disabled: false,\n  fallBackName: '',\n  showType: true,\n  showPlaceholder: true,\n  placeholder: '',\n  stopPropagation: true,\n  showGroupNumberName: false,\n  iconClassName: null,\n  dropdownClassName: null,\n};\n\nexport default ContactDisplay;\n"],"file":"index.js"}