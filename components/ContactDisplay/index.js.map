{"version":3,"sources":["components/ContactDisplay/index.tsx"],"names":["UnReadDot","styled","div","MenuButton","RcButton","_Title","children","unread","missed","rest","Title","ellipsis","StyledMenu","RcMenu","RcMenuItem","ContactDisplay","reference","className","contactMatches","selected","onSelectContact","disabled","isLogging","fallBackName","enableContactFallback","areaCode","countryCode","phoneNumber","currentLocale","currentSiteCode","isMultipleSiteEnabled","groupNumbers","showType","selectClassName","selectedClassName","showPlaceholder","placeholder","brand","stopPropagation","sourceIcons","phoneSourceNameRenderer","showGroupNumberName","contactName","subContactName","isOnConferenceCall","iconClassName","dropdownRenderFunction","dropdownClassName","phoneNumberAfterFormat","siteCode","unreadDot","anchorEl","setAnchorEl","handleClick","event","preventDefault","currentTarget","handleClose","contentEl","confStr","i18n","getString","title","tag","groupNames","map","groupNumber","groupContact","find","match","extensionNumber","name","display","join","length","entityName","entityType","entities","currPlaceholder","_selected","curr","value","open","Boolean","items","ArrowUp2","ArrowDown2","e","reason","entity","i","itemValue","isPlaceholder","child","styles","root","defaultProps"],"mappings":"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","sourcesContent":["import React, { FunctionComponent, useState } from 'react';\n\nimport classnames from 'classnames';\n\nimport formatNumber from '@ringcentral-integration/commons/lib/formatNumber';\nimport {\n  ellipsis,\n  flexWidth,\n  palette2,\n  radius,\n  RcButton,\n  RcIcon,\n  RcMenu,\n  RcMenuItem,\n  spacing,\n  styled,\n} from '@ringcentral/juno';\nimport { ArrowDown2, ArrowUp2 } from '@ringcentral/juno/icon';\n\nimport {\n  ContactDisplayItem,\n  ContactDisplayItemProps,\n} from './ContactDisplayItem';\nimport { displayFormatter } from './displayFormatter';\nimport { Entity } from './Entity.interface';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst UnReadDot = styled.div`\n  display: inline-block;\n  height: 8px;\n  ${flexWidth('8px')}\n  background-color: ${palette2('interactive', 'f01')};\n  border-radius: ${radius('round')};\n  margin-right: ${spacing(1.5)};\n`;\n\nconst MenuButton = styled(RcButton)`\n  && {\n    padding: 0;\n    font-size: 14px;\n    font-weight: normal;\n    max-width: 100%;\n  }\n`;\n\ntype ContactDisplayProps = {\n  isOnConferenceCall?: boolean;\n  reference?: (...args: any[]) => any;\n  className?: string;\n  contactMatches: Entity[];\n  selected: number;\n  onSelectContact?: (...args: any[]) => any;\n  disabled?: boolean;\n  isLogging: boolean;\n  fallBackName?: string;\n  enableContactFallback?: boolean;\n  areaCode: string;\n  countryCode: string;\n  phoneNumber?: string;\n  currentLocale: string;\n  currentSiteCode?: string;\n  isMultipleSiteEnabled?: boolean;\n  groupNumbers?: string[];\n  showType?: boolean;\n  selectClassName?: string;\n  selectedClassName?: string;\n  showPlaceholder?: boolean;\n  placeholder?: string;\n  brand?: string;\n  stopPropagation?: boolean;\n  sourceIcons?: ContactDisplayItemProps['sourceIcons'];\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  showGroupNumberName?: boolean;\n  contactName?: any;\n  subContactName?: any;\n  iconClassName?: string;\n  dropdownRenderFunction?: (...args: any[]) => any;\n  dropdownClassName?: string;\n  unread?: boolean;\n  missed?: boolean;\n};\n\ntype TitleProps = React.DetailedHTMLProps<\n  React.HTMLAttributes<HTMLDivElement>,\n  HTMLDivElement\n> & {\n  unread?: boolean;\n  missed?: boolean;\n};\n\nconst _Title: FunctionComponent<TitleProps> = ({\n  children,\n  // just pick out of props\n  unread,\n  missed,\n  ...rest\n}) => (\n  <div {...rest} data-sign=\"currentName\">\n    {children}\n  </div>\n);\n\nconst Title = styled(_Title)`\n  font-size: 14px;\n  color: ${({ unread, missed }) =>\n    // eslint-disable-next-line no-nested-ternary\n    missed\n      ? palette2('danger', 'f02')\n      : unread\n      ? palette2('interactive', 'f01')\n      : palette2('neutral', 'f06')};\n  ${ellipsis};\n  line-height: 1.3;\n`;\n\nconst StyledMenu = styled(RcMenu)`\n  ${RcMenuItem} {\n    max-width: 230px;\n\n    span {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  }\n`;\n\nconst ContactDisplay: React.FC<ContactDisplayProps> = ({\n  reference,\n  className,\n  contactMatches,\n  selected,\n  onSelectContact,\n  disabled,\n  isLogging,\n  fallBackName,\n  enableContactFallback,\n  areaCode,\n  countryCode,\n  phoneNumber,\n  currentLocale,\n  currentSiteCode,\n  isMultipleSiteEnabled,\n  groupNumbers,\n  showType,\n  selectClassName,\n  selectedClassName,\n  showPlaceholder,\n  placeholder,\n  brand,\n  stopPropagation,\n  sourceIcons = {},\n  phoneSourceNameRenderer,\n  showGroupNumberName,\n  contactName,\n  subContactName,\n  isOnConferenceCall,\n  iconClassName,\n  dropdownRenderFunction,\n  dropdownClassName,\n  unread,\n  missed,\n}) => {\n  const phoneNumberAfterFormat = formatNumber({\n    phoneNumber,\n    countryCode,\n    areaCode,\n    siteCode: currentSiteCode,\n    isMultipleSiteEnabled,\n  });\n\n  const unreadDot = unread && (\n    <UnReadDot data-sign=\"unread\" aria-label=\"unread\" />\n  );\n\n  const [anchorEl, setAnchorEl] = useState<HTMLElement | null>(null);\n\n  const handleClick = (\n    event: React.MouseEvent<HTMLButtonElement, MouseEvent>,\n  ) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => setAnchorEl(null);\n\n  const contentEl = (() => {\n    if (isOnConferenceCall) {\n      const confStr = i18n.getString('conferenceCall', currentLocale);\n      return (\n        <Title title={confStr} unread={unread} missed={missed}>\n          {unreadDot}\n          {confStr}\n        </Title>\n      );\n    }\n\n    if (contactName) {\n      return (\n        <Title\n          title={\n            subContactName\n              ? `${contactName.title || contactName}${subContactName.title}`\n              : contactName.title || contactName\n          }\n          unread={unread}\n          missed={missed}\n        >\n          {unreadDot}\n          {contactName.tag || contactName}\n          {subContactName && subContactName.tag}\n        </Title>\n      );\n    }\n\n    if (groupNumbers && showGroupNumberName) {\n      const groupNames = groupNumbers.map((groupNumber) => {\n        const groupContact = contactMatches.find(\n          (match) => match.extensionNumber === groupNumber,\n        );\n        return (groupContact && groupContact.name) || groupNumber;\n      });\n      const display = groupNames.join(', ');\n\n      return (\n        <Title title={display} unread={unread} missed={missed}>\n          {unreadDot}\n          {display}\n        </Title>\n      );\n    }\n\n    if (groupNumbers) {\n      const display = groupNumbers.join(', ');\n      return (\n        <Title title={display} unread={unread} missed={missed}>\n          {unreadDot}\n          {display}\n        </Title>\n      );\n    }\n\n    if (contactMatches.length === 0) {\n      const display =\n        (enableContactFallback && fallBackName) ||\n        phoneNumberAfterFormat ||\n        i18n.getString('unknownNumber', currentLocale);\n      const title =\n        (enableContactFallback && fallBackName) || phoneNumberAfterFormat || '';\n      return (\n        <Title title={title} unread={unread} missed={missed}>\n          {unreadDot}\n          {display}\n        </Title>\n      );\n    }\n\n    if (contactMatches.length === 1) {\n      const display = contactMatches[0].name;\n      const title = displayFormatter({\n        entityName: display,\n        entityType: contactMatches[0].entityType,\n        phoneNumber: phoneNumberAfterFormat,\n        brand,\n        currentLocale,\n        phoneSourceNameRenderer,\n      });\n\n      return (\n        <Title title={title} unread={unread} missed={missed}>\n          {unreadDot}\n          {display}\n        </Title>\n      );\n    }\n\n    if (contactMatches.length > 1) {\n      const entities = [...contactMatches];\n      let currPlaceholder: string;\n      let _selected = selected;\n      if (showPlaceholder) {\n        currPlaceholder =\n          placeholder || i18n.getString('select', currentLocale);\n      } else {\n        _selected = _selected < 0 ? 0 : _selected;\n      }\n\n      const curr = entities[_selected];\n\n      const value = displayFormatter({\n        entityName: curr?.name,\n        entityType: showType && curr.entityType,\n        brand,\n        currentLocale,\n        phoneSourceNameRenderer,\n      });\n\n      const title = curr\n        ? displayFormatter({\n            entityName: curr.name,\n            entityType: curr.entityType,\n            phoneNumber: phoneNumberAfterFormat,\n            brand,\n            currentLocale,\n            phoneSourceNameRenderer,\n          })\n        : phoneNumberAfterFormat;\n\n      const open = Boolean(anchorEl);\n\n      const items = currPlaceholder ? [{} as Entity, ...entities] : entities;\n\n      return (\n        <Title unread={unread} missed={missed}>\n          <MenuButton\n            variant=\"plain\"\n            data-sign=\"menuButton\"\n            color={unread ? 'interactive.f01' : 'neutral.f06'}\n            onClick={handleClick}\n            disabled={disabled || isLogging}\n            title={title}\n            endIcon={\n              <RcIcon\n                symbol={open ? ArrowUp2 : ArrowDown2}\n                size=\"small\"\n                color=\"neutral.f04\"\n              />\n            }\n          >\n            {unreadDot}\n            <Title unread={unread} missed={missed}>\n              {selected > -1 ? value : currPlaceholder}\n            </Title>\n          </MenuButton>\n          <StyledMenu\n            open={open}\n            anchorEl={anchorEl}\n            onClose={(e: any, reason) => {\n              // stop event propagation to prevent click event on item\n              if (reason === 'backdropClick') {\n                e.stopPropagation();\n              }\n\n              handleClose();\n            }}\n            aria-label=\"choice a presence state\"\n          >\n            {items.map((entity, i) => {\n              const title = entity\n                ? displayFormatter({\n                    entityName: entity.name,\n                    entityType: entity.entityType,\n                    phoneNumber: phoneNumberAfterFormat,\n                    brand,\n                    currentLocale,\n                    phoneSourceNameRenderer,\n                  })\n                : phoneNumberAfterFormat;\n\n              const itemValue = displayFormatter({\n                entityName: entity.name,\n                entityType: showType && entity.entityType,\n                brand,\n                currentLocale,\n                phoneSourceNameRenderer,\n              });\n\n              const isPlaceholder = showPlaceholder && i === 0;\n\n              const child = (() => {\n                if (isPlaceholder) {\n                  return currPlaceholder;\n                }\n\n                return dropdownRenderFunction ? (\n                  dropdownRenderFunction(entity)\n                ) : (\n                  <ContactDisplayItem\n                    entityName={entity.name}\n                    entityType={entity.entityType}\n                    sourceIcons={sourceIcons}\n                  />\n                );\n              })();\n\n              return (\n                <RcMenuItem\n                  title={title}\n                  value={itemValue}\n                  key={i}\n                  selected={value === itemValue}\n                  onClick={(e) => {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    if (isPlaceholder) {\n                      // TODO: should check that feature in salesforce\n                      // do nothing\n                    } else {\n                      onSelectContact(entity, i);\n                    }\n\n                    handleClose();\n                  }}\n                >\n                  {child}\n                </RcMenuItem>\n              );\n            })}\n          </StyledMenu>\n        </Title>\n      );\n    }\n  })();\n\n  return <div className={classnames(styles.root, className)}>{contentEl}</div>;\n};\nContactDisplay.defaultProps = {\n  currentSiteCode: '',\n  isMultipleSiteEnabled: false,\n  isOnConferenceCall: false,\n  disabled: false,\n  fallBackName: '',\n  showType: true,\n  showPlaceholder: true,\n  placeholder: '',\n  stopPropagation: true,\n  showGroupNumberName: false,\n  iconClassName: null,\n  dropdownClassName: null,\n};\n\nexport default ContactDisplay;\n"],"file":"index.js"}