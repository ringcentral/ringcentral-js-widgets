{"version":3,"file":"CallLogFields.js","names":["_clsx","_interopRequireDefault","require","_react","_interopRequireWildcard","_bindDebounce","_CountdownTimer","_FieldItem","_styles","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","_classCallCheck","_defineProperties","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","_inherits","create","value","_setPrototypeOf","DEFAULT_INPUT_SAVE_TIMEOUT","CallLogFields","exports","_Component","_this","_len","args","_key","concat","debounce","bindDebounce","renderDelaySavingTimer","_this$props","props","currentLocale","currentDelaySavingState","_ref","delayUpdatingStartTime","delayUpdatingMinutes","createElement","CountdownTimer","variant","creationTime","duration","renderFields","_this$props2","_this$props2$currentL","currentLog","customLogFields","_this$props2$currentL2","currentLogCall","_this$props2$currentL3","isAutoSave","_this$props2$currentL4","task","refs","onSaveCallLog","onSave","id","sort","b","map","fieldOption","FieldItem","fieldRef","timeout","render","_this$props3","classes","className","clsx","styles","callLogFieldsSection","root","Component","defaultProps","onUpdateCallLog","undefined","onSelectViewVisible","customInputDataStruct","subjectDropdownsTracker","startAdornmentRender","contactSearch"],"sources":["components/CallLogFields/CallLogFields.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport React, { Component } from 'react';\n\nimport { bindDebounce } from '../../lib/bindDebounce';\nimport type { Task } from '../CallLogPanel';\nimport { CountdownTimer } from '../CountdownTimer';\n\nimport type { CallLogFieldsProps } from './CallLogFields.interface';\nimport { FieldItem } from './FieldItem';\nimport styles from './styles.scss';\n\nconst DEFAULT_INPUT_SAVE_TIMEOUT = 2e3;\n\nexport default class CallLogFields extends Component<CallLogFieldsProps, {}> {\n  static defaultProps: Partial<CallLogFieldsProps> = {\n    currentLog: {},\n    onUpdateCallLog: undefined,\n    onSelectViewVisible: () => null,\n    onSaveCallLog: undefined,\n    customInputDataStruct: undefined,\n    subjectDropdownsTracker: undefined,\n    startAdornmentRender: () => null,\n    contactSearch: undefined,\n    classes: {},\n    refs: {},\n  };\n\n  debounce = bindDebounce(this, DEFAULT_INPUT_SAVE_TIMEOUT);\n\n  renderDelaySavingTimer = () => {\n    const { currentLocale, currentDelaySavingState } = this.props;\n    const { delayUpdatingStartTime, delayUpdatingMinutes } =\n      currentDelaySavingState ?? {};\n    return (\n      delayUpdatingStartTime &&\n      delayUpdatingMinutes && (\n        <CountdownTimer\n          variant=\"info\"\n          currentLocale={currentLocale}\n          creationTime={delayUpdatingStartTime}\n          duration={delayUpdatingMinutes}\n        />\n      )\n    );\n  };\n\n  renderFields = () => {\n    const {\n      currentLog: {\n        // @ts-expect-error TS(2339): Property 'customLogFields' does not exist on type ... Remove this comment to see the full error message\n        customLogFields,\n        // @ts-expect-error TS(2339): Property 'currentLogCall' does not exist on type '... Remove this comment to see the full error message\n        currentLogCall: { isAutoSave } = {},\n        // @ts-expect-error TS(2339): Property 'call' does not exist on type 'CallLog | ... Remove this comment to see the full error message\n        call,\n        // @ts-expect-error TS(2339): Property 'task' does not exist on type 'CallLog | ... Remove this comment to see the full error message\n        task = {} as Task,\n      },\n      refs,\n      onSaveCallLog,\n    } = this.props;\n    // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n    const onSave = () => isAutoSave && task.id && onSaveCallLog(call);\n    return [...customLogFields]\n      .sort((a, b) => a.sort - b.sort)\n      .map((fieldOption, i) => {\n        return (\n          <FieldItem\n            {...this.props}\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            fieldRef={refs[fieldOption.value]}\n            fieldOption={fieldOption}\n            debounce={this.debounce}\n            data-sign=\"callLogField\"\n            key={`field-${i}`}\n            onSave={onSave}\n            timeout={DEFAULT_INPUT_SAVE_TIMEOUT}\n          />\n        );\n      });\n  };\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const { currentLog, classes } = this.props;\n    // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n    if (!currentLog.task) {\n      return null;\n    }\n    return (\n      <div\n        data-sign=\"callLogFieldsSection\"\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        className={clsx(styles.callLogFieldsSection, classes.root)}\n      >\n        {this.renderDelaySavingTimer()}\n        {this.renderFields()}\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}