{"version":3,"sources":["components/CallLogFields/CallLogFields.tsx"],"names":["DEFAULT_INPUT_SAVE_TIMEOUT","CallLogFields","debounce","renderFields","props","currentLog","customLogFields","currentLogCall","isAutoSave","call","task","refs","onSaveCallLog","onSave","id","sort","a","b","map","fieldOption","i","value","classes","styles","callLogFieldsSection","root","Component","defaultProps","onUpdateCallLog","undefined","onSelectViewVisible","customInputDataStruct","subjectDropdownsTracker","startAdornmentRender","contactSearch"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAEA;;AAEA;;AAGA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,0BAA0B,GAAG,GAAnC;;IAEqBC,a;;;;;;;;;;;;;;;UAcnBC,Q,GAAW,+DAAmBF,0BAAnB,C;;UAEXG,Y,GAAe,YAAM;AAAA,wBAUf,MAAKC,KAVU;AAAA,8CAEjBC,UAFiB;AAAA,UAGfC,eAHe,yBAGfA,eAHe;AAAA,yDAIfC,cAJe;AAAA,mEAIkB,EAJlB;AAAA,UAIGC,UAJH,0BAIGA,UAJH;AAAA,UAKfC,IALe,yBAKfA,IALe;AAAA,yDAMfC,IANe;AAAA,UAMfA,IANe,uCAMR,EANQ;AAAA,UAQjBC,IARiB,eAQjBA,IARiB;AAAA,UASjBC,aATiB,eASjBA,aATiB;;AAWnB,UAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,eAAML,UAAU,IAAIE,IAAI,CAACI,EAAnB,IAAyBF,aAAa,CAACH,IAAD,CAA5C;AAAA,OAAf;;AACA,aAAO,mBAAIH,eAAJ,EACJS,IADI,CACC,UAACC,CAAD,EAAIC,CAAJ;AAAA,eAAUD,CAAC,CAACD,IAAF,GAASE,CAAC,CAACF,IAArB;AAAA,OADD,EAEJG,GAFI,CAEA,UAACC,WAAD,EAAcC,CAAd,EAAoB;AACvB,4BACE,gCAAC,oBAAD,eACM,MAAKhB,KADX;AAEE,UAAA,QAAQ,EAAEO,IAAI,CAACQ,WAAW,CAACE,KAAb,CAFhB;AAGE,UAAA,WAAW,EAAEF,WAHf;AAIE,UAAA,QAAQ,EAAE,MAAKjB,QAJjB;AAKE,uBAAU,cALZ;AAME,UAAA,GAAG,kBAAWkB,CAAX,CANL;AAOE,UAAA,MAAM,EAAEP,MAPV;AAQE,UAAA,OAAO,EAAEb;AARX,WADF;AAYD,OAfI,CAAP;AAgBD,K;;;;;;;6BAEQ;AAAA,yBACyB,KAAKI,KAD9B;AAAA,UACCC,UADD,gBACCA,UADD;AAAA,UACaiB,OADb,gBACaA,OADb;;AAEP,UAAI,CAACjB,UAAU,CAACK,IAAhB,EAAsB;AACpB,eAAO,IAAP;AACD;;AACD,0BACE;AAAK,QAAA,SAAS,EAAE,4BAAWa,mBAAOC,oBAAlB,EAAwCF,OAAO,CAACG,IAAhD;AAAhB,SACG,KAAKtB,YAAL,EADH,CADF;AAKD;;;;EAxDwCuB,gB;;;AAAtBzB,a,CACZ0B,Y,GAA4C;AACjDtB,EAAAA,UAAU,EAAE,EADqC;AAEjDuB,EAAAA,eAAe,EAAEC,SAFgC;AAGjDC,EAAAA,mBAAmB,EAAE;AAAA,WAAM,IAAN;AAAA,GAH4B;AAIjDlB,EAAAA,aAAa,EAAEiB,SAJkC;AAKjDE,EAAAA,qBAAqB,EAAEF,SAL0B;AAMjDG,EAAAA,uBAAuB,EAAEH,SANwB;AAOjDI,EAAAA,oBAAoB,EAAE;AAAA,WAAM,IAAN;AAAA,GAP2B;AAQjDC,EAAAA,aAAa,EAAEL,SARkC;AASjDP,EAAAA,OAAO,EAAE,EATwC;AAUjDX,EAAAA,IAAI,EAAE;AAV2C,C","sourcesContent":["import React, { Component } from 'react';\n\nimport classNames from 'classnames';\n\nimport { bindDebounce } from '../../lib/bindDebounce';\nimport { Task } from '../CallLogPanel';\nimport { CallLogFieldsProps } from './CallLogFields.interface';\nimport { FieldItem } from './FieldItem';\nimport styles from './styles.scss';\n\nconst DEFAULT_INPUT_SAVE_TIMEOUT = 2e3;\n\nexport default class CallLogFields extends Component<CallLogFieldsProps, {}> {\n  static defaultProps: Partial<CallLogFieldsProps> = {\n    currentLog: {},\n    onUpdateCallLog: undefined,\n    onSelectViewVisible: () => null,\n    onSaveCallLog: undefined,\n    customInputDataStruct: undefined,\n    subjectDropdownsTracker: undefined,\n    startAdornmentRender: () => null,\n    contactSearch: undefined,\n    classes: {},\n    refs: {},\n  };\n\n  debounce = bindDebounce(this, DEFAULT_INPUT_SAVE_TIMEOUT);\n\n  renderFields = () => {\n    const {\n      currentLog: {\n        customLogFields,\n        currentLogCall: { isAutoSave } = {},\n        call,\n        task = {} as Task,\n      },\n      refs,\n      onSaveCallLog,\n    } = this.props;\n    const onSave = () => isAutoSave && task.id && onSaveCallLog(call);\n    return [...customLogFields]\n      .sort((a, b) => a.sort - b.sort)\n      .map((fieldOption, i) => {\n        return (\n          <FieldItem\n            {...this.props}\n            fieldRef={refs[fieldOption.value]}\n            fieldOption={fieldOption}\n            debounce={this.debounce}\n            data-sign=\"callLogField\"\n            key={`field-${i}`}\n            onSave={onSave}\n            timeout={DEFAULT_INPUT_SAVE_TIMEOUT}\n          />\n        );\n      });\n  };\n\n  render() {\n    const { currentLog, classes } = this.props;\n    if (!currentLog.task) {\n      return null;\n    }\n    return (\n      <div className={classNames(styles.callLogFieldsSection, classes.root)}>\n        {this.renderFields()}\n      </div>\n    );\n  }\n}\n"],"file":"CallLogFields.js"}