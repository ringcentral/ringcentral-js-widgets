{"version":3,"file":"IssuesTrackingPanel.js","names":["_juno","require","_react","_interopRequireWildcard","_PageHeader","_Tooltip","_IssuesTrackingConfirmPanel","_i18n","_interopRequireDefault","_templateObject","_excluded","e","__esModule","t","WeakMap","r","n","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_taggedTemplateLiteral","slice","freeze","defineProperties","raw","value","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","length","indexOf","propertyIsEnumerable","_IssuesTrackingPanel","_ref","currentLocale","downloading","enabled","goBack","toggleEnable","downloadLog","ConfirmPanelProps","rest","initEnabledRef","useRef","downloadDisabled","current","useEffect","createElement","Fragment","PageHeader","PageHeaderBack","onClick","PageHeaderTitle","i18n","getString","PageHeaderRemain","RcSwitch","formControlLabelProps","labelPlacement","checked","onChange","_","label","RcTypography","color","weight","paragraph","Tooltip","title","tooltipForceHide","RcButton","fullWidth","disabled","variant","radius","RcLink","href","target","IssuesTrackingCloseConfirmPanel","IssuesTrackingPanel","exports","styled","spacing","RcFormControlLabel"],"sources":["components/IssuesTrackingPanel/IssuesTrackingPanel.tsx"],"sourcesContent":["import {\n  RcButton,\n  RcFormControlLabel,\n  RcLink,\n  RcSwitch,\n  RcTypography,\n  spacing,\n  styled,\n} from '@ringcentral/juno';\nimport React, { FunctionComponent, useEffect, useRef } from 'react';\n\nimport {\n  PageHeader,\n  PageHeaderBack,\n  PageHeaderRemain,\n  PageHeaderTitle,\n} from '../BackHeader/PageHeader';\nimport { Tooltip } from '../Rcui/Tooltip';\n\nimport {\n  IssuesTrackingCloseConfirmPanel,\n  IssuesTrackingCloseConfirmPanelProps,\n} from './IssuesTrackingConfirmPanel';\nimport i18n from './i18n';\n\ntype IssuesTrackingPanelProps = {\n  currentLocale: string;\n  downloading: boolean;\n  enabled: boolean;\n  goBack: () => void;\n  toggleEnable: (checked: boolean) => void;\n  downloadLog: () => Promise<void>;\n  ConfirmPanelProps: IssuesTrackingCloseConfirmPanelProps;\n};\n\nconst _IssuesTrackingPanel: FunctionComponent<IssuesTrackingPanelProps> = ({\n  currentLocale,\n  downloading,\n  enabled,\n  goBack,\n  toggleEnable,\n  downloadLog,\n  ConfirmPanelProps,\n  ...rest\n}) => {\n  const initEnabledRef = useRef(enabled);\n\n  const downloadDisabled = !initEnabledRef.current || !enabled || downloading;\n\n  useEffect(() => {\n    // the behavior is make user need enter page again to enable\n    // so when become not enable, set the first time enable to false\n    if (!enabled) {\n      initEnabledRef.current = false;\n    }\n  }, [enabled]);\n  return (\n    <>\n      <PageHeader>\n        <PageHeaderBack onClick={() => goBack()} />\n        <PageHeaderTitle>\n          {i18n.getString('header', currentLocale)}\n        </PageHeaderTitle>\n        <PageHeaderRemain />\n      </PageHeader>\n      <main {...rest}>\n        <div>\n          <RcSwitch\n            data-sign=\"issuesTrackingSwitch\"\n            formControlLabelProps={{\n              labelPlacement: 'start',\n            }}\n            checked={enabled}\n            onChange={(_, checked) => toggleEnable(checked)}\n            label={\n              <RcTypography color=\"action.grayDark\" weight=\"bold\">\n                {i18n.getString('toggleTitle', currentLocale)}\n              </RcTypography>\n            }\n          />\n          <RcTypography color=\"action.grayDark\">\n            {i18n.getString('toggleDescription', currentLocale)}\n          </RcTypography>\n        </div>\n        <div>\n          <RcTypography color=\"action.grayDark\" weight=\"bold\" paragraph>\n            {i18n.getString('downloadTitle', currentLocale)}\n          </RcTypography>\n          <Tooltip\n            data-sign=\"downloadButtonTooltip\"\n            title={\n              enabled\n                ? i18n.getString('needLeavePage', currentLocale)\n                : i18n.getString('downloadDisabledTitle', currentLocale)\n            }\n            tooltipForceHide={!downloadDisabled || downloading}\n          >\n            <div>\n              <RcButton\n                fullWidth\n                data-sign=\"downloadButton\"\n                disabled={downloadDisabled}\n                variant={downloadDisabled ? 'outlined' : 'contained'}\n                radius=\"round\"\n                onClick={downloadLog}\n              >\n                {i18n.getString(\n                  downloading ? 'downloading' : 'downloadButton',\n                  currentLocale,\n                )}\n              </RcButton>\n            </div>\n          </Tooltip>\n        </div>\n        <div>\n          <RcTypography color=\"action.grayDark\" weight=\"bold\">\n            {i18n.getString('sendTitle', currentLocale)}\n          </RcTypography>\n          <RcTypography\n            color=\"action.grayDark\"\n            paragraph\n            data-sign=\"createSupportTicketDesc\"\n          >\n            <RcLink\n              href=\"https://support.ringcentral.com/new-case.html\"\n              target=\"_blank\"\n              variant=\"inherit\"\n            >\n              {i18n.getString('createSupportTicket', currentLocale)}\n            </RcLink>\n            {i18n.getString('sendDescription', currentLocale)}\n          </RcTypography>\n          <RcTypography\n            color=\"neutral.f03\"\n            variant=\"caption1\"\n            data-sign=\"privacyNoticeDesc\"\n          >\n            {i18n.getString('privacyNotice', currentLocale)}\n            <RcLink\n              href=\"https://www.ringcentral.com/legal/last-update-september-1-2023/eulatos.html\"\n              data-sign=\"privacyNoticeLink\"\n              target=\"_blank\"\n              variant=\"inherit\"\n            >\n              {i18n.getString('privacyNoticeLink', currentLocale)}\n            </RcLink>\n            {i18n.getString('and', currentLocale)}\n            <RcLink\n              href=\"https://www.ringcentral.com/legal/privacy-notice.html\"\n              data-sign=\"privacyNoticeEnd\"\n              target=\"_blank\"\n              variant=\"inherit\"\n            >\n              {i18n.getString('privacyNoticeEnd', currentLocale)}\n            </RcLink>\n          </RcTypography>\n        </div>\n      </main>\n      <IssuesTrackingCloseConfirmPanel {...ConfirmPanelProps} />\n    </>\n  );\n};\n\nexport const IssuesTrackingPanel = styled(_IssuesTrackingPanel)`\n  padding: ${spacing(4, 5)};\n  display: flex;\n  flex-direction: column;\n  gap: ${spacing(6)};\n  overflow: auto;\n\n  ${RcFormControlLabel} {\n    margin: ${spacing(-3, 0, -1, 0)};\n    width: 100%;\n    justify-content: space-between;\n\n    ${RcSwitch} {\n      margin-right: 0;\n    }\n  }\n`;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,KAAA,GAAAC,OAAA;AASA,IAAAC,MAAA,GAAAC,uBAAA,CAAAF,OAAA;AAEA,IAAAG,WAAA,GAAAH,OAAA;AAMA,IAAAI,QAAA,GAAAJ,OAAA;AAEA,IAAAK,2BAAA,GAAAL,OAAA;AAIA,IAAAM,KAAA,GAAAC,sBAAA,CAAAP,OAAA;AAA0B,IAAAQ,eAAA;AAAA,IAAAC,SAAA;AAAA,SAAAF,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAR,wBAAAQ,CAAA,EAAAE,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAX,uBAAA,YAAAA,wBAAAQ,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,mBAAAT,CAAA,iBAAAA,CAAA,gBAAAU,OAAA,CAAAV,CAAA,0BAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAJ,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAE,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAE,CAAA;AAAA,SAAAkB,uBAAApB,CAAA,EAAAE,CAAA,WAAAA,CAAA,KAAAA,CAAA,GAAAF,CAAA,CAAAqB,KAAA,MAAAJ,MAAA,CAAAK,MAAA,CAAAL,MAAA,CAAAM,gBAAA,CAAAvB,CAAA,IAAAwB,GAAA,IAAAC,KAAA,EAAAR,MAAA,CAAAK,MAAA,CAAApB,CAAA;AAAA,SAAAwB,yBAAA1B,CAAA,EAAAE,CAAA,gBAAAF,CAAA,iBAAAM,CAAA,EAAAF,CAAA,EAAAG,CAAA,GAAAoB,6BAAA,CAAA3B,CAAA,EAAAE,CAAA,OAAAe,MAAA,CAAAW,qBAAA,QAAAvB,CAAA,GAAAY,MAAA,CAAAW,qBAAA,CAAA5B,CAAA,QAAAI,CAAA,MAAAA,CAAA,GAAAC,CAAA,CAAAwB,MAAA,EAAAzB,CAAA,IAAAE,CAAA,GAAAD,CAAA,CAAAD,CAAA,UAAAF,CAAA,CAAA4B,OAAA,CAAAxB,CAAA,QAAAyB,oBAAA,CAAAf,IAAA,CAAAhB,CAAA,EAAAM,CAAA,MAAAC,CAAA,CAAAD,CAAA,IAAAN,CAAA,CAAAM,CAAA,aAAAC,CAAA;AAAA,SAAAoB,8BAAAvB,CAAA,EAAAJ,CAAA,gBAAAI,CAAA,iBAAAF,CAAA,gBAAAG,CAAA,IAAAD,CAAA,SAAAW,cAAA,CAAAC,IAAA,CAAAZ,CAAA,EAAAC,CAAA,gBAAAL,CAAA,CAAA8B,OAAA,CAAAzB,CAAA,aAAAH,CAAA,CAAAG,CAAA,IAAAD,CAAA,CAAAC,CAAA,YAAAH,CAAA;AAY1B,IAAM8B,oBAAiE,GAAG,SAApEA,oBAAiEA,CAAAC,IAAA,EASjE;EAAA,IARJC,aAAa,GAAAD,IAAA,CAAbC,aAAa;IACbC,WAAW,GAAAF,IAAA,CAAXE,WAAW;IACXC,OAAO,GAAAH,IAAA,CAAPG,OAAO;IACPC,MAAM,GAAAJ,IAAA,CAANI,MAAM;IACNC,YAAY,GAAAL,IAAA,CAAZK,YAAY;IACZC,WAAW,GAAAN,IAAA,CAAXM,WAAW;IACXC,iBAAiB,GAAAP,IAAA,CAAjBO,iBAAiB;IACdC,IAAI,GAAAf,wBAAA,CAAAO,IAAA,EAAAlC,SAAA;EAEP,IAAM2C,cAAc,GAAG,IAAAC,aAAM,EAACP,OAAO,CAAC;EAEtC,IAAMQ,gBAAgB,GAAG,CAACF,cAAc,CAACG,OAAO,IAAI,CAACT,OAAO,IAAID,WAAW;EAE3E,IAAAW,gBAAS,EAAC,YAAM;IACd;IACA;IACA,IAAI,CAACV,OAAO,EAAE;MACZM,cAAc,CAACG,OAAO,GAAG,KAAK;IAChC;EACF,CAAC,EAAE,CAACT,OAAO,CAAC,CAAC;EACb,oBACE7C,MAAA,YAAAwD,aAAA,CAAAxD,MAAA,YAAAyD,QAAA,qBACEzD,MAAA,YAAAwD,aAAA,CAACtD,WAAA,CAAAwD,UAAU,qBACT1D,MAAA,YAAAwD,aAAA,CAACtD,WAAA,CAAAyD,cAAc;IAACC,OAAO,EAAE,SAATA,OAAOA,CAAA;MAAA,OAAQd,MAAM,CAAC,CAAC;IAAA;EAAC,CAAE,CAAC,eAC3C9C,MAAA,YAAAwD,aAAA,CAACtD,WAAA,CAAA2D,eAAe,QACbC,gBAAI,CAACC,SAAS,CAAC,QAAQ,EAAEpB,aAAa,CACxB,CAAC,eAClB3C,MAAA,YAAAwD,aAAA,CAACtD,WAAA,CAAA8D,gBAAgB,MAAE,CACT,CAAC,eACbhE,MAAA,YAAAwD,aAAA,SAAUN,IAAI,eACZlD,MAAA,YAAAwD,aAAA,2BACExD,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAAmE,QAAQ;IACP,aAAU,sBAAsB;IAChCC,qBAAqB,EAAE;MACrBC,cAAc,EAAE;IAClB,CAAE;IACFC,OAAO,EAAEvB,OAAQ;IACjBwB,QAAQ,EAAE,SAAVA,QAAQA,CAAGC,CAAC,EAAEF,OAAO;MAAA,OAAKrB,YAAY,CAACqB,OAAO,CAAC;IAAA,CAAC;IAChDG,KAAK,eACHvE,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAA0E,YAAY;MAACC,KAAK,EAAC,iBAAiB;MAACC,MAAM,EAAC;IAAM,GAChDZ,gBAAI,CAACC,SAAS,CAAC,aAAa,EAAEpB,aAAa,CAChC;EACf,CACF,CAAC,eACF3C,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAA0E,YAAY;IAACC,KAAK,EAAC;EAAiB,GAClCX,gBAAI,CAACC,SAAS,CAAC,mBAAmB,EAAEpB,aAAa,CACtC,CACX,CAAC,eACN3C,MAAA,YAAAwD,aAAA,2BACExD,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAA0E,YAAY;IAACC,KAAK,EAAC,iBAAiB;IAACC,MAAM,EAAC,MAAM;IAACC,SAAS;EAAA,GAC1Db,gBAAI,CAACC,SAAS,CAAC,eAAe,EAAEpB,aAAa,CAClC,CAAC,eACf3C,MAAA,YAAAwD,aAAA,CAACrD,QAAA,CAAAyE,OAAO;IACN,aAAU,uBAAuB;IACjCC,KAAK,EACHhC,OAAO,GACHiB,gBAAI,CAACC,SAAS,CAAC,eAAe,EAAEpB,aAAa,CAAC,GAC9CmB,gBAAI,CAACC,SAAS,CAAC,uBAAuB,EAAEpB,aAAa,CAC1D;IACDmC,gBAAgB,EAAE,CAACzB,gBAAgB,IAAIT;EAAY,gBAEnD5C,MAAA,YAAAwD,aAAA,2BACExD,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAAiF,QAAQ;IACPC,SAAS;IACT,aAAU,gBAAgB;IAC1BC,QAAQ,EAAE5B,gBAAiB;IAC3B6B,OAAO,EAAE7B,gBAAgB,GAAG,UAAU,GAAG,WAAY;IACrD8B,MAAM,EAAC,OAAO;IACdvB,OAAO,EAAEZ;EAAY,GAEpBc,gBAAI,CAACC,SAAS,CACbnB,WAAW,GAAG,aAAa,GAAG,gBAAgB,EAC9CD,aACF,CACQ,CACP,CACE,CACN,CAAC,eACN3C,MAAA,YAAAwD,aAAA,2BACExD,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAA0E,YAAY;IAACC,KAAK,EAAC,iBAAiB;IAACC,MAAM,EAAC;EAAM,GAChDZ,gBAAI,CAACC,SAAS,CAAC,WAAW,EAAEpB,aAAa,CAC9B,CAAC,eACf3C,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAA0E,YAAY;IACXC,KAAK,EAAC,iBAAiB;IACvBE,SAAS;IACT,aAAU;EAAyB,gBAEnC3E,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAAsF,MAAM;IACLC,IAAI,EAAC,+CAA+C;IACpDC,MAAM,EAAC,QAAQ;IACfJ,OAAO,EAAC;EAAS,GAEhBpB,gBAAI,CAACC,SAAS,CAAC,qBAAqB,EAAEpB,aAAa,CAC9C,CAAC,EACRmB,gBAAI,CAACC,SAAS,CAAC,iBAAiB,EAAEpB,aAAa,CACpC,CAAC,eACf3C,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAA0E,YAAY;IACXC,KAAK,EAAC,aAAa;IACnBS,OAAO,EAAC,UAAU;IAClB,aAAU;EAAmB,GAE5BpB,gBAAI,CAACC,SAAS,CAAC,eAAe,EAAEpB,aAAa,CAAC,eAC/C3C,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAAsF,MAAM;IACLC,IAAI,EAAC,6EAA6E;IAClF,aAAU,mBAAmB;IAC7BC,MAAM,EAAC,QAAQ;IACfJ,OAAO,EAAC;EAAS,GAEhBpB,gBAAI,CAACC,SAAS,CAAC,mBAAmB,EAAEpB,aAAa,CAC5C,CAAC,EACRmB,gBAAI,CAACC,SAAS,CAAC,KAAK,EAAEpB,aAAa,CAAC,eACrC3C,MAAA,YAAAwD,aAAA,CAAC1D,KAAA,CAAAsF,MAAM;IACLC,IAAI,EAAC,uDAAuD;IAC5D,aAAU,kBAAkB;IAC5BC,MAAM,EAAC,QAAQ;IACfJ,OAAO,EAAC;EAAS,GAEhBpB,gBAAI,CAACC,SAAS,CAAC,kBAAkB,EAAEpB,aAAa,CAC3C,CACI,CACX,CACD,CAAC,eACP3C,MAAA,YAAAwD,aAAA,CAACpD,2BAAA,CAAAmF,+BAA+B,EAAKtC,iBAAoB,CACzD,CAAC;AAEP,CAAC;AAEM,IAAMuC,mBAAmB,GAAAC,OAAA,CAAAD,mBAAA,GAAG,IAAAE,YAAM,EAACjD,oBAAoB,CAAC,CAAAlC,eAAA,KAAAA,eAAA,GAAAsB,sBAAA,mPAClD,IAAA8D,aAAO,EAAC,CAAC,EAAE,CAAC,CAAC,EAGjB,IAAAA,aAAO,EAAC,CAAC,CAAC,EAGfC,wBAAkB,EACR,IAAAD,aAAO,EAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAI7B1B,cAAQ,CAIb","ignoreList":[]}