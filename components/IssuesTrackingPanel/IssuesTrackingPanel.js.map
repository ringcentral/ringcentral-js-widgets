{"version":3,"file":"IssuesTrackingPanel.js","names":["_juno","require","_react","_interopRequireWildcard","_PageHeader","_Tooltip","_IssuesTrackingConfirmPanel","_i18n","_interopRequireDefault","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_templateObject","data","_taggedTemplateLiteral","slice","freeze","defineProperties","raw","value","_objectWithoutProperties","o","_objectWithoutPropertiesLoose","getOwnPropertySymbols","length","indexOf","propertyIsEnumerable","_IssuesTrackingPanel","_ref","currentLocale","downloading","enabled","goBack","toggleEnable","downloadLog","ConfirmPanelProps","rest","initEnabledRef","useRef","downloadDisabled","current","useEffect","createElement","Fragment","PageHeader","PageHeaderBack","onClick","PageHeaderTitle","i18n","getString","PageHeaderRemain","RcSwitch","formControlLabelProps","labelPlacement","checked","onChange","_","label","RcTypography","color","weight","paragraph","Tooltip","title","tooltipForceHide","RcButton","fullWidth","disabled","variant","radius","RcLink","href","target","IssuesTrackingCloseConfirmPanel","IssuesTrackingPanel","styled","spacing","RcFormControlLabel","exports"],"sources":["components/IssuesTrackingPanel/IssuesTrackingPanel.tsx"],"sourcesContent":["import {\n  RcButton,\n  RcFormControlLabel,\n  RcLink,\n  RcSwitch,\n  RcTypography,\n  spacing,\n  styled,\n} from '@ringcentral/juno';\nimport React, { FunctionComponent, useEffect, useRef } from 'react';\n\nimport {\n  PageHeader,\n  PageHeaderBack,\n  PageHeaderRemain,\n  PageHeaderTitle,\n} from '../BackHeader/PageHeader';\nimport { Tooltip } from '../Rcui/Tooltip';\n\nimport {\n  IssuesTrackingCloseConfirmPanel,\n  IssuesTrackingCloseConfirmPanelProps,\n} from './IssuesTrackingConfirmPanel';\nimport i18n from './i18n';\n\ntype IssuesTrackingPanelProps = {\n  currentLocale: string;\n  downloading: boolean;\n  enabled: boolean;\n  goBack: () => void;\n  toggleEnable: (checked: boolean) => void;\n  downloadLog: () => Promise<void>;\n  ConfirmPanelProps: IssuesTrackingCloseConfirmPanelProps;\n};\n\nconst _IssuesTrackingPanel: FunctionComponent<IssuesTrackingPanelProps> = ({\n  currentLocale,\n  downloading,\n  enabled,\n  goBack,\n  toggleEnable,\n  downloadLog,\n  ConfirmPanelProps,\n  ...rest\n}) => {\n  const initEnabledRef = useRef(enabled);\n\n  const downloadDisabled = !initEnabledRef.current || !enabled || downloading;\n\n  useEffect(() => {\n    // if log download failed, the button should be kept enabled.\n    if (!enabled) {\n      initEnabledRef.current = false;\n    }\n  }, [enabled]);\n  return (\n    <>\n      <PageHeader>\n        <PageHeaderBack onClick={() => goBack()} />\n        <PageHeaderTitle>\n          {i18n.getString('header', currentLocale)}\n        </PageHeaderTitle>\n        <PageHeaderRemain />\n      </PageHeader>\n      <main {...rest}>\n        <div>\n          <RcSwitch\n            data-sign=\"issuesTrackingSwitch\"\n            formControlLabelProps={{\n              labelPlacement: 'start',\n            }}\n            checked={enabled}\n            onChange={(_, checked) => toggleEnable(checked)}\n            label={\n              <RcTypography color=\"action.grayDark\" weight=\"bold\">\n                {i18n.getString('toggleTitle', currentLocale)}\n              </RcTypography>\n            }\n          />\n          <RcTypography color=\"action.grayDark\">\n            {i18n.getString('toggleDescription', currentLocale)}\n          </RcTypography>\n        </div>\n        <div>\n          <RcTypography color=\"action.grayDark\" weight=\"bold\" paragraph>\n            {i18n.getString('downloadTitle', currentLocale)}\n          </RcTypography>\n          <Tooltip\n            data-sign=\"downloadButtonTooltip\"\n            title={\n              enabled\n                ? i18n.getString('needLeavePage', currentLocale)\n                : i18n.getString('downloadDisabledTitle', currentLocale)\n            }\n            tooltipForceHide={!downloadDisabled || downloading}\n          >\n            <div>\n              <RcButton\n                fullWidth\n                data-sign=\"downloadButton\"\n                disabled={downloadDisabled}\n                variant={downloadDisabled ? 'outlined' : 'contained'}\n                radius=\"round\"\n                onClick={downloadLog}\n              >\n                {i18n.getString(\n                  downloading ? 'downloading' : 'downloadButton',\n                  currentLocale,\n                )}\n              </RcButton>\n            </div>\n          </Tooltip>\n        </div>\n        <div>\n          <RcTypography color=\"action.grayDark\" weight=\"bold\">\n            {i18n.getString('sendTitle', currentLocale)}\n          </RcTypography>\n          <RcTypography\n            color=\"action.grayDark\"\n            paragraph\n            data-sign=\"createSupportTicketDesc\"\n          >\n            <RcLink\n              href=\"https://support.ringcentral.com/new-case.html\"\n              target=\"_blank\"\n              variant=\"inherit\"\n            >\n              {i18n.getString('createSupportTicket', currentLocale)}\n            </RcLink>\n            {i18n.getString('sendDescription', currentLocale)}\n          </RcTypography>\n          <RcTypography\n            color=\"neutral.f03\"\n            variant=\"caption1\"\n            data-sign=\"privacyNoticeDesc\"\n          >\n            {i18n.getString('privacyNotice', currentLocale)}\n            <RcLink\n              href=\"https://www.ringcentral.com/legal/last-update-september-1-2023/eulatos.html\"\n              target=\"_blank\"\n              variant=\"inherit\"\n            >\n              {i18n.getString('privacyNoticeLink', currentLocale)}\n            </RcLink>\n            {i18n.getString('and', currentLocale)}\n            <RcLink\n              href=\"https://www.ringcentral.com/legal/privacy-notice.html\"\n              target=\"_blank\"\n              variant=\"inherit\"\n            >\n              {i18n.getString('privacyNoticeEnd', currentLocale)}\n            </RcLink>\n          </RcTypography>\n        </div>\n      </main>\n      <IssuesTrackingCloseConfirmPanel {...ConfirmPanelProps} />\n    </>\n  );\n};\n\nexport const IssuesTrackingPanel = styled(_IssuesTrackingPanel)`\n  padding: ${spacing(4, 5)};\n  display: flex;\n  flex-direction: column;\n  gap: ${spacing(6)};\n  overflow: auto;\n\n  ${RcFormControlLabel} {\n    margin: ${spacing(-3, 0, -1, 0)};\n    width: 100%;\n    justify-content: space-between;\n\n    ${RcSwitch} {\n      margin-right: 0;\n    }\n  }\n`;\n"],"mappings":"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","ignoreList":[]}