{"version":3,"sources":["components/ActiveCallItemV2/ActiveCallItem.tsx"],"names":["ModalContent","currentLocale","contactName","styles","switchDialogImage","switchDialogContent","i18n","getString","displayName","WebphoneButtons","session","undefined","webphoneReject","webphoneHangup","webphoneResume","webphoneAnswer","webphoneHold","showMergeCall","showHold","disableMerge","onMergeCall","i","disableLinks","isOnHold","telephonySessionId","webphoneIgnore","showHoldAnswerBtn","showIgnoreBtn","isConnecting","answerBtn","ignoreBtn","endBtn","callStatus","sessionStatus","connecting","webphoneButton","answerButton","e","stopPropagation","id","AnswerIcon","answerHoldButton","rejectButton","VoicemailIcon","ignoreTitle","mergeButton","disabled","IgnoreIcon","EndIcon","holdBtn","mergeBtn","holdButton","active","HoldIcon","MergeIntoConferenceIcon","webphoneButtons","ActiveCallControlButtons","showRingoutCallControl","showSwitchCall","showTransferCall","showHoldOnOtherDevice","ringoutHangup","ringoutReject","ringoutTransfer","ringing","inbound","onClickSwitchBtn","clickSwitchTrack","switchCallButton","ringoutButton","cursorPointer","switchButton","ringoutButtons","inComingCall","rejectTitle","endButton","transferBtn","transferTitle","transferButton","TransferIcon","ActiveCallItem","props","_userSelection","toVoicemailTimeout","_mounted","webphoneToVoicemail","modalId","onSelectContact","value","idx","getAvatarUrl","setState","selected","then","avatarUrl","call","webphoneSession","updateSessionMatchedContact","getSelectedContactIdx","nextProps","contactMatches","getContactMatches","length","contact","contactMatch","findIndex","match","getSelectedContact","renderContactName","modalConfirm","isWide","webphoneSwitchCall","childrenSize","title","className","switchDialog","contentProps","getPhoneNumber","confirmButtonText","cancelButtonText","onConfirm","onCancel","state","isLogging","extraNum","sessionId","window","setTimeout","isOnConferenceCall","conferenceCallParties","map","profile","setContact","clearTimeout","modalClose","telephonyStatus","startTime","offset","showCallDetail","useCallDetailV2","telephonyStatusInfo","callStatusComp","split","callDetail","from","name","to","fromMatches","toMatches","phoneNumber","extensionNumber","direction","telephonySession","areaCode","countryCode","enableContactFallback","brand","showContactDisplayPlaceholder","sourceIcons","phoneTypeRenderer","phoneSourceNameRenderer","renderExtraButton","contactDisplayStyle","onClick","showAvatar","showMultipleMatch","newCallIcon","fallbackContactName","getFallbackContactName","extraButton","hasCallControl","otherParties","status","code","telephonySessionStatus","proceeding","callItemContainer","wrapper","content","cursorUnset","strechVertical","contactDisplay","selectIcon","getCallInfo","actionIconsBox","Component","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component, FunctionComponent } from 'react';\n\nimport classnames from 'classnames';\nimport formatMessage from 'format-message';\n\nimport { telephonySessionStatus } from '@ringcentral-integration/commons/enums/telephonySessionStatus';\nimport {\n  isInbound,\n  isRinging,\n} from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport { isHolding as isTelephonySessionOnHold } from '@ringcentral-integration/commons/modules/ActiveCallControlV2/helpers';\nimport sessionStatus from '@ringcentral-integration/commons/modules/Webphone/sessionStatus';\nimport { isOnHold } from '@ringcentral-integration/commons/modules/Webphone/webphoneHelper';\n\nimport AnswerIcon from '../../assets/images/Answer.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\nimport HoldAnswerIcon from '../../assets/images/HoldAnswer.svg';\nimport IgnoreIcon from '../../assets/images/Ignore.svg';\nimport SwitchImage from '../../assets/images/img_call_switch.svg';\nimport MergeIntoConferenceIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport SwitchIcon from '../../assets/images/Switch.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport VoicemailIcon from '../../assets/images/Voicemail.svg';\nimport i18n from '../ActiveCallItem/i18n';\nimport CallIcon from '../CallIcon';\nimport CircleButton from '../CircleButton';\nimport ContactDisplay from '../ContactDisplay';\nimport DurationCounter from '../DurationCounter';\nimport MediaObject from '../MediaObject';\nimport {\n  ActiveCallControlButtonsProps,\n  ActiveCallItemProps,\n  ActiveCallItemState,\n  ModalContentProps,\n  WebphoneButtonsProps,\n} from './ActiveCallItem.interface';\nimport styles from './styles.scss';\n\nexport const ModalContent: FunctionComponent<ModalContentProps> = ({\n  currentLocale,\n  contactName,\n}) => {\n  return (\n    <div>\n      <div className={styles.switchDialogImage}>\n        <SwitchImage width=\"116\" height=\"69\" />\n      </div>\n      <div className={styles.switchDialogContent}>\n        {formatMessage(i18n.getString('comfirmContext', currentLocale), {\n          // displayName: activeCall.name,\n          displayName: contactName,\n        })}\n      </div>\n    </div>\n  );\n};\n\nconst WebphoneButtons: FunctionComponent<WebphoneButtonsProps> = ({\n  currentLocale,\n  session = undefined,\n  webphoneReject,\n  webphoneHangup,\n  webphoneResume,\n  webphoneAnswer,\n  webphoneHold,\n  showMergeCall = false,\n  showHold = true,\n  disableMerge = true,\n  onMergeCall = (i) => i,\n  disableLinks = false,\n  isOnHold,\n  telephonySessionId,\n  webphoneIgnore,\n  showHoldAnswerBtn,\n  showIgnoreBtn,\n  isConnecting = false,\n}) => {\n  if (!session) {\n    return null;\n  }\n\n  let answerBtn;\n  let ignoreBtn;\n  let endBtn;\n\n  if (isInbound(session) && session.callStatus === sessionStatus.connecting) {\n    showHold = false;\n    answerBtn = (\n      <span\n        title={i18n.getString('accept', currentLocale)}\n        className={styles.webphoneButton}\n        data-sign=\"accept\"\n      >\n        {!showHoldAnswerBtn ? (\n          <CircleButton\n            className={styles.answerButton}\n            onClick={(e) => {\n              e.stopPropagation();\n              webphoneAnswer(session.id, telephonySessionId);\n            }}\n            icon={AnswerIcon}\n            showBorder={false}\n            disabled={disableLinks}\n          />\n        ) : (\n          <span\n            title={i18n.getString('holdAndAnswer', currentLocale)}\n            data-sign=\"holdAndAnswer\"\n            onClick={(e) => {\n              e.stopPropagation();\n              webphoneAnswer(session.id, telephonySessionId, true);\n            }}\n          >\n            <HoldAnswerIcon className={styles.answerHoldButton} />\n          </span>\n        )}\n      </span>\n    );\n    endBtn = (\n      <span\n        title={i18n.getString('toVoicemail', currentLocale)}\n        className={styles.webphoneButton}\n        data-sign=\"toVoiceMail\"\n      >\n        <CircleButton\n          className={styles.rejectButton}\n          onClick={(e) => {\n            e.stopPropagation();\n            webphoneReject(session.id, telephonySessionId);\n          }}\n          iconWidth={260}\n          iconX={120}\n          icon={VoicemailIcon}\n          showBorder={false}\n          disabled={disableLinks}\n        />\n      </span>\n    );\n\n    if (showIgnoreBtn) {\n      const ignoreTitle = i18n.getString('ignore', currentLocale);\n      ignoreBtn = (\n        <span\n          title={i18n.getString('ignore', currentLocale)}\n          className={styles.webphoneButton}\n          data-sign=\"ignore\"\n        >\n          <CircleButton\n            className={classnames({\n              [styles.mergeButton]: true,\n              [styles.disabled]: disableLinks,\n            })}\n            onClick={(e) => {\n              e.stopPropagation();\n              webphoneIgnore(telephonySessionId);\n            }}\n            iconWidth={260}\n            iconX={120}\n            icon={IgnoreIcon}\n            showBorder\n            disabled={disableLinks}\n          />\n        </span>\n      );\n    }\n  } else {\n    endBtn = (\n      <span\n        title={i18n.getString('hangup', currentLocale)}\n        className={styles.webphoneButton}\n        data-sign=\"hangup\"\n      >\n        <CircleButton\n          className={styles.rejectButton}\n          onClick={(e) => {\n            e.stopPropagation();\n            webphoneHangup(session.id, telephonySessionId);\n          }}\n          iconWidth={260}\n          iconX={120}\n          icon={EndIcon}\n          showBorder={false}\n          disabled={disableLinks}\n        />\n      </span>\n    );\n  }\n\n  let holdBtn;\n  let mergeBtn;\n\n  if (showHold) {\n    if (isOnHold(session)) {\n      holdBtn = (\n        <span\n          title={i18n.getString('unhold', currentLocale)}\n          className={styles.webphoneButton}\n          data-sign=\"unhold\"\n        >\n          <CircleButton\n            className={classnames(styles.holdButton, styles.active, {\n              [styles.disabled]: disableLinks || isConnecting,\n            })}\n            onClick={(e) => {\n              e.stopPropagation();\n              webphoneResume(session.id, telephonySessionId);\n            }}\n            iconWidth={260}\n            iconX={120}\n            icon={HoldIcon}\n            disabled={disableLinks || isConnecting}\n            showBorder\n          />\n        </span>\n      );\n    } else {\n      holdBtn = (\n        <span\n          title={i18n.getString('hold', currentLocale)}\n          className={styles.webphoneButton}\n          data-sign=\"hold\"\n        >\n          <CircleButton\n            className={classnames(styles.holdButton, {\n              [styles.disabled]: disableLinks || isConnecting,\n            })}\n            onClick={(e) => {\n              e.stopPropagation();\n              webphoneHold(session.id, telephonySessionId);\n            }}\n            iconWidth={260}\n            iconX={120}\n            icon={HoldIcon}\n            disabled={disableLinks || isConnecting}\n            showBorder\n          />\n        </span>\n      );\n    }\n  }\n\n  if (showMergeCall) {\n    mergeBtn = (\n      <span\n        title={i18n.getString('mergeToConference', currentLocale)}\n        className={styles.webphoneButton}\n        data-sign=\"merge\"\n      >\n        <CircleButton\n          className={classnames({\n            [styles.mergeButton]: true,\n            [styles.disabled]: disableMerge,\n          })}\n          onClick={(e) => {\n            e.stopPropagation();\n            onMergeCall(session.id);\n          }}\n          iconWidth={260}\n          iconX={120}\n          icon={MergeIntoConferenceIcon}\n          showBorder\n          disabled={disableMerge || disableLinks}\n        />\n      </span>\n    );\n  }\n\n  return (\n    <div className={styles.webphoneButtons}>\n      {ignoreBtn}\n      {mergeBtn}\n      {holdBtn}\n      {endBtn}\n      {answerBtn}\n    </div>\n  );\n};\n\nconst ActiveCallControlButtons: FunctionComponent<ActiveCallControlButtonsProps> =\n  ({\n    session = undefined,\n    showRingoutCallControl,\n    showSwitchCall,\n    showTransferCall,\n    showHoldOnOtherDevice,\n    currentLocale,\n    disableLinks = false,\n    telephonySessionId,\n    ringoutHangup,\n    ringoutReject,\n    ringoutTransfer = undefined,\n    ringing,\n    inbound,\n    onClickSwitchBtn = undefined,\n    webphoneResume = undefined,\n    webphoneHold = undefined,\n    isConnecting = false,\n    clickSwitchTrack = () => {},\n  }) => {\n    if (!showRingoutCallControl && !showSwitchCall) return null;\n    let switchCallButton;\n    if (showSwitchCall) {\n      const disabled = disableLinks || ringing;\n      switchCallButton = (\n        <span\n          title={i18n.getString('switchCall', currentLocale)}\n          className={classnames(styles.ringoutButton, styles.cursorPointer)}\n          data-sign=\"switchCall\"\n        >\n          <SwitchIcon\n            className={classnames({\n              [styles.switchButton]: true,\n              [styles.disabled]: disabled,\n            })}\n            onClick={(e: React.MouseEvent<HTMLButtonElement>) => {\n              e.stopPropagation();\n              if (!disabled) {\n                clickSwitchTrack();\n                onClickSwitchBtn();\n              }\n            }}\n          />\n        </span>\n      );\n    }\n\n    if (!showRingoutCallControl) {\n      return <div className={styles.ringoutButtons}>{switchCallButton}</div>;\n    }\n\n    let endBtn;\n    let holdBtn;\n\n    const inComingCall = inbound && ringing;\n    if (inComingCall) {\n      const rejectTitle = i18n.getString('reject', currentLocale);\n      endBtn = (\n        <span\n          title={rejectTitle}\n          className={styles.ringoutButton}\n          data-sign=\"hangup\"\n        >\n          <CircleButton\n            disabled={disableLinks}\n            className={classnames({\n              [styles.endButton]: true,\n              [styles.disabled]: disableLinks,\n            })}\n            onClick={(e) => {\n              e.stopPropagation();\n              ringoutReject(telephonySessionId);\n            }}\n            icon={EndIcon}\n            showBorder={false}\n          />\n        </span>\n      );\n    } else {\n      endBtn = (\n        <span\n          title={i18n.getString('hangup', currentLocale)}\n          className={styles.ringoutButton}\n          data-sign=\"hangup\"\n        >\n          <CircleButton\n            disabled={disableLinks}\n            className={classnames({\n              [styles.endButton]: true,\n              [styles.disabled]: disableLinks,\n            })}\n            onClick={(e) => {\n              e.stopPropagation();\n              ringoutHangup(telephonySessionId);\n            }}\n            icon={EndIcon}\n            showBorder={false}\n          />\n        </span>\n      );\n\n      const disabled = disableLinks || isConnecting || ringing;\n      if (session) {\n        if (isTelephonySessionOnHold(session)) {\n          holdBtn = (\n            <span\n              title={i18n.getString('unhold', currentLocale)}\n              className={styles.webphoneButton}\n              data-sign=\"unhold\"\n            >\n              <CircleButton\n                className={classnames(styles.holdButton, styles.active, {\n                  [styles.disabled]: disabled,\n                })}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  webphoneResume('', telephonySessionId);\n                }}\n                iconWidth={260}\n                iconX={120}\n                icon={HoldIcon}\n                disabled={disabled}\n                showBorder\n              />\n            </span>\n          );\n        } else {\n          holdBtn = (\n            <span\n              title={i18n.getString('hold', currentLocale)}\n              className={classnames(styles.webphoneButton)}\n              data-sign=\"hold\"\n            >\n              <CircleButton\n                className={classnames(styles.holdButton, {\n                  [styles.disabled]: disabled,\n                })}\n                onClick={(e) => {\n                  e.stopPropagation();\n                  webphoneHold('', telephonySessionId);\n                }}\n                iconWidth={260}\n                iconX={120}\n                icon={HoldIcon}\n                disabled={disabled}\n                showBorder\n              />\n            </span>\n          );\n        }\n      }\n    }\n\n    let transferBtn;\n    if (ringoutTransfer && !inComingCall) {\n      const transferTitle = i18n.getString('transfer', currentLocale);\n\n      transferBtn = (\n        <span\n          title={transferTitle}\n          className={styles.ringoutButton}\n          data-sign=\"transfer\"\n        >\n          <CircleButton\n            disabled={disableLinks}\n            className={classnames({\n              [styles.transferButton]: true,\n              [styles.disabled]: disableLinks,\n            })}\n            onClick={(e) => {\n              e.stopPropagation();\n              ringoutTransfer(telephonySessionId);\n            }}\n            icon={TransferIcon}\n          />\n        </span>\n      );\n    }\n\n    return (\n      <div className={styles.ringoutButtons}>\n        {showHoldOnOtherDevice && holdBtn}\n        {showTransferCall && transferBtn}\n        {switchCallButton}\n        {endBtn}\n      </div>\n    );\n  };\n\n/**\n * TODO: Gradually replace <ActiveCallItem/> with this component\n */\nexport class ActiveCallItem extends Component<\n  ActiveCallItemProps,\n  ActiveCallItemState\n> {\n  static defaultProps = {\n    isLogging: false,\n    disableLinks: false,\n    enableContactFallback: false,\n    brand: 'RingCentral',\n    showContactDisplayPlaceholder: true,\n    sourceIcons: {},\n    phoneTypeRenderer: undefined,\n    phoneSourceNameRenderer: undefined,\n    renderContactName: undefined,\n    renderExtraButton: undefined,\n    contactDisplayStyle: '',\n    isOnConferenceCall: false,\n    onClick: undefined,\n    showAvatar: true,\n    getAvatarUrl: undefined,\n    showMergeCall: false,\n    showHold: true,\n    disableMerge: false,\n    onMergeCall: (i) => i,\n    showCallDetail: false,\n    updateSessionMatchedContact: (i) => i,\n    showRingoutCallControl: false,\n    showMultipleMatch: false,\n    showSwitchCall: false,\n    showTransferCall: true,\n    showHoldOnOtherDevice: false,\n    isOnHold,\n  };\n\n  _userSelection: boolean;\n  toVoicemailTimeout: number;\n  _mounted: boolean;\n  webphoneToVoicemail: (sessionId: string, telephonySessionId: string) => any;\n  modalId: string;\n\n  constructor(props: ActiveCallItemProps) {\n    super(props);\n    this.state = {\n      selected: 0,\n      isLogging: false,\n      avatarUrl: null,\n      extraNum: 0,\n    };\n    this._userSelection = false;\n    // this.contactDisplay = null;\n\n    this.webphoneToVoicemail = (sessionId, telephonySessionId) => {\n      if (typeof this.props.webphoneToVoicemail !== 'function') {\n        return;\n      }\n      this.props.webphoneToVoicemail(sessionId, telephonySessionId);\n      this.toVoicemailTimeout = window.setTimeout(() => {\n        this.props.webphoneReject(sessionId, telephonySessionId);\n      }, 3000);\n    };\n  }\n\n  setContact(nextProps = this.props) {\n    const { isOnConferenceCall, conferenceCallParties } = nextProps;\n\n    if (isOnConferenceCall) {\n      this.setState({\n        avatarUrl: conferenceCallParties.map((profile) => profile.avatarUrl)[0],\n        extraNum:\n          conferenceCallParties.length > 0\n            ? conferenceCallParties.length - 1\n            : 0,\n      });\n      return;\n    }\n\n    const selected = this.getSelectedContactIdx(nextProps);\n    this.onSelectContact(\n      this.getSelectedContact(selected, nextProps),\n      selected,\n    );\n  }\n\n  componentDidMount() {\n    this._mounted = true;\n    this.setContact();\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps: ActiveCallItemProps) {\n    if (this.getContactMatches(nextProps) !== this.getContactMatches()) {\n      this.setContact(nextProps);\n    }\n  }\n\n  componentWillUnmount() {\n    this._mounted = false;\n    if (this.toVoicemailTimeout) {\n      window.clearTimeout(this.toVoicemailTimeout);\n      this.toVoicemailTimeout = null;\n    }\n    if (this.modalId) {\n      this.props.modalClose(this.modalId);\n    }\n  }\n\n  getCallInfo() {\n    const {\n      call: { telephonyStatus, startTime, offset },\n      disableLinks,\n      currentLocale,\n      showCallDetail,\n      useCallDetailV2,\n    } = this.props;\n\n    if (!showCallDetail) {\n      return null;\n    }\n\n    const telephonyStatusInfo = i18n.getString(telephonyStatus, currentLocale);\n    const callStatusComp = (\n      <>\n        <span className={styles.split}>|</span>\n        <span title={telephonyStatusInfo}>{telephonyStatusInfo}</span>\n      </>\n    );\n    if (useCallDetailV2) {\n      return (\n        <div className={styles.callDetail} data-sign=\"duration\">\n          <DurationCounter startTime={startTime} offset={offset} />\n        </div>\n      );\n    }\n    return (\n      <div className={styles.callDetail}>\n        {disableLinks ? (\n          i18n.getString('unavailable', currentLocale)\n        ) : (\n          <DurationCounter startTime={startTime} offset={offset} />\n        )}\n        {callStatusComp}\n      </div>\n    );\n  }\n\n  getFallbackContactName() {\n    return isInbound(this.props.call)\n      ? this.props.call.from.name\n      : this.props.call.to.name;\n  }\n\n  onSelectContact = (value: any, idx: number) => {\n    if (!value || typeof this.props.getAvatarUrl !== 'function') {\n      return;\n    }\n\n    this._userSelection = true;\n    this.setState({\n      selected: idx,\n    });\n    if (value) {\n      this.props.getAvatarUrl(value).then((avatarUrl: string) => {\n        if (this._mounted) {\n          this.setState({ avatarUrl });\n        }\n      });\n      if (this.props.call.webphoneSession) {\n        this.props.updateSessionMatchedContact(\n          this.props.call.webphoneSession.id,\n          value,\n        );\n      }\n    }\n  };\n\n  getSelectedContactIdx = (nextProps = this.props) => {\n    const contactMatches = this.getContactMatches(nextProps);\n    let selected = null;\n\n    if (!nextProps.call.webphoneSession) {\n      selected = 0;\n    } else if (contactMatches && contactMatches.length) {\n      const contact = nextProps.call.webphoneSession.contactMatch;\n      if (contact) {\n        selected = contactMatches.findIndex((match) => match.id === contact.id);\n      }\n      if (selected === -1 || !contact) {\n        selected = 0;\n      }\n    }\n    return selected;\n  };\n\n  getSelectedContact = (\n    selected = this.getSelectedContactIdx(),\n    nextProps = this.props,\n  ) => {\n    const contactMatches = this.getContactMatches(nextProps);\n    return (contactMatches && contactMatches[selected]) || null;\n  };\n\n  getContactMatches(nextProps = this.props) {\n    return isInbound(nextProps.call)\n      ? nextProps.call.fromMatches\n      : nextProps.call.toMatches;\n  }\n\n  getPhoneNumber() {\n    return isInbound(this.props.call)\n      ? this.props.call.from.phoneNumber || this.props.call.from.extensionNumber\n      : this.props.call.to.phoneNumber || this.props.call.to.extensionNumber;\n  }\n\n  onClickSwitchBtn = () => {\n    const {\n      renderContactName,\n      call,\n      modalConfirm,\n      isWide,\n      currentLocale,\n      webphoneSwitchCall,\n    } = this.props;\n    const contactName =\n      typeof renderContactName === 'function'\n        ? renderContactName(call)\n        : undefined;\n    // !refactor\n    // TODO: Consider refactoring modalConfirm out of UI components!!!!!!!!!!!!!!\n    this.modalId = modalConfirm({\n      childrenSize: isWide ? 'medium' : 'small',\n      title: i18n.getString('callSwitch', currentLocale),\n      className: styles.switchDialog,\n      contentProps: {\n        contactName: contactName || this.getPhoneNumber(),\n      },\n      confirmButtonText: i18n.getString('comfirmOKButton', currentLocale),\n      cancelButtonText: i18n.getString('comfirmCancelButton', currentLocale),\n      onConfirm: () => {\n        webphoneSwitchCall(call);\n        this.modalId = null;\n      },\n      onCancel: () => {\n        this.modalId = null;\n      },\n    });\n  };\n\n  render() {\n    const {\n      call: {\n        direction,\n        webphoneSession,\n        telephonySessionId,\n        telephonySession,\n      },\n      disableLinks,\n      currentLocale,\n      areaCode,\n      countryCode,\n      enableContactFallback,\n      isLogging,\n      brand,\n      showContactDisplayPlaceholder,\n      webphoneHangup,\n      webphoneResume,\n      sourceIcons,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      renderContactName,\n      renderExtraButton,\n      contactDisplayStyle,\n      isOnConferenceCall,\n      webphoneHold,\n      onClick,\n      showMergeCall,\n      showHold,\n      showAvatar,\n      disableMerge,\n      onMergeCall,\n      showCallDetail,\n      webphoneAnswer,\n      ringoutHangup,\n      ringoutTransfer,\n      ringoutReject,\n      showRingoutCallControl,\n      showSwitchCall,\n      showTransferCall,\n      showHoldOnOtherDevice,\n      showMultipleMatch,\n      isOnHold,\n      newCallIcon,\n      webphoneIgnore,\n      showHoldAnswerBtn,\n      showIgnoreBtn,\n      clickSwitchTrack,\n    } = this.props;\n\n    const { avatarUrl, extraNum } = this.state;\n    const phoneNumber = this.getPhoneNumber();\n    const contactMatches = this.getContactMatches();\n    const fallbackContactName = this.getFallbackContactName();\n    const ringing = isRinging(this.props.call);\n    const inbound = isInbound(this.props.call);\n    const contactName =\n      typeof renderContactName === 'function'\n        ? renderContactName(this.props.call)\n        : undefined;\n    const extraButton =\n      typeof renderExtraButton === 'function' ? (\n        <div className={styles.extraButton}>\n          {renderExtraButton(this.props.call)}\n        </div>\n      ) : undefined;\n    const hasCallControl = !!(\n      webphoneSession ||\n      showRingoutCallControl ||\n      showSwitchCall\n    );\n    const cursorPointer = hasCallControl && !!onClick;\n    // real outbound call status\n    const isConnecting =\n      telephonySession?.otherParties[0]?.status?.code ===\n      telephonySessionStatus.proceeding;\n    return (\n      <div data-sign=\"callItem\" className={styles.callItemContainer}>\n        <MediaObject\n          containerCls={styles.wrapper}\n          bodyCls={classnames({\n            [styles.content]: true,\n            [styles.cursorPointer]: cursorPointer,\n            [styles.cursorUnset]: !cursorPointer,\n            [styles.disabled]: hasCallControl && disableLinks,\n          })}\n          leftCls={classnames({\n            [styles.cursorPointer]: cursorPointer,\n            [styles.cursorUnset]: !cursorPointer,\n            [styles.disabled]: hasCallControl && disableLinks,\n          })}\n          mediaLeft={\n            <div onClick={hasCallControl && onClick ? onClick : null}>\n              <CallIcon\n                direction={direction}\n                ringing={ringing}\n                active\n                missed={false}\n                inboundTitle={i18n.getString('inboundCall', currentLocale)}\n                outboundTitle={i18n.getString('outboundCall', currentLocale)}\n                missedTitle={i18n.getString('missedCall', currentLocale)}\n                isOnConferenceCall={isOnConferenceCall}\n                showAvatar={showAvatar}\n                avatarUrl={avatarUrl}\n                extraNum={extraNum}\n                newCallIcon={newCallIcon}\n              />\n            </div>\n          }\n          mediaBody={\n            <div\n              onClick={hasCallControl && onClick ? onClick : null}\n              className={styles.strechVertical}\n            >\n              <ContactDisplay\n                isOnConferenceCall={isOnConferenceCall}\n                contactName={showMultipleMatch ? undefined : contactName}\n                className={classnames(\n                  styles.contactDisplay,\n                  contactDisplayStyle,\n                )}\n                contactMatches={contactMatches}\n                selected={this.state.selected}\n                onSelectContact={this.onSelectContact}\n                disabled={!showMultipleMatch}\n                iconClassName={\n                  showMultipleMatch ? undefined : styles.selectIcon\n                }\n                isLogging={isLogging || this.state.isLogging}\n                fallBackName={fallbackContactName}\n                enableContactFallback={enableContactFallback}\n                areaCode={areaCode}\n                countryCode={countryCode}\n                phoneNumber={phoneNumber}\n                currentLocale={currentLocale}\n                brand={brand}\n                showPlaceholder={showContactDisplayPlaceholder}\n                showType={false}\n                sourceIcons={sourceIcons}\n                phoneTypeRenderer={phoneTypeRenderer}\n                phoneSourceNameRenderer={phoneSourceNameRenderer}\n              />\n              {showCallDetail ? this.getCallInfo() : null}\n            </div>\n          }\n          mediaRight={\n            <div className={styles.actionIconsBox}>\n              {webphoneSession ? (\n                <WebphoneButtons\n                  session={webphoneSession}\n                  isConnecting={isConnecting}\n                  telephonySessionId={telephonySessionId}\n                  webphoneReject={this.webphoneToVoicemail}\n                  webphoneHangup={webphoneHangup}\n                  webphoneResume={webphoneResume}\n                  webphoneHold={webphoneHold}\n                  currentLocale={currentLocale}\n                  showMergeCall={showMergeCall}\n                  showHold={showHold}\n                  disableMerge={disableMerge}\n                  onMergeCall={onMergeCall}\n                  webphoneAnswer={webphoneAnswer}\n                  isOnHold={isOnHold}\n                  webphoneIgnore={webphoneIgnore}\n                  showIgnoreBtn={showIgnoreBtn}\n                  showHoldAnswerBtn={showHoldAnswerBtn}\n                />\n              ) : (\n                <ActiveCallControlButtons\n                  session={telephonySession}\n                  showSwitchCall={!webphoneSession && showSwitchCall}\n                  onClickSwitchBtn={this.onClickSwitchBtn}\n                  showRingoutCallControl={showRingoutCallControl}\n                  telephonySessionId={telephonySessionId}\n                  disableLinks={disableLinks}\n                  currentLocale={currentLocale}\n                  ringing={ringing}\n                  inbound={inbound}\n                  ringoutReject={ringoutReject}\n                  ringoutHangup={ringoutHangup}\n                  ringoutTransfer={ringoutTransfer}\n                  showTransferCall={showTransferCall}\n                  showHoldOnOtherDevice={showHoldOnOtherDevice}\n                  webphoneResume={webphoneResume}\n                  webphoneHold={webphoneHold}\n                  isConnecting={isConnecting}\n                  clickSwitchTrack={clickSwitchTrack}\n                />\n              )}\n              {extraButton}\n            </div>\n          }\n        />\n      </div>\n    );\n  }\n}\n"],"file":"ActiveCallItem.js"}