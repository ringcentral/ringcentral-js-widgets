{"version":3,"file":"index.js","names":["_utils","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_uuid","_Spinner","_styles","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t2","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","next","push","isArray","initialSize","margin","avatarCircleRadius","extraNumCircleRadius","extraNumCircleBorder","circleBorder","$snow","$blueLight","$blue","$dark","$transparency","defaultAvatarStyle","opacity","portraitChar","iconFont","avatarStyle","stroke","strokeWidth","concat","spinnerScaleSize","spinnerSize","spinnerTranslateTo","aspectRatio","xmlns","CallAvatar","exports","_ref","_ref$extraNum","extraNum","isOnConferenceCall","showingSpinner","spinnerMode","avatarUrlProp","avatarUrl","className","onClick","_useState","useState","_useState2","setAvatarUrl","svgCls","clsx","styles","callAvatar","autoPointerEvents","disabledPointerEvents","_useRef","useRef","uuidV4","hash","current","textId","clipId","spinnerId","isOnConferenceCallWithExtraNum","translateValue","spinnerTransform","useEffect","loadImg","_ref2","_callee","_t","_context","isBase64DataUrl","loadImage","createElement","style","viewBox","preserveAspectRatio","id","x","dy","fontSize","fill","fontFamily","cx","cy","strokeOpacity","transform","xlinkHref","clipPath","height","width","textAnchor","fontWeight","dx","_default"],"sources":["components/CallAvatar/index.tsx"],"sourcesContent":["import { isBase64DataUrl, loadImage } from '@ringcentral-integration/utils';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { v4 as uuidV4 } from 'uuid';\n\nimport SpinnerIcon from '../../assets/images/Spinner.svg';\n\nimport styles from './styles.scss';\n\nexport interface CallAvatarProps {\n  isOnConferenceCall?: boolean;\n  avatarUrl?: string;\n  extraNum?: number;\n  spinnerMode?: boolean;\n  className?: string;\n  onClick?: (...args: any[]) => any;\n}\n\nconst initialSize = 38;\nconst margin = 4;\nconst avatarCircleRadius = 15;\nconst extraNumCircleRadius = 8.5;\nconst extraNumCircleBorder = 1;\nconst circleBorder = 1;\nconst $snow = '#fff';\nconst $blueLight = '#cee7f2';\nconst $blue = '#066FAC';\nconst $dark = '#e2e2e2';\nconst $transparency = '0.8';\nconst defaultAvatarStyle = { opacity: +$transparency };\nconst portraitChar = '\\ue904'; // HACK: &#xe904; is the font code for the portrait icon\nconst iconFont = 'dynamics_icon'; // Hard coding this for firefox to load iconfont\nconst avatarStyle = { stroke: $dark, strokeWidth: `${circleBorder}px` };\nconst spinnerScaleSize = 1.5;\nconst spinnerSize = 12;\nconst spinnerTranslateTo = (initialSize - spinnerSize * spinnerScaleSize) / 2;\n\nconst aspectRatio = 'xMidYMid meet';\nconst xmlns = 'http://www.w3.org/2000/svg';\n\nexport const CallAvatar: FunctionComponent<CallAvatarProps> = ({\n  extraNum = 0,\n  isOnConferenceCall,\n  spinnerMode: showingSpinner,\n  avatarUrl: avatarUrlProp,\n  className,\n  onClick,\n}) => {\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\n\n  const svgCls = clsx(\n    styles.callAvatar,\n    onClick ? styles.autoPointerEvents : styles.disabledPointerEvents,\n    className,\n  );\n\n  const { current: hash } = useRef(uuidV4());\n  const textId = `text-${hash}`;\n  const clipId = `circleClip-${hash}`;\n\n  // spinner sizing\n  const spinnerId = `spinner-${hash}`;\n  const isOnConferenceCallWithExtraNum = isOnConferenceCall && extraNum > 0;\n\n  const translateValue =\n    spinnerTranslateTo - (isOnConferenceCallWithExtraNum ? margin : 0);\n\n  const spinnerTransform = `translate(${translateValue}, ${spinnerTranslateTo}) scale(${spinnerScaleSize}, ${spinnerScaleSize})`;\n\n  useEffect(() => {\n    const loadImg = async () => {\n      if (!avatarUrlProp) return;\n\n      if (isBase64DataUrl(avatarUrlProp)) {\n        setAvatarUrl(avatarUrlProp);\n        return;\n      }\n\n      try {\n        await loadImage(avatarUrlProp);\n        setAvatarUrl(avatarUrlProp);\n      } catch (error) {\n        setAvatarUrl(null);\n      }\n    };\n\n    loadImg();\n  }, [avatarUrlProp]);\n\n  if (isOnConferenceCallWithExtraNum) {\n    return (\n      <svg\n        onClick={onClick}\n        className={svgCls}\n        style={avatarUrl ? avatarStyle : {}}\n        viewBox={`0 0 ${initialSize} ${initialSize}`}\n        preserveAspectRatio={aspectRatio}\n        xmlns={xmlns}\n      >\n        <defs>\n          <g id={textId}>\n            <text\n              x=\"0\"\n              y=\"0\"\n              dy={`${initialSize - 10}px`}\n              style={{\n                fontSize: `${avatarCircleRadius * 2}px`,\n                fill: $blue,\n                opacity: '.5',\n              }}\n              fontFamily={iconFont}\n            >\n              {portraitChar}\n            </text>\n          </g>\n          <SpinnerIcon id={spinnerId} />\n        </defs>\n        <circle\n          cx={avatarCircleRadius}\n          cy={margin + avatarCircleRadius}\n          r={avatarCircleRadius}\n          fill={$snow}\n          stroke={showingSpinner ? $dark : 'inherit'}\n          strokeOpacity={showingSpinner ? $transparency : '1'}\n        />\n        <g>\n          <clipPath id={clipId}>\n            <circle\n              cx={avatarCircleRadius}\n              cy={margin + avatarCircleRadius}\n              r={avatarCircleRadius}\n              fill={$snow}\n            />\n          </clipPath>\n        </g>\n        {showingSpinner && (\n          <g transform={spinnerTransform}>\n            <use xlinkHref={`#${spinnerId}`} />\n          </g>\n        )}\n        {avatarUrl && (\n          <image\n            clipPath={`url(#${clipId})`}\n            height=\"100%\"\n            width=\"100%\"\n            xlinkHref={avatarUrl}\n          />\n        )}\n        {!avatarUrl && !showingSpinner && (\n          <use\n            xlinkHref={`#${textId}`}\n            clipPath={`url(#${clipId})`}\n            style={defaultAvatarStyle}\n          />\n        )}\n        <circle\n          cx={initialSize - extraNumCircleRadius}\n          cy={extraNumCircleRadius}\n          r={extraNumCircleRadius}\n          fill={$snow}\n        />\n        <circle\n          cx={initialSize - extraNumCircleRadius}\n          cy={extraNumCircleRadius}\n          r={extraNumCircleRadius - extraNumCircleBorder}\n          fill={$blueLight}\n        />\n\n        <text\n          x={initialSize - extraNumCircleRadius}\n          y={extraNumCircleRadius}\n          dy=\"3px\"\n          textAnchor=\"middle\"\n          style={{\n            fontSize: '9px',\n            stroke: 'none',\n            fill: $blue,\n            fontWeight: 'bolder',\n            opacity: '.5',\n          }}\n        >\n          {`+${extraNum}`}\n        </text>\n      </svg>\n    );\n  }\n\n  return (\n    <svg\n      className={svgCls}\n      onClick={onClick}\n      style={avatarUrl ? avatarStyle : {}}\n      viewBox={`0 0 ${initialSize} ${initialSize}`}\n      preserveAspectRatio={aspectRatio}\n      xmlns={xmlns}\n    >\n      <defs>\n        <g id={textId}>\n          <text\n            x=\"0\"\n            y=\"0\"\n            dy={`${initialSize - 10}px`}\n            dx=\"2\"\n            style={{\n              fontSize: `${(initialSize / 2 - 2) * 2}px`,\n              fill: $blue,\n              opacity: '.5',\n            }}\n            fontFamily={iconFont}\n          >\n            {portraitChar}\n          </text>\n        </g>\n        <SpinnerIcon id={spinnerId} />\n      </defs>\n      <circle\n        cx={initialSize / 2}\n        cy={initialSize / 2}\n        r={initialSize / 2 - circleBorder}\n        fill={$snow}\n        stroke={showingSpinner ? $dark : 'inherit'}\n        strokeOpacity={showingSpinner ? $transparency : '1'}\n      />\n      <g>\n        <clipPath id={clipId}>\n          <circle\n            cx={initialSize / 2}\n            cy={initialSize / 2}\n            r={initialSize / 2 - 1}\n          />\n        </clipPath>\n      </g>\n      {showingSpinner && (\n        <g transform={spinnerTransform}>\n          <use xlinkHref={`#${spinnerId}`} />\n        </g>\n      )}\n      {showingSpinner && (\n        <g transform={spinnerTransform}>\n          <use xlinkHref={`#${spinnerId}`} />\n        </g>\n      )}\n      {avatarUrl && (\n        <image\n          clipPath={`url(#${clipId})`}\n          height=\"100%\"\n          width=\"100%\"\n          xlinkHref={avatarUrl}\n          preserveAspectRatio=\"xMinYMin slice\"\n        />\n      )}\n      {!avatarUrl && !showingSpinner && (\n        <use\n          xlinkHref={`#${textId}`}\n          clipPath={`url(#${clipId})`}\n          style={defaultAvatarStyle}\n        />\n      )}\n    </svg>\n  );\n};\n\nexport default CallAvatar;\n"],"mappings":"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","ignoreList":[]}