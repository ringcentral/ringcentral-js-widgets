{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_uuid","_utils","_Spinner","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","Array","from","test","len","length","arr2","_i","Symbol","iterator","_s","_e","_x","_r","_arr","_n","_d","next","push","isArray","initialSize","margin","avatarCircleRadius","extraNumCircleRadius","extraNumCircleBorder","circleBorder","$snow","$blueLight","$blue","$dark","$transparency","defaultAvatarStyle","opacity","portraitChar","iconFont","avatarStyle","stroke","strokeWidth","concat","spinnerScaleSize","spinnerSize","spinnerTranslateTo","aspectRatio","xmlns","CallAvatar","_ref","_ref$extraNum","extraNum","isOnConferenceCall","showingSpinner","spinnerMode","avatarUrlProp","avatarUrl","className","onClick","_useState","useState","_useState2","setAvatarUrl","svgCls","classnames","styles","callAvatar","autoPointerEvents","disabledPointerEvents","_useRef","useRef","uuidV4","hash","current","textId","clipId","spinnerId","isOnConferenceCallWithExtraNum","translateValue","spinnerTransform","useEffect","loadImg","_ref2","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","abrupt","isBase64DataUrl","loadImage","t0","stop","createElement","style","viewBox","preserveAspectRatio","id","x","y","dy","fontSize","fill","fontFamily","cx","cy","r","strokeOpacity","transform","xlinkHref","clipPath","height","width","textAnchor","fontWeight","dx","exports","_default"],"sources":["components/CallAvatar/index.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, { useEffect, useRef, useState } from 'react';\n\nimport classnames from 'classnames';\nimport { v4 as uuidV4 } from 'uuid';\n\nimport { isBase64DataUrl, loadImage } from '@ringcentral-integration/utils';\n\nimport SpinnerIcon from '../../assets/images/Spinner.svg';\nimport styles from './styles.scss';\n\nexport interface CallAvatarProps {\n  isOnConferenceCall?: boolean;\n  avatarUrl?: string;\n  extraNum?: number;\n  spinnerMode?: boolean;\n  className?: string;\n  onClick?: (...args: any[]) => any;\n}\n\nconst initialSize = 38;\nconst margin = 4;\nconst avatarCircleRadius = 15;\nconst extraNumCircleRadius = 8.5;\nconst extraNumCircleBorder = 1;\nconst circleBorder = 1;\nconst $snow = '#fff';\nconst $blueLight = '#cee7f2';\nconst $blue = '#066FAC';\nconst $dark = '#e2e2e2';\nconst $transparency = '0.8';\nconst defaultAvatarStyle = { opacity: +$transparency };\nconst portraitChar = '\\ue904'; // HACK: &#xe904; is the font code for the portrait icon\nconst iconFont = 'dynamics_icon'; // Hard coding this for firefox to load iconfont\nconst avatarStyle = { stroke: $dark, strokeWidth: `${circleBorder}px` };\nconst spinnerScaleSize = 1.5;\nconst spinnerSize = 12;\nconst spinnerTranslateTo = (initialSize - spinnerSize * spinnerScaleSize) / 2;\n\nconst aspectRatio = 'xMidYMid meet';\nconst xmlns = 'http://www.w3.org/2000/svg';\n\nexport const CallAvatar: FunctionComponent<CallAvatarProps> = ({\n  extraNum = 0,\n  isOnConferenceCall,\n  spinnerMode: showingSpinner,\n  avatarUrl: avatarUrlProp,\n  className,\n  onClick,\n}) => {\n  const [avatarUrl, setAvatarUrl] = useState<string | null>(null);\n\n  const svgCls = classnames(\n    styles.callAvatar,\n    onClick ? styles.autoPointerEvents : styles.disabledPointerEvents,\n    className,\n  );\n\n  const { current: hash } = useRef(uuidV4());\n  const textId = `text-${hash}`;\n  const clipId = `circleClip-${hash}`;\n\n  // spinner sizing\n  const spinnerId = `spinner-${hash}`;\n  const isOnConferenceCallWithExtraNum = isOnConferenceCall && extraNum > 0;\n\n  const translateValue =\n    spinnerTranslateTo - (isOnConferenceCallWithExtraNum ? margin : 0);\n\n  const spinnerTransform = `translate(${translateValue}, ${spinnerTranslateTo}) scale(${spinnerScaleSize}, ${spinnerScaleSize})`;\n\n  useEffect(() => {\n    const loadImg = async () => {\n      if (!avatarUrlProp) return;\n\n      if (isBase64DataUrl(avatarUrlProp)) {\n        setAvatarUrl(avatarUrlProp);\n        return;\n      }\n\n      try {\n        await loadImage(avatarUrlProp);\n        setAvatarUrl(avatarUrlProp);\n      } catch (error) {\n        setAvatarUrl(null);\n      }\n    };\n\n    loadImg();\n  }, [avatarUrlProp]);\n\n  if (isOnConferenceCallWithExtraNum) {\n    return (\n      <svg\n        onClick={onClick}\n        className={svgCls}\n        style={avatarUrl ? avatarStyle : {}}\n        viewBox={`0 0 ${initialSize} ${initialSize}`}\n        preserveAspectRatio={aspectRatio}\n        xmlns={xmlns}\n      >\n        <defs>\n          <g id={textId}>\n            <text\n              x=\"0\"\n              y=\"0\"\n              dy={`${initialSize - 10}px`}\n              style={{\n                fontSize: `${avatarCircleRadius * 2}px`,\n                fill: $blue,\n                opacity: '.5',\n              }}\n              fontFamily={iconFont}\n            >\n              {portraitChar}\n            </text>\n          </g>\n          <SpinnerIcon id={spinnerId} />\n        </defs>\n        <circle\n          cx={avatarCircleRadius}\n          cy={margin + avatarCircleRadius}\n          r={avatarCircleRadius}\n          fill={$snow}\n          stroke={showingSpinner ? $dark : 'inherit'}\n          strokeOpacity={showingSpinner ? $transparency : '1'}\n        />\n        <g>\n          <clipPath id={clipId}>\n            <circle\n              cx={avatarCircleRadius}\n              cy={margin + avatarCircleRadius}\n              r={avatarCircleRadius}\n              fill={$snow}\n            />\n          </clipPath>\n        </g>\n        {showingSpinner && (\n          <g transform={spinnerTransform}>\n            <use xlinkHref={`#${spinnerId}`} />\n          </g>\n        )}\n        {avatarUrl && (\n          <image\n            clipPath={`url(#${clipId})`}\n            height=\"100%\"\n            width=\"100%\"\n            xlinkHref={avatarUrl}\n          />\n        )}\n        {!avatarUrl && !showingSpinner && (\n          <use\n            xlinkHref={`#${textId}`}\n            clipPath={`url(#${clipId})`}\n            style={defaultAvatarStyle}\n          />\n        )}\n        <circle\n          cx={initialSize - extraNumCircleRadius}\n          cy={extraNumCircleRadius}\n          r={extraNumCircleRadius}\n          fill={$snow}\n        />\n        <circle\n          cx={initialSize - extraNumCircleRadius}\n          cy={extraNumCircleRadius}\n          r={extraNumCircleRadius - extraNumCircleBorder}\n          fill={$blueLight}\n        />\n\n        <text\n          x={initialSize - extraNumCircleRadius}\n          y={extraNumCircleRadius}\n          dy=\"3px\"\n          textAnchor=\"middle\"\n          style={{\n            fontSize: '9px',\n            stroke: 'none',\n            fill: $blue,\n            fontWeight: 'bolder',\n            opacity: '.5',\n          }}\n        >\n          {`+${extraNum}`}\n        </text>\n      </svg>\n    );\n  }\n\n  return (\n    <svg\n      className={svgCls}\n      onClick={onClick}\n      style={avatarUrl ? avatarStyle : {}}\n      viewBox={`0 0 ${initialSize} ${initialSize}`}\n      preserveAspectRatio={aspectRatio}\n      xmlns={xmlns}\n    >\n      <defs>\n        <g id={textId}>\n          <text\n            x=\"0\"\n            y=\"0\"\n            dy={`${initialSize - 10}px`}\n            dx=\"2\"\n            style={{\n              fontSize: `${(initialSize / 2 - 2) * 2}px`,\n              fill: $blue,\n              opacity: '.5',\n            }}\n            fontFamily={iconFont}\n          >\n            {portraitChar}\n          </text>\n        </g>\n        <SpinnerIcon id={spinnerId} />\n      </defs>\n      <circle\n        cx={initialSize / 2}\n        cy={initialSize / 2}\n        r={initialSize / 2 - circleBorder}\n        fill={$snow}\n        stroke={showingSpinner ? $dark : 'inherit'}\n        strokeOpacity={showingSpinner ? $transparency : '1'}\n      />\n      <g>\n        <clipPath id={clipId}>\n          <circle\n            cx={initialSize / 2}\n            cy={initialSize / 2}\n            r={initialSize / 2 - 1}\n          />\n        </clipPath>\n      </g>\n      {showingSpinner && (\n        <g transform={spinnerTransform}>\n          <use xlinkHref={`#${spinnerId}`} />\n        </g>\n      )}\n      {showingSpinner && (\n        <g transform={spinnerTransform}>\n          <use xlinkHref={`#${spinnerId}`} />\n        </g>\n      )}\n      {avatarUrl && (\n        <image\n          clipPath={`url(#${clipId})`}\n          height=\"100%\"\n          width=\"100%\"\n          xlinkHref={avatarUrl}\n          preserveAspectRatio=\"xMinYMin slice\"\n        />\n      )}\n      {!avatarUrl && !showingSpinner && (\n        <use\n          xlinkHref={`#${textId}`}\n          clipPath={`url(#${clipId})`}\n          style={defaultAvatarStyle}\n        />\n      )}\n    </svg>\n  );\n};\n\nexport default CallAvatar;\n"],"mappings":"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"}