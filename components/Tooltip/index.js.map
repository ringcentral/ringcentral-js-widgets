{"version":3,"file":"index.js","names":["_ObjectMap","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_styles","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_classCallCheck","a","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","_inherits","create","_setPrototypeOf","POSITION","ObjectMap","fromKeys","TAIL_HEIGHT","Math","sqrt","pow","getDimensions","element","PROPERTIES","position","visibility","nodeType","clonedEl","cloneNode","style","document","body","appendChild","result","width","offsetWidth","height","offsetHeight","removeChild","transitionEnd","el","createElement","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","name","undefined","getPageOffset","rect","getBoundingClientRect","scollLeft","window","pageXOffset","documentElement","scrollLeft","scrollTop","pageYOffset","top","left","getRelativeOffset","res","tmp","getComputedStyle","offsetTop","offsetLeft","parentElement","Tooltip","_Component","props","_this","dom","onResize","TRANSITION_END_EVT_NAME","checkPosition","onTransitionEnd","state","cachedPositioning","React","createRef","open","setInVisible","setVisibility","setState","preState","setVisible","changeTriggerElmPosition","fixed","triggerElm","RELATIVE","elm","recordPositioning","restorePositioning","potition","current","demensionOfTrigger","currentDemension","offset","direction","componentDidMount","addEventListener","UNSAFE_componentWillReceiveProps","nextProps","children","_this$props$beforeOpe","_this$props","beforeOpen","_this$props$beforeClo","_this$props2","beforeClose","componentDidUpdate","_this$props$onOpen","_this$props3","onOpen","_this$props$onClose","_this$props4","onClose","componentWillUnmount","removeEventListener","render","_this$props5","ref","className","clsx","styles","dropdownContainer","opened","dropdown","tail","Component","defaultProps","_default","exports"],"sources":["components/Tooltip/index.tsx"],"sourcesContent":["import { ObjectMap } from '@ringcentral-integration/core/lib/ObjectMap';\nimport clsx from 'clsx';\nimport React, { Component } from 'react';\n\nimport styles from './styles.scss';\n\nconst POSITION = ObjectMap.fromKeys(['top', 'left']);\nconst TAIL_HEIGHT = Math.sqrt(10 ** 2 * 2);\nconst getDimensions = (element: any) => {\n  const PROPERTIES = {\n    position: 'fixed',\n    visibility: 'hidden',\n  };\n  if (element.nodeType) {\n    let clonedEl = element.cloneNode(true);\n    Object.keys(PROPERTIES).forEach((key) => {\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      clonedEl.style[key] = PROPERTIES[key];\n    });\n    document.body.appendChild(clonedEl);\n    const result = {\n      width: element.offsetWidth,\n      height: element.offsetHeight,\n    };\n    document.body.removeChild(clonedEl);\n    clonedEl = null;\n    return result;\n  }\n  return null;\n};\nconst transitionEnd = () => {\n  const el = document.createElement('bootstrap');\n  const transEndEventNames = {\n    WebkitTransition: 'webkitTransitionEnd',\n    MozTransition: 'transitionend',\n    OTransition: 'oTransitionEnd otransitionend',\n    transition: 'transitionend',\n  };\n  for (const name in transEndEventNames) {\n    // @ts-expect-error TS(7015): Element implicitly has an 'any' type because index... Remove this comment to see the full error message\n    if (el.style[name] !== undefined) {\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      return transEndEventNames[name];\n    }\n  }\n  return null;\n};\nconst getPageOffset = (el: any) => {\n  if (!el) {\n    return null;\n  }\n  const rect = el.getBoundingClientRect();\n  const scollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n  return {\n    top: rect.top + scrollTop,\n    left: rect.left + scollLeft,\n  };\n};\nconst getRelativeOffset = (el: any) => {\n  const res = { top: 0, left: 0 };\n  if (!el) {\n    return null;\n  }\n  let tmp = el;\n  while (window.getComputedStyle(tmp).position === 'static') {\n    res.top += el.offsetTop;\n    res.left += el.offsetLeft;\n    tmp = tmp.parentElement;\n  }\n  return res;\n};\ntype TooltipProps = {\n  triggerElm?: object;\n  fixed?: boolean;\n  direction?: string;\n  open?: boolean;\n  onOpen?: (...args: any[]) => any;\n  beforeOpen?: (...args: any[]) => any;\n  beforeClose?: (...args: any[]) => any;\n  onClose?: (...args: any[]) => any;\n};\ntype TooltipState = ((preState: any) => any) &\n  ((preState: any) => any) &\n  ((preState: any) => any) & {\n    cachedPositioning: { elm: any; position: string };\n  } & ((preState: any) => any) & {\n    cachedPositioning: null;\n    visibility: null;\n    position: null;\n  };\nclass Tooltip extends Component<TooltipProps, TooltipState> {\n  dom: any;\n  onResize: any;\n  TRANSITION_END_EVT_NAME: any;\n  constructor(props: any) {\n    super(props);\n    this.onResize = this.checkPosition.bind(this);\n    this.onTransitionEnd = this.onTransitionEnd.bind(this);\n    this.TRANSITION_END_EVT_NAME = transitionEnd();\n\n    // @ts-ignore\n    this.state = {\n      // @ts-ignore\n      cachedPositioning: null,\n      // @ts-ignore\n      visibility: null,\n      // @ts-ignore\n      position: null,\n    };\n    this.dom = React.createRef();\n  }\n  onTransitionEnd() {\n    return !this.props.open ? this.setInVisible() : null;\n  }\n  setVisibility(props = this.props) {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: props.open ? 'initial' : 'hidden',\n    }));\n  }\n  setVisible() {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: 'initial',\n    }));\n  }\n  setInVisible() {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: 'hidden',\n    }));\n  }\n  changeTriggerElmPosition(\n    fixed = this.props.fixed,\n    triggerElm = this.props.triggerElm,\n  ) {\n    const RELATIVE = 'relative';\n    let elm;\n    if (!fixed) {\n      elm = triggerElm;\n    } else {\n      elm = document.body;\n    }\n    if (elm) {\n      // @ts-expect-error TS(2339): Property 'style' does not exist on type 'object'.\n      elm.style.position = RELATIVE;\n    }\n  }\n  recordPositioning(triggerElm = this.props.triggerElm) {\n    if (triggerElm) {\n      const cachedPositioning = this.props.fixed\n        ? {\n            elm: document.body,\n            position: window.getComputedStyle(document.body).position,\n          }\n        : {\n            elm: triggerElm,\n            // @ts-expect-error TS(2345): Argument of type 'object' is not assignable to par... Remove this comment to see the full error message\n            position: window.getComputedStyle(triggerElm).position,\n          };\n      // @ts-expect-error TS(2345): Argument of type '{ cachedPositioning: { elm: obje... Remove this comment to see the full error message\n      this.setState({\n        cachedPositioning,\n      });\n    }\n  }\n  restorePositioning() {\n    // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n    if (this.state.cachedPositioning && this.state.cachedPositioning.elm) {\n      // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n      this.state.cachedPositioning.elm.style.potition =\n        // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n        this.state.cachedPositioning.position;\n    }\n  }\n  checkPosition(props = this.props) {\n    const triggerElm = this.props.triggerElm;\n    if (triggerElm) {\n      const {\n        dom: { current },\n      } = this;\n      const demensionOfTrigger = getDimensions(triggerElm);\n      const currentDemension = getDimensions(current);\n      let offset;\n      if (props.fixed) {\n        offset = getPageOffset(triggerElm);\n      } else {\n        offset = getRelativeOffset(triggerElm);\n      }\n      const top =\n        props.direction === POSITION.top\n          ? // @ts-expect-error TS(2531): Object is possibly 'null'.\n            offset && offset.top - currentDemension.height - TAIL_HEIGHT / 2\n          : // @ts-expect-error TS(2531): Object is possibly 'null'.\n            offset && offset.top + demensionOfTrigger.height + TAIL_HEIGHT / 2;\n      const left =\n        offset &&\n        // @ts-expect-error TS(2531): Object is possibly 'null'.\n        offset.left + demensionOfTrigger.width / 2 - currentDemension.width / 2;\n      this.setState((preState) => ({\n        // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n        ...preState,\n        position: {\n          left,\n          top,\n        },\n      }));\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this.recordPositioning();\n    this.changeTriggerElmPosition();\n    this.checkPosition();\n    this.setVisibility();\n    window.addEventListener('resize', this.onResize);\n    if (this.TRANSITION_END_EVT_NAME) {\n      this.dom.current.addEventListener(\n        this.TRANSITION_END_EVT_NAME,\n        this.onTransitionEnd,\n      );\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  UNSAFE_componentWillReceiveProps(nextProps: any) {\n    if (nextProps.triggerElm !== this.props.triggerElm) {\n      this.restorePositioning();\n      this.recordPositioning(nextProps.triggerElm);\n      this.changeTriggerElmPosition(nextProps.fixed, nextProps.triggerElm);\n    }\n    if (\n      nextProps.children !== this.props.children ||\n      nextProps.fixed !== this.props.fixed\n    ) {\n      this.checkPosition(nextProps);\n    }\n    if (nextProps.open !== this.props.open) {\n      if (nextProps.open) {\n        // @ts-expect-error TS(2554): Expected 0 arguments, but got 1.\n        this.setVisible(nextProps);\n      }\n      if (nextProps.open) {\n        this.props.beforeOpen?.();\n      } else {\n        this.props.beforeClose?.();\n      }\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidUpdate() {\n    if (this.props.open) {\n      this.props.onOpen?.();\n    } else {\n      this.props.onClose?.();\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n    if (this.TRANSITION_END_EVT_NAME) {\n      this.dom.current.removeEventListener(\n        this.TRANSITION_END_EVT_NAME,\n        this.onTransitionEnd,\n      );\n    }\n    this.restorePositioning();\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const { open, direction, fixed, children } = this.props;\n    return (\n      <div\n        ref={this.dom}\n        className={clsx(\n          styles.dropdownContainer,\n          open ? styles.opened : null,\n          // @ts-expect-error TS(2538): Type 'undefined' cannot be used as an index type.\n          styles[direction],\n        )}\n        style={{\n          // @ts-expect-error TS(2339): Property 'visibility' does not exist on type 'neve... Remove this comment to see the full error message\n          visibility: this.state.visibility,\n          position: fixed ? 'fixed' : 'absolute',\n          // @ts-expect-error TS(2339): Property 'position' does not exist on type 'never'... Remove this comment to see the full error message\n          ...this.state.position,\n        }}\n      >\n        <div className={styles.dropdown}>{children}</div>\n        <div className={styles.tail} />\n      </div>\n    );\n  }\n}\n// @ts-expect-error TS(2339): Property 'defaultProps' does not exist on type 'ty... Remove this comment to see the full error message\nTooltip.defaultProps = {\n  triggerElm: null,\n  fixed: false,\n  direction: 'bottom',\n  open: false,\n  children: null,\n  beforeOpen: (i: any) => i,\n  onOpen: (i: any) => i,\n  beforeClose: (i: any) => i,\n  onClose: (i: any) => i,\n};\nexport default Tooltip;\n"],"mappings":"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","ignoreList":[]}