{"version":3,"file":"index.js","names":["_ObjectMap","require","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","POSITION","ObjectMap","fromKeys","TAIL_HEIGHT","Math","sqrt","pow","getDimensions","element","PROPERTIES","position","visibility","nodeType","clonedEl","cloneNode","style","document","body","appendChild","result","width","offsetWidth","height","offsetHeight","removeChild","transitionEnd","el","createElement","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","name","undefined","getPageOffset","rect","getBoundingClientRect","scollLeft","window","pageXOffset","documentElement","scrollLeft","scrollTop","pageYOffset","top","left","getRelativeOffset","res","tmp","getComputedStyle","offsetTop","offsetLeft","parentElement","Tooltip","_Component","_super","props","_this","dom","onResize","TRANSITION_END_EVT_NAME","checkPosition","onTransitionEnd","state","cachedPositioning","React","createRef","open","setInVisible","setVisibility","setState","preState","setVisible","changeTriggerElmPosition","fixed","triggerElm","RELATIVE","elm","recordPositioning","restorePositioning","potition","current","demensionOfTrigger","currentDemension","offset","direction","componentDidMount","addEventListener","UNSAFE_componentWillReceiveProps","nextProps","children","_this$props$beforeOpe","_this$props","beforeOpen","_this$props$beforeClo","_this$props2","beforeClose","componentDidUpdate","_this$props$onOpen","_this$props3","onOpen","_this$props$onClose","_this$props4","onClose","componentWillUnmount","removeEventListener","render","_this$props5","ref","className","clsx","styles","dropdownContainer","opened","dropdown","tail","Component","defaultProps","_default","exports"],"sources":["components/Tooltip/index.tsx"],"sourcesContent":["import { ObjectMap } from '@ringcentral-integration/core/lib/ObjectMap';\nimport clsx from 'clsx';\nimport React, { Component } from 'react';\n\nimport styles from './styles.scss';\n\nconst POSITION = ObjectMap.fromKeys(['top', 'left']);\nconst TAIL_HEIGHT = Math.sqrt(10 ** 2 * 2);\nconst getDimensions = (element: any) => {\n  const PROPERTIES = {\n    position: 'fixed',\n    visibility: 'hidden',\n  };\n  if (element.nodeType) {\n    let clonedEl = element.cloneNode(true);\n    Object.keys(PROPERTIES).forEach((key) => {\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      clonedEl.style[key] = PROPERTIES[key];\n    });\n    document.body.appendChild(clonedEl);\n    const result = {\n      width: element.offsetWidth,\n      height: element.offsetHeight,\n    };\n    document.body.removeChild(clonedEl);\n    clonedEl = null;\n    return result;\n  }\n  return null;\n};\nconst transitionEnd = () => {\n  const el = document.createElement('bootstrap');\n  const transEndEventNames = {\n    WebkitTransition: 'webkitTransitionEnd',\n    MozTransition: 'transitionend',\n    OTransition: 'oTransitionEnd otransitionend',\n    transition: 'transitionend',\n  };\n  for (const name in transEndEventNames) {\n    // @ts-expect-error TS(7015): Element implicitly has an 'any' type because index... Remove this comment to see the full error message\n    if (el.style[name] !== undefined) {\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      return transEndEventNames[name];\n    }\n  }\n  return null;\n};\nconst getPageOffset = (el: any) => {\n  if (!el) {\n    return null;\n  }\n  const rect = el.getBoundingClientRect();\n  const scollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n  return {\n    top: rect.top + scrollTop,\n    left: rect.left + scollLeft,\n  };\n};\nconst getRelativeOffset = (el: any) => {\n  const res = { top: 0, left: 0 };\n  if (!el) {\n    return null;\n  }\n  let tmp = el;\n  while (window.getComputedStyle(tmp).position === 'static') {\n    res.top += el.offsetTop;\n    res.left += el.offsetLeft;\n    tmp = tmp.parentElement;\n  }\n  return res;\n};\ntype TooltipProps = {\n  triggerElm?: object;\n  fixed?: boolean;\n  direction?: string;\n  open?: boolean;\n  onOpen?: (...args: any[]) => any;\n  beforeOpen?: (...args: any[]) => any;\n  beforeClose?: (...args: any[]) => any;\n  onClose?: (...args: any[]) => any;\n};\ntype TooltipState = ((preState: any) => any) &\n  ((preState: any) => any) &\n  ((preState: any) => any) & {\n    cachedPositioning: { elm: any; position: string };\n  } & ((preState: any) => any) & {\n    cachedPositioning: null;\n    visibility: null;\n    position: null;\n  };\nclass Tooltip extends Component<TooltipProps, TooltipState> {\n  dom: any;\n  onResize: any;\n  TRANSITION_END_EVT_NAME: any;\n  constructor(props: any) {\n    super(props);\n    this.onResize = this.checkPosition.bind(this);\n    this.onTransitionEnd = this.onTransitionEnd.bind(this);\n    this.TRANSITION_END_EVT_NAME = transitionEnd();\n\n    // @ts-ignore\n    this.state = {\n      // @ts-ignore\n      cachedPositioning: null,\n      // @ts-ignore\n      visibility: null,\n      // @ts-ignore\n      position: null,\n    };\n    this.dom = React.createRef();\n  }\n  onTransitionEnd() {\n    return !this.props.open ? this.setInVisible() : null;\n  }\n  setVisibility(props = this.props) {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: props.open ? 'initial' : 'hidden',\n    }));\n  }\n  setVisible() {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: 'initial',\n    }));\n  }\n  setInVisible() {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: 'hidden',\n    }));\n  }\n  changeTriggerElmPosition(\n    fixed = this.props.fixed,\n    triggerElm = this.props.triggerElm,\n  ) {\n    const RELATIVE = 'relative';\n    let elm;\n    if (!fixed) {\n      elm = triggerElm;\n    } else {\n      elm = document.body;\n    }\n    if (elm) {\n      // @ts-expect-error TS(2339): Property 'style' does not exist on type 'object'.\n      elm.style.position = RELATIVE;\n    }\n  }\n  recordPositioning(triggerElm = this.props.triggerElm) {\n    if (triggerElm) {\n      const cachedPositioning = this.props.fixed\n        ? {\n            elm: document.body,\n            position: window.getComputedStyle(document.body).position,\n          }\n        : {\n            elm: triggerElm,\n            // @ts-expect-error TS(2345): Argument of type 'object' is not assignable to par... Remove this comment to see the full error message\n            position: window.getComputedStyle(triggerElm).position,\n          };\n      // @ts-expect-error TS(2345): Argument of type '{ cachedPositioning: { elm: obje... Remove this comment to see the full error message\n      this.setState({\n        cachedPositioning,\n      });\n    }\n  }\n  restorePositioning() {\n    // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n    if (this.state.cachedPositioning && this.state.cachedPositioning.elm) {\n      // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n      this.state.cachedPositioning.elm.style.potition =\n        // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n        this.state.cachedPositioning.position;\n    }\n  }\n  checkPosition(props = this.props) {\n    const triggerElm = this.props.triggerElm;\n    if (triggerElm) {\n      const {\n        dom: { current },\n      } = this;\n      const demensionOfTrigger = getDimensions(triggerElm);\n      const currentDemension = getDimensions(current);\n      let offset;\n      if (props.fixed) {\n        offset = getPageOffset(triggerElm);\n      } else {\n        offset = getRelativeOffset(triggerElm);\n      }\n      const top =\n        props.direction === POSITION.top\n          ? // @ts-expect-error TS(2531): Object is possibly 'null'.\n            offset && offset.top - currentDemension.height - TAIL_HEIGHT / 2\n          : // @ts-expect-error TS(2531): Object is possibly 'null'.\n            offset && offset.top + demensionOfTrigger.height + TAIL_HEIGHT / 2;\n      const left =\n        offset &&\n        // @ts-expect-error TS(2531): Object is possibly 'null'.\n        offset.left + demensionOfTrigger.width / 2 - currentDemension.width / 2;\n      this.setState((preState) => ({\n        // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n        ...preState,\n        position: {\n          left,\n          top,\n        },\n      }));\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this.recordPositioning();\n    this.changeTriggerElmPosition();\n    this.checkPosition();\n    this.setVisibility();\n    window.addEventListener('resize', this.onResize);\n    if (this.TRANSITION_END_EVT_NAME) {\n      this.dom.current.addEventListener(\n        this.TRANSITION_END_EVT_NAME,\n        this.onTransitionEnd,\n      );\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  UNSAFE_componentWillReceiveProps(nextProps: any) {\n    if (nextProps.triggerElm !== this.props.triggerElm) {\n      this.restorePositioning();\n      this.recordPositioning(nextProps.triggerElm);\n      this.changeTriggerElmPosition(nextProps.fixed, nextProps.triggerElm);\n    }\n    if (\n      nextProps.children !== this.props.children ||\n      nextProps.fixed !== this.props.fixed\n    ) {\n      this.checkPosition(nextProps);\n    }\n    if (nextProps.open !== this.props.open) {\n      if (nextProps.open) {\n        // @ts-expect-error TS(2554): Expected 0 arguments, but got 1.\n        this.setVisible(nextProps);\n      }\n      if (nextProps.open) {\n        this.props.beforeOpen?.();\n      } else {\n        this.props.beforeClose?.();\n      }\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidUpdate() {\n    if (this.props.open) {\n      this.props.onOpen?.();\n    } else {\n      this.props.onClose?.();\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n    if (this.TRANSITION_END_EVT_NAME) {\n      this.dom.current.removeEventListener(\n        this.TRANSITION_END_EVT_NAME,\n        this.onTransitionEnd,\n      );\n    }\n    this.restorePositioning();\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const { open, direction, fixed, children } = this.props;\n    return (\n      <div\n        ref={this.dom}\n        className={clsx(\n          styles.dropdownContainer,\n          open ? styles.opened : null,\n          // @ts-expect-error TS(2538): Type 'undefined' cannot be used as an index type.\n          styles[direction],\n        )}\n        style={{\n          // @ts-expect-error TS(2339): Property 'visibility' does not exist on type 'neve... Remove this comment to see the full error message\n          visibility: this.state.visibility,\n          position: fixed ? 'fixed' : 'absolute',\n          // @ts-expect-error TS(2339): Property 'position' does not exist on type 'never'... Remove this comment to see the full error message\n          ...this.state.position,\n        }}\n      >\n        <div className={styles.dropdown}>{children}</div>\n        <div className={styles.tail} />\n      </div>\n    );\n  }\n}\n// @ts-expect-error TS(2339): Property 'defaultProps' does not exist on type 'ty... Remove this comment to see the full error message\nTooltip.defaultProps = {\n  triggerElm: null,\n  fixed: false,\n  direction: 'bottom',\n  open: false,\n  children: null,\n  beforeOpen: (i: any) => i,\n  onOpen: (i: any) => i,\n  beforeClose: (i: any) => i,\n  onClose: (i: any) => i,\n};\nexport default Tooltip;\n"],"mappings":"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","ignoreList":[]}