{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_ObjectMap","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","value","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","POSITION","ObjectMap","fromKeys","TAIL_HEIGHT","Math","sqrt","pow","getDimensions","element","PROPERTIES","position","visibility","nodeType","clonedEl","cloneNode","style","document","body","appendChild","width","offsetWidth","height","offsetHeight","removeChild","transitionEnd","el","createElement","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","name","getPageOffset","rect","getBoundingClientRect","scollLeft","window","pageXOffset","documentElement","scrollLeft","scrollTop","pageYOffset","top","left","getRelativeOffset","tmp","getComputedStyle","offsetTop","offsetLeft","parentElement","TRANSITION_END_EVT_NAME","Tooltip","_Component","_super","_this","dom","onResize","checkPosition","onTransitionEnd","state","cachedPositioning","React","createRef","open","setInVisible","setVisibility","setState","preState","setVisible","changeTriggerElmPosition","fixed","triggerElm","RELATIVE","elm","recordPositioning","restorePositioning","potition","current","demensionOfTrigger","currentDemension","offset","direction","componentDidMount","addEventListener","UNSAFE_componentWillReceiveProps","nextProps","children","_this$props$beforeOpe","_this$props","beforeOpen","_this$props$beforeClo","_this$props2","beforeClose","componentDidUpdate","_this$props$onOpen","_this$props3","onOpen","_this$props$onClose","_this$props4","onClose","componentWillUnmount","removeEventListener","render","_this$props5","ref","className","classnames","styles","dropdownContainer","opened","dropdown","tail","Component","defaultProps","_default","exports"],"sources":["components/Tooltip/index.tsx"],"sourcesContent":["import React, { Component } from 'react';\n\nimport classnames from 'classnames';\n\nimport { ObjectMap } from '@ringcentral-integration/core/lib/ObjectMap';\n\nimport styles from './styles.scss';\n\nconst POSITION = ObjectMap.fromKeys(['top', 'left']);\nconst TAIL_HEIGHT = Math.sqrt(10 ** 2 * 2);\nconst getDimensions = (element: any) => {\n  const PROPERTIES = {\n    position: 'fixed',\n    visibility: 'hidden',\n  };\n  if (element.nodeType) {\n    let clonedEl = element.cloneNode(true);\n    Object.keys(PROPERTIES).forEach((key) => {\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      clonedEl.style[key] = PROPERTIES[key];\n    });\n    document.body.appendChild(clonedEl);\n    const result = {\n      width: element.offsetWidth,\n      height: element.offsetHeight,\n    };\n    document.body.removeChild(clonedEl);\n    clonedEl = null;\n    return result;\n  }\n  return null;\n};\nconst transitionEnd = () => {\n  const el = document.createElement('bootstrap');\n  const transEndEventNames = {\n    WebkitTransition: 'webkitTransitionEnd',\n    MozTransition: 'transitionend',\n    OTransition: 'oTransitionEnd otransitionend',\n    transition: 'transitionend',\n  };\n  for (const name in transEndEventNames) {\n    // @ts-expect-error TS(7015): Element implicitly has an 'any' type because index... Remove this comment to see the full error message\n    if (el.style[name] !== undefined) {\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      return transEndEventNames[name];\n    }\n  }\n  return null;\n};\nconst getPageOffset = (el: any) => {\n  if (!el) {\n    return null;\n  }\n  const rect = el.getBoundingClientRect();\n  const scollLeft = window.pageXOffset || document.documentElement.scrollLeft;\n  const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n  return {\n    top: rect.top + scrollTop,\n    left: rect.left + scollLeft,\n  };\n};\nconst getRelativeOffset = (el: any) => {\n  const res = { top: 0, left: 0 };\n  if (!el) {\n    return null;\n  }\n  let tmp = el;\n  while (window.getComputedStyle(tmp).position === 'static') {\n    res.top += el.offsetTop;\n    res.left += el.offsetLeft;\n    tmp = tmp.parentElement;\n  }\n  return res;\n};\nconst TRANSITION_END_EVT_NAME = transitionEnd();\ntype TooltipProps = {\n  triggerElm?: object;\n  fixed?: boolean;\n  direction?: string;\n  open?: boolean;\n  onOpen?: (...args: any[]) => any;\n  beforeOpen?: (...args: any[]) => any;\n  beforeClose?: (...args: any[]) => any;\n  onClose?: (...args: any[]) => any;\n};\ntype TooltipState = ((preState: any) => any) &\n  ((preState: any) => any) &\n  ((preState: any) => any) & {\n    cachedPositioning: { elm: any; position: string };\n  } & ((preState: any) => any) & {\n    cachedPositioning: null;\n    visibility: null;\n    position: null;\n  };\nclass Tooltip extends Component<TooltipProps, TooltipState> {\n  dom: any;\n  onResize: any;\n  constructor(props: any) {\n    super(props);\n    this.onResize = this.checkPosition.bind(this);\n    this.onTransitionEnd = this.onTransitionEnd.bind(this);\n    // @ts-ignore\n    this.state = {\n      // @ts-ignore\n      cachedPositioning: null,\n      // @ts-ignore\n      visibility: null,\n      // @ts-ignore\n      position: null,\n    };\n    this.dom = React.createRef();\n  }\n  onTransitionEnd() {\n    return !this.props.open ? this.setInVisible() : null;\n  }\n  setVisibility(props = this.props) {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: props.open ? 'initial' : 'hidden',\n    }));\n  }\n  setVisible() {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: 'initial',\n    }));\n  }\n  setInVisible() {\n    this.setState((preState) => ({\n      // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n      ...preState,\n      visibility: 'hidden',\n    }));\n  }\n  changeTriggerElmPosition(\n    fixed = this.props.fixed,\n    triggerElm = this.props.triggerElm,\n  ) {\n    const RELATIVE = 'relative';\n    let elm;\n    if (!fixed) {\n      elm = triggerElm;\n    } else {\n      elm = document.body;\n    }\n    if (elm) {\n      // @ts-expect-error TS(2339): Property 'style' does not exist on type 'object'.\n      elm.style.position = RELATIVE;\n    }\n  }\n  recordPositioning(triggerElm = this.props.triggerElm) {\n    if (triggerElm) {\n      const cachedPositioning = this.props.fixed\n        ? {\n            elm: document.body,\n            position: window.getComputedStyle(document.body).position,\n          }\n        : {\n            elm: triggerElm,\n            // @ts-expect-error TS(2345): Argument of type 'object' is not assignable to par... Remove this comment to see the full error message\n            position: window.getComputedStyle(triggerElm).position,\n          };\n      // @ts-expect-error TS(2345): Argument of type '{ cachedPositioning: { elm: obje... Remove this comment to see the full error message\n      this.setState({\n        cachedPositioning,\n      });\n    }\n  }\n  restorePositioning() {\n    // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n    if (this.state.cachedPositioning && this.state.cachedPositioning.elm) {\n      // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n      this.state.cachedPositioning.elm.style.potition =\n        // @ts-expect-error TS(2339): Property 'cachedPositioning' does not exist on typ... Remove this comment to see the full error message\n        this.state.cachedPositioning.position;\n    }\n  }\n  checkPosition(props = this.props) {\n    const triggerElm = this.props.triggerElm;\n    if (triggerElm) {\n      const {\n        dom: { current },\n      } = this;\n      const demensionOfTrigger = getDimensions(triggerElm);\n      const currentDemension = getDimensions(current);\n      let offset;\n      if (props.fixed) {\n        offset = getPageOffset(triggerElm);\n      } else {\n        offset = getRelativeOffset(triggerElm);\n      }\n      const top =\n        props.direction === POSITION.top\n          ? // @ts-expect-error TS(2531): Object is possibly 'null'.\n            offset && offset.top - currentDemension.height - TAIL_HEIGHT / 2\n          : // @ts-expect-error TS(2531): Object is possibly 'null'.\n            offset && offset.top + demensionOfTrigger.height + TAIL_HEIGHT / 2;\n      const left =\n        offset &&\n        // @ts-expect-error TS(2531): Object is possibly 'null'.\n        offset.left + demensionOfTrigger.width / 2 - currentDemension.width / 2;\n      this.setState((preState) => ({\n        // @ts-expect-error TS(2698): Spread types may only be created from object types... Remove this comment to see the full error message\n        ...preState,\n        position: {\n          left,\n          top,\n        },\n      }));\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this.recordPositioning();\n    this.changeTriggerElmPosition();\n    this.checkPosition();\n    this.setVisibility();\n    window.addEventListener('resize', this.onResize);\n    if (TRANSITION_END_EVT_NAME) {\n      this.dom.current.addEventListener(\n        TRANSITION_END_EVT_NAME,\n        this.onTransitionEnd,\n      );\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  UNSAFE_componentWillReceiveProps(nextProps: any) {\n    if (nextProps.triggerElm !== this.props.triggerElm) {\n      this.restorePositioning();\n      this.recordPositioning(nextProps.triggerElm);\n      this.changeTriggerElmPosition(nextProps.fixed, nextProps.triggerElm);\n    }\n    if (\n      nextProps.children !== this.props.children ||\n      nextProps.fixed !== this.props.fixed\n    ) {\n      this.checkPosition(nextProps);\n    }\n    if (nextProps.open !== this.props.open) {\n      if (nextProps.open) {\n        // @ts-expect-error TS(2554): Expected 0 arguments, but got 1.\n        this.setVisible(nextProps);\n      }\n      if (nextProps.open) {\n        this.props.beforeOpen?.();\n      } else {\n        this.props.beforeClose?.();\n      }\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidUpdate() {\n    if (this.props.open) {\n      this.props.onOpen?.();\n    } else {\n      this.props.onClose?.();\n    }\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.onResize);\n    if (TRANSITION_END_EVT_NAME) {\n      this.dom.current.removeEventListener(\n        TRANSITION_END_EVT_NAME,\n        this.onTransitionEnd,\n      );\n    }\n    this.restorePositioning();\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const { open, direction, fixed, children } = this.props;\n    return (\n      <div\n        ref={this.dom}\n        className={classnames(\n          styles.dropdownContainer,\n          open ? styles.opened : null,\n          // @ts-expect-error TS(2538): Type 'undefined' cannot be used as an index type.\n          styles[direction],\n        )}\n        style={{\n          // @ts-expect-error TS(2339): Property 'visibility' does not exist on type 'neve... Remove this comment to see the full error message\n          visibility: this.state.visibility,\n          position: fixed ? 'fixed' : 'absolute',\n          // @ts-expect-error TS(2339): Property 'position' does not exist on type 'never'... Remove this comment to see the full error message\n          ...this.state.position,\n        }}\n      >\n        <div className={styles.dropdown}>{children}</div>\n        <div className={styles.tail} />\n      </div>\n    );\n  }\n}\n// @ts-expect-error TS(2339): Property 'defaultProps' does not exist on type 'ty... Remove this comment to see the full error message\nTooltip.defaultProps = {\n  triggerElm: null,\n  fixed: false,\n  direction: 'bottom',\n  open: false,\n  children: null,\n  beforeOpen: (i: any) => i,\n  onOpen: (i: any) => i,\n  beforeClose: (i: any) => i,\n  onClose: (i: any) => i,\n};\nexport default Tooltip;\n"],"mappings":"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"}