{"version":3,"file":"index.js","names":["_Presence","require","_juno","_clsx","_interopRequireDefault","_react","_interopRequireWildcard","_DynamicsFont","_getPresenceStatusName","_IconLine","_usePresenceItems2","_Switch","_i18n","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","f","o","next","done","push","value","isArray","_templateObject2","data","_taggedTemplateLiteral","_templateObject","freeze","defineProperties","raw","StyledList","styled","RcList","palette2","RcListItem","spacing","StyledPresenceWrap","div","flexCenterStyle","RcPresence","PresenceSettingSection","_ref","_ref$showPresenceSett","showPresenceSettings","toggleAcceptCallQueueCalls","isCallQueueMember","dndStatusProp","dndStatus","userStatus","currentLocale","setAvailable","setBusy","setDoNotDisturb","setInvisible","_useState","useState","_useState2","showSelects","setShowSelects","toggleShow","prev","onCallQueueChange","sectionClass","clsx","styles","section","showDropdown","acceptQueueCalls","createElement","dataSign","icon","disable","doNotAcceptAnyCalls","checked","takeAllCalls","onChange","i18n","getString","currentStatus","getPresenceStatusName","_usePresenceItems","usePresenceItems","type","presenceElements","elements","selectedItem","className","dropdownIcon","dynamicsFont","arrow","onClick","iconLine","RcBox","flex","size","presenceList","exports"],"sources":["components/PresenceSettingSection/index.tsx"],"sourcesContent":["import type { DNDStatusValueType } from '@ringcentral-integration/commons/modules/Presence';\nimport { dndStatus } from '@ringcentral-integration/commons/modules/Presence';\nimport {\n  flexCenterStyle,\n  palette2,\n  RcBox,\n  RcList,\n  RcListItem,\n  RcPresence,\n  spacing,\n  styled,\n} from '@ringcentral/juno';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React, { useState } from 'react';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport { getPresenceStatusName } from '../../lib/getPresenceStatusName';\nimport IconLine from '../IconLine';\nimport { usePresenceItems } from '../PresenceDropdown/usePresenceItems';\nimport Switch from '../Switch';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst StyledList = styled(RcList)`\n  background-color: ${palette2('neutral', 'elevation')};\n\n  ${RcListItem} {\n    padding-left: ${spacing(5)};\n  }\n`;\n\n// TODO: when full page refactor, remove this\nconst StyledPresenceWrap = styled.div`\n  ${flexCenterStyle};\n  color: ${palette2('neutral', 'f05')};\n\n  ${RcPresence} {\n    margin-right: ${spacing(2)};\n  }\n`;\n\ntype PresenceSettingSectionProps = {\n  currentLocale: string;\n  dndStatus: DNDStatusValueType;\n  userStatus: string;\n  isCallQueueMember: boolean;\n  setAvailable: (...args: any[]) => any;\n  setBusy: (...args: any[]) => any;\n  setDoNotDisturb: (...args: any[]) => any;\n  setInvisible: (...args: any[]) => any;\n  toggleAcceptCallQueueCalls: (...args: any[]) => any;\n  showPresenceSettings: boolean;\n};\n\nexport const PresenceSettingSection: FunctionComponent<\n  PresenceSettingSectionProps\n> = ({\n  showPresenceSettings = false,\n  toggleAcceptCallQueueCalls,\n  isCallQueueMember,\n  dndStatus: dndStatusProp,\n  userStatus,\n  currentLocale,\n  setAvailable,\n  setBusy,\n  setDoNotDisturb,\n  setInvisible,\n}) => {\n  const [showSelects, setShowSelects] = useState(showPresenceSettings);\n\n  const toggleShow = () => {\n    setShowSelects((prev) => !prev);\n  };\n\n  const onCallQueueChange = () => {\n    toggleAcceptCallQueueCalls();\n  };\n\n  const sectionClass = clsx(\n    styles.section,\n    showSelects ? styles.showDropdown : null,\n  );\n  const acceptQueueCalls = isCallQueueMember ? (\n    <IconLine\n      dataSign=\"acceptQueueSwitch\"\n      icon={\n        <Switch\n          disable={dndStatusProp === dndStatus.doNotAcceptAnyCalls}\n          checked={dndStatusProp === dndStatus.takeAllCalls}\n          onChange={onCallQueueChange}\n        />\n      }\n    >\n      {i18n.getString('acceptQueueCalls', currentLocale)}\n    </IconLine>\n  ) : null;\n  const currentStatus = getPresenceStatusName(\n    userStatus as any,\n    dndStatusProp as any,\n    currentLocale,\n  );\n\n  const { elements: presenceElements, selectedItem } = usePresenceItems({\n    currentLocale,\n    userStatus,\n    dndStatus: dndStatusProp,\n    onChange: (type) => {\n      switch (type) {\n        case 'available':\n          setAvailable();\n          break;\n        case 'busy':\n          setBusy();\n          break;\n        case 'DND':\n          setDoNotDisturb();\n          break;\n        case 'offline':\n          setInvisible();\n          break;\n        default:\n          break;\n      }\n    },\n  });\n\n  return (\n    <section className={sectionClass}>\n      <IconLine\n        dataSign=\"statusToggleShow\"\n        icon={\n          <span className={styles.dropdownIcon}>\n            <i className={dynamicsFont.arrow} />\n          </span>\n        }\n        onClick={toggleShow}\n        className={styles.iconLine}\n      >\n        <StyledPresenceWrap>\n          <div data-sign=\"status\">\n            {i18n.getString('status', currentLocale)}\n          </div>\n          <RcBox flex=\"1 1 auto\" />\n          <RcPresence size=\"medium\" type={selectedItem?.type} />\n          <span>{currentStatus}</span>\n        </StyledPresenceWrap>\n      </IconLine>\n      <StyledList className={styles.presenceList}>\n        {presenceElements}\n      </StyledList>\n      {acceptQueueCalls}\n    </section>\n  );\n};\n\n// export default class PresenceSettingSection extends Component<\n//   PresenceSettingSectionProps,\n//   PresenceSettingSectionState\n// > {\n//   constructor(props) {\n//     super(props);\n//   }\n// }\n"],"mappings":"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","ignoreList":[]}