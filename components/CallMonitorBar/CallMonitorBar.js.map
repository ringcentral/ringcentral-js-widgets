{"version":3,"file":"CallMonitorBar.js","names":["_utils","require","_react","_interopRequireWildcard","_Button","_CarrouselBar","_interopRequireDefault","_DurationCounter","_CallInfoBar","_i18n","_styles","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","f","o","next","done","push","value","isArray","CallMonitorBar","props","_props$ringingCalls","ringingCalls","emptyArray","_props$currentCalls","currentCalls","_props$onHoldCalls","onHoldCalls","_props$otherDeviceCal","otherDeviceCalls","onCurrentCallBtnClick","onViewCallBtnClick","_props$shouldDisplayC","shouldDisplayCurrentCallBtn","_props$shouldDisplayV","shouldDisplayViewCallsBtn","_props$shouldHideRing","shouldHideRingingCallStatus","_props$clickHeaderTra","clickHeaderTrack","emptyFn","_props$useV","useV2","currentLocale","_useState","useState","_useState2","hoverBar","setHoverBar","showBtn","hideBtn","numberOfIncomingCalls","numberOfOnHoldCalls","numberOfOtherDeviceCalls","createElement","className","styles","bar","onMouseOver","onMouseLeave","onClick","box","CallInfoBar","label","format","i18n","getString","numberOf","dataSign","callInfoBarV2","duration","DurationCounter","startTime","Button","currentCallBtn","exports"],"sources":["components/CallMonitorBar/CallMonitorBar.tsx"],"sourcesContent":["import { emptyArray, emptyFn, format } from '@ringcentral-integration/utils';\nimport type { FunctionComponent } from 'react';\nimport React, { useState } from 'react';\n\nimport { Button } from '../Button';\nimport CarrouselBar from '../CarrouselBar';\nimport { DurationCounter } from '../DurationCounter';\n\nimport { CallInfoBar } from './CallInfoBar';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\ntype CallMonitorBarProps = {\n  currentLocale: string;\n  ringingCalls?: any[];\n  currentCalls?: any[];\n  onHoldCalls?: any[];\n  otherDeviceCalls?: any[];\n  onCurrentCallBtnClick?: () => void;\n  onViewCallBtnClick?: () => void;\n  shouldDisplayCurrentCallBtn?: boolean;\n  shouldDisplayViewCallsBtn?: boolean;\n  shouldHideRingingCallStatus?: boolean;\n  clickHeaderTrack?: () => void;\n  useV2?: boolean;\n};\n\nexport const CallMonitorBar: FunctionComponent<CallMonitorBarProps> = (\n  props,\n) => {\n  const {\n    ringingCalls = emptyArray,\n    currentCalls = emptyArray,\n    onHoldCalls = emptyArray,\n    otherDeviceCalls = emptyArray,\n    onCurrentCallBtnClick,\n    onViewCallBtnClick,\n    shouldDisplayCurrentCallBtn = false,\n    shouldDisplayViewCallsBtn = false,\n    shouldHideRingingCallStatus = false,\n    clickHeaderTrack = emptyFn,\n    useV2 = false,\n    currentLocale,\n  } = props;\n  const [hoverBar, setHoverBar] = useState(false);\n  const showBtn = () => {\n    if (currentCalls.length > 0) {\n      setHoverBar(true);\n    }\n  };\n  const hideBtn = () => {\n    setHoverBar(false);\n  };\n  const numberOfIncomingCalls = ringingCalls.length;\n  const numberOfOnHoldCalls = onHoldCalls.length;\n  const numberOfOtherDeviceCalls = otherDeviceCalls.length;\n\n  return (\n    <div\n      className={styles.bar}\n      onMouseOver={showBtn}\n      onMouseLeave={hideBtn}\n      onClick={clickHeaderTrack}\n    >\n      <div className={styles.box}>\n        <CarrouselBar hoverBar={hoverBar}>\n          {numberOfOnHoldCalls > 0 ? (\n            <CallInfoBar\n              label={\n                numberOfOnHoldCalls === 1\n                  ? format(i18n.getString('callOnHold', currentLocale), {\n                      numberOf: numberOfOnHoldCalls,\n                    })\n                  : format(i18n.getString('callsOnHold', currentLocale), {\n                      numberOf: numberOfOnHoldCalls,\n                    })\n              }\n              currentLocale={currentLocale}\n              onClick={onViewCallBtnClick}\n              shouldDisplayViewCallsBtn={shouldDisplayViewCallsBtn}\n              useV2={useV2}\n              dataSign=\"CallOnHold\"\n            />\n          ) : null}\n          {!shouldHideRingingCallStatus && numberOfIncomingCalls > 0 ? (\n            <CallInfoBar\n              label={\n                numberOfIncomingCalls === 1\n                  ? format(i18n.getString('incomingCall', currentLocale), {\n                      numberOf: numberOfIncomingCalls,\n                    })\n                  : format(i18n.getString('incomingCalls', currentLocale), {\n                      numberOf: numberOfIncomingCalls,\n                    })\n              }\n              currentLocale={currentLocale}\n              onClick={onViewCallBtnClick}\n              shouldDisplayViewCallsBtn={shouldDisplayViewCallsBtn}\n              useV2={useV2}\n              dataSign=\"IncomingCalls\"\n            />\n          ) : null}\n          {numberOfOtherDeviceCalls > 0 ? (\n            <CallInfoBar\n              label={\n                numberOfOtherDeviceCalls === 1\n                  ? format(i18n.getString('otherDeviceCall', currentLocale), {\n                      numberOf: numberOfOtherDeviceCalls,\n                    })\n                  : format(i18n.getString('otherDeviceCalls', currentLocale), {\n                      numberOf: numberOfOtherDeviceCalls,\n                    })\n              }\n              currentLocale={currentLocale}\n              onClick={onViewCallBtnClick}\n              shouldDisplayViewCallsBtn={shouldDisplayViewCallsBtn}\n              useV2={useV2}\n              dataSign=\"otherDeviceCalls\"\n            />\n          ) : null}\n          {currentCalls.length > 0 ? (\n            <div className={useV2 ? styles.callInfoBarV2 : styles.bar}>\n              <div\n                data-sign=\"callDuration\"\n                className={styles.duration}\n                onClick={onCurrentCallBtnClick}\n              >\n                <DurationCounter startTime={currentCalls[0].startTime} />\n              </div>\n              {shouldDisplayCurrentCallBtn && onCurrentCallBtnClick ? (\n                <Button\n                  data-sign=\"currentCallButton\"\n                  dataSign=\"currentCallButton\"\n                  className={styles.currentCallBtn}\n                  onClick={onCurrentCallBtnClick}\n                >\n                  {i18n.getString('currentCall', currentLocale)}\n                </Button>\n              ) : null}\n            </div>\n          ) : null}\n        </CarrouselBar>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]}