{"version":3,"file":"index.js","names":["_clsx","_interopRequireDefault","require","_react","_interopRequireWildcard","_MessageItem","_i18n","_styles","_excluded","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_extends","assign","bind","arguments","length","apply","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","indexOf","propertyIsEnumerable","_classCallCheck","a","TypeError","_defineProperties","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","_inherits","create","value","_setPrototypeOf","ConversationList","_Component","props","_this","_scrollTop","messagesListBody","onScroll","totalScrollHeight","scrollHeight","clientHeight","currentScrollTop","scrollTop","loadNextPage","componentDidUpdate","prevProps","typeFilter","render","_this2","_this$props","className","currentLocale","currentSiteCode","isMultipleSiteEnabled","conversations","perPage","disableLinks","disableCallButton","placeholder","loadingNextPage","formatPhone","renderActionMenuExtraButton","childProps","content","map","item","createElement","conversation","id","loading","styles","i18n","getString","clsx","root","ref","list","Component","defaultProps","undefined","dateTimeFormatter","showContactDisplayPlaceholder","sourceIcons","phoneTypeRenderer","phoneSourceNameRenderer","showGroupNumberName","renderExtraButton","enableCDC","_default","exports"],"sources":["components/ConversationList/index.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport React, { Component } from 'react';\n\nimport type { MessageItemProps } from '../MessageItem';\nimport MessageItem from '../MessageItem';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type ConversationListProps = {\n  brand: string;\n  currentLocale: string;\n  currentSiteCode?: string;\n  isMultipleSiteEnabled?: boolean;\n  conversations: {\n    id?: number;\n    conversationId: string;\n    subject?: string;\n  }[];\n  disableLinks?: boolean;\n  disableCallButton?: boolean;\n  perPage?: number;\n  className?: string;\n  showConversationDetail: (...args: any[]) => any;\n  readMessage: (...args: any[]) => any;\n  markMessage: (...args: any[]) => any;\n  unmarkMessage: (...args: any[]) => any;\n  dateTimeFormatter?: (...args: any[]) => any;\n  showContactDisplayPlaceholder?: boolean;\n  sourceIcons?: object;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  showGroupNumberName?: boolean;\n  placeholder?: string;\n  typeFilter?: string;\n  loadNextPage?: (...args: any[]) => any;\n  loadingNextPage?: boolean;\n  renderExtraButton?: (...args: any[]) => any;\n  enableCDC?: boolean;\n  maxExtensionNumberLength: number;\n  formatPhone?: (formatPhone: string) => string | undefined;\n} & Omit<MessageItemProps, 'conversation'>;\nclass ConversationList extends Component<ConversationListProps, {}> {\n  _scrollTop: any;\n  messagesListBody: any;\n  constructor(props: any) {\n    super(props);\n    this._scrollTop = 0;\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidUpdate(prevProps: any) {\n    if (this.props.typeFilter === prevProps.typeFilter) {\n      return;\n    }\n    if (this.messagesListBody) {\n      this.messagesListBody.scrollTop = 0;\n    }\n  }\n  onScroll = () => {\n    const totalScrollHeight = this.messagesListBody.scrollHeight;\n    const { clientHeight } = this.messagesListBody;\n    const currentScrollTop = this.messagesListBody.scrollTop;\n    // load next page if scroll near buttom\n    if (\n      totalScrollHeight - this._scrollTop > clientHeight + 10 &&\n      totalScrollHeight - currentScrollTop <= clientHeight + 10\n    ) {\n      if (typeof this.props.loadNextPage === 'function') {\n        this.props.loadNextPage();\n      }\n    }\n    this._scrollTop = currentScrollTop;\n  };\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const {\n      className,\n      currentLocale,\n      currentSiteCode,\n      isMultipleSiteEnabled,\n      conversations,\n      perPage,\n      disableLinks,\n      disableCallButton,\n      placeholder,\n      loadingNextPage,\n      formatPhone,\n      renderActionMenuExtraButton,\n      ...childProps\n    } = this.props;\n    let content;\n    if (conversations && conversations.length) {\n      content = conversations.map((item) => (\n        <MessageItem\n          {...childProps}\n          formatPhone={formatPhone}\n          conversation={item}\n          currentLocale={currentLocale}\n          currentSiteCode={currentSiteCode}\n          isMultipleSiteEnabled={isMultipleSiteEnabled}\n          key={item.id}\n          disableLinks={disableLinks}\n          disableCallButton={disableCallButton}\n          renderActionMenuExtraButton={renderActionMenuExtraButton}\n        />\n      ));\n    }\n    const loading = loadingNextPage ? (\n      <div className={styles.loading}>\n        {i18n.getString('loading', currentLocale)}\n      </div>\n    ) : null;\n    return (\n      <div\n        className={clsx(styles.root, className)}\n        data-sign=\"conversationList\"\n        onScroll={this.onScroll}\n        ref={(list) => {\n          this.messagesListBody = list;\n        }}\n      >\n        {content}\n        {loading}\n      </div>\n    );\n  }\n}\n// @ts-expect-error TS(2339): Property 'defaultProps' does not exist on type 'ty... Remove this comment to see the full error message\nConversationList.defaultProps = {\n  currentSiteCode: '',\n  isMultipleSiteEnabled: false,\n  perPage: 20,\n  className: undefined,\n  disableLinks: false,\n  disableCallButton: false,\n  dateTimeFormatter: undefined,\n  showContactDisplayPlaceholder: true,\n  sourceIcons: undefined,\n  phoneTypeRenderer: undefined,\n  phoneSourceNameRenderer: undefined,\n  showGroupNumberName: false,\n  placeholder: undefined,\n  loadNextPage: undefined,\n  loadingNextPage: false,\n  typeFilter: undefined,\n  renderExtraButton: undefined,\n  enableCDC: false,\n};\nexport default ConversationList;\n"],"mappings":"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","ignoreList":[]}