{"version":3,"file":"FileAttachmentRender.js","names":["_constant","require","_juno","_junoIcon","_clsx","_interopRequireDefault","_react","_fileHandler","_DownloadButton","_getFileSize","_styles","e","__esModule","FileAttachmentRender","exports","_ref","attachment","onLinkClick","fileName","removeExtension","id","fileExt","getFileExtension","CONTENT_TYPE_TO_EXTENSION","contentType","fileSize","getFileSize","size","downloadUrl","concat","uri","createElement","key","className","RcIcon","symbol","FileBorder","clsx","styles","ext","DownloadButton","url","name","onClick"],"sources":["components/ConversationMessageList/FileAttachmentRender.tsx"],"sourcesContent":["import { CONTENT_TYPE_TO_EXTENSION } from '@ringcentral-integration/utils/src/utils/fileHandler/constant';\nimport { RcIcon } from '@ringcentral/juno';\nimport { FileBorder } from '@ringcentral/juno-icon';\nimport clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React from 'react';\n\nimport {\n  getFileExtension,\n  removeExtension,\n} from '../../../utils/src/utils/fileHandler/fileHandler';\nimport { DownloadButton } from '../DownloadButton';\nimport { getFileSize } from '../MessageInput/FileAttacher/utils/getFileSize';\n\nimport styles from './styles.scss';\n\ninterface IFileAttachmentRenderProps {\n  attachment: {\n    contentType: string;\n    fileName: string;\n    height: number;\n    width: number;\n    id: number;\n    size: number;\n    type: 'MmsAttachment';\n    uri: string;\n  };\n  currentLocale: string;\n  onLinkClick?: (href?: string) => void;\n}\n\nexport const FileAttachmentRender: FunctionComponent<\n  IFileAttachmentRenderProps\n> = ({ attachment, onLinkClick }) => {\n  const fileName = attachment.fileName\n    ? removeExtension(attachment.fileName)\n    : attachment.id;\n  const fileExt = attachment.fileName\n    ? getFileExtension(attachment.fileName)\n    : CONTENT_TYPE_TO_EXTENSION[attachment.contentType];\n  const fileSize = getFileSize(attachment.size);\n  const downloadUrl = `${attachment.uri}&contentDisposition=Attachment`;\n  return (\n    <div key={attachment.id} className=\"flex items-center w-full space-x-2\">\n      <RcIcon size=\"large\" symbol={FileBorder} />\n      <div className=\"flex-1 min-w-0\">\n        <div\n          className=\"flex items-center text-neutral-b1 typography-mainText overflow-hidden\"\n          data-sign=\"file-full-name\"\n        >\n          <div className=\"truncate\">{fileName}</div>\n          <div className={clsx('flex-none', styles.ext)}>.{fileExt}</div>\n        </div>\n        <div className=\"text-neutral-b2 text-sm\">{fileSize}</div>\n      </div>\n      <div>\n        <DownloadButton\n          size=\"large\"\n          url={downloadUrl}\n          name={`${fileName}.${fileExt}`}\n          onClick={onLinkClick}\n        />\n      </div>\n    </div>\n  );\n};\n"],"mappings":";;;;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AACA,IAAAE,SAAA,GAAAF,OAAA;AACA,IAAAG,KAAA,GAAAC,sBAAA,CAAAJ,OAAA;AAEA,IAAAK,MAAA,GAAAD,sBAAA,CAAAJ,OAAA;AAEA,IAAAM,YAAA,GAAAN,OAAA;AAIA,IAAAO,eAAA,GAAAP,OAAA;AACA,IAAAQ,YAAA,GAAAR,OAAA;AAEA,IAAAS,OAAA,GAAAL,sBAAA,CAAAJ,OAAA;AAAmC,SAAAI,uBAAAM,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAiB5B,IAAME,oBAEZ,GAAAC,OAAA,CAAAD,oBAAA,GAAG,SAFSA,oBAEZA,CAAAE,IAAA,EAAoC;EAAA,IAA9BC,UAAU,GAAAD,IAAA,CAAVC,UAAU;IAAEC,WAAW,GAAAF,IAAA,CAAXE,WAAW;EAC5B,IAAMC,QAAQ,GAAGF,UAAU,CAACE,QAAQ,GAChC,IAAAC,4BAAe,EAACH,UAAU,CAACE,QAAQ,CAAC,GACpCF,UAAU,CAACI,EAAE;EACjB,IAAMC,OAAO,GAAGL,UAAU,CAACE,QAAQ,GAC/B,IAAAI,6BAAgB,EAACN,UAAU,CAACE,QAAQ,CAAC,GACrCK,mCAAyB,CAACP,UAAU,CAACQ,WAAW,CAAC;EACrD,IAAMC,QAAQ,GAAG,IAAAC,wBAAW,EAACV,UAAU,CAACW,IAAI,CAAC;EAC7C,IAAMC,WAAW,MAAAC,MAAA,CAAMb,UAAU,CAACc,GAAG,mCAAgC;EACrE,oBACExB,MAAA,YAAAyB,aAAA;IAAKC,GAAG,EAAEhB,UAAU,CAACI,EAAG;IAACa,SAAS,EAAC;EAAoC,gBACrE3B,MAAA,YAAAyB,aAAA,CAAC7B,KAAA,CAAAgC,MAAM;IAACP,IAAI,EAAC,OAAO;IAACQ,MAAM,EAAEC;EAAW,CAAE,CAAC,eAC3C9B,MAAA,YAAAyB,aAAA;IAAKE,SAAS,EAAC;EAAgB,gBAC7B3B,MAAA,YAAAyB,aAAA;IACEE,SAAS,EAAC,uEAAuE;IACjF,aAAU;EAAgB,gBAE1B3B,MAAA,YAAAyB,aAAA;IAAKE,SAAS,EAAC;EAAU,GAAEf,QAAc,CAAC,eAC1CZ,MAAA,YAAAyB,aAAA;IAAKE,SAAS,EAAE,IAAAI,gBAAI,EAAC,WAAW,EAAEC,kBAAM,CAACC,GAAG;EAAE,GAAC,GAAC,EAAClB,OAAa,CAC3D,CAAC,eACNf,MAAA,YAAAyB,aAAA;IAAKE,SAAS,EAAC;EAAyB,GAAER,QAAc,CACrD,CAAC,eACNnB,MAAA,YAAAyB,aAAA,2BACEzB,MAAA,YAAAyB,aAAA,CAACvB,eAAA,CAAAgC,cAAc;IACbb,IAAI,EAAC,OAAO;IACZc,GAAG,EAAEb,WAAY;IACjBc,IAAI,KAAAb,MAAA,CAAKX,QAAQ,OAAAW,MAAA,CAAIR,OAAO,CAAG;IAC/BsB,OAAO,EAAE1B;EAAY,CACtB,CACE,CACF,CAAC;AAEV,CAAC","ignoreList":[]}