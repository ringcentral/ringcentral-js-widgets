{"version":3,"sources":["components/ActiveCallPad/index.js"],"names":["DisplayButtonNumber","MoreActionItem","title","Icon","icon","disabled","onClick","iconClassName","styles","buttonIcon","buttonDisabled","buttonActive","buttonItem","buttonName","propTypes","PropTypes","string","isRequired","func","bool","ActiveCallPad","props","moreButton","dropdown","toggleMore","state","expandMore","current","e","dom","contains","target","setState","prevState","document","body","addEventListener","removeEventListener","buttons","push","isOnMute","MuteIcon","i18n","getString","currentLocale","isOnHold","onUnmute","UnmuteIcon","onMute","KeypadIcon","onShowKeyPad","HoldIcon","iconWidth","iconHeight","iconX","iconY","active","onUnhold","onHold","conferenceCallEquipped","showMerge","layout","callCtrlLayouts","mergeCtrl","normalCtrl","hasConferenceCall","MergeIcon","mergeDisabled","onMerge","CombineIcon","addDisabled","onAdd","RecordIcon","recordStatus","recording","pending","onStopRecord","onRecord","disabledTransfer","TransferIcon","onToggleTransferPanel","disabledFlip","flipNumbers","length","FlipIcon","onShowFlipPanel","moreActions","moreButtonContainer","callButton","MoreIcon","buttonPopup","slice","map","opts","root","className","callCtrlButtonGroup","buttonRow","stopButtonGroup","button","stopButton","onHangup","EndIcon","Component","array","defaultProps","undefined"],"mappings":"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","file":"index.js","sourcesContent":["import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport recordStatus from 'ringcentral-integration/modules/Webphone/recordStatus';\nimport { isObject } from 'ringcentral-integration/lib/di/utils/is_type';\n\nimport CircleButton from '../CircleButton';\nimport Tooltip from '../Tooltip';\nimport ActiveCallButton from '../ActiveCallButton';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport KeypadIcon from '../../assets/images/Dialpad.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\n// import ParkIcon from '../../assets/images/Park.svg';\nimport RecordIcon from '../../assets/images/Record.svg';\n// import AddIcon from '../../assets/images/AddCall.svg';\nimport MoreIcon from '../../assets/images/MoreIcon.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport FlipIcon from '../../assets/images/Flip.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport CombineIcon from '../../assets/images/Combine.svg';\nimport MergeIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport styles from './styles.scss';\nimport i18n from './i18n';\n\nconst DisplayButtonNumber = 6;\n\nfunction MoreActionItem({\n  title,\n  icon: Icon,\n  disabled,\n  onClick,\n}) {\n  const iconClassName = classnames(\n    styles.buttonIcon,\n    disabled ? styles.buttonDisabled : styles.buttonActive\n  );\n  return (\n    <div\n      className={styles.buttonItem}\n      onClick={disabled ? null : onClick}>\n      <div className={iconClassName}>\n        {<Icon />}\n      </div>\n      <div className={styles.buttonName}>\n        {title}\n      </div>\n    </div>\n  );\n}\n\nMoreActionItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  icon: PropTypes.func.isRequired,\n  disabled: PropTypes.bool.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nclass ActiveCallPad extends Component {\n  constructor(props) {\n    super(props);\n    this.moreButton = createRef();\n    this.dropdown = createRef();\n    this.onClick = this:: this.onClick;\n    this.toggleMore = this:: this.toggleMore;\n    this.state = {\n      expandMore: props.expandMore,\n      moreButton: this.moreButton && this.moreButton.current,\n    };\n  }\n\n  onClick(e) {\n    if (isObject(this.dropdown) && isObject(this.dropdown.current)) {\n      const { dom: { current } } = this.dropdown.current;\n\n      if (\n        !current.contains(e.target)\n        && !this.moreButton.current.contains(e.target)\n        && this.state.expandMore\n      ) {\n        this.setState({\n          expandMore: false,\n        });\n      }\n    }\n  }\n\n  toggleMore() {\n    this.setState(prevState => ({\n      expandMore: !prevState.expandMore\n    }));\n  }\n\n  componentDidMount() {\n    document.body.addEventListener('click', this.onClick);\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillReceiveProps() {\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n\n  componentWillUnmount() {\n    document.body.removeEventListener('click', this.onClick);\n  }\n\n  render() {\n    const buttons = [];\n\n    /* --------------------- Mute/Unmute --------------------------- */\n    buttons.push(this.props.isOnMute\n      ? {\n        icon: MuteIcon,\n        title: i18n.getString('unmute', this.props.currentLocale),\n        disabled: this.props.isOnHold,\n        onClick: this.props.onUnmute,\n      }\n      : {\n        icon: UnmuteIcon,\n        title: i18n.getString('mute', this.props.currentLocale),\n        disabled: this.props.isOnHold,\n        onClick: this.props.onMute,\n      }\n    );\n\n    /* --------------------- keyPad --------------------------- */\n    buttons.push(\n      {\n        icon: KeypadIcon,\n        title: i18n.getString('keypad', this.props.currentLocale),\n        onClick: this.props.onShowKeyPad,\n      }\n    );\n\n    /* --------------------- Hold/Unhold --------------------------- */\n    buttons.push(\n      {\n        icon: HoldIcon,\n        iconWidth: 120,\n        iconHeight: 160,\n        iconX: 190,\n        iconY: 165,\n        title: this.props.isOnHold\n          ? i18n.getString('onHold', this.props.currentLocale)\n          : i18n.getString('hold', this.props.currentLocale),\n        active: this.props.isOnHold,\n        onClick: this.props.isOnHold\n          ? this.props.onUnhold\n          : this.props.onHold,\n      }\n    );\n\n    /* --------------------- Add/Merge --------------------------- */\n    if (this.props.conferenceCallEquipped) {\n      const showMerge = (\n        this.props.layout === callCtrlLayouts.mergeCtrl ||\n        (this.props.layout === callCtrlLayouts.normalCtrl && this.props.hasConferenceCall)\n      );\n      buttons.push(showMerge\n        ? {\n          icon: MergeIcon,\n          title: i18n.getString('mergeToConference', this.props.currentLocale),\n          disabled: this.props.mergeDisabled,\n          onClick: this.props.onMerge,\n        }\n        : {\n          icon: CombineIcon,\n          title: i18n.getString('add', this.props.currentLocale),\n          disabled: this.props.addDisabled,\n          onClick: this.props.onAdd,\n        }\n      );\n    }\n\n    /* --------------------- Record/Stop --------------------------- */\n    buttons.push(\n      {\n        icon: RecordIcon,\n        title: this.props.recordStatus === recordStatus.recording\n          ? i18n.getString('stopRecord', this.props.currentLocale)\n          : i18n.getString('record', this.props.currentLocale),\n        active: this.props.recordStatus === recordStatus.recording,\n        disabled: (\n          this.props.isOnHold\n          || this.props.recordStatus === recordStatus.pending\n          || this.props.layout === callCtrlLayouts.mergeCtrl\n        ),\n        onClick: this.props.recordStatus === recordStatus.recording\n          ? this.props.onStopRecord\n          : this.props.onRecord,\n      }\n    );\n\n    /* --------------------- Transfer --------------------------- */\n    const disabledTransfer = (\n      this.props.layout === callCtrlLayouts.mergeCtrl\n    );\n    buttons.push(\n      {\n        icon: TransferIcon,\n        title: i18n.getString('transfer', this.props.currentLocale),\n        disabled: disabledTransfer,\n        onClick: this.props.onToggleTransferPanel,\n      }\n    );\n\n    /* --------------------- Flip --------------------------- */\n    const disabledFlip = (\n      this.props.flipNumbers.length === 0\n      || this.props.isOnHold\n      || this.props.layout === callCtrlLayouts.mergeCtrl\n    );\n    buttons.push(\n      {\n        icon: FlipIcon,\n        title: i18n.getString('flip', this.props.currentLocale),\n        disabled: disabledFlip,\n        onClick: this.props.onShowFlipPanel,\n      }\n    );\n\n    /* --------------------- More Actions --------------------------- */\n    let moreActions = null;\n    if (buttons.length > DisplayButtonNumber) {\n      moreActions = (\n        <span\n          className={styles.moreButtonContainer}\n          ref={this.moreButton}\n        >\n          <ActiveCallButton\n            onClick={this.toggleMore}\n            title={i18n.getString('more', this.props.currentLocale)}\n            active={this.state.expandMore}\n            className={classnames(styles.moreButton, styles.callButton)}\n            disabled={disabledFlip && disabledTransfer}\n            icon={MoreIcon} />\n          <Tooltip\n            fixed={false}\n            open={this.state.expandMore}\n            direction=\"top\"\n            ref={this.dropdown}\n            triggerElm={this.state.moreButton}>\n            <div className={styles.buttonPopup}>\n              {\n                buttons.slice(DisplayButtonNumber - 1).map(({\n                  title,\n                  ...opts\n                }) => (<MoreActionItem\n                  key={title}\n                  title={title}\n                  {...opts}\n                />))\n              }\n            </div>\n          </Tooltip>\n        </span>\n      );\n    }\n\n    return (\n      <div className={classnames(styles.root, this.props.className)}>\n        <div className={styles.callCtrlButtonGroup}>\n          <div className={styles.buttonRow}>\n            {\n              buttons.slice(0, DisplayButtonNumber - (moreActions ? 1 : 0)).map(opts => (\n                <ActiveCallButton\n                  key={opts.title}\n                  className={styles.callButton}\n                  {...opts}\n                />\n              ))\n            }\n            {moreActions}\n          </div>\n        </div>\n        <div className={classnames(styles.buttonRow, styles.stopButtonGroup)}>\n          <div className={styles.button}>\n            <CircleButton\n              className={styles.stopButton}\n              onClick={this.props.onHangup}\n              icon={EndIcon}\n              showBorder={false}\n              iconWidth={250}\n              iconX={125}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nActiveCallPad.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  isOnMute: PropTypes.bool,\n  isOnHold: PropTypes.bool,\n  recordStatus: PropTypes.string.isRequired,\n  onMute: PropTypes.func.isRequired,\n  onUnmute: PropTypes.func.isRequired,\n  onHold: PropTypes.func.isRequired,\n  onUnhold: PropTypes.func.isRequired,\n  onRecord: PropTypes.func.isRequired,\n  onStopRecord: PropTypes.func.isRequired,\n  onHangup: PropTypes.func.isRequired,\n  // onPark: PropTypes.func.isRequired,\n  onShowKeyPad: PropTypes.func.isRequired,\n  onAdd: PropTypes.func,\n  onMerge: PropTypes.func,\n  onShowFlipPanel: PropTypes.func.isRequired,\n  onToggleTransferPanel: PropTypes.func.isRequired,\n  flipNumbers: PropTypes.array.isRequired,\n  layout: PropTypes.string,\n  addDisabled: PropTypes.bool,\n  mergeDisabled: PropTypes.bool,\n  conferenceCallEquipped: PropTypes.bool,\n  hasConferenceCall: PropTypes.bool,\n  expandMore: PropTypes.bool,\n};\n\nActiveCallPad.defaultProps = {\n  className: null,\n  isOnMute: false,\n  isOnHold: false,\n  layout: callCtrlLayouts.normalCtrl,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  onAdd: undefined,\n  onMerge: undefined,\n  expandMore: false,\n};\n\nexport default ActiveCallPad;\n"]}