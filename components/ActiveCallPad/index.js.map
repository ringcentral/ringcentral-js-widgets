{"version":3,"sources":["components/ActiveCallPad/index.tsx"],"names":["DisplayButtonNumber","ACTIONS_CTRL_MAP","muteCtrl","keypadCtrl","holdCtrl","mergeOrAddCtrl","recordCtrl","transferCtrl","flipCtrl","parkCtrl","completeTransferCtrl","ActiveCallPad","props","moreButton","dropdown","onClick","bind","toggleMore","state","expandMore","current","e","dom","contains","target","setState","prevState","document","body","addEventListener","removeEventListener","nextProps","nextState","showUpdate","p","Object","prototype","hasOwnProperty","call","val","controlBusy","actions","currentLocale","isOnWaitingTransfer","onHangup","onCompleteTransfer","conferenceCallEquipped","isOnMute","isOnHold","onUnmute","onMute","onShowKeyPad","layout","onUnhold","onHold","hasConferenceCall","mergeDisabled","onMerge","addDisabled","onAdd","recordStatus","onStopRecord","onRecord","onTransfer","disableFlip","onFlip","showPark","onPark","className","isOnTransfer","buttons","push","icon","MuteIcon","id","dataSign","title","i18n","getString","disabled","UnmuteIcon","KeypadIcon","callCtrlLayouts","conferenceCtrl","HoldIcon","iconWidth","iconHeight","iconX","iconY","active","TransferIcon","showRipple","showMerge","mergeCtrl","normalCtrl","MergeIcon","CombineIcon","RecordIcon","recordStatuses","recording","pending","noAccess","disabledTransfer","disableControlButton","disabledFlip","FlipIcon","ParkIcon","length","moreActions","disableMoreButton","styles","moreButtonContainer","callButton","MoreIcon","buttonPopup","slice","map","opts","isLessBtn","root","callCtrlButtonGroup","biggerButton","buttonRow","stopButtonGroup","button","stopButton","EndIcon","Component","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { Component, createRef } from 'react';\n\nimport classnames from 'classnames';\n\nimport { isObject } from '@ringcentral-integration/commons/lib/di/utils/is_type';\nimport { recordStatus as recordStatuses } from '@ringcentral-integration/commons/modules/Webphone/recordStatus';\n\nimport CombineIcon from '../../assets/images/Combine.svg';\nimport KeypadIcon from '../../assets/images/Dialpad.svg';\nimport EndIcon from '../../assets/images/End.svg';\nimport FlipIcon from '../../assets/images/Flip.svg';\nimport HoldIcon from '../../assets/images/Hold.svg';\nimport MergeIcon from '../../assets/images/MergeIntoConferenceIcon.svg';\n// import AddIcon from '../../assets/images/AddCall.svg';\nimport MoreIcon from '../../assets/images/MoreIcon.svg';\nimport MuteIcon from '../../assets/images/Mute.svg';\nimport ParkIcon from '../../assets/images/Park.svg';\nimport RecordIcon from '../../assets/images/Record.svg';\nimport TransferIcon from '../../assets/images/Transfer.svg';\nimport UnmuteIcon from '../../assets/images/Unmute.svg';\nimport callCtrlLayouts from '../../enums/callCtrlLayouts';\nimport ActiveCallButton from '../ActiveCallButton';\nimport CircleButton from '../CircleButton';\nimport Tooltip from '../Tooltip';\nimport i18n from './i18n';\nimport MoreActionItem from './MoreActionItem';\nimport styles from './styles.scss';\nimport { pickElements } from './utils';\n\nconst DisplayButtonNumber = 6;\nexport const ACTIONS_CTRL_MAP = {\n  muteCtrl: 'muteCtrl',\n  keypadCtrl: 'keypadCtrl',\n  holdCtrl: 'holdCtrl',\n  mergeOrAddCtrl: 'mergeOrAddCtrl',\n  recordCtrl: 'recordCtrl',\n  transferCtrl: 'transferCtrl',\n  flipCtrl: 'flipCtrl',\n  parkCtrl: 'parkCtrl',\n  completeTransferCtrl: 'completeTransferCtrl',\n};\ntype ActiveCallPadProps = {\n  currentLocale: string;\n  className?: string;\n  isOnMute?: boolean;\n  isOnHold?: boolean;\n  recordStatus: string;\n  onMute: (...args: any[]) => any;\n  onUnmute: (...args: any[]) => any;\n  onHold: (...args: any[]) => any;\n  onUnhold: (...args: any[]) => any;\n  onRecord: (...args: any[]) => any;\n  onStopRecord: (...args: any[]) => any;\n  onHangup: (...args: any[]) => any;\n  onPark: (...args: any[]) => any;\n  onShowKeyPad: (...args: any[]) => any;\n  onAdd?: (...args: any[]) => any;\n  onMerge?: (...args: any[]) => any;\n  onFlip: (...args: any[]) => any;\n  onTransfer: (...args: any[]) => any;\n  disableFlip?: boolean;\n  showPark?: boolean;\n  layout?: string;\n  addDisabled?: boolean;\n  mergeDisabled?: boolean;\n  conferenceCallEquipped?: boolean;\n  hasConferenceCall?: boolean;\n  expandMore?: boolean;\n  actions?: any[];\n  isOnTransfer?: boolean;\n  isOnWaitingTransfer?: boolean;\n  onCompleteTransfer: (...args: any[]) => any;\n  controlBusy?: boolean;\n};\ntype ActiveCallPadState = { expandMore: boolean } & ((prevState: any) => {\n  expandMore: boolean;\n}) & { moreButton: any } & { moreButton: any } & {\n    expandMore: any;\n    moreButton: any;\n  };\nclass ActiveCallPad extends Component<ActiveCallPadProps, ActiveCallPadState> {\n  constructor(props) {\n    super(props);\n    this.moreButton = createRef();\n    this.dropdown = createRef();\n    this.onClick = this.onClick.bind(this);\n    this.toggleMore = this.toggleMore.bind(this);\n    this.state = {\n      expandMore: props.expandMore,\n      moreButton: this.moreButton && this.moreButton.current,\n    };\n  }\n  onClick(e) {\n    if (isObject(this.dropdown) && isObject(this.dropdown.current)) {\n      const {\n        dom: { current },\n      } = this.dropdown.current;\n      if (\n        !current.contains(e.target) &&\n        !this.moreButton.current.contains(e.target) &&\n        this.state.expandMore\n      ) {\n        this.setState({\n          expandMore: false,\n        });\n      }\n    }\n  }\n  toggleMore() {\n    this.setState((prevState) => ({\n      expandMore: !prevState.expandMore,\n    }));\n  }\n  componentDidMount() {\n    document.body.addEventListener('click', this.onClick);\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n  componentWillReceiveProps() {\n    this.setState({\n      moreButton: this.moreButton && this.moreButton.current,\n    });\n  }\n  componentWillUnmount() {\n    document.body.removeEventListener('click', this.onClick);\n  }\n  shouldComponentUpdate(nextProps, nextState) {\n    if (nextState !== this.state) {\n      return true;\n    }\n    let showUpdate = false;\n    for (const p in nextProps) {\n      if (Object.prototype.hasOwnProperty.call(nextProps, p)) {\n        const val = nextProps[p];\n        if (val !== this.props[p] && typeof val !== 'function') {\n          showUpdate = true;\n          break;\n        }\n      }\n    }\n    return showUpdate;\n  }\n  render() {\n    const {\n      controlBusy,\n      actions,\n      currentLocale,\n      isOnWaitingTransfer,\n      onHangup,\n      onCompleteTransfer,\n      conferenceCallEquipped,\n      isOnMute,\n      isOnHold,\n      onUnmute,\n      onMute,\n      onShowKeyPad,\n      layout,\n      onUnhold,\n      onHold,\n      hasConferenceCall,\n      mergeDisabled,\n      onMerge,\n      addDisabled,\n      onAdd,\n      recordStatus,\n      onStopRecord,\n      onRecord,\n      onTransfer,\n      disableFlip,\n      onFlip,\n      showPark,\n      onPark,\n      className,\n      isOnTransfer,\n    } = this.props;\n    let buttons = [];\n    /* --------------------- Mute/Unmute --------------------------- */\n    buttons.push(\n      isOnMute\n        ? {\n            icon: MuteIcon,\n            id: ACTIONS_CTRL_MAP.muteCtrl,\n            dataSign: 'mute',\n            title: i18n.getString('unmute', currentLocale),\n            disabled: isOnHold || controlBusy,\n            onClick: onUnmute,\n          }\n        : {\n            icon: UnmuteIcon,\n            id: ACTIONS_CTRL_MAP.muteCtrl,\n            dataSign: 'unmute',\n            title: i18n.getString('mute', currentLocale),\n            disabled: isOnHold || controlBusy,\n            onClick: onMute,\n          },\n    );\n    /* --------------------- keyPad --------------------------- */\n    buttons.push({\n      icon: KeypadIcon,\n      id: ACTIONS_CTRL_MAP.keypadCtrl,\n      dataSign: 'keypad',\n      title: i18n.getString('keypad', currentLocale),\n      onClick: onShowKeyPad,\n      disabled: layout === callCtrlLayouts.conferenceCtrl,\n    });\n    /* --------------------- Hold/Unhold --------------------------- */\n    buttons.push({\n      icon: HoldIcon,\n      id: ACTIONS_CTRL_MAP.holdCtrl,\n      iconWidth: 120,\n      iconHeight: 160,\n      iconX: 190,\n      iconY: 165,\n      dataSign: isOnHold ? 'onHold' : 'hold',\n      title: isOnHold\n        ? i18n.getString('onHold', currentLocale)\n        : i18n.getString('hold', currentLocale),\n      active: isOnHold,\n      onClick: isOnHold ? onUnhold : onHold,\n      disabled: controlBusy,\n    });\n    if (isOnWaitingTransfer) {\n      buttons.push({\n        icon: TransferIcon,\n        id: ACTIONS_CTRL_MAP.completeTransferCtrl,\n        dataSign: 'completeTransfer',\n        title: i18n.getString('completeTransfer', currentLocale),\n        disabled: isOnTransfer || controlBusy,\n        onClick: onCompleteTransfer,\n        showRipple: true,\n      });\n    }\n    /* --------------------- Add/Merge --------------------------- */\n    if (!isOnWaitingTransfer && conferenceCallEquipped) {\n      const showMerge =\n        layout === callCtrlLayouts.mergeCtrl ||\n        (layout === callCtrlLayouts.normalCtrl && hasConferenceCall);\n      buttons.push(\n        showMerge\n          ? {\n              icon: MergeIcon,\n              id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n              dataSign: 'merge',\n              title: i18n.getString('mergeToConference', currentLocale),\n              disabled: mergeDisabled || controlBusy,\n              onClick: onMerge,\n              showRipple: !mergeDisabled,\n            }\n          : {\n              icon: CombineIcon,\n              id: ACTIONS_CTRL_MAP.mergeOrAddCtrl,\n              dataSign: 'add',\n              title: i18n.getString('add', currentLocale),\n              disabled: addDisabled || controlBusy,\n              onClick: onAdd,\n            },\n      );\n    }\n    /* --------------------- Record/Stop --------------------------- */\n    buttons.push({\n      icon: RecordIcon,\n      id: ACTIONS_CTRL_MAP.recordCtrl,\n      dataSign:\n        recordStatus === recordStatuses.recording ? 'stopRecord' : 'record',\n      title:\n        recordStatus === recordStatuses.recording\n          ? i18n.getString('stopRecord', currentLocale)\n          : i18n.getString('record', currentLocale),\n      active: recordStatus === recordStatuses.recording,\n      disabled:\n        isOnHold ||\n        recordStatus === recordStatuses.pending ||\n        layout === callCtrlLayouts.mergeCtrl ||\n        recordStatus === recordStatuses.noAccess ||\n        controlBusy,\n      onClick:\n        recordStatus === recordStatuses.recording ? onStopRecord : onRecord,\n    });\n    /* --------------------- Transfer --------------------------- */\n    const disabledTransfer = layout !== callCtrlLayouts.normalCtrl;\n    if (!isOnWaitingTransfer) {\n      buttons.push({\n        icon: TransferIcon,\n        id: ACTIONS_CTRL_MAP.transferCtrl,\n        dataSign: 'transfer',\n        title: i18n.getString('transfer', currentLocale),\n        disabled: disabledTransfer || controlBusy,\n        onClick: onTransfer,\n      });\n    }\n    /* --------------------- Flip --------------------------- */\n    const disableControlButton =\n      isOnHold || layout !== callCtrlLayouts.normalCtrl;\n    const disabledFlip = disableFlip || disableControlButton;\n    buttons.push({\n      icon: FlipIcon,\n      id: ACTIONS_CTRL_MAP.flipCtrl,\n      dataSign: 'flip',\n      title: i18n.getString('flip', currentLocale),\n      disabled: disabledFlip || controlBusy,\n      onClick: onFlip,\n    });\n    /* --------------------- Park --------------------------- */\n    if (showPark) {\n      buttons.push({\n        icon: ParkIcon,\n        id: ACTIONS_CTRL_MAP.parkCtrl,\n        dataSign: 'park',\n        title: i18n.getString('park', currentLocale),\n        disabled: disableControlButton || controlBusy,\n        onClick: onPark,\n      });\n    }\n    // filter actions\n    if (actions.length > 0) {\n      buttons = pickElements(actions, buttons);\n    }\n    /* --------------------- More Actions --------------------------- */\n    let moreActions = null;\n    if (buttons.length > DisplayButtonNumber) {\n      const disableMoreButton =\n        isOnWaitingTransfer ||\n        (disabledFlip && disabledTransfer) ||\n        controlBusy;\n      moreActions = (\n        <span className={styles.moreButtonContainer} ref={this.moreButton}>\n          <ActiveCallButton\n            onClick={this.toggleMore}\n            title={i18n.getString('more', currentLocale)}\n            active={this.state.expandMore}\n            className={classnames(styles.moreButton, styles.callButton)}\n            disabled={disableMoreButton}\n            icon={MoreIcon}\n            dataSign=\"callActions\"\n          />\n          <Tooltip\n            fixed={false}\n            open={this.state.expandMore}\n            direction=\"top\"\n            ref={this.dropdown}\n            triggerElm={this.state.moreButton}\n          >\n            <div className={styles.buttonPopup}>\n              {buttons.slice(DisplayButtonNumber - 1).map(({ id, ...opts }) => (\n                <MoreActionItem key={id} {...opts} />\n              ))}\n            </div>\n          </Tooltip>\n        </span>\n      );\n    }\n    const isLessBtn = buttons.length <= 3 && moreActions === null;\n    return (\n      <div className={classnames(styles.root, className)}>\n        <div\n          className={classnames(\n            styles.callCtrlButtonGroup,\n            isLessBtn && styles.biggerButton,\n          )}\n        >\n          <div className={styles.buttonRow}>\n            {buttons\n              .slice(0, DisplayButtonNumber - (moreActions ? 1 : 0))\n              .map((opts) => (\n                <ActiveCallButton\n                  key={opts.title}\n                  className={styles.callButton}\n                  {...opts}\n                />\n              ))}\n            {moreActions}\n          </div>\n        </div>\n        <div className={classnames(styles.buttonRow, styles.stopButtonGroup)}>\n          <div className={styles.button}>\n            <CircleButton\n              className={classnames(\n                styles.stopButton,\n                controlBusy && styles.disabled,\n              )}\n              onClick={onHangup}\n              icon={EndIcon}\n              showBorder={false}\n              iconWidth={250}\n              iconX={125}\n              dataSign=\"hangup\"\n              disabled={controlBusy}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nActiveCallPad.defaultProps = {\n  className: null,\n  isOnMute: false,\n  isOnHold: false,\n  layout: callCtrlLayouts.normalCtrl,\n  addDisabled: false,\n  mergeDisabled: false,\n  conferenceCallEquipped: false,\n  hasConferenceCall: false,\n  onAdd: undefined,\n  onMerge: undefined,\n  expandMore: false,\n  disableFlip: false,\n  showPark: false,\n  actions: [],\n  isOnTransfer: false,\n  isOnWaitingTransfer: false,\n  controlBusy: false,\n};\nexport default ActiveCallPad;\n"],"file":"index.js"}