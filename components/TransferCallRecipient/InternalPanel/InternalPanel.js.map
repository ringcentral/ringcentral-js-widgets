{"version":3,"file":"InternalPanel.js","names":["_clsx","_interopRequireDefault","require","_react","_interopRequireWildcard","_EvTransferCallUI","_SelectList","_i18n","_styles","_i18n2","_styles2","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","InternalPanel","_ref","currentLocale","transferAgentList","goBack","transferAgentListUpdateTTL","fetchAgentList","transferAgentId","changeTransferAgentId","searchAgent","isWide","useEffect","timerId","setInterval","clearInterval","createElement","SelectList","onBackClick","title","i18n","getString","placeholder","transferCallI18n","options","searchOption","renderListItem","_ref2","agent","option","index","agentId","available","status","statusText","internalTransferName","getInternalTransferName","ListItem","onClick","selected","key","className","transferCallStyles","listItem","styles","agentItem","clsx","dot","content","undefined","agentName","ellipsis","exports"],"sources":["components/TransferCallRecipient/InternalPanel/InternalPanel.tsx"],"sourcesContent":["import clsx from 'clsx';\nimport type { FunctionComponent } from 'react';\nimport React, { useEffect } from 'react';\n\nimport type {\n  EvTransferCallUIFunctions,\n  EvTransferCallUIProps,\n} from '../../../interfaces';\nimport { getInternalTransferName } from '../../../modules/EvTransferCallUI';\nimport { ListItem, SelectList } from '../../SelectList';\nimport transferCallI18n from '../i18n';\nimport transferCallStyles from '../styles.scss';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type InternalPanelProps = Pick<\n  EvTransferCallUIProps & EvTransferCallUIFunctions,\n  | 'currentLocale'\n  | 'goBack'\n  | 'transferAgentList'\n  | 'transferAgentListUpdateTTL'\n  | 'fetchAgentList'\n  | 'transferAgentId'\n  | 'changeTransferAgentId'\n  | 'searchAgent'\n  | 'isWide'\n>;\n\nconst InternalPanel: FunctionComponent<InternalPanelProps> = ({\n  currentLocale,\n  transferAgentList,\n  goBack,\n  transferAgentListUpdateTTL,\n  fetchAgentList,\n  transferAgentId,\n  changeTransferAgentId,\n  searchAgent,\n  isWide,\n}) => {\n  useEffect(() => {\n    const timerId = setInterval(() => {\n      fetchAgentList();\n    }, transferAgentListUpdateTTL);\n    return () => clearInterval(timerId);\n  }, []);\n\n  return (\n    <SelectList\n      onBackClick={goBack}\n      title={i18n.getString('internalCallRecipient', currentLocale)}\n      placeholder={transferCallI18n.getString('search', currentLocale)}\n      options={transferAgentList}\n      searchOption={searchAgent}\n      currentLocale={currentLocale}\n      renderListItem={({\n        option: agent,\n        index: i,\n      }: {\n        option: EvTransferCallUIProps['transferAgentList'][number];\n        index: number;\n      }) => {\n        const { agentId, available } = agent;\n        const status = available ? 'available' : 'unavailable';\n        const statusText = i18n.getString(status, currentLocale);\n        const internalTransferName = getInternalTransferName(agent);\n        return (\n          <ListItem\n            onClick={() => changeTransferAgentId(agentId)}\n            selected={agentId === transferAgentId}\n            key={i}\n            className={transferCallStyles.listItem}\n            data-sign=\"agentItem\"\n          >\n            <div className={styles.agentItem}>\n              <div className={clsx(styles.dot, styles[status])} />\n              <div className={isWide ? styles.content : undefined}>\n                <p\n                  className={clsx(\n                    styles.agentName,\n                    transferCallStyles.ellipsis,\n                  )}\n                >\n                  {internalTransferName}\n                </p>\n                <p className={styles.statusText}>{statusText}</p>\n              </div>\n            </div>\n          </ListItem>\n        );\n      }}\n    />\n  );\n};\n\nexport { InternalPanel };\n"],"mappings":"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","ignoreList":[]}