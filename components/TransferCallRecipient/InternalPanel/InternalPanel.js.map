{"version":3,"file":"InternalPanel.js","names":["_react","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_EvTransferCallUI","_SelectList","_i18n","_styles","_i18n2","_styles2","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","InternalPanel","_ref","currentLocale","transferAgentList","goBack","transferAgentListUpdateTTL","fetchAgentList","transferAgentId","changeTransferAgentId","searchAgent","isWide","useEffect","timerId","setInterval","clearInterval","createElement","SelectList","onBackClick","title","i18n","getString","placeholder","transferCallI18n","options","searchOption","renderListItem","_ref2","agent","option","i","index","agentId","available","status","statusText","internalTransferName","getInternalTransferName","ListItem","onClick","selected","className","transferCallStyles","listItem","styles","agentItem","classNames","dot","content","undefined","agentName","ellipsis","exports"],"sources":["components/TransferCallRecipient/InternalPanel/InternalPanel.tsx"],"sourcesContent":["import type { FunctionComponent } from 'react';\nimport React, { useEffect } from 'react';\n\nimport classNames from 'classnames';\n\nimport type {\n  EvTransferCallUIFunctions,\n  EvTransferCallUIProps,\n} from '../../../interfaces';\nimport { getInternalTransferName } from '../../../modules/EvTransferCallUI';\nimport { ListItem, SelectList } from '../../SelectList';\nimport transferCallI18n from '../i18n';\nimport transferCallStyles from '../styles.scss';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nexport type InternalPanelProps = Pick<\n  EvTransferCallUIProps & EvTransferCallUIFunctions,\n  | 'currentLocale'\n  | 'goBack'\n  | 'transferAgentList'\n  | 'transferAgentListUpdateTTL'\n  | 'fetchAgentList'\n  | 'transferAgentId'\n  | 'changeTransferAgentId'\n  | 'searchAgent'\n  | 'isWide'\n>;\n\nconst InternalPanel: FunctionComponent<InternalPanelProps> = ({\n  currentLocale,\n  transferAgentList,\n  goBack,\n  transferAgentListUpdateTTL,\n  fetchAgentList,\n  transferAgentId,\n  changeTransferAgentId,\n  searchAgent,\n  isWide,\n}) => {\n  useEffect(() => {\n    const timerId = setInterval(() => {\n      fetchAgentList();\n    }, transferAgentListUpdateTTL);\n    return () => clearInterval(timerId);\n  }, []);\n\n  return (\n    <SelectList\n      onBackClick={goBack}\n      title={i18n.getString('internalCallRecipient', currentLocale)}\n      placeholder={transferCallI18n.getString('search', currentLocale)}\n      options={transferAgentList}\n      searchOption={searchAgent}\n      currentLocale={currentLocale}\n      renderListItem={({\n        option: agent,\n        index: i,\n      }: {\n        option: EvTransferCallUIProps['transferAgentList'][number];\n        index: number;\n      }) => {\n        const { agentId, available } = agent;\n        const status = available ? 'available' : 'unavailable';\n        const statusText = i18n.getString(status, currentLocale);\n        const internalTransferName = getInternalTransferName(agent);\n        return (\n          <ListItem\n            onClick={() => changeTransferAgentId(agentId)}\n            selected={agentId === transferAgentId}\n            key={i}\n            className={transferCallStyles.listItem}\n            data-sign=\"agentItem\"\n          >\n            <div className={styles.agentItem}>\n              <div className={classNames(styles.dot, styles[status])} />\n              <div className={isWide ? styles.content : undefined}>\n                <p\n                  className={classNames(\n                    styles.agentName,\n                    transferCallStyles.ellipsis,\n                  )}\n                >\n                  {internalTransferName}\n                </p>\n                <p className={styles.statusText}>{statusText}</p>\n              </div>\n            </div>\n          </ListItem>\n        );\n      }}\n    />\n  );\n};\n\nexport { InternalPanel };\n"],"mappings":"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"}