{"version":3,"sources":["components/CallsPanel/index.tsx"],"names":["HEADER_HEIGHT","CallsPanel","props","_onResize","_mounted","_calculateContentSize","state","contentHeight","contentWidth","_listWrapper","React","createRef","window","addEventListener","removeEventListener","current","getBoundingClientRect","react","setState","bottom","top","right","left","brand","currentLocale","calls","areaCode","countryCode","onViewContact","onCreateContact","onLogCall","onClickToDial","onClickToSms","isLoggedContact","disableLinks","disableCallButton","disableClickToDial","outboundSmsPermission","internalSmsPermission","dateTimeFormatter","showSpinner","title","active","loggingMap","webphoneAnswer","webphoneReject","webphoneHangup","webphoneResume","enableContactFallback","autoLog","showContactDisplayPlaceholder","sourceIcons","phoneTypeRenderer","phoneSourceNameRenderer","useNewList","currentSiteCode","isMultipleSiteEnabled","enableCDC","callsListView","content","styles","root","PureComponent","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport debounce from '@ringcentral-integration/commons/lib/debounce';\n\nimport CallList from '../CallList';\nimport CallListV2 from '../CallListV2';\nimport { Header } from '../Header';\nimport Panel from '../Panel';\nimport { SpinnerOverlay } from '../SpinnerOverlay';\nimport styles from './styles.scss';\n\nconst HEADER_HEIGHT = 38;\ntype CallsPanelProps = {\n  brand: string;\n  currentLocale: string;\n  currentSiteCode?: string;\n  isMultipleSiteEnabled?: boolean;\n  calls: any[];\n  areaCode: string;\n  countryCode: string;\n  onViewContact?: (...args: any[]) => any;\n  onCreateContact?: (...args: any[]) => any;\n  onClickToDial?: (...args: any[]) => any;\n  onClickToSms?: (...args: any[]) => any;\n  onLogCall?: (...args: any[]) => any;\n  isLoggedContact?: (...args: any[]) => any;\n  disableLinks: boolean;\n  disableCallButton?: boolean;\n  disableClickToDial?: boolean;\n  outboundSmsPermission?: boolean;\n  internalSmsPermission?: boolean;\n  dateTimeFormatter: (...args: any[]) => any;\n  showSpinner?: boolean;\n  title?: string;\n  active?: boolean;\n  loggingMap?: object;\n  webphoneAnswer?: (...args: any[]) => any;\n  webphoneReject?: (...args: any[]) => any;\n  webphoneHangup?: (...args: any[]) => any;\n  webphoneResume?: (...args: any[]) => any;\n  enableContactFallback?: boolean;\n  autoLog?: boolean;\n  showContactDisplayPlaceholder?: boolean;\n  sourceIcons?: object;\n  phoneTypeRenderer?: (...args: any[]) => any;\n  phoneSourceNameRenderer?: (...args: any[]) => any;\n  useNewList?: boolean;\n  enableCDC?: boolean;\n};\ntype CallsPanelState = {\n  contentHeight: number;\n  contentWidth: number;\n};\nclass CallsPanel extends React.PureComponent<CallsPanelProps, CallsPanelState> {\n  constructor(props) {\n    super(props);\n    this.state = {\n      contentHeight: 0,\n      contentWidth: 0,\n    };\n    this._mounted = false;\n    this._listWrapper = React.createRef();\n  }\n  componentDidMount() {\n    this._mounted = true;\n    this._calculateContentSize();\n    window.addEventListener('resize', this._onResize);\n  }\n  componentWillUnmount() {\n    this._mounted = false;\n    window.removeEventListener('resize', this._onResize);\n  }\n  _onResize = debounce(() => {\n    if (this._mounted) {\n      this._calculateContentSize();\n    }\n  }, 300);\n  _calculateContentSize() {\n    if (\n      this._listWrapper &&\n      this._listWrapper.current &&\n      this._listWrapper.current.getBoundingClientRect\n    ) {\n      const react = this._listWrapper.current.getBoundingClientRect();\n      this.setState({\n        contentHeight: react.bottom - react.top - HEADER_HEIGHT,\n        contentWidth: react.right - react.left,\n      });\n      return;\n    }\n    this.setState({\n      contentHeight: 0,\n      contentWidth: 0,\n    });\n  }\n  render() {\n    const {\n      brand,\n      currentLocale,\n      calls,\n      areaCode,\n      countryCode,\n      onViewContact,\n      onCreateContact,\n      onLogCall,\n      onClickToDial,\n      onClickToSms,\n      isLoggedContact,\n      disableLinks,\n      disableCallButton,\n      disableClickToDial,\n      outboundSmsPermission,\n      internalSmsPermission,\n      dateTimeFormatter,\n      showSpinner,\n      title,\n      active,\n      loggingMap,\n      webphoneAnswer,\n      webphoneReject,\n      webphoneHangup,\n      webphoneResume,\n      enableContactFallback,\n      autoLog,\n      showContactDisplayPlaceholder,\n      sourceIcons,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      useNewList,\n      currentSiteCode,\n      isMultipleSiteEnabled,\n      enableCDC,\n    } = this.props;\n    const { contentWidth, contentHeight } = this.state;\n    const callsListView = useNewList ? (\n      <CallListV2\n        currentSiteCode={currentSiteCode}\n        isMultipleSiteEnabled={isMultipleSiteEnabled}\n        brand={brand}\n        currentLocale={currentLocale}\n        calls={calls}\n        areaCode={areaCode}\n        countryCode={countryCode}\n        onViewContact={onViewContact}\n        onCreateContact={onCreateContact}\n        onLogCall={onLogCall}\n        onClickToDial={onClickToDial}\n        onClickToSms={onClickToSms}\n        isLoggedContact={isLoggedContact}\n        disableLinks={disableLinks}\n        disableCallButton={disableCallButton}\n        disableClickToDial={disableClickToDial}\n        outboundSmsPermission={outboundSmsPermission}\n        internalSmsPermission={internalSmsPermission}\n        dateTimeFormatter={dateTimeFormatter}\n        active={active}\n        loggingMap={loggingMap}\n        webphoneAnswer={webphoneAnswer}\n        webphoneReject={webphoneReject}\n        webphoneHangup={webphoneHangup}\n        webphoneResume={webphoneResume}\n        enableContactFallback={enableContactFallback}\n        autoLog={autoLog}\n        showContactDisplayPlaceholder={showContactDisplayPlaceholder}\n        sourceIcons={sourceIcons}\n        phoneTypeRenderer={phoneTypeRenderer}\n        phoneSourceNameRenderer={phoneSourceNameRenderer}\n        width={contentWidth}\n        height={contentHeight}\n        useNewList={useNewList}\n        enableCDC={enableCDC}\n      />\n    ) : (\n      <CallList\n        currentSiteCode={currentSiteCode}\n        isMultipleSiteEnabled={isMultipleSiteEnabled}\n        brand={brand}\n        currentLocale={currentLocale}\n        calls={calls}\n        areaCode={areaCode}\n        countryCode={countryCode}\n        onViewContact={onViewContact}\n        onCreateContact={onCreateContact}\n        onLogCall={onLogCall}\n        onClickToDial={onClickToDial}\n        onClickToSms={onClickToSms}\n        isLoggedContact={isLoggedContact}\n        disableLinks={disableLinks}\n        disableCallButton={disableCallButton}\n        disableClickToDial={disableClickToDial}\n        outboundSmsPermission={outboundSmsPermission}\n        internalSmsPermission={internalSmsPermission}\n        dateTimeFormatter={dateTimeFormatter}\n        active={active}\n        loggingMap={loggingMap}\n        webphoneAnswer={webphoneAnswer}\n        webphoneReject={webphoneReject}\n        webphoneHangup={webphoneHangup}\n        webphoneResume={webphoneResume}\n        enableContactFallback={enableContactFallback}\n        autoLog={autoLog}\n        showContactDisplayPlaceholder={showContactDisplayPlaceholder}\n        sourceIcons={sourceIcons}\n        phoneTypeRenderer={phoneTypeRenderer}\n        phoneSourceNameRenderer={phoneSourceNameRenderer}\n      />\n    );\n    const content = showSpinner ? <SpinnerOverlay /> : callsListView;\n    return (\n      <div className={styles.root} ref={this._listWrapper}>\n        <Header>{title}</Header>\n        <Panel className={styles.content}>{content}</Panel>\n      </div>\n    );\n  }\n}\nCallsPanel.defaultProps = {\n  currentSiteCode: '',\n  isMultipleSiteEnabled: false,\n  onViewContact: undefined,\n  onCreateContact: undefined,\n  onLogCall: undefined,\n  onClickToDial: undefined,\n  onClickToSms: undefined,\n  disableCallButton: false,\n  disableClickToDial: false,\n  outboundSmsPermission: false,\n  internalSmsPermission: false,\n  showSpinner: false,\n  title: '',\n  active: false,\n  isLoggedContact: undefined,\n  loggingMap: {},\n  webphoneAnswer: undefined,\n  webphoneReject: undefined,\n  webphoneHangup: undefined,\n  webphoneResume: undefined,\n  enableContactFallback: undefined,\n  autoLog: false,\n  showContactDisplayPlaceholder: true,\n  sourceIcons: undefined,\n  phoneTypeRenderer: undefined,\n  phoneSourceNameRenderer: undefined,\n  useNewList: false,\n  enableCDC: false,\n};\nexport default CallsPanel;\n"],"file":"index.js"}