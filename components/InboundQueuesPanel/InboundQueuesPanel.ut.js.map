{"version":3,"file":"InboundQueuesPanel.ut.js","names":["_react","_interopRequireDefault","require","_enzyme","_juno","_index","obj","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","renderFunction","option","gateName","searchOption","text","_option$gateName","toLowerCase","includes","currentLocale","setInboundQueues","console","log","getAssignedInboundQueues","inboundQueues","filter","_ref","checked","isAllAssign","assignedInboundQueues","isSeveralAssign","checkBoxOnChange","gateId","inboundQueuesState","setInboundQueuesState","index","findIndex","allCheckBoxOnChange","severalAssign","map","goBack","setup","wrapper","mount","createElement","RcThemeProvider","InboundQueuesPanel","submitInboundQueues","inboundQueuesPanelCases","title","assignment","indeterminate","bulkClick","list","exports","findElement","dataSign","find","concat","at","CheckInboundQueuesPanel","_ref2","simulate","expect","toBe","bulkChangeCheckBox","prop"],"sources":["components/InboundQueuesPanel/InboundQueuesPanel.ut.tsx"],"sourcesContent":["import React from 'react';\n\nimport { mount } from 'enzyme';\n\nimport type { StepFunction } from '@ringcentral-integration/test-utils';\nimport { RcThemeProvider } from '@ringcentral/juno';\n\nimport { InboundQueuesPanel } from './index';\n\nfunction renderFunction(option) {\n  return option.gateName;\n}\n\nfunction searchOption(option, text) {\n  return option?.gateName?.toLowerCase().includes(text.toLowerCase());\n}\n\nconst currentLocale = 'en-US';\n\nfunction setInboundQueues() {\n  console.log('====setInboundQueues');\n}\n\nfunction getAssignedInboundQueues(inboundQueues) {\n  return inboundQueues.filter(({ checked }) => checked);\n}\n\nfunction isAllAssign(assignedInboundQueues, inboundQueues) {\n  return (\n    !!assignedInboundQueues.length &&\n    assignedInboundQueues.length === inboundQueues.length\n  );\n}\n\nfunction isSeveralAssign(assignedInboundQueues, inboundQueues) {\n  return (\n    !!assignedInboundQueues.length &&\n    assignedInboundQueues.length !== inboundQueues.length\n  );\n}\n\nfunction checkBoxOnChange(gateId, inboundQueuesState, setInboundQueuesState) {\n  const inboundQueues = [...inboundQueuesState];\n  const index = inboundQueues.findIndex((option) => option.gateId === gateId);\n  inboundQueues[index].checked = !inboundQueues[index].checked;\n  setInboundQueuesState(inboundQueues);\n}\n\nfunction allCheckBoxOnChange(\n  severalAssign,\n  inboundQueuesState,\n  setInboundQueuesState,\n) {\n  const inboundQueues = inboundQueuesState.map((option) => {\n    option.checked = severalAssign || !option.checked;\n    return option;\n  });\n  setInboundQueuesState(inboundQueues);\n}\nconst goBack = () => {};\n\nfunction setup(inboundQueues) {\n  const wrapper = mount(\n    <RcThemeProvider>\n      <InboundQueuesPanel\n        renderFunction={renderFunction}\n        searchOption={searchOption}\n        currentLocale={currentLocale}\n        inboundQueues={inboundQueues}\n        submitInboundQueues={setInboundQueues}\n        getAssignedInboundQueues={getAssignedInboundQueues}\n        isAllAssign={isAllAssign}\n        isSeveralAssign={isSeveralAssign}\n        checkBoxOnChange={checkBoxOnChange}\n        allCheckBoxOnChange={allCheckBoxOnChange}\n        goBack={goBack}\n      />\n    </RcThemeProvider>,\n  );\n  return wrapper;\n}\n\nexport const inboundQueuesPanelCases = [\n  {\n    title: 'Assignment checkbox: indeterminate',\n    assignment: 1,\n    indeterminate: true,\n    checked: false,\n    bulkClick: false,\n    list: [\n      {\n        checked: false,\n        gateId: '001',\n        gateName: 'gateName1',\n      },\n      {\n        checked: false,\n        gateId: '002',\n        gateName: 'gateName2',\n      },\n      {\n        checked: true,\n        gateId: '003',\n        gateName: 'gateName3',\n      },\n    ],\n  },\n  {\n    title: 'Assignment checkbox: indeterminate -> all select',\n    assignment: 3,\n    indeterminate: false,\n    checked: true,\n    bulkClick: true,\n    list: [\n      {\n        checked: false,\n        gateId: '001',\n        gateName: 'gateName1',\n      },\n      {\n        checked: false,\n        gateId: '002',\n        gateName: 'gateName2',\n      },\n      {\n        checked: true,\n        gateId: '003',\n        gateName: 'gateName3',\n      },\n    ],\n  },\n  {\n    title: 'click Assignment checkbox: all select -> all unselect',\n    assignment: 0,\n    indeterminate: false,\n    checked: false,\n    bulkClick: true,\n    list: [\n      {\n        checked: true,\n        gateId: '001',\n        gateName: 'gateName1',\n      },\n      {\n        checked: true,\n        gateId: '002',\n        gateName: 'gateName2',\n      },\n      {\n        checked: true,\n        gateId: '003',\n        gateName: 'gateName3',\n      },\n    ],\n  },\n  {\n    title: 'click Assignment checkbox: all unselect -> all select',\n    assignment: 3,\n    indeterminate: false,\n    checked: true,\n    bulkClick: true,\n    list: [\n      {\n        checked: false,\n        gateId: '001',\n        gateName: 'gateName1',\n      },\n      {\n        checked: false,\n        gateId: '002',\n        gateName: 'gateName2',\n      },\n      {\n        checked: false,\n        gateId: '003',\n        gateName: 'gateName3',\n      },\n    ],\n  },\n];\n\nfunction findElement(wrapper, dataSign) {\n  return wrapper.find(`[data-sign=\"${dataSign}\"]`).at(0);\n}\n\nexport const CheckInboundQueuesPanel: StepFunction<any> = ({\n  list,\n  assignment,\n  indeterminate,\n  checked,\n  bulkClick,\n}) => {\n  const wrapper = setup(list);\n  if (bulkClick) {\n    findElement(wrapper, 'bulkChangeCheckBox').find('input').simulate('click');\n  }\n  expect(findElement(wrapper, 'selectedTips').text()).toBe(\n    `${assignment} of ${list.length} Selected`,\n  );\n  const bulkChangeCheckBox = findElement(wrapper, 'bulkChangeCheckBox');\n  expect(bulkChangeCheckBox.prop('indeterminate')).toBe(indeterminate);\n  expect(bulkChangeCheckBox.prop('checked')).toBe(checked);\n};\n"],"mappings":"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"}