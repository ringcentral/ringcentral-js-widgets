{"version":3,"file":"index.js","names":["_react","_interopRequireDefault","require","_classnames","_propTypes","_ramda","_callDirections","_callResults","_telephonyStatus","_callLogHelpers","_DynamicsFont","_i18n","_styles","_callIconMap","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","_defineProperty","key","value","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","arg","_toPrimitive","String","input","hint","prim","toPrimitive","undefined","res","call","TypeError","Number","CallIcon","_ref","title","iconClassName","createElement","className","styles","callIcon","propTypes","PropTypes","string","isRequired","defaultProps","callIconMap","callResults","missed","dynamicsFont","callDirections","inbound","outbound","telephonyStatuses","ringing","callHover","colorStatusMap","green","callConnected","callAccepted","accepted","red","voicemail","rejected","blocked","noAnswer","busy","hangUp","HangUp","declined","orange","onHold","parkedCall","LogBasicInfo","props","_props$currentLog","currentLog","logName","formatPhone","currentLocale","clickable","onClick","dataSign","direction","to","from","duration","result","telephonyStatus","number","phoneNumber","extensionNumber","formatNumber","status","active","isMissed","includes","isRinging","i18n","getString","statusI18n","classnames","icon","statusClassName","root","callInfo","pointer","callDisplay","contact","callDetail","separator","extra","extraButton","func","object","bool","_default","exports"],"sources":["components/LogBasicInfo/index.tsx"],"sourcesContent":["import React from 'react';\n\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { includes } from 'ramda';\n\nimport callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport callResults from '@ringcentral-integration/commons/enums/callResults';\nimport telephonyStatuses from '@ringcentral-integration/commons/enums/telephonyStatus';\nimport { isMissed } from '@ringcentral-integration/commons/lib/callLogHelpers';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst CallIcon = ({ title, iconClassName }: any) => (\n  <div className={styles.callIcon} title={title}>\n    <span className={iconClassName} />\n  </div>\n);\n\nCallIcon.propTypes = {\n  title: PropTypes.string,\n  iconClassName: PropTypes.string.isRequired,\n};\n\nCallIcon.defaultProps = {\n  title: '',\n};\n\nconst callIconMap = {\n  [callResults.missed]: dynamicsFont.missed,\n  [callDirections.inbound]: dynamicsFont.inbound,\n  [callDirections.outbound]: dynamicsFont.outbound,\n  [telephonyStatuses.ringing]: dynamicsFont.callHover,\n};\nconst colorStatusMap = {\n  green: [\n    telephonyStatuses.callConnected,\n    telephonyStatuses.ringing,\n    callResults.callAccepted,\n    callResults.accepted,\n  ],\n  red: [\n    callResults.missed,\n    callResults.voicemail,\n    callResults.rejected,\n    callResults.blocked,\n    callResults.noAnswer,\n    callResults.busy,\n    callResults.hangUp,\n    callResults.HangUp,\n    callResults.declined,\n  ],\n  orange: [telephonyStatuses.onHold, telephonyStatuses.parkedCall],\n};\n\nconst LogBasicInfo = (props: any) => {\n  const {\n    currentLog: { call, logName },\n    formatPhone,\n    currentLocale,\n    clickable,\n    onClick,\n    dataSign,\n  } = props;\n  if (!call) return null;\n  const { direction, to, from, duration, result, telephonyStatus } = call;\n  const number =\n    direction === callDirections.outbound\n      ? to && (to.phoneNumber || to.extensionNumber)\n      : from && (from.phoneNumber || from.extensionNumber);\n  const formatNumber = formatPhone(number);\n  const status = result || telephonyStatus;\n  const active = !duration && duration !== 0;\n  const missed = isMissed(call);\n  const green = includes(status, colorStatusMap.green);\n  const red = includes(status, colorStatusMap.red);\n  const orange = includes(status, colorStatusMap.orange);\n  const isRinging = status === telephonyStatuses.ringing;\n  const title = missed\n    ? i18n.getString(callResults.missed, currentLocale)\n    : i18n.getString(direction, currentLocale);\n  const statusI18n = i18n.getString(status, currentLocale);\n  const iconClassName = classnames(\n    styles.icon,\n    isRinging && styles.ringing,\n    isRinging && dynamicsFont.callHover,\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    !isRinging && !missed && callIconMap[direction],\n    missed && styles.missed,\n    missed && callIconMap[callResults.missed],\n    !isRinging && active && styles.active,\n  );\n  const statusClassName = classnames(\n    styles.status,\n    green && styles.green,\n    red && styles.red,\n    orange && styles.orange,\n  );\n  return (\n    <div data-sign=\"logSection\" className={styles.root}>\n      <div\n        data-sign={dataSign}\n        className={classnames(styles.callInfo, clickable && styles.pointer)}\n        onClick={clickable ? onClick : () => {}}\n      >\n        <CallIcon title={title} iconClassName={iconClassName} />\n        <ul className={styles.callDisplay}>\n          <li className={styles.contact} title={logName}>\n            {logName}\n          </li>\n          <li className={styles.callDetail}>\n            <span className={styles.number} title={formatNumber}>\n              {formatNumber}\n            </span>\n            {formatNumber ? (\n              <span className={styles.separator}>&nbsp;</span>\n            ) : null}\n            <span\n              data-sign=\"callStatus\"\n              className={statusClassName}\n              title={statusI18n}\n            >\n              {statusI18n}\n            </span>\n          </li>\n        </ul>\n      </div>\n      <div className={styles.extra}>{props.extraButton}</div>\n    </div>\n  );\n};\n\nLogBasicInfo.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  formatPhone: PropTypes.func,\n  currentLog: PropTypes.object,\n  extraButton: PropTypes.object,\n  clickable: PropTypes.bool,\n  onClick: PropTypes.func,\n  dataSign: PropTypes.string,\n};\n\nLogBasicInfo.defaultProps = {\n  formatPhone: (value: any) => value,\n  currentLog: {},\n  extraButton: undefined,\n  clickable: false,\n  onClick() {},\n  dataSign: undefined,\n};\n\nexport default LogBasicInfo;\n"],"mappings":"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"}