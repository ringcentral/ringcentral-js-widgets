{"version":3,"sources":["components/LogBasicInfo/index.tsx"],"names":["CallIcon","title","iconClassName","styles","callIcon","propTypes","PropTypes","string","isRequired","defaultProps","callIconMap","callResults","missed","dynamicsFont","callDirections","inbound","outbound","telephonyStatuses","ringing","callHover","colorStatusMap","green","callConnected","callAccepted","accepted","red","voicemail","rejected","blocked","noAnswer","busy","hangUp","HangUp","declined","orange","onHold","parkedCall","LogBasicInfo","props","currentLog","call","logName","formatPhone","currentLocale","clickable","onClick","dataSign","direction","to","from","duration","result","telephonyStatus","number","phoneNumber","extensionNumber","formatNumber","status","active","isRinging","i18n","getString","statusI18n","icon","statusClassName","root","callInfo","pointer","callDisplay","contact","callDetail","separator","extra","extraButton","func","object","bool","value","undefined"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { contains } from 'ramda';\n\nimport callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport callResults from '@ringcentral-integration/commons/enums/callResults';\nimport telephonyStatuses from '@ringcentral-integration/commons/enums/telephonyStatus';\nimport { isMissed } from '@ringcentral-integration/commons/lib/callLogHelpers';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst CallIcon = ({ title, iconClassName }) => (\n  <div className={styles.callIcon} title={title}>\n    <span className={iconClassName} />\n  </div>\n);\n\nCallIcon.propTypes = {\n  title: PropTypes.string,\n  iconClassName: PropTypes.string.isRequired,\n};\n\nCallIcon.defaultProps = {\n  title: '',\n};\n\nconst callIconMap = {\n  [callResults.missed]: dynamicsFont.missed,\n  [callDirections.inbound]: dynamicsFont.inbound,\n  [callDirections.outbound]: dynamicsFont.outbound,\n  [telephonyStatuses.ringing]: dynamicsFont.callHover,\n};\nconst colorStatusMap = {\n  green: [\n    telephonyStatuses.callConnected,\n    telephonyStatuses.ringing,\n    callResults.callAccepted,\n    callResults.accepted,\n  ],\n  red: [\n    callResults.missed,\n    callResults.voicemail,\n    callResults.rejected,\n    callResults.blocked,\n    callResults.noAnswer,\n    callResults.busy,\n    callResults.hangUp,\n    callResults.HangUp,\n    callResults.declined,\n  ],\n  orange: [telephonyStatuses.onHold, telephonyStatuses.parkedCall],\n};\n\nfunction LogBasicInfo(props) {\n  const {\n    currentLog: { call, logName },\n    formatPhone,\n    currentLocale,\n    clickable,\n    onClick,\n    dataSign,\n  } = props;\n  if (!call) return null;\n  const { direction, to, from, duration, result, telephonyStatus } = call;\n  const number =\n    direction === callDirections.outbound\n      ? to && (to.phoneNumber || to.extensionNumber)\n      : from && (from.phoneNumber || from.extensionNumber);\n  const formatNumber = formatPhone(number);\n  const status = result || telephonyStatus;\n  const active = !duration && duration !== 0;\n  const missed = isMissed(call);\n  const green = contains(status, colorStatusMap.green);\n  const red = contains(status, colorStatusMap.red);\n  const orange = contains(status, colorStatusMap.orange);\n  const isRinging = status === telephonyStatuses.ringing;\n  const title = missed\n    ? i18n.getString(callResults.missed, currentLocale)\n    : i18n.getString(direction, currentLocale);\n  const statusI18n = i18n.getString(status, currentLocale);\n  const iconClassName = classnames(\n    styles.icon,\n    isRinging && styles.ringing,\n    isRinging && dynamicsFont.callHover,\n    !isRinging && !missed && callIconMap[direction],\n    missed && styles.missed,\n    missed && callIconMap[callResults.missed],\n    !isRinging && active && styles.active,\n  );\n  const statusClassName = classnames(\n    styles.status,\n    green && styles.green,\n    red && styles.red,\n    orange && styles.orange,\n  );\n  return (\n    <div data-sign=\"logSection\" className={styles.root}>\n      <div\n        data-sign={dataSign}\n        className={classnames(styles.callInfo, clickable && styles.pointer)}\n        onClick={clickable ? onClick : () => {}}\n      >\n        <CallIcon title={title} iconClassName={iconClassName} />\n        <ul className={styles.callDisplay}>\n          <li className={styles.contact} title={logName}>\n            {logName}\n          </li>\n          <li className={styles.callDetail}>\n            <span className={styles.number} title={formatNumber}>\n              {formatNumber}\n            </span>\n            {formatNumber ? (\n              <span className={styles.separator}>&nbsp;</span>\n            ) : null}\n            <span\n              data-sign=\"callStatus\"\n              className={statusClassName}\n              title={statusI18n}\n            >\n              {statusI18n}\n            </span>\n          </li>\n        </ul>\n      </div>\n      <div className={styles.extra}>{props.extraButton}</div>\n    </div>\n  );\n}\n\nLogBasicInfo.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  formatPhone: PropTypes.func,\n  currentLog: PropTypes.object,\n  extraButton: PropTypes.object,\n  clickable: PropTypes.bool,\n  onClick: PropTypes.func,\n  dataSign: PropTypes.string,\n};\n\nLogBasicInfo.defaultProps = {\n  formatPhone: (value) => value,\n  currentLog: {},\n  extraButton: undefined,\n  clickable: false,\n  onClick() {},\n  dataSign: undefined,\n};\n\nexport default LogBasicInfo;\n"],"file":"index.js"}