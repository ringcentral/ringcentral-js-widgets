{"version":3,"file":"index.js","names":["_callDirections","_interopRequireDefault","require","_callResults","_telephonyStatus","_callLogHelpers","_clsx","_propTypes","_ramda","_react","_DynamicsFont","_i18n","_styles","_callIconMap","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","_defineProperty","r","t","_toPropertyKey","Object","defineProperty","value","enumerable","configurable","writable","i","_toPrimitive","toPrimitive","call","TypeError","String","Number","CallIcon","_ref","title","iconClassName","createElement","className","styles","callIcon","propTypes","PropTypes","string","isRequired","defaultProps","callIconMap","callResults","missed","dynamicsFont","callDirections","inbound","outbound","telephonyStatuses","ringing","callHover","colorStatusMap","green","callConnected","callAccepted","accepted","red","voicemail","rejected","blocked","noAnswer","busy","hangUp","HangUp","declined","orange","onHold","parkedCall","LogBasicInfo","props","_props$currentLog","currentLog","logName","formatPhone","currentLocale","clickable","onClick","dataSign","direction","to","from","duration","result","telephonyStatus","number","phoneNumber","extensionNumber","formatNumber","status","active","isMissed","includes","isRinging","i18n","getString","statusI18n","clsx","icon","statusClassName","root","callInfo","pointer","callDisplay","contact","callDetail","separator","extra","extraButton","func","object","bool","undefined","_default","exports"],"sources":["components/LogBasicInfo/index.tsx"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport callResults from '@ringcentral-integration/commons/enums/callResults';\nimport telephonyStatuses from '@ringcentral-integration/commons/enums/telephonyStatus';\nimport { isMissed } from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { includes } from 'ramda';\nimport React from 'react';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst CallIcon = ({ title, iconClassName }: any) => (\n  <div className={styles.callIcon} title={title} data-sign=\"callIcon\">\n    <span className={iconClassName} />\n  </div>\n);\n\nCallIcon.propTypes = {\n  title: PropTypes.string,\n  iconClassName: PropTypes.string.isRequired,\n};\n\nCallIcon.defaultProps = {\n  title: '',\n};\n\nconst callIconMap = {\n  [callResults.missed]: dynamicsFont.missed,\n  [callDirections.inbound]: dynamicsFont.inbound,\n  [callDirections.outbound]: dynamicsFont.outbound,\n  [telephonyStatuses.ringing]: dynamicsFont.callHover,\n};\nconst colorStatusMap = {\n  green: [\n    telephonyStatuses.callConnected,\n    telephonyStatuses.ringing,\n    callResults.callAccepted,\n    callResults.accepted,\n  ],\n  red: [\n    callResults.missed,\n    callResults.voicemail,\n    callResults.rejected,\n    callResults.blocked,\n    callResults.noAnswer,\n    callResults.busy,\n    callResults.hangUp,\n    callResults.HangUp,\n    callResults.declined,\n  ],\n  orange: [telephonyStatuses.onHold, telephonyStatuses.parkedCall],\n};\n\nconst LogBasicInfo = (props: any) => {\n  const {\n    currentLog: { call, logName },\n    formatPhone,\n    currentLocale,\n    clickable,\n    onClick,\n    dataSign,\n  } = props;\n  if (!call) return null;\n  const { direction, to, from, duration, result, telephonyStatus } = call;\n  const number =\n    direction === callDirections.outbound\n      ? to && (to.phoneNumber || to.extensionNumber)\n      : from && (from.phoneNumber || from.extensionNumber);\n  const formatNumber = formatPhone(number);\n  const status = result || telephonyStatus;\n  const active = !duration && duration !== 0;\n  const missed = isMissed(call);\n  const green = includes(status, colorStatusMap.green);\n  const red = includes(status, colorStatusMap.red);\n  const orange = includes(status, colorStatusMap.orange);\n  const isRinging = status === telephonyStatuses.ringing;\n  const title = missed\n    ? i18n.getString(callResults.missed, currentLocale)\n    : i18n.getString(direction, currentLocale);\n  const statusI18n = i18n.getString(status, currentLocale);\n  const iconClassName = clsx(\n    styles.icon,\n    isRinging && styles.ringing,\n    isRinging && dynamicsFont.callHover,\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    !isRinging && !missed && callIconMap[direction],\n    missed && styles.missed,\n    missed && callIconMap[callResults.missed],\n    !isRinging && active && styles.active,\n  );\n  const statusClassName = clsx(\n    styles.status,\n    green && styles.green,\n    red && styles.red,\n    orange && styles.orange,\n  );\n  return (\n    <div data-sign=\"logSection\" className={styles.root}>\n      <div\n        data-sign={dataSign}\n        className={clsx(styles.callInfo, clickable && styles.pointer)}\n        onClick={clickable ? onClick : () => {}}\n      >\n        <CallIcon title={title} iconClassName={iconClassName} />\n        <ul className={styles.callDisplay}>\n          <li className={styles.contact} title={logName} data-sign=\"entityName\">\n            {logName}\n          </li>\n          <li className={styles.callDetail}>\n            <span\n              className={styles.number}\n              title={formatNumber}\n              data-sign=\"logPhoneNumber\"\n            >\n              {formatNumber}\n            </span>\n            {formatNumber ? (\n              <span className={styles.separator}>&nbsp;</span>\n            ) : null}\n            <span\n              data-sign=\"logCallStatus\"\n              className={statusClassName}\n              title={statusI18n}\n            >\n              {statusI18n}\n            </span>\n          </li>\n        </ul>\n      </div>\n      <div className={styles.extra}>{props.extraButton}</div>\n    </div>\n  );\n};\n\nLogBasicInfo.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  formatPhone: PropTypes.func,\n  currentLog: PropTypes.object,\n  extraButton: PropTypes.object,\n  clickable: PropTypes.bool,\n  onClick: PropTypes.func,\n  dataSign: PropTypes.string,\n};\n\nLogBasicInfo.defaultProps = {\n  formatPhone: (value: any) => value,\n  currentLog: {},\n  extraButton: undefined,\n  clickable: false,\n  onClick() {},\n  dataSign: undefined,\n};\n\nexport default LogBasicInfo;\n"],"mappings":"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","ignoreList":[]}