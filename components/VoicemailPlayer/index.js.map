{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_juno","_classnames","_interopRequireDefault","_formatDuration","_Download","_Pause","_Play","_Button","_i18n","_styles","obj","__esModule","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_toPropertyKey","_createClass","protoProps","staticProps","arg","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","undefined","res","Number","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","arguments","apply","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","audiosMap","isFirefox","navigator","userAgent","indexOf","VoicemailPlayer","_Component","_super","_this","_audio","_id","_mounted","_pauseAudio","_playAudio","_onDownloadClick","downloadUri","window","open","state","playing","paused","progress","concat","uri","split","pop","Date","getTime","Audio","preload","volume","addEventListener","setState","currentTime","duration","isPlaying","console","error","src","load","isNaN","_pauseOtherAudios","_playPromise","play","onPlay","then","pause","_this2","keys","forEach","id","otherAudio","componentDidMount","componentWillUnmount","render","_this3","_this$props","className","disabled","currentLocale","icon","createElement","Button","classnames","styles","onClick","title","i18n","getString","width","height","dataSign","root","startTime","formatDuration","RcLink","download","href","endTime","all","done","style","current","left","Component","defaultProps","_default","exports"],"sources":["components/VoicemailPlayer/index.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { RcLink } from '@ringcentral/juno';\n\nimport classnames from 'classnames';\n\nimport { formatDuration } from '@ringcentral-integration/commons/lib/formatDuration';\nimport DownloadIcon from '../../assets/images/Download.svg';\nimport PauseIcon from '../../assets/images/Pause.svg';\nimport PlayIcon from '../../assets/images/Play.svg';\nimport { Button } from '../Button';\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nconst audiosMap = {};\nconst isFirefox = navigator.userAgent.indexOf('Firefox') > 0;\n\ntype VoicemailPlayerProps = {\n  duration?: number;\n  uri: string;\n  className?: string;\n  onPlay?: (...args: any[]) => any;\n  disabled?: boolean;\n  currentLocale: string;\n};\ntype VoicemailPlayerState = {\n  playing: boolean;\n  paused: boolean;\n  progress: number;\n};\nclass VoicemailPlayer extends Component<\n  VoicemailPlayerProps,\n  VoicemailPlayerState\n> {\n  _audio: any;\n  _id: any;\n  _mounted: any;\n  _pauseAudio: any;\n  _playAudio: any;\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      playing: false,\n      paused: false,\n      progress: 0,\n    };\n    this._id = `${\n      props.uri && props.uri.split('?')[0].split('/').pop()\n    }/${new Date().getTime()}`;\n    this._audio = new Audio();\n    this._audio.preload = false;\n    this._audio.volume = 1;\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    audiosMap[this._id] = this._audio;\n    this._audio.addEventListener('timeupdate', () => {\n      if (!this._mounted) {\n        return;\n      }\n      this.setState({\n        progress: this._audio.currentTime / this._audio.duration,\n      });\n    });\n    this._audio.addEventListener('ended', () => {\n      if (!this._mounted) {\n        return;\n      }\n      this.setState({\n        playing: false,\n      });\n      this._audio.isPlaying = false;\n    });\n    this._audio.addEventListener('pause', () => {\n      if (!this._mounted) {\n        return;\n      }\n      this.setState({\n        paused: true,\n        playing: false,\n      });\n      this._audio.isPlaying = false;\n    });\n    this._audio.addEventListener('play', () => {\n      if (!this._mounted) {\n        return;\n      }\n      this.setState({\n        playing: true,\n        paused: false,\n      });\n      this._audio.isPlaying = true;\n    });\n    this._audio.addEventListener('error', () => {\n      console.error(this._audio.error);\n    });\n    this._playAudio = () => {\n      if (this.state.playing) {\n        return;\n      }\n      if (!this.state.paused) {\n        this._audio.src = this.props.uri;\n        this._audio.load(this.props.uri);\n        if (!Number.isNaN(this._audio.duration)) {\n          this._audio.currentTime = 0;\n        }\n      }\n      this._pauseOtherAudios();\n      this._audio._playPromise = this._audio.play();\n      if (typeof this.props.onPlay === 'function') {\n        this.props.onPlay();\n      }\n    };\n    this._pauseAudio = () => {\n      if (this.state.paused) {\n        return;\n      }\n      if (this._audio._playPromise !== undefined) {\n        this._audio._playPromise.then(() => {\n          this._audio.pause();\n        });\n      }\n    };\n  }\n\n  _onDownloadClick = (\n    e: React.MouseEvent<HTMLAnchorElement, MouseEvent>,\n    downloadUri: string,\n  ) => {\n    /**\n     * target=\"_blank\" doesn't work on firefox, so we need to use window.open\n     */\n    if (isFirefox) {\n      window.open(downloadUri);\n    }\n  };\n\n  _pauseOtherAudios() {\n    Object.keys(audiosMap).forEach((id) => {\n      if (id === this._id) {\n        return;\n      }\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      const otherAudio = audiosMap[id];\n      if (otherAudio.isPlaying && otherAudio._playPromise) {\n        otherAudio._playPromise.then(() => {\n          otherAudio.pause();\n        });\n      }\n    });\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentDidMount() {\n    this._mounted = true;\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  componentWillUnmount() {\n    this._mounted = false;\n    if (!Number.isNaN(this._audio.duration)) {\n      this._audio.currentTime = 0;\n    }\n    this._audio.pause();\n    // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n    delete audiosMap[this._id];\n  }\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    const { className, duration, uri, disabled, currentLocale } = this.props;\n    let icon;\n    if (this.state.playing) {\n      icon = (\n        <Button\n          className={classnames(styles.play, disabled ? styles.disabled : null)}\n          onClick={this._pauseAudio}\n          disabled={disabled}\n        >\n          <span title={i18n.getString('pause', currentLocale)}>\n            <PauseIcon width={18} height={18} />\n          </span>\n        </Button>\n      );\n    } else {\n      icon = (\n        <Button\n          className={classnames(styles.play, disabled ? styles.disabled : null)}\n          onClick={this._playAudio}\n          disabled={disabled}\n          dataSign=\"play\"\n        >\n          <span title={i18n.getString('play', currentLocale)}>\n            <PlayIcon width={18} height={18} />\n          </span>\n        </Button>\n      );\n    }\n    const currentTime =\n      // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n      this._audio.currentTime < duration ? this._audio.currentTime : duration;\n    const downloadUri = `${uri}&contentDisposition=Attachment`;\n    return (\n      <div className={classnames(styles.root, className)}>\n        {icon}\n        <span className={styles.startTime}>{formatDuration(currentTime)}</span>\n        <RcLink\n          className={classnames(\n            styles.download,\n            disabled ? styles.disabled : null,\n          )}\n          target=\"_blank\"\n          download\n          disabled={disabled}\n          data-sign=\"download\"\n          title={i18n.getString('download', currentLocale)}\n          href={isFirefox ? '#' : downloadUri}\n          onClick={(e) => {\n            this._onDownloadClick(e, downloadUri);\n          }}\n        >\n          <DownloadIcon width={18} height={18} />\n        </RcLink>\n        <span className={styles.endTime}>{formatDuration(duration)}</span>\n        <div className={styles.progress}>\n          <div className={styles.all} />\n          <div\n            className={styles.done}\n            style={{ width: `${this.state.progress * 100}%` }}\n          />\n          <div\n            className={styles.current}\n            style={{ left: `${this.state.progress * 100}%` }}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n// @ts-expect-error TS(2339): Property 'defaultProps' does not exist on type 'ty... Remove this comment to see the full error message\nVoicemailPlayer.defaultProps = {\n  duration: 0,\n  className: undefined,\n  onPlay: undefined,\n  disabled: false,\n};\nexport default VoicemailPlayer;\n"],"mappings":"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"}