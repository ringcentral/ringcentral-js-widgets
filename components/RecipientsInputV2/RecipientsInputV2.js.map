{"version":3,"file":"RecipientsInputV2.js","names":["_clsx","_interopRequireDefault","require","_react","_interopRequireWildcard","_i18n","_DropdownList","_PhoneNumberInput","_SelectedRecipients","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","iterator","f","next","done","isArray","isSplitterKey","key","keyCode","RecipientsInputV2","forwardRef","_ref","ref","className","enableTitle","recipients","multiple","useRCUI","removeFromRecipients","recipientsClassName","placeholder","currentLocale","onInputChange","onInputClear","_ref$label","label","concat","i18n","getString","searchContactList","formatContactPhone","phoneTypeRenderer","phoneSourceNameRenderer","contactInfoRenderer","contactPhoneRenderer","addToRecipients","isLastInputFromDialpad","thisEl","useRef","listEl","inputEl","_useState","useState","_useState2","stateValue","setStateValue","_useState3","_useState4","selectedIndex","setSelectedIndex","_useState5","_useState6","isInputFocused","setIsInputFocused","lastInputTimestamp","useImperativeHandle","focus","current","blur","useEffect","handler","_ref2","target","contains","window","addEventListener","removeEventListener","Date","now","toNumberInput","createElement","PhoneNumberInput","onChange","newValue","setScrollPosition","onClear","onFocus","clsx","styles","container","rcuiStyle","onKeyDown","prevIndex","scrollUp","scrollDown","preventDefault","trimmedValue","trim","selectedContact","replace","phoneNumber","rightPanel","SelectedRecipients","onRemove","DropdownList","contact","recipientOptions","visibility","recipientInfoRenderer","recipientPhoneRenderer","exports","defaultProps"],"sources":["components/RecipientsInputV2/RecipientsInputV2.tsx"],"sourcesContent":["/* eslint-disable react/no-multi-comp */\nimport clsx from 'clsx';\nimport type { KeyboardEvent } from 'react';\nimport React, {\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\n\nimport i18n from '../RecipientsInput/i18n';\n\nimport { DropdownList } from './DropdownList';\nimport { PhoneNumberInput } from './PhoneNumberInput';\nimport type {\n  RecipientsInputV2Handles,\n  RecipientsInputV2Props,\n} from './RecipientsInputV2.interface';\nimport { SelectedRecipients } from './SelectedRecipients';\nimport styles from './styles.scss';\n\n/**\n * Specs:\n * 1. When dialer buttons are pressed, the cursor should be moved to the end of the string,\n *    and the focus set to the input field. RCINT-7706\n * 2. Simplify recipient/recipients property\n */\n\nfunction isSplitterKey(e: KeyboardEvent): boolean {\n  if (\n    e.key === ',' ||\n    e.key === ';' ||\n    e.key === 'Enter' ||\n    (e.key === 'Unidentified' && // for Safari (FF cannot rely on keyCode...)\n      (e.keyCode === 186 || // semicolon\n        e.keyCode === 188 || // comma\n        e.keyCode === 13)) // enter\n  ) {\n    return true;\n  }\n  return false;\n}\nexport const RecipientsInputV2 = forwardRef<\n  RecipientsInputV2Handles,\n  RecipientsInputV2Props\n>(\n  (\n    {\n      className,\n      enableTitle,\n      recipients,\n      multiple,\n      useRCUI,\n      value,\n      removeFromRecipients,\n      recipientsClassName,\n      placeholder,\n      currentLocale,\n      onInputChange,\n      onInputClear,\n      label = `${i18n.getString('to', currentLocale)}:`,\n      searchContactList,\n      formatContactPhone,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      contactInfoRenderer,\n      contactPhoneRenderer,\n      addToRecipients,\n      isLastInputFromDialpad,\n    },\n    ref,\n  ) => {\n    const thisEl = useRef(null);\n    const listEl = useRef(null);\n    const inputEl = useRef(null);\n    const [stateValue, setStateValue] = useState(value);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const [isInputFocused, setIsInputFocused] = useState(false);\n    const lastInputTimestamp = useRef(0);\n    useImperativeHandle(ref, () => ({\n      focus() {\n        setIsInputFocused(true);\n        if (inputEl.current) {\n          // @ts-expect-error TS(2339): Property 'focus' does not exist on type 'never'.\n          inputEl.current.focus();\n        }\n      },\n      blur() {\n        setIsInputFocused(false);\n        if (inputEl.current) {\n          // @ts-expect-error TS(2339): Property 'blur' does not exist on type 'never'.\n          inputEl.current.blur();\n        }\n      },\n    }));\n    useEffect(() => {\n      const handler = ({ target }: MouseEvent) => {\n        // @ts-expect-error TS(2339): Property 'contains' does not exist on type 'never'... Remove this comment to see the full error message\n        if (thisEl.current && !thisEl.current.contains(target)) {\n          if (inputEl.current) {\n            // @ts-expect-error TS(2339): Property 'blur' does not exist on type 'never'.\n            inputEl.current.blur();\n          }\n          setIsInputFocused(false);\n        }\n      };\n      window.addEventListener('click', handler);\n      return () => {\n        window.removeEventListener('click', handler);\n      };\n    }, []); // pass [] so this only runs on mount and unmount\n\n    useEffect(() => {\n      if (\n        value !== stateValue &&\n        Date.now() - lastInputTimestamp.current > 300\n      ) {\n        setStateValue(value);\n      }\n    }, [value, stateValue]);\n\n    const toNumberInput =\n      !multiple && recipients.length ? null : (\n        <PhoneNumberInput\n          ref={inputEl}\n          placeholder={placeholder}\n          value={stateValue}\n          currentLocale={currentLocale}\n          onChange={(newValue) => {\n            lastInputTimestamp.current = Date.now();\n            setStateValue(newValue);\n            setSelectedIndex(0);\n            onInputChange(newValue);\n            if (listEl.current) {\n              // @ts-expect-error TS(2339): Property 'setScrollPosition' does not exist on typ... Remove this comment to see the full error message\n              listEl.current.setScrollPosition(0);\n            }\n          }}\n          onClear={() => {\n            setStateValue('');\n            onInputClear();\n          }}\n          onFocus={() => {\n            setIsInputFocused(true);\n          }}\n        />\n      );\n    return (\n      <div\n        className={clsx(\n          styles.container,\n          useRCUI ? styles.rcuiStyle : null,\n          className,\n        )}\n        ref={thisEl}\n        onKeyDown={(e) => {\n          if (isInputFocused && stateValue.length >= 3) {\n            if (e.key === 'ArrowUp') {\n              if (selectedIndex > 0) {\n                setSelectedIndex((prevIndex) => prevIndex - 1);\n                if (selectedIndex - 1 < searchContactList.length - 4) {\n                  // @ts-expect-error TS(2531): Object is possibly 'null'.\n                  listEl.current.scrollUp();\n                }\n              }\n            } else if (e.key === 'ArrowDown') {\n              if (selectedIndex < searchContactList.length - 1) {\n                setSelectedIndex((prevIndex) => prevIndex + 1);\n                if (selectedIndex + 1 > 4) {\n                  // @ts-expect-error TS(2531): Object is possibly 'null'.\n                  listEl.current.scrollDown();\n                }\n              }\n            }\n          }\n\n          if (isSplitterKey(e)) {\n            e.preventDefault();\n            const trimmedValue = stateValue.trim();\n            const selectedContact = searchContactList[selectedIndex];\n            if (trimmedValue.length === 0 && !selectedContact) {\n              return;\n            }\n            if (selectedContact && e.key === 'Enter') {\n              addToRecipients({\n                ...selectedContact,\n              });\n            } else {\n              addToRecipients({\n                name: trimmedValue.replace(',', ''),\n                phoneNumber: trimmedValue.replace(',', ''),\n              });\n            }\n          }\n        }}\n      >\n        <span className={styles.label}>{label}</span>\n        <div className={clsx(useRCUI && styles.rcuiStyle, styles.rightPanel)}>\n          <SelectedRecipients\n            recipients={recipients}\n            onRemove={removeFromRecipients}\n            className={recipientsClassName}\n          />\n          {toNumberInput}\n        </div>\n        <DropdownList\n          currentLocale={currentLocale}\n          ref={listEl}\n          selectedIndex={selectedIndex}\n          setSelectedIndex={setSelectedIndex}\n          addToRecipients={(contact) => {\n            setStateValue('');\n            onInputChange('');\n            addToRecipients(contact);\n          }}\n          recipientOptions={searchContactList}\n          formatContactPhone={formatContactPhone}\n          visibility={isInputFocused && !isLastInputFromDialpad}\n          enableTitle={enableTitle}\n          phoneTypeRenderer={phoneTypeRenderer}\n          phoneSourceNameRenderer={phoneSourceNameRenderer}\n          recipientInfoRenderer={contactInfoRenderer}\n          recipientPhoneRenderer={contactPhoneRenderer}\n        />\n      </div>\n    );\n  },\n);\n\nRecipientsInputV2.defaultProps = {\n  enableTitle: false,\n  multiple: false,\n  useRCUI: false,\n  isLastInputFromDialpad: false,\n};\n"],"mappings":"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","ignoreList":[]}