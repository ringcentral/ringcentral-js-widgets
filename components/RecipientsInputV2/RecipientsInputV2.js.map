{"version":3,"file":"RecipientsInputV2.js","names":["_clsx","_interopRequireDefault","require","_react","_interopRequireWildcard","_i18n","_DropdownList","_PhoneNumberInput","_SelectedRecipients","_styles","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","a","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","l","iterator","u","next","done","isArray","isSplitterKey","key","keyCode","RecipientsInputV2","exports","forwardRef","_ref","ref","className","enableTitle","recipients","multiple","useRCUI","removeFromRecipients","recipientsClassName","placeholder","currentLocale","onInputChange","onInputClear","_ref$label","label","concat","i18n","getString","searchContactList","formatContactPhone","phoneTypeRenderer","phoneSourceNameRenderer","contactInfoRenderer","contactPhoneRenderer","addToRecipients","isLastInputFromDialpad","thisEl","useRef","listEl","inputEl","_useState","useState","_useState2","stateValue","setStateValue","_useState3","_useState4","selectedIndex","setSelectedIndex","_useState5","_useState6","isInputFocused","setIsInputFocused","lastInputTimestamp","useImperativeHandle","focus","current","blur","useEffect","handler","_ref2","target","contains","window","addEventListener","removeEventListener","Date","now","toNumberInput","createElement","PhoneNumberInput","onChange","newValue","setScrollPosition","onClear","onFocus","clsx","styles","container","rcuiStyle","onKeyDown","prevIndex","scrollUp","scrollDown","preventDefault","trimmedValue","trim","selectedContact","replace","phoneNumber","rightPanel","SelectedRecipients","onRemove","DropdownList","contact","recipientOptions","visibility","recipientInfoRenderer","recipientPhoneRenderer","defaultProps"],"sources":["components/RecipientsInputV2/RecipientsInputV2.tsx"],"sourcesContent":["/* eslint-disable react/no-multi-comp */\nimport clsx from 'clsx';\nimport type { KeyboardEvent } from 'react';\nimport React, {\n  forwardRef,\n  useEffect,\n  useImperativeHandle,\n  useRef,\n  useState,\n} from 'react';\n\nimport i18n from '../RecipientsInput/i18n';\n\nimport { DropdownList } from './DropdownList';\nimport { PhoneNumberInput } from './PhoneNumberInput';\nimport type {\n  RecipientsInputV2Handles,\n  RecipientsInputV2Props,\n} from './RecipientsInputV2.interface';\nimport { SelectedRecipients } from './SelectedRecipients';\nimport styles from './styles.scss';\n\n/**\n * Specs:\n * 1. When dialer buttons are pressed, the cursor should be moved to the end of the string,\n *    and the focus set to the input field. RCINT-7706\n * 2. Simplify recipient/recipients property\n */\n\nfunction isSplitterKey(e: KeyboardEvent): boolean {\n  if (\n    e.key === ',' ||\n    e.key === ';' ||\n    e.key === 'Enter' ||\n    (e.key === 'Unidentified' && // for Safari (FF cannot rely on keyCode...)\n      (e.keyCode === 186 || // semicolon\n        e.keyCode === 188 || // comma\n        e.keyCode === 13)) // enter\n  ) {\n    return true;\n  }\n  return false;\n}\nexport const RecipientsInputV2 = forwardRef<\n  RecipientsInputV2Handles,\n  RecipientsInputV2Props\n>(\n  (\n    {\n      className,\n      enableTitle,\n      recipients,\n      multiple,\n      useRCUI,\n      value,\n      removeFromRecipients,\n      recipientsClassName,\n      placeholder,\n      currentLocale,\n      onInputChange,\n      onInputClear,\n      label = `${i18n.getString('to', currentLocale)}:`,\n      searchContactList,\n      formatContactPhone,\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      contactInfoRenderer,\n      contactPhoneRenderer,\n      addToRecipients,\n      isLastInputFromDialpad,\n    },\n    ref,\n  ) => {\n    const thisEl = useRef(null);\n    const listEl = useRef(null);\n    const inputEl = useRef(null);\n    const [stateValue, setStateValue] = useState(value);\n    const [selectedIndex, setSelectedIndex] = useState(0);\n    const [isInputFocused, setIsInputFocused] = useState(false);\n    const lastInputTimestamp = useRef(0);\n    useImperativeHandle(ref, () => ({\n      focus() {\n        setIsInputFocused(true);\n        if (inputEl.current) {\n          // @ts-expect-error TS(2339): Property 'focus' does not exist on type 'never'.\n          inputEl.current.focus();\n        }\n      },\n      blur() {\n        setIsInputFocused(false);\n        if (inputEl.current) {\n          // @ts-expect-error TS(2339): Property 'blur' does not exist on type 'never'.\n          inputEl.current.blur();\n        }\n      },\n    }));\n    useEffect(() => {\n      const handler = ({ target }: MouseEvent) => {\n        // @ts-expect-error TS(2339): Property 'contains' does not exist on type 'never'... Remove this comment to see the full error message\n        if (thisEl.current && !thisEl.current.contains(target)) {\n          if (inputEl.current) {\n            // @ts-expect-error TS(2339): Property 'blur' does not exist on type 'never'.\n            inputEl.current.blur();\n          }\n          setIsInputFocused(false);\n        }\n      };\n      window.addEventListener('click', handler);\n      return () => {\n        window.removeEventListener('click', handler);\n      };\n    }, []); // pass [] so this only runs on mount and unmount\n\n    useEffect(() => {\n      if (\n        value !== stateValue &&\n        Date.now() - lastInputTimestamp.current > 300\n      ) {\n        setStateValue(value);\n      }\n    }, [value, stateValue]);\n\n    const toNumberInput =\n      !multiple && recipients.length ? null : (\n        <PhoneNumberInput\n          ref={inputEl}\n          placeholder={placeholder}\n          value={stateValue}\n          currentLocale={currentLocale}\n          onChange={(newValue) => {\n            lastInputTimestamp.current = Date.now();\n            setStateValue(newValue);\n            setSelectedIndex(0);\n            onInputChange(newValue);\n            if (listEl.current) {\n              // @ts-expect-error TS(2339): Property 'setScrollPosition' does not exist on typ... Remove this comment to see the full error message\n              listEl.current.setScrollPosition(0);\n            }\n          }}\n          onClear={() => {\n            setStateValue('');\n            onInputClear();\n          }}\n          onFocus={() => {\n            setIsInputFocused(true);\n          }}\n        />\n      );\n    return (\n      <div\n        className={clsx(\n          styles.container,\n          useRCUI ? styles.rcuiStyle : null,\n          className,\n        )}\n        ref={thisEl}\n        onKeyDown={(e) => {\n          if (isInputFocused && stateValue.length >= 3) {\n            if (e.key === 'ArrowUp') {\n              if (selectedIndex > 0) {\n                setSelectedIndex((prevIndex) => prevIndex - 1);\n                if (selectedIndex - 1 < searchContactList.length - 4) {\n                  // @ts-expect-error TS(2531): Object is possibly 'null'.\n                  listEl.current.scrollUp();\n                }\n              }\n            } else if (e.key === 'ArrowDown') {\n              if (selectedIndex < searchContactList.length - 1) {\n                setSelectedIndex((prevIndex) => prevIndex + 1);\n                if (selectedIndex + 1 > 4) {\n                  // @ts-expect-error TS(2531): Object is possibly 'null'.\n                  listEl.current.scrollDown();\n                }\n              }\n            }\n          }\n\n          if (isSplitterKey(e)) {\n            e.preventDefault();\n            const trimmedValue = stateValue.trim();\n            const selectedContact = searchContactList[selectedIndex];\n            if (trimmedValue.length === 0 && !selectedContact) {\n              return;\n            }\n            if (selectedContact && e.key === 'Enter') {\n              addToRecipients({\n                ...selectedContact,\n              });\n            } else {\n              addToRecipients({\n                name: trimmedValue.replace(',', ''),\n                phoneNumber: trimmedValue.replace(',', ''),\n              });\n            }\n          }\n        }}\n      >\n        <span className={styles.label}>{label}</span>\n        <div className={clsx(useRCUI && styles.rcuiStyle, styles.rightPanel)}>\n          <SelectedRecipients\n            recipients={recipients}\n            onRemove={removeFromRecipients}\n            className={recipientsClassName}\n          />\n          {toNumberInput}\n        </div>\n        <DropdownList\n          currentLocale={currentLocale}\n          ref={listEl}\n          selectedIndex={selectedIndex}\n          setSelectedIndex={setSelectedIndex}\n          addToRecipients={(contact) => {\n            setStateValue('');\n            onInputChange('');\n            addToRecipients(contact);\n          }}\n          recipientOptions={searchContactList}\n          formatContactPhone={formatContactPhone}\n          visibility={isInputFocused && !isLastInputFromDialpad}\n          enableTitle={enableTitle}\n          phoneTypeRenderer={phoneTypeRenderer}\n          phoneSourceNameRenderer={phoneSourceNameRenderer}\n          recipientInfoRenderer={contactInfoRenderer}\n          recipientPhoneRenderer={contactPhoneRenderer}\n        />\n      </div>\n    );\n  },\n);\n\nRecipientsInputV2.defaultProps = {\n  enableTitle: false,\n  multiple: false,\n  useRCUI: false,\n  isLastInputFromDialpad: false,\n};\n"],"mappings":"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","ignoreList":[]}