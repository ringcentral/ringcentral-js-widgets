{"version":3,"sources":["components/RecipientsInputV2/PhoneNumberInput.tsx"],"names":["PhoneNumberInput","ref","currentLocale","placeholder","i18n","getString","value","onChange","onClear","onFocus","isFocused","inputEl","focus","setTimeout","current","blur","styles","inputWrapper","inputField","currentTarget","ev","console","log","numberInput","removeButton","length","defaultProps"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAOA;;AAEA;;AACA;;AACA;;;;;;;;AAiBO,IAAMA,gBAAgB,gBAAG,uBAI9B,gBAUEC,GAVF,EAWK;AAAA,MATDC,aASC,QATDA,aASC;AAAA,8BARDC,WAQC;AAAA,MARDA,WAQC,iCARaC,iBAAKC,SAAL,CAAe,mBAAf,EAAoCH,aAApC,CAQb;AAAA,MAPDI,KAOC,QAPDA,KAOC;AAAA,MANDC,SAMC,QANDA,QAMC;AAAA,MALDC,OAKC,QALDA,OAKC;AAAA,MAJDC,OAIC,QAJDA,OAIC;AAAA,MAHDC,SAGC,QAHDA,SAGC;AACH,MAAMC,OAAO,GAAG,mBAAO,IAAP,CAAhB;AACA,kCAAoBV,GAApB,EAAyB;AAAA,WAAO;AAC9BW,MAAAA,KAD8B,mBACtB;AACN;AACA;AACAC,QAAAA,UAAU,CAAC,YAAM;AACf,cAAIF,OAAO,CAACG,OAAZ,EAAqB;AACnBH,YAAAA,OAAO,CAACG,OAAR,CAAgBF,KAAhB;AACD;AACF,SAJS,EAIP,CAJO,CAAV;AAKD,OAT6B;AAU9BG,MAAAA,IAV8B,kBAUvB;AACL,YAAIJ,OAAO,CAACG,OAAZ,EAAqB;AACnBH,UAAAA,OAAO,CAACG,OAAR,CAAgBC,IAAhB;AACD;AACF;AAd6B,KAAP;AAAA,GAAzB;AAgBA,sBACE;AAAK,IAAA,SAAS,EAAEC,mBAAOC;AAAvB,kBACE;AACE,IAAA,SAAS,EAAE,4BACTD,mBAAOE,UADE,EAETR,SAAS,IAAI,aAFJ,EAGT,oBAHS;AADb,kBAOE;AACE,iBAAU,iBADZ;AAEE,IAAA,GAAG,EAAEC,OAFP;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,KAAK,EAAEL,KAJT;AAKE,IAAA,QAAQ,EAAE;AAAA,UAAoBA,KAApB,SAAGa,aAAH,CAAoBb,KAApB;AAAA,aAAkCC,SAAQ,CAACD,KAAD,CAA1C;AAAA,KALZ;AAME,IAAA,OAAO,EAAE,iBAACc,EAAD,EAAQ;AACfC,MAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACD,KARH;AASE,IAAA,SAAS,EAAEJ,mBAAOO,WATpB;AAUE,IAAA,SAAS,EAAE,EAVb;AAWE,IAAA,OAAO,EAAEd,OAXX;AAYE,IAAA,WAAW,EAAEN,WAZf;AAaE,IAAA,YAAY,EAAC;AAbf,IAPF,CADF,eAwBE,gCAAC,0BAAD;AACE,IAAA,SAAS,EAAEa,mBAAOQ,YADpB;AAEE,IAAA,OAAO,EAAEhB,OAFX;AAGE,IAAA,UAAU,EAAEF,KAAK,CAACmB,MAAN,GAAe;AAH7B,IAxBF,CADF;AAgCD,CAjE6B,CAAzB;;AAoEPzB,gBAAgB,CAAC0B,YAAjB,GAAgC;AAC9BhB,EAAAA,SAAS,EAAE;AADmB,CAAhC","sourcesContent":["import React, {\n  forwardRef,\n  ReactNode,\n  useImperativeHandle,\n  useRef,\n} from 'react';\n\nimport classnames from 'classnames';\n\nimport i18n from '../RecipientsInput/i18n';\nimport { RemoveButton } from '../RemoveButton';\nimport styles from './styles.scss';\n\nexport interface PhoneNumberInputHandles {\n  focus: () => void;\n  blur: () => void;\n}\n\nexport interface PhoneNumberInputProps {\n  currentLocale: string;\n  placeholder?: ReactNode;\n  value: string;\n  onChange?: (value: string) => void;\n  onClear?: () => void;\n  onFocus?: () => void;\n  isFocused?: boolean;\n}\n\nexport const PhoneNumberInput = forwardRef<\n  PhoneNumberInputHandles,\n  PhoneNumberInputProps\n>(\n  (\n    {\n      currentLocale,\n      placeholder = i18n.getString('enterNameOrNumber', currentLocale),\n      value,\n      onChange,\n      onClear,\n      onFocus,\n      isFocused,\n    },\n    ref,\n  ) => {\n    const inputEl = useRef(null);\n    useImperativeHandle(ref, () => ({\n      focus() {\n        // Ensure focus is called in the next event cycle\n        // This avoids any event handler in the same cycle messing up the focus\n        setTimeout(() => {\n          if (inputEl.current) {\n            inputEl.current.focus();\n          }\n        }, 0);\n      },\n      blur() {\n        if (inputEl.current) {\n          inputEl.current.blur();\n        }\n      },\n    }));\n    return (\n      <div className={styles.inputWrapper}>\n        <div\n          className={classnames(\n            styles.inputField,\n            isFocused && 'Mui-focused',\n            'MuiInput-underline',\n          )}\n        >\n          <input\n            data-sign=\"recipientsInput\"\n            ref={inputEl}\n            name=\"receiver\"\n            value={value}\n            onChange={({ currentTarget: { value } }) => onChange(value)}\n            onPaste={(ev) => {\n              console.log(ev);\n            }}\n            className={styles.numberInput}\n            maxLength={30}\n            onFocus={onFocus}\n            placeholder={placeholder}\n            autoComplete=\"off\"\n          />\n        </div>\n        <RemoveButton\n          className={styles.removeButton}\n          onClick={onClear}\n          visibility={value.length > 0}\n        />\n      </div>\n    );\n  },\n);\n\nPhoneNumberInput.defaultProps = {\n  isFocused: false,\n};\n"],"file":"PhoneNumberInput.js"}