{"version":3,"sources":["components/RequeueCallPanel/RequeueCallGroupPanel/RequeueCallGroupPanel.spec.tsx"],"names":["wrapper","currentLocale","searchGroup","text","groupName","toLowerCase","includes","defaultQueueGroups","gateGroupId","setup","queueGroups","selectedQueueGroupIndex","goToRequeueGroupDetailPage","goToRequeueCallPage","selectedQueueGroupId","getGroupItems","find","at","getSearchInput","describe","it","expect","length","toBe","hasClass","jest","fn","simulate","toBeCalled","selectIndex","toBeCalledWith","groupId","eventObj","target","value","searchText"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { mount } from 'enzyme';\n\nimport { RcThemeProvider } from '@ringcentral/juno';\n\nimport { RequeueCallGroupPanel } from './RequeueCallGroupPanel';\n\nlet wrapper;\nconst currentLocale = 'en-US';\nconst searchGroup = ({ groupName }, text) => {\n  return (\n    groupName && text && groupName.toLowerCase().includes(text.toLowerCase())\n  );\n};\nconst defaultQueueGroups = [\n  { gateGroupId: '50520', groupName: 'DukeTest1' },\n  { gateGroupId: '50521', groupName: 'DukeTest2' },\n  { gateGroupId: '50522', groupName: 'EVdemo' },\n];\n\nfunction setup({\n  queueGroups = defaultQueueGroups,\n  selectedQueueGroupIndex = 0,\n  goToRequeueGroupDetailPage = () => {},\n  goToRequeueCallPage = () => {},\n} = {}) {\n  const selectedQueueGroupId = queueGroups[selectedQueueGroupIndex]\n    ? queueGroups[selectedQueueGroupIndex].gateGroupId\n    : '';\n  return mount(\n    <RcThemeProvider>\n      <RequeueCallGroupPanel\n        currentLocale={currentLocale}\n        goToRequeueCallPage={goToRequeueCallPage}\n        searchGroup={searchGroup}\n        queueGroups={queueGroups as any}\n        selectedQueueGroupId={selectedQueueGroupId}\n        goToRequeueGroupDetailPage={goToRequeueGroupDetailPage}\n      />\n    </RcThemeProvider>,\n  );\n}\n\nconst getGroupItems = () =>\n  wrapper\n    .find('[data-sign=\"searchResult\"]')\n    .at(0)\n    .find('RcList')\n    .at(0)\n    .find('RcListItem');\n\nconst getSearchInput = () => wrapper.find('RcTextField').at(0).find('input');\n\ndescribe('<RequeueCallGroupPanel />', () => {\n  it('Has no available Requeue Group', () => {\n    wrapper = setup({ queueGroups: [] });\n    expect(\n      wrapper.find('[data-sign=\"searchResult\"]').at(0).find('RcList').length,\n    ).toBe(0);\n  });\n\n  it('Can display all the Requeue Groups correctly', () => {\n    wrapper = setup({});\n    expect(getGroupItems().length).toBe(3);\n  });\n\n  it('Requeue Groups has default select Queue Group Id', () => {\n    const selectedQueueGroupIndex = 1;\n    wrapper = setup({ selectedQueueGroupIndex });\n\n    expect(\n      getGroupItems()\n        .at(selectedQueueGroupIndex)\n        .find('div')\n        .hasClass('Mui-selected'),\n    ).toBe(true);\n  });\n\n  it('When click the Back Button of the header, can redirct to RequeueCallPage', () => {\n    const goToRequeueCallPage = jest.fn(() => {});\n    wrapper = setup({ goToRequeueCallPage });\n    wrapper\n      .find('[data-sign=\"backButton\"]')\n      .at(0)\n      .find('button')\n      .simulate('click');\n    expect(goToRequeueCallPage).toBeCalled();\n  });\n\n  it('When click Requeue Group, can redirct to RequeueGroupDetailPage', () => {\n    const goToRequeueGroupDetailPage = jest.fn(() => {});\n    wrapper = setup({ goToRequeueGroupDetailPage });\n    const selectIndex = 1;\n    getGroupItems().at(selectIndex).find('[role=\"button\"]').simulate('click');\n\n    expect(goToRequeueGroupDetailPage).toBeCalledWith({\n      groupId: defaultQueueGroups[selectIndex].gateGroupId,\n    });\n  });\n\n  it('Can search Requeue Group', () => {\n    wrapper = setup();\n    const eventObj = { target: { value: 'Duke' } };\n    getSearchInput().simulate('change', eventObj);\n\n    expect(getGroupItems().length).toBe(2);\n  });\n\n  it('Can search Requeue Group, but with no result', () => {\n    wrapper = setup();\n    const searchText = 'Amy';\n    const eventObj = { target: { value: searchText } };\n    getSearchInput().simulate('change', eventObj);\n\n    expect(getGroupItems().length).toBe(0);\n    expect(\n      wrapper.find('[data-sign=\"searchResult\"]').at(0).find('div').at(0).text(),\n    ).toBe(`No result found for \"${searchText}\"`);\n  });\n});\n"],"file":"RequeueCallGroupPanel.spec.js"}