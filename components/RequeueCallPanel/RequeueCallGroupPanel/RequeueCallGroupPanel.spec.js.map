{"version":3,"file":"RequeueCallGroupPanel.spec.js","names":["_react","_interopRequireDefault","require","_enzyme","_juno","_RequeueCallGroupPanel","obj","__esModule","wrapper","currentLocale","searchGroup","_ref","text","groupName","toLowerCase","includes","defaultQueueGroups","gateGroupId","setup","_ref2","arguments","length","undefined","_ref2$queueGroups","queueGroups","_ref2$selectedQueueGr","selectedQueueGroupIndex","_ref2$goToRequeueGrou","goToRequeueGroupDetailPage","_ref2$goToRequeueCall","goToRequeueCallPage","selectedQueueGroupId","mount","createElement","RcThemeProvider","RequeueCallGroupPanel","getGroupItems","find","at","getSearchInput","describe","it","expect","toBe","hasClass","jest","fn","simulate","toBeCalled","selectIndex","toBeCalledWith","groupId","eventObj","target","value","searchText","concat"],"sources":["components/RequeueCallPanel/RequeueCallGroupPanel/RequeueCallGroupPanel.spec.tsx"],"sourcesContent":["import React from 'react';\n\nimport { mount } from 'enzyme';\n\nimport { RcThemeProvider } from '@ringcentral/juno';\n\nimport { RequeueCallGroupPanel } from './RequeueCallGroupPanel';\n\nlet wrapper;\nconst currentLocale = 'en-US';\nconst searchGroup = ({ groupName }, text) => {\n  return (\n    groupName && text && groupName.toLowerCase().includes(text.toLowerCase())\n  );\n};\nconst defaultQueueGroups = [\n  { gateGroupId: '50520', groupName: 'DukeTest1' },\n  { gateGroupId: '50521', groupName: 'DukeTest2' },\n  { gateGroupId: '50522', groupName: 'EVdemo' },\n];\n\nfunction setup({\n  queueGroups = defaultQueueGroups,\n  selectedQueueGroupIndex = 0,\n  goToRequeueGroupDetailPage = () => {},\n  goToRequeueCallPage = () => {},\n} = {}) {\n  const selectedQueueGroupId = queueGroups[selectedQueueGroupIndex]\n    ? queueGroups[selectedQueueGroupIndex].gateGroupId\n    : '';\n  return mount(\n    <RcThemeProvider>\n      <RequeueCallGroupPanel\n        currentLocale={currentLocale}\n        goToRequeueCallPage={goToRequeueCallPage}\n        searchGroup={searchGroup}\n        queueGroups={queueGroups as any}\n        selectedQueueGroupId={selectedQueueGroupId}\n        goToRequeueGroupDetailPage={goToRequeueGroupDetailPage}\n      />\n    </RcThemeProvider>,\n  );\n}\n\nconst getGroupItems = () =>\n  wrapper\n    .find('[data-sign=\"searchResult\"]')\n    .at(0)\n    .find('RcList')\n    .at(0)\n    .find('RcListItem');\n\nconst getSearchInput = () => wrapper.find('RcTextField').at(0).find('input');\n\ndescribe('<RequeueCallGroupPanel />', () => {\n  it('Has no available Requeue Group', () => {\n    wrapper = setup({ queueGroups: [] });\n    expect(\n      wrapper.find('[data-sign=\"searchResult\"]').at(0).find('RcList').length,\n    ).toBe(0);\n  });\n\n  it('Can display all the Requeue Groups correctly', () => {\n    wrapper = setup({});\n    expect(getGroupItems().length).toBe(3);\n  });\n\n  it('Requeue Groups has default select Queue Group Id', () => {\n    const selectedQueueGroupIndex = 1;\n    wrapper = setup({ selectedQueueGroupIndex });\n\n    expect(\n      getGroupItems()\n        .at(selectedQueueGroupIndex)\n        .find('div')\n        .hasClass('Mui-selected'),\n    ).toBe(true);\n  });\n\n  it('When click the Back Button of the header, can redirct to RequeueCallPage', () => {\n    const goToRequeueCallPage = jest.fn(() => {});\n    wrapper = setup({ goToRequeueCallPage });\n    wrapper\n      .find('[data-sign=\"backButton\"]')\n      .at(0)\n      .find('button')\n      .simulate('click');\n    expect(goToRequeueCallPage).toBeCalled();\n  });\n\n  it('When click Requeue Group, can redirct to RequeueGroupDetailPage', () => {\n    const goToRequeueGroupDetailPage = jest.fn(() => {});\n    wrapper = setup({ goToRequeueGroupDetailPage });\n    const selectIndex = 1;\n    getGroupItems().at(selectIndex).find('[role=\"button\"]').simulate('click');\n\n    expect(goToRequeueGroupDetailPage).toBeCalledWith({\n      groupId: defaultQueueGroups[selectIndex].gateGroupId,\n    });\n  });\n\n  it('Can search Requeue Group', () => {\n    wrapper = setup();\n    const eventObj = { target: { value: 'Duke' } };\n    getSearchInput().simulate('change', eventObj);\n\n    expect(getGroupItems().length).toBe(2);\n  });\n\n  it('Can search Requeue Group, but with no result', () => {\n    wrapper = setup();\n    const searchText = 'Amy';\n    const eventObj = { target: { value: searchText } };\n    getSearchInput().simulate('change', eventObj);\n\n    expect(getGroupItems().length).toBe(0);\n    expect(\n      wrapper.find('[data-sign=\"searchResult\"]').at(0).find('div').at(0).text(),\n    ).toBe(`No result found for \"${searchText}\"`);\n  });\n});\n"],"mappings":"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"}