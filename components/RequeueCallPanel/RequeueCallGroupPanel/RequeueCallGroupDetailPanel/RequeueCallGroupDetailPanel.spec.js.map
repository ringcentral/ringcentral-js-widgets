{"version":3,"file":"RequeueCallGroupDetailPanel.spec.js","names":["_juno","require","_enzyme","_react","_interopRequireDefault","_RequeueCallGroupDetailPanel","e","__esModule","wrapper","currentLocale","searchGate","_ref","text","gateName","toLowerCase","includes","defalutSelectedQueueGroup","groupName","gates","gateId","setup","_ref2","arguments","length","undefined","_ref2$goBack","goBack","_ref2$selectedQueueGr","selectedQueueGroup","_ref2$selectedGateInd","selectedGateIndex","_ref2$submitSelection","submitSelection","selectedGateId","mount","createElement","RcThemeProvider","RequeueCallGroupDetailPanel","getSearchInput","find","at","getDetailItems","getSubmitButton","describe","it","expect","prop","toBe","jest","fn","simulate","toHaveBeenCalled","submitButton","toHaveBeenCalledWith","not","eventObj","target","value","searchText","concat"],"sources":["components/RequeueCallPanel/RequeueCallGroupPanel/RequeueCallGroupDetailPanel/RequeueCallGroupDetailPanel.spec.tsx"],"sourcesContent":["import { RcThemeProvider } from '@ringcentral/juno';\nimport { mount } from 'enzyme';\nimport React from 'react';\n\nimport { RequeueCallGroupDetailPanel } from './RequeueCallGroupDetailPanel';\n\nlet wrapper;\nconst currentLocale = 'en-US';\nconst searchGate = ({ gateName }, text) => {\n  return (\n    gateName && text && gateName.toLowerCase().includes(text.toLowerCase())\n  );\n};\nconst defalutSelectedQueueGroup = {\n  groupName: 'group3432',\n  gates: [\n    { gateId: '40520', gateName: 'DukeTest1' },\n    { gateId: '40521', gateName: 'DukeTest2' },\n    { gateId: '40522', gateName: 'EVdemo' },\n  ],\n};\n\nfunction setup({\n  goBack = () => {},\n  selectedQueueGroup = defalutSelectedQueueGroup,\n  selectedGateIndex = 0,\n  submitSelection = () => {},\n} = {}) {\n  const selectedGateId = defalutSelectedQueueGroup.gates[selectedGateIndex]\n    ? defalutSelectedQueueGroup.gates[selectedGateIndex].gateId\n    : '';\n  return mount(\n    <RcThemeProvider>\n      <RequeueCallGroupDetailPanel\n        currentLocale={currentLocale}\n        goBack={goBack}\n        searchGate={searchGate}\n        selectedQueueGroup={selectedQueueGroup as any}\n        selectedGateId={selectedGateId}\n        submitSelection={submitSelection}\n      />\n    </RcThemeProvider>,\n  );\n}\n\nconst getSearchInput = () => wrapper.find('RcTextField').at(0).find('input');\n\nconst getDetailItems = () => wrapper.find('RcList').at(0).find('RcListItem');\n\nconst getSubmitButton = () =>\n  wrapper.find('RcButton[data-sign=\"select-group-item\"]').at(0).find('button');\n\ndescribe('<RequeueCallGroupPanel />', () => {\n  it('Can display selected Queue Group Name and all the Queues', () => {\n    wrapper = setup({});\n    expect(wrapper.find('BackHeader').at(0).prop('title')).toBe(\n      defalutSelectedQueueGroup.groupName,\n    );\n    expect(getDetailItems().length).toBe(3);\n  });\n\n  it('Default with select Queue and enabled Select Button', () => {\n    const selectedGateIndex = 1;\n    wrapper = setup({\n      selectedGateIndex,\n    });\n    expect(getDetailItems().at(selectedGateIndex).prop('selected')).toBe(true);\n    expect(getSubmitButton().prop('disabled')).toBe(false);\n  });\n\n  it('When user click Back Button and function goBack will be called', () => {\n    const goBack = jest.fn(() => {});\n    wrapper = setup({ goBack });\n    wrapper\n      .find('[data-sign=\"backButton\"]')\n      .at(0)\n      .find('button')\n      .simulate('click');\n    expect(goBack).toHaveBeenCalled();\n  });\n\n  it('When user select a queue, the queue will be highlighted, then user click the select button, submitSelection will be called', () => {\n    const selectedGateIndex = 1;\n    const submitSelection = jest.fn(() => {});\n    wrapper = setup({ submitSelection });\n\n    getDetailItems()\n      .at(selectedGateIndex)\n      .find('RcListItem')\n      .find('div')\n      .simulate('click');\n\n    expect(\n      getDetailItems()\n        .at(selectedGateIndex)\n        .find('RcListItem')\n        .prop('selected'),\n    ).toBe(true);\n\n    const submitButton = getSubmitButton();\n    expect(submitButton.prop('disabled')).toBe(false);\n    submitButton.simulate('click');\n\n    const selectedGateId =\n      defalutSelectedQueueGroup.gates[selectedGateIndex].gateId;\n    expect(submitSelection).toHaveBeenCalledWith(selectedGateId);\n  });\n\n  it(\"When user select no queue, the Select Button should be disabled and submitSelection shouldn't be called\", () => {\n    const selectedGateIndex = -1;\n    const submitSelection = jest.fn(() => {});\n    wrapper = setup({ submitSelection, selectedGateIndex });\n\n    expect(\n      wrapper\n        .find('RcList')\n        .at(0)\n        .find('ListItemWithScrollCheck[selected=true]').length,\n    ).toBe(0);\n\n    const submitButton = getSubmitButton();\n    expect(submitButton.prop('disabled')).toBe(true);\n\n    submitButton.simulate('click');\n    expect(submitSelection).not.toHaveBeenCalled();\n  });\n\n  it('Can search Requeue Queue', () => {\n    wrapper = setup();\n    const eventObj = { target: { value: 'Duke' } };\n    getSearchInput().simulate('change', eventObj);\n\n    expect(getDetailItems().length).toBe(2);\n  });\n\n  it('Can search Requeue Queue, but with no result', () => {\n    wrapper = setup();\n    const searchText = 'Amy';\n    const eventObj = { target: { value: searchText } };\n    getSearchInput().simulate('change', eventObj);\n\n    expect(getDetailItems().length).toBe(0);\n\n    expect(\n      wrapper.find('[data-sign=\"searchResult\"]').at(0).find('div').at(0).text(),\n    ).toBe(`No result found for \"${searchText}\"`);\n  });\n});\n"],"mappings":"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","ignoreList":[]}