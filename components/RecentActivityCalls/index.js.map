{"version":3,"file":"index.js","names":["_formatDuration","require","_clsx","_interopRequireDefault","_propTypes","_react","_interopRequireWildcard","_DynamicsFont","_Spinner","_i18n","_styles","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_classCallCheck","a","TypeError","_defineProperties","length","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","_inherits","create","value","_setPrototypeOf","getCurrentStatus","_ref","currentLocale","direction","result","status","i18n","getString","icon","dynamicsFont","missed","isMissedCall","inbound","outbound","CallItem","_ref2","dateTimeFormatter","duration","startTime","_getCurrentStatus","utcTimestamp","Date","getTime","formatDuration","createElement","className","styles","callItem","clsx","dl","missedCall","title","iconWrapper","callIcon","time","propTypes","PropTypes","object","isRequired","func","string","RecentActivityCalls","_Component","arguments","shouldComponentUpdate","nextProps","props","calls","isCallsLoaded","render","_this$props","callListView","spinner","ringWidth","map","id","noRecords","Component","array","bool","_default","exports"],"sources":["components/RecentActivityCalls/index.tsx"],"sourcesContent":["import { formatDuration } from '@ringcentral-integration/commons/lib/formatDuration';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport Spinner from '../Spinner';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nfunction getCurrentStatus({ direction, result }: any, currentLocale: any) {\n  if (direction === 'Inbound') {\n    if (result === 'Missed') {\n      return {\n        status: i18n.getString('missed', currentLocale),\n        icon: dynamicsFont.missed,\n        isMissedCall: true,\n      };\n    }\n    return {\n      status: i18n.getString('inBound', currentLocale),\n      icon: dynamicsFont.inbound,\n    };\n  }\n  return {\n    status: i18n.getString('outBound', currentLocale),\n    icon: dynamicsFont.outbound,\n  };\n}\n\nconst CallItem = ({ call, dateTimeFormatter, currentLocale }: any) => {\n  let { duration, startTime } = call;\n  const { status, icon, isMissedCall } = getCurrentStatus(call, currentLocale);\n  startTime = dateTimeFormatter({\n    utcTimestamp: new Date(startTime).getTime(),\n  });\n  duration = formatDuration(duration);\n  return (\n    <div className={styles.callItem}>\n      <dl className={clsx(styles.dl, isMissedCall ? styles.missedCall : '')}>\n        <dt className={styles.status} title={status}>\n          <span className={styles.iconWrapper}>\n            <i className={clsx(icon, styles.callIcon)} title={status} />\n          </span>\n          <span title={status}>{status}</span>\n          <small className={styles.duration} title={duration}>\n            {duration}\n          </small>\n        </dt>\n        <dd className={styles.time} title={startTime}>\n          {startTime}\n        </dd>\n      </dl>\n    </div>\n  );\n};\n\nCallItem.propTypes = {\n  call: PropTypes.object.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n};\n\nclass RecentActivityCalls extends Component {\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  shouldComponentUpdate(nextProps: any) {\n    return (\n      // @ts-expect-error TS(2339): Property 'currentLocale' does not exist on type 'R... Remove this comment to see the full error message\n      nextProps.currentLocale !== this.props.currentLocale ||\n      // @ts-expect-error TS(2339): Property 'calls' does not exist on type 'Readonly<... Remove this comment to see the full error message\n      nextProps.calls !== this.props.calls ||\n      // @ts-expect-error TS(2339): Property 'isCallsLoaded' does not exist on type 'R... Remove this comment to see the full error message\n      nextProps.isCallsLoaded !== this.props.isCallsLoaded\n    );\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    // @ts-expect-error TS(2339): Property 'currentLocale' does not exist on type 'R... Remove this comment to see the full error message\n    const { currentLocale, calls, isCallsLoaded, dateTimeFormatter } =\n      this.props;\n    let callListView = null;\n    if (!isCallsLoaded) {\n      callListView = <Spinner className={styles.spinner} ringWidth={4} />;\n    } else if (calls.length > 0) {\n      callListView = calls.map((call: any) => (\n        <CallItem\n          key={call.id}\n          call={call}\n          currentLocale={currentLocale}\n          dateTimeFormatter={dateTimeFormatter}\n        />\n      ));\n    } else {\n      callListView = (\n        <p className={styles.noRecords}>\n          {i18n.getString('noRecords', currentLocale)}\n        </p>\n      );\n    }\n    return <div className={styles.calls}>{callListView}</div>;\n  }\n}\n\n// @ts-expect-error TS(2339): Property 'propTypes' does not exist on type 'typeo... Remove this comment to see the full error message\nRecentActivityCalls.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  calls: PropTypes.array.isRequired,\n  isCallsLoaded: PropTypes.bool.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n};\n\nexport default RecentActivityCalls;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAC,sBAAA,CAAAF,OAAA;AACA,IAAAG,UAAA,GAAAD,sBAAA,CAAAF,OAAA;AACA,IAAAI,MAAA,GAAAC,uBAAA,CAAAL,OAAA;AAEA,IAAAM,aAAA,GAAAJ,sBAAA,CAAAF,OAAA;AACA,IAAAO,QAAA,GAAAL,sBAAA,CAAAF,OAAA;AAEA,IAAAQ,KAAA,GAAAN,sBAAA,CAAAF,OAAA;AACA,IAAAS,OAAA,GAAAP,sBAAA,CAAAF,OAAA;AAAmC,SAAAK,wBAAAK,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAP,uBAAA,YAAAA,wBAAAK,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,mBAAAT,CAAA,iBAAAA,CAAA,gBAAAU,OAAA,CAAAV,CAAA,0BAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,cAAAM,EAAA,IAAAd,CAAA,gBAAAc,EAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,EAAA,OAAAP,CAAA,IAAAD,CAAA,GAAAW,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAnB,CAAA,EAAAc,EAAA,OAAAP,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAM,EAAA,EAAAP,CAAA,IAAAC,CAAA,CAAAM,EAAA,IAAAd,CAAA,CAAAc,EAAA,WAAAN,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAAA,SAAAT,uBAAAQ,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAK,UAAA,GAAAL,CAAA,gBAAAA,CAAA;AAAA,SAAAoB,gBAAAC,CAAA,EAAAjB,CAAA,UAAAiB,CAAA,YAAAjB,CAAA,aAAAkB,SAAA;AAAA,SAAAC,kBAAAvB,CAAA,EAAAG,CAAA,aAAAF,CAAA,MAAAA,CAAA,GAAAE,CAAA,CAAAqB,MAAA,EAAAvB,CAAA,UAAAK,CAAA,GAAAH,CAAA,CAAAF,CAAA,GAAAK,CAAA,CAAAmB,UAAA,GAAAnB,CAAA,CAAAmB,UAAA,QAAAnB,CAAA,CAAAoB,YAAA,kBAAApB,CAAA,KAAAA,CAAA,CAAAqB,QAAA,QAAAV,MAAA,CAAAC,cAAA,CAAAlB,CAAA,EAAA4B,cAAA,CAAAtB,CAAA,CAAAuB,GAAA,GAAAvB,CAAA;AAAA,SAAAwB,aAAA9B,CAAA,EAAAG,CAAA,EAAAF,CAAA,WAAAE,CAAA,IAAAoB,iBAAA,CAAAvB,CAAA,CAAA+B,SAAA,EAAA5B,CAAA,GAAAF,CAAA,IAAAsB,iBAAA,CAAAvB,CAAA,EAAAC,CAAA,GAAAgB,MAAA,CAAAC,cAAA,CAAAlB,CAAA,iBAAA2B,QAAA,SAAA3B,CAAA;AAAA,SAAA4B,eAAA3B,CAAA,QAAAM,CAAA,GAAAyB,YAAA,CAAA/B,CAAA,gCAAAS,OAAA,CAAAH,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAyB,aAAA/B,CAAA,EAAAE,CAAA,oBAAAO,OAAA,CAAAT,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAD,CAAA,GAAAC,CAAA,CAAAgC,MAAA,CAAAC,WAAA,kBAAAlC,CAAA,QAAAO,CAAA,GAAAP,CAAA,CAAAgB,IAAA,CAAAf,CAAA,EAAAE,CAAA,gCAAAO,OAAA,CAAAH,CAAA,UAAAA,CAAA,YAAAe,SAAA,yEAAAnB,CAAA,GAAAgC,MAAA,GAAAC,MAAA,EAAAnC,CAAA;AAAA,SAAAoC,WAAApC,CAAA,EAAAK,CAAA,EAAAN,CAAA,WAAAM,CAAA,GAAAgC,eAAA,CAAAhC,CAAA,GAAAiC,0BAAA,CAAAtC,CAAA,EAAAuC,yBAAA,KAAAC,OAAA,CAAAC,SAAA,CAAApC,CAAA,EAAAN,CAAA,QAAAsC,eAAA,CAAArC,CAAA,EAAA0C,WAAA,IAAArC,CAAA,CAAAsC,KAAA,CAAA3C,CAAA,EAAAD,CAAA;AAAA,SAAAuC,2BAAAtC,CAAA,EAAAD,CAAA,QAAAA,CAAA,iBAAAU,OAAA,CAAAV,CAAA,0BAAAA,CAAA,UAAAA,CAAA,iBAAAA,CAAA,YAAAsB,SAAA,qEAAAuB,sBAAA,CAAA5C,CAAA;AAAA,SAAA4C,uBAAA7C,CAAA,mBAAAA,CAAA,YAAA8C,cAAA,sEAAA9C,CAAA;AAAA,SAAAwC,0BAAA,cAAAvC,CAAA,IAAA8C,OAAA,CAAAhB,SAAA,CAAAiB,OAAA,CAAAhC,IAAA,CAAAyB,OAAA,CAAAC,SAAA,CAAAK,OAAA,iCAAA9C,CAAA,aAAAuC,yBAAA,YAAAA,0BAAA,aAAAvC,CAAA;AAAA,SAAAqC,gBAAArC,CAAA,WAAAqC,eAAA,GAAArB,MAAA,CAAAgC,cAAA,GAAAhC,MAAA,CAAAiC,cAAA,CAAAC,IAAA,eAAAlD,CAAA,WAAAA,CAAA,CAAAQ,SAAA,IAAAQ,MAAA,CAAAiC,cAAA,CAAAjD,CAAA,MAAAqC,eAAA,CAAArC,CAAA;AAAA,SAAAmD,UAAAnD,CAAA,EAAAD,CAAA,6BAAAA,CAAA,aAAAA,CAAA,YAAAsB,SAAA,wDAAArB,CAAA,CAAA8B,SAAA,GAAAd,MAAA,CAAAoC,MAAA,CAAArD,CAAA,IAAAA,CAAA,CAAA+B,SAAA,IAAAY,WAAA,IAAAW,KAAA,EAAArD,CAAA,EAAA0B,QAAA,MAAAD,YAAA,WAAAT,MAAA,CAAAC,cAAA,CAAAjB,CAAA,iBAAA0B,QAAA,SAAA3B,CAAA,IAAAuD,eAAA,CAAAtD,CAAA,EAAAD,CAAA;AAAA,SAAAuD,gBAAAtD,CAAA,EAAAD,CAAA,WAAAuD,eAAA,GAAAtC,MAAA,CAAAgC,cAAA,GAAAhC,MAAA,CAAAgC,cAAA,CAAAE,IAAA,eAAAlD,CAAA,EAAAD,CAAA,WAAAC,CAAA,CAAAQ,SAAA,GAAAT,CAAA,EAAAC,CAAA,KAAAsD,eAAA,CAAAtD,CAAA,EAAAD,CAAA;AAEnC,SAASwD,gBAAgBA,CAAAC,IAAA,EAA6BC,aAAkB,EAAE;EAAA,IAA9CC,SAAS,GAAAF,IAAA,CAATE,SAAS;IAAEC,MAAM,GAAAH,IAAA,CAANG,MAAM;EAC3C,IAAID,SAAS,KAAK,SAAS,EAAE;IAC3B,IAAIC,MAAM,KAAK,QAAQ,EAAE;MACvB,OAAO;QACLC,MAAM,EAAEC,gBAAI,CAACC,SAAS,CAAC,QAAQ,EAAEL,aAAa,CAAC;QAC/CM,IAAI,EAAEC,wBAAY,CAACC,MAAM;QACzBC,YAAY,EAAE;MAChB,CAAC;IACH;IACA,OAAO;MACLN,MAAM,EAAEC,gBAAI,CAACC,SAAS,CAAC,SAAS,EAAEL,aAAa,CAAC;MAChDM,IAAI,EAAEC,wBAAY,CAACG;IACrB,CAAC;EACH;EACA,OAAO;IACLP,MAAM,EAAEC,gBAAI,CAACC,SAAS,CAAC,UAAU,EAAEL,aAAa,CAAC;IACjDM,IAAI,EAAEC,wBAAY,CAACI;EACrB,CAAC;AACH;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAAC,KAAA,EAAwD;EAAA,IAAlDvD,IAAI,GAAAuD,KAAA,CAAJvD,IAAI;IAAEwD,iBAAiB,GAAAD,KAAA,CAAjBC,iBAAiB;IAAEd,aAAa,GAAAa,KAAA,CAAbb,aAAa;EACxD,IAAMe,QAAQ,GAAgBzD,IAAI,CAA5ByD,QAAQ;IAAEC,SAAS,GAAK1D,IAAI,CAAlB0D,SAAS;EACzB,IAAAC,iBAAA,GAAuCnB,gBAAgB,CAACxC,IAAI,EAAE0C,aAAa,CAAC;IAApEG,MAAM,GAAAc,iBAAA,CAANd,MAAM;IAAEG,IAAI,GAAAW,iBAAA,CAAJX,IAAI;IAAEG,YAAY,GAAAQ,iBAAA,CAAZR,YAAY;EAClCO,SAAS,GAAGF,iBAAiB,CAAC;IAC5BI,YAAY,EAAE,IAAIC,IAAI,CAACH,SAAS,CAAC,CAACI,OAAO,CAAC;EAC5C,CAAC,CAAC;EACFL,QAAQ,GAAG,IAAAM,8BAAc,EAACN,QAAQ,CAAC;EACnC,oBACE/E,MAAA,YAAAsF,aAAA;IAAKC,SAAS,EAAEC,kBAAM,CAACC;EAAS,gBAC9BzF,MAAA,YAAAsF,aAAA;IAAIC,SAAS,EAAE,IAAAG,gBAAI,EAACF,kBAAM,CAACG,EAAE,EAAElB,YAAY,GAAGe,kBAAM,CAACI,UAAU,GAAG,EAAE;EAAE,gBACpE5F,MAAA,YAAAsF,aAAA;IAAIC,SAAS,EAAEC,kBAAM,CAACrB,MAAO;IAAC0B,KAAK,EAAE1B;EAAO,gBAC1CnE,MAAA,YAAAsF,aAAA;IAAMC,SAAS,EAAEC,kBAAM,CAACM;EAAY,gBAClC9F,MAAA,YAAAsF,aAAA;IAAGC,SAAS,EAAE,IAAAG,gBAAI,EAACpB,IAAI,EAAEkB,kBAAM,CAACO,QAAQ,CAAE;IAACF,KAAK,EAAE1B;EAAO,CAAE,CACvD,CAAC,eACPnE,MAAA,YAAAsF,aAAA;IAAMO,KAAK,EAAE1B;EAAO,GAAEA,MAAa,CAAC,eACpCnE,MAAA,YAAAsF,aAAA;IAAOC,SAAS,EAAEC,kBAAM,CAACT,QAAS;IAACc,KAAK,EAAEd;EAAS,GAChDA,QACI,CACL,CAAC,eACL/E,MAAA,YAAAsF,aAAA;IAAIC,SAAS,EAAEC,kBAAM,CAACQ,IAAK;IAACH,KAAK,EAAEb;EAAU,GAC1CA,SACC,CACF,CACD,CAAC;AAEV,CAAC;AAEDJ,QAAQ,CAACqB,SAAS,GAAG;EACnB3E,IAAI,EAAE4E,qBAAS,CAACC,MAAM,CAACC,UAAU;EACjCtB,iBAAiB,EAAEoB,qBAAS,CAACG,IAAI,CAACD,UAAU;EAC5CpC,aAAa,EAAEkC,qBAAS,CAACI,MAAM,CAACF;AAClC,CAAC;AAAC,IAEIG,mBAAmB,0BAAAC,UAAA;EAAA,SAAAD,oBAAA;IAAA7E,eAAA,OAAA6E,mBAAA;IAAA,OAAA5D,UAAA,OAAA4D,mBAAA,EAAAE,SAAA;EAAA;EAAA/C,SAAA,CAAA6C,mBAAA,EAAAC,UAAA;EAAA,OAAApE,YAAA,CAAAmE,mBAAA;IAAApE,GAAA;IAAAyB,KAAA;IACvB;IACA,SAAA8C,qBAAqBA,CAACC,SAAc,EAAE;MACpC;QACE;QACAA,SAAS,CAAC3C,aAAa,KAAK,IAAI,CAAC4C,KAAK,CAAC5C,aAAa;QACpD;QACA2C,SAAS,CAACE,KAAK,KAAK,IAAI,CAACD,KAAK,CAACC,KAAK;QACpC;QACAF,SAAS,CAACG,aAAa,KAAK,IAAI,CAACF,KAAK,CAACE;MAAa;IAExD;;IAEA;EAAA;IAAA3E,GAAA;IAAAyB,KAAA,EACA,SAAAmD,MAAMA,CAAA,EAAG;MACP;MACA,IAAAC,WAAA,GACE,IAAI,CAACJ,KAAK;QADJ5C,aAAa,GAAAgD,WAAA,CAAbhD,aAAa;QAAE6C,KAAK,GAAAG,WAAA,CAALH,KAAK;QAAEC,aAAa,GAAAE,WAAA,CAAbF,aAAa;QAAEhC,iBAAiB,GAAAkC,WAAA,CAAjBlC,iBAAiB;MAE9D,IAAImC,YAAY,GAAG,IAAI;MACvB,IAAI,CAACH,aAAa,EAAE;QAClBG,YAAY,gBAAGjH,MAAA,YAAAsF,aAAA,CAACnF,QAAA,WAAO;UAACoF,SAAS,EAAEC,kBAAM,CAAC0B,OAAQ;UAACC,SAAS,EAAE;QAAE,CAAE,CAAC;MACrE,CAAC,MAAM,IAAIN,KAAK,CAAC/E,MAAM,GAAG,CAAC,EAAE;QAC3BmF,YAAY,GAAGJ,KAAK,CAACO,GAAG,CAAC,UAAC9F,IAAS;UAAA,oBACjCtB,MAAA,YAAAsF,aAAA,CAACV,QAAQ;YACPzC,GAAG,EAAEb,IAAI,CAAC+F,EAAG;YACb/F,IAAI,EAAEA,IAAK;YACX0C,aAAa,EAAEA,aAAc;YAC7Bc,iBAAiB,EAAEA;UAAkB,CACtC,CAAC;QAAA,CACH,CAAC;MACJ,CAAC,MAAM;QACLmC,YAAY,gBACVjH,MAAA,YAAAsF,aAAA;UAAGC,SAAS,EAAEC,kBAAM,CAAC8B;QAAU,GAC5BlD,gBAAI,CAACC,SAAS,CAAC,WAAW,EAAEL,aAAa,CACzC,CACJ;MACH;MACA,oBAAOhE,MAAA,YAAAsF,aAAA;QAAKC,SAAS,EAAEC,kBAAM,CAACqB;MAAM,GAAEI,YAAkB,CAAC;IAC3D;EAAC;AAAA,EAtC+BM,gBAAS,GAyC3C;AACAhB,mBAAmB,CAACN,SAAS,GAAG;EAC9BjC,aAAa,EAAEkC,qBAAS,CAACI,MAAM,CAACF,UAAU;EAC1CS,KAAK,EAAEX,qBAAS,CAACsB,KAAK,CAACpB,UAAU;EACjCU,aAAa,EAAEZ,qBAAS,CAACuB,IAAI,CAACrB,UAAU;EACxCtB,iBAAiB,EAAEoB,qBAAS,CAACG,IAAI,CAACD;AACpC,CAAC;AAAC,IAAAsB,QAAA,GAAAC,OAAA,cAEapB,mBAAmB","ignoreList":[]}