{"version":3,"file":"index.js","names":["_formatDuration","require","_clsx","_interopRequireDefault","_propTypes","_react","_interopRequireWildcard","_DynamicsFont","_Spinner","_i18n","_styles","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_classCallCheck","TypeError","_defineProperties","length","o","enumerable","configurable","writable","_toPropertyKey","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","value","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","arguments","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","getCurrentStatus","_ref","currentLocale","direction","result","status","i18n","getString","icon","dynamicsFont","missed","isMissedCall","inbound","outbound","CallItem","_ref2","dateTimeFormatter","duration","startTime","_getCurrentStatus","utcTimestamp","Date","getTime","formatDuration","createElement","className","styles","callItem","clsx","dl","missedCall","title","iconWrapper","callIcon","time","propTypes","PropTypes","object","isRequired","func","string","RecentActivityCalls","_Component","_super","shouldComponentUpdate","nextProps","props","calls","isCallsLoaded","render","_this$props","callListView","spinner","ringWidth","map","id","noRecords","Component","array","bool","_default","exports"],"sources":["components/RecentActivityCalls/index.tsx"],"sourcesContent":["import { formatDuration } from '@ringcentral-integration/commons/lib/formatDuration';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\n\nimport dynamicsFont from '../../assets/DynamicsFont/DynamicsFont.scss';\nimport Spinner from '../Spinner';\n\nimport i18n from './i18n';\nimport styles from './styles.scss';\n\nfunction getCurrentStatus({ direction, result }: any, currentLocale: any) {\n  if (direction === 'Inbound') {\n    if (result === 'Missed') {\n      return {\n        status: i18n.getString('missed', currentLocale),\n        icon: dynamicsFont.missed,\n        isMissedCall: true,\n      };\n    }\n    return {\n      status: i18n.getString('inBound', currentLocale),\n      icon: dynamicsFont.inbound,\n    };\n  }\n  return {\n    status: i18n.getString('outBound', currentLocale),\n    icon: dynamicsFont.outbound,\n  };\n}\n\nconst CallItem = ({ call, dateTimeFormatter, currentLocale }: any) => {\n  let { duration, startTime } = call;\n  const { status, icon, isMissedCall } = getCurrentStatus(call, currentLocale);\n  startTime = dateTimeFormatter({\n    utcTimestamp: new Date(startTime).getTime(),\n  });\n  duration = formatDuration(duration);\n  return (\n    <div className={styles.callItem}>\n      <dl className={clsx(styles.dl, isMissedCall ? styles.missedCall : '')}>\n        <dt className={styles.status} title={status}>\n          <span className={styles.iconWrapper}>\n            <i className={clsx(icon, styles.callIcon)} title={status} />\n          </span>\n          <span title={status}>{status}</span>\n          <small className={styles.duration} title={duration}>\n            {duration}\n          </small>\n        </dt>\n        <dd className={styles.time} title={startTime}>\n          {startTime}\n        </dd>\n      </dl>\n    </div>\n  );\n};\n\nCallItem.propTypes = {\n  call: PropTypes.object.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n  currentLocale: PropTypes.string.isRequired,\n};\n\nclass RecentActivityCalls extends Component {\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  shouldComponentUpdate(nextProps: any) {\n    return (\n      // @ts-expect-error TS(2339): Property 'currentLocale' does not exist on type 'R... Remove this comment to see the full error message\n      nextProps.currentLocale !== this.props.currentLocale ||\n      // @ts-expect-error TS(2339): Property 'calls' does not exist on type 'Readonly<... Remove this comment to see the full error message\n      nextProps.calls !== this.props.calls ||\n      // @ts-expect-error TS(2339): Property 'isCallsLoaded' does not exist on type 'R... Remove this comment to see the full error message\n      nextProps.isCallsLoaded !== this.props.isCallsLoaded\n    );\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  render() {\n    // @ts-expect-error TS(2339): Property 'currentLocale' does not exist on type 'R... Remove this comment to see the full error message\n    const { currentLocale, calls, isCallsLoaded, dateTimeFormatter } =\n      this.props;\n    let callListView = null;\n    if (!isCallsLoaded) {\n      callListView = <Spinner className={styles.spinner} ringWidth={4} />;\n    } else if (calls.length > 0) {\n      callListView = calls.map((call: any) => (\n        <CallItem\n          key={call.id}\n          call={call}\n          currentLocale={currentLocale}\n          dateTimeFormatter={dateTimeFormatter}\n        />\n      ));\n    } else {\n      callListView = (\n        <p className={styles.noRecords}>\n          {i18n.getString('noRecords', currentLocale)}\n        </p>\n      );\n    }\n    return <div className={styles.calls}>{callListView}</div>;\n  }\n}\n\n// @ts-expect-error TS(2339): Property 'propTypes' does not exist on type 'typeo... Remove this comment to see the full error message\nRecentActivityCalls.propTypes = {\n  currentLocale: PropTypes.string.isRequired,\n  calls: PropTypes.array.isRequired,\n  isCallsLoaded: PropTypes.bool.isRequired,\n  dateTimeFormatter: PropTypes.func.isRequired,\n};\n\nexport default RecentActivityCalls;\n"],"mappings":"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","ignoreList":[]}