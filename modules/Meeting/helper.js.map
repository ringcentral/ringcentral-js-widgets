{"version":3,"file":"helper.js","names":["_ramda","require","getExtensionName","_ref","extensionInfo","enableScheduleOnBehalf","meeting","delegators","extensionName","info","name","length","currentHost","concat","host","id","user","find","item","getHostId","_ref2","_meeting$host","getRcmUriRegExp","regExpText","RegExp","exports","getRcvUriRegExp"],"sources":["modules/Meeting/helper.ts"],"sourcesContent":["import { find } from 'ramda';\n\nimport type { ExtensionInfo } from '../ExtensionInfo';\n\nimport type { MeetingDelegator, RcMMeetingModel } from './Meeting.interface';\n\nexport function getExtensionName({\n  extensionInfo,\n  enableScheduleOnBehalf,\n  meeting,\n  delegators,\n}: {\n  extensionInfo: ExtensionInfo;\n  enableScheduleOnBehalf: boolean;\n  meeting: RcMMeetingModel;\n  delegators: MeetingDelegator[];\n}) {\n  const extensionName = extensionInfo.info.name || '';\n  if (\n    !enableScheduleOnBehalf ||\n    !meeting ||\n    !delegators ||\n    delegators.length === 0\n  ) {\n    return extensionName;\n  }\n  const currentHost = `${(meeting.host && meeting.host.id) || ''}`;\n  const user = find((item) => item.id === currentHost, delegators);\n  return user && user.id !== `${extensionInfo.info.id}`\n    ? user.name\n    : extensionName;\n}\n\nexport function getHostId({\n  enableScheduleOnBehalf,\n  meeting,\n  extensionInfo,\n}: {\n  extensionInfo: ExtensionInfo;\n  enableScheduleOnBehalf: boolean;\n  meeting: RcMMeetingModel;\n}) {\n  if (enableScheduleOnBehalf && meeting?.host?.id) {\n    return `${meeting.host.id}`;\n  }\n  return `${extensionInfo.info.id}` || '';\n}\n\nexport const getRcmUriRegExp = (regExpText: string) =>\n  new RegExp(\n    `(https?):\\\\/\\\\/${regExpText}(\\\\/\\\\w+)?(\\\\/(\\\\d+))(\\\\?pwd=\\\\w+)?`,\n    'i',\n  );\n\n// Regular expression for RingCentral Video meeting URLs, support pmn\n// Examples:\n// - https://v.ringcentral.com/join/123456789\n// - https://v.ringcentral.com/join/asd.f-_g?pw=1234\nexport const getRcvUriRegExp = (regExpText: string) =>\n  new RegExp(\n    `(https?):\\\\/\\\\/${regExpText}(\\\\/{1,2}\\\\w+)*(\\\\/{1,2}(\\\\w|\\\\.)+)(\\\\?pw=\\\\w+)?`,\n    'i',\n  );\n"],"mappings":";;;;;;;;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAMO,SAASC,gBAAgBA,CAAAC,IAAA,EAU7B;EAAA,IATDC,aAAa,GAAAD,IAAA,CAAbC,aAAa;IACbC,sBAAsB,GAAAF,IAAA,CAAtBE,sBAAsB;IACtBC,OAAO,GAAAH,IAAA,CAAPG,OAAO;IACPC,UAAU,GAAAJ,IAAA,CAAVI,UAAU;EAOV,IAAMC,aAAa,GAAGJ,aAAa,CAACK,IAAI,CAACC,IAAI,IAAI,EAAE;EACnD,IACE,CAACL,sBAAsB,IACvB,CAACC,OAAO,IACR,CAACC,UAAU,IACXA,UAAU,CAACI,MAAM,KAAK,CAAC,EACvB;IACA,OAAOH,aAAa;EACtB;EACA,IAAMI,WAAW,MAAAC,MAAA,CAAOP,OAAO,CAACQ,IAAI,IAAIR,OAAO,CAACQ,IAAI,CAACC,EAAE,IAAK,EAAE,CAAE;EAChE,IAAMC,IAAI,GAAG,IAAAC,WAAI,EAAC,UAACC,IAAI;IAAA,OAAKA,IAAI,CAACH,EAAE,KAAKH,WAAW;EAAA,GAAEL,UAAU,CAAC;EAChE,OAAOS,IAAI,IAAIA,IAAI,CAACD,EAAE,QAAAF,MAAA,CAAQT,aAAa,CAACK,IAAI,CAACM,EAAE,CAAE,GACjDC,IAAI,CAACN,IAAI,GACTF,aAAa;AACnB;AAEO,SAASW,SAASA,CAAAC,KAAA,EAQtB;EAAA,IAAAC,aAAA;EAAA,IAPDhB,sBAAsB,GAAAe,KAAA,CAAtBf,sBAAsB;IACtBC,OAAO,GAAAc,KAAA,CAAPd,OAAO;IACPF,aAAa,GAAAgB,KAAA,CAAbhB,aAAa;EAMb,IAAIC,sBAAsB,KAAIC,OAAO,aAAPA,OAAO,wBAAAe,aAAA,GAAPf,OAAO,CAAEQ,IAAI,cAAAO,aAAA,uBAAbA,aAAA,CAAeN,EAAE,GAAE;IAC/C,UAAAF,MAAA,CAAUP,OAAO,CAACQ,IAAI,CAACC,EAAE;EAC3B;EACA,OAAO,GAAAF,MAAA,CAAGT,aAAa,CAACK,IAAI,CAACM,EAAE,KAAM,EAAE;AACzC;AAEO,IAAMO,eAAe,GAAG,SAAlBA,eAAeA,CAAIC,UAAkB;EAAA,OAChD,IAAIC,MAAM,mBAAAX,MAAA,CACUU,UAAU,0CAC5B,GACF,CAAC;AAAA;;AAEH;AACA;AACA;AACA;AAAAE,OAAA,CAAAH,eAAA,GAAAA,eAAA;AACO,IAAMI,eAAe,GAAG,SAAlBA,eAAeA,CAAIH,UAAkB;EAAA,OAChD,IAAIC,MAAM,mBAAAX,MAAA,CACUU,UAAU,uDAC5B,GACF,CAAC;AAAA;AAACE,OAAA,CAAAC,eAAA,GAAAA,eAAA","ignoreList":[]}