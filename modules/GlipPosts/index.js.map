{"version":3,"file":"index.js","names":["_moduleStatuses","_interopRequireDefault","require","_RcModule2","_di","_ensureExist","_isBlank","_proxify","_actionTypes","_getReducer","_interopRequireWildcard","_status","_dec","_class","_class2","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","asyncGeneratorStep","o","c","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","l","initializer","slice","reverse","reduce","glipPostsRegExp","glipGroupRegExp","subscriptionFilter","DEFAULT_LOAD_TTL","GlipPosts","Module","deps","dep","optional","_RcModule","_super","_ref","_this","client","auth","subscription","storage","extensionFeatures","_ref$loadTtl","loadTtl","options","actionTypes","_auth","_client","_extensionFeatures","_fetchPromises","_lastMessage","_loadTtl","_newPostListeners","_readTimeStorageKey","_storage","_subscription","_reducer","getReducer","ensureExist","registerReducer","reducer","getGlipPostsReadTimeReducer","addNewPostListener","listen","initialize","_this2","store","subscribe","_onStateChange","_onStateChange2","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","_shouldInit","dispatch","type","init","_hasPermission","abrupt","initSuccess","_shouldReset","resetSuccess","_shouldHandleSubscriptionMessage","_processSubscription","stop","loggedIn","ready","pending","message","test","event","body","_message$body","eventType","post","createSuccess","groupId","record","oldRecordId","id","isSendByMe","creatorId","ownerId","_loadPosts","_callee2","recordCount","lastPosts","fetchTime","_args2","_callee2$","_context2","undefined","postsMap","fetchTimeMap","Date","now","fetchPosts","loadPosts","_x","_fetchPosts","_callee4","_this3","pageToken","promise","_args4","_callee4$","_context4","_callee3","params","response","_callee3$","_context3","fetch","glip","groups","posts","list","sent","fetchSuccess","records","lastPageToken","navigation","t0","fetchError","_x2","_loadNextPage","_callee5","pageInfo","_callee5$","_context5","pageInfos","prevPageToken","loadNextPage","_x3","_x4","_create","_callee6","_ref3","text","mentions","fakeId","fakeRecord","_callee6$","_context6","postInputs","isBlank","mention","matcherId","replace","concat","sendStatus","status","creating","creationTime","updatePostInput","createError","_x5","_sendFile","_callee7","_ref4","fileName","rawFile","platform","_callee7$","_context7","service","name","headers","json","console","error","sendFile","_x6","updateReadTime","time","_ref5","textValue","state","glipPostsStore","moduleStatuses","getItem","fetchTimes","_this$_extensionFeatu","_this$_extensionFeatu2","features","Glip","available","RcModule","proxify","exports"],"sources":["modules/GlipPosts/index.ts"],"sourcesContent":["import moduleStatuses from '../../enums/moduleStatuses';\nimport RcModule from '../../lib/RcModule';\nimport { Module } from '../../lib/di';\nimport ensureExist from '../../lib/ensureExist';\nimport { isBlank } from '../../lib/isBlank';\nimport proxify from '../../lib/proxy/proxify';\n\nimport { actionTypes } from './actionTypes';\nimport getReducer, { getGlipPostsReadTimeReducer } from './getReducer';\nimport { status } from './status';\n\nconst glipPostsRegExp = /glip\\/posts$/;\nconst glipGroupRegExp = /glip\\/groups$/;\n\nconst subscriptionFilter = '/restapi/v1.0/glip/posts';\n\nconst DEFAULT_LOAD_TTL = 30 * 60 * 1000;\n\n@Module({\n  deps: [\n    'Client',\n    'Auth',\n    'Subscription',\n    'Storage',\n    'ExtensionFeatures',\n    { dep: 'GlipPostsOptions', optional: true },\n  ],\n})\n// @ts-expect-error TS(2415): Class 'GlipPosts' incorrectly extends base class '... Remove this comment to see the full error message\nexport default class GlipPosts extends RcModule {\n  _auth: any;\n  _client: any;\n  _extensionFeatures: any;\n  _fetchPromises: any;\n  _lastMessage: any;\n  _loadTtl: any;\n  _newPostListeners: any;\n  _readTimeStorageKey: any;\n  _storage: any;\n  _subscription: any;\n  constructor({\n    client,\n    auth,\n    subscription,\n    storage,\n    extensionFeatures,\n    loadTtl = DEFAULT_LOAD_TTL,\n    ...options\n  }: any) {\n    super({\n      ...options,\n      actionTypes,\n    });\n    this._reducer = getReducer(this.actionTypes);\n\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._client = ensureExist.call(this, client, 'client');\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._auth = ensureExist.call(this, auth, 'auth');\n    this._extensionFeatures = extensionFeatures;\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._subscription = ensureExist.call(this, subscription, 'subscription');\n    this._fetchPromises = {};\n    this._lastMessage = null;\n    this._loadTtl = loadTtl;\n\n    this._storage = storage;\n    this._readTimeStorageKey = 'glipPostReadTime';\n    this._storage.registerReducer({\n      key: this._readTimeStorageKey,\n      reducer: getGlipPostsReadTimeReducer(this.actionTypes),\n    });\n    this._newPostListeners = [];\n  }\n\n  addNewPostListener(listen: any) {\n    if (typeof listen === 'function') {\n      this._newPostListeners.push(listen);\n    }\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  initialize() {\n    this.store.subscribe(() => this._onStateChange());\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  async _onStateChange() {\n    if (this._shouldInit()) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      if (!this._hasPermission) return;\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n      this._subscription.subscribe([subscriptionFilter]);\n    } else if (this._shouldReset()) {\n      this.store.dispatch({\n        type: this.actionTypes.resetSuccess,\n      });\n      this._fetchPromises = {};\n    } else if (this._shouldHandleSubscriptionMessage()) {\n      this._processSubscription();\n    }\n  }\n\n  // @ts-expect-error TS(4113): This member cannot have an 'override' modifier bec... Remove this comment to see the full error message\n  override _shouldInit() {\n    return (\n      this._auth.loggedIn &&\n      this._subscription.ready &&\n      this._extensionFeatures.ready &&\n      this.pending\n    );\n  }\n\n  // @ts-expect-error TS(4113): This member cannot have an 'override' modifier bec... Remove this comment to see the full error message\n  override _shouldReset() {\n    return (\n      (!this._auth.loggedIn ||\n        !this._extensionFeatures.ready ||\n        !this._subscription.ready) &&\n      this.ready\n    );\n  }\n\n  _shouldHandleSubscriptionMessage() {\n    return !!(\n      this.ready &&\n      this._subscription &&\n      this._subscription.ready &&\n      this._subscription.message &&\n      this._subscription.message !== this._lastMessage\n    );\n  }\n\n  _processSubscription() {\n    const { message } = this._subscription;\n    this._lastMessage = message;\n    if (\n      message &&\n      (glipPostsRegExp.test(message.event) ||\n        glipGroupRegExp.test(message.event)) &&\n      message.body\n    ) {\n      const { eventType, ...post } = message.body;\n      if (eventType.indexOf('Post') !== 0) {\n        return;\n      }\n      if (eventType === 'PostRemoved') {\n        return;\n      }\n      this.store.dispatch({\n        type: this.actionTypes.createSuccess,\n        groupId: post.groupId,\n        record: post,\n        oldRecordId: post.id,\n        isSendByMe:\n          post.creatorId === this._auth.ownerId && eventType === 'PostAdded',\n      });\n      if (eventType === 'PostAdded' && post.creatorId !== this._auth.ownerId) {\n        this._newPostListeners.forEach((listen: any) => {\n          listen(post);\n        });\n      }\n    }\n  }\n\n  @proxify\n  async loadPosts(groupId: any, recordCount = 20) {\n    const lastPosts = this.postsMap[groupId];\n    const fetchTime = this.fetchTimeMap[groupId];\n    if (lastPosts && fetchTime && Date.now() - fetchTime < this._loadTtl) {\n      return;\n    }\n    // @ts-expect-error TS(2554): Expected 3 arguments, but got 2.\n    await this.fetchPosts(groupId, recordCount);\n  }\n\n  @proxify\n  async fetchPosts(groupId: any, recordCount = 20, pageToken: any) {\n    if (!groupId) {\n      return;\n    }\n    if (!this._fetchPromises[groupId]) {\n      this._fetchPromises[groupId] = (async () => {\n        try {\n          this.store.dispatch({\n            type: this.actionTypes.fetch,\n          });\n          const params = { recordCount };\n          if (pageToken) {\n            // @ts-expect-error TS(2339): Property 'pageToken' does not exist on type '{ rec... Remove this comment to see the full error message\n            params.pageToken = pageToken;\n          }\n          const response = await this._client\n            .glip()\n            .groups(groupId)\n            .posts()\n            .list(params);\n          this.store.dispatch({\n            type: this.actionTypes.fetchSuccess,\n            groupId,\n            records: response.records,\n            lastPageToken: pageToken,\n            navigation: response.navigation,\n          });\n        } catch (e: any /** TODO: confirm with instanceof */) {\n          this.store.dispatch({\n            type: this.actionTypes.fetchError,\n          });\n        }\n        this._fetchPromises[groupId] = null;\n      })();\n    }\n    const promise = this._fetchPromises[groupId];\n    await promise;\n  }\n\n  @proxify\n  async loadNextPage(groupId: any, recordCount: any) {\n    const pageInfo = this.pageInfos[groupId];\n    const pageToken = pageInfo && pageInfo.prevPageToken;\n    if (!pageToken) {\n      return;\n    }\n    await this.fetchPosts(groupId, recordCount, pageToken);\n  }\n\n  @proxify\n  async create({ groupId }: any) {\n    let text = this.postInputs[groupId] && this.postInputs[groupId].text;\n    const mentions =\n      this.postInputs[groupId] && this.postInputs[groupId].mentions;\n    if (isBlank(text) || !groupId) {\n      return;\n    }\n    if (mentions && mentions.length > 0) {\n      mentions.forEach((mention: any) => {\n        if (!mention.matcherId) {\n          return;\n        }\n        text = text.replace(\n          mention.mention,\n          `![:Person](${mention.matcherId})`,\n        );\n      });\n    }\n    const fakeId = `${Date.now()}`;\n    const fakeRecord = {\n      id: fakeId,\n      groupId,\n      creatorId: this._auth.ownerId,\n      sendStatus: status.creating,\n      creationTime: `${new Date(Date.now())}`,\n      text,\n      type: 'TextMessage',\n    };\n    try {\n      this.store.dispatch({\n        type: this.actionTypes.create,\n        groupId,\n        record: fakeRecord,\n      });\n      this.updatePostInput({ text: '', groupId, mentions: [] });\n      const record = await this._client.glip().groups(groupId).posts().post({\n        text,\n      });\n      this.store.dispatch({\n        type: this.actionTypes.createSuccess,\n        groupId,\n        record,\n        oldRecordId: fakeId,\n      });\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      // @ts-expect-error TS(2339): Property 'createError' does not exist on type 'Obj... Remove this comment to see the full error message\n      fakeRecord.sendStatus = status.createError;\n      this.store.dispatch({\n        type: this.actionTypes.createError,\n        record: fakeRecord,\n        groupId,\n        oldRecordId: fakeId,\n      });\n      this.updatePostInput({ text, groupId, mentions });\n    }\n  }\n\n  @proxify\n  async sendFile({ fileName, groupId, rawFile }: any) {\n    try {\n      const platform = this._client.service.platform();\n      const body = rawFile;\n      const response = await platform.post(\n        '/restapi/v1.0/glip/files',\n        body,\n        { groupId, name: fileName },\n        {\n          headers: {\n            'Content-Type': 'application/octet-stream',\n          },\n        },\n      );\n      return response.json();\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      console.error(e);\n    }\n    return null;\n  }\n\n  // @ts-expect-error TS(2345): Argument of type 'TypedPropertyDescriptor<(groupId... Remove this comment to see the full error message\n  @proxify\n  updateReadTime(groupId: any, time: any) {\n    this.store.dispatch({\n      type: this.actionTypes.updateReadTime,\n      groupId,\n      time,\n    });\n  }\n\n  // @ts-expect-error TS(2345): Argument of type 'TypedPropertyDescriptor<({ text,... Remove this comment to see the full error message\n  @proxify\n  updatePostInput({ text, groupId, mentions }: any) {\n    this.store.dispatch({\n      type: this.actionTypes.updatePostInput,\n      groupId,\n      mentions,\n      textValue: text,\n    });\n  }\n\n  get postsMap() {\n    return this.state.glipPostsStore;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get status() {\n    return this.state.status;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get ready() {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get postInputs() {\n    return this.state.postInputs;\n  }\n\n  get readTimeMap() {\n    return this._storage.getItem(this._readTimeStorageKey);\n  }\n\n  get pageInfos() {\n    return this.state.pageInfos;\n  }\n\n  get fetchTimeMap() {\n    return this.state.fetchTimes;\n  }\n\n  get _hasPermission() {\n    return !!this._extensionFeatures.features?.Glip?.available;\n  }\n}\n"],"mappings":"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","ignoreList":[]}