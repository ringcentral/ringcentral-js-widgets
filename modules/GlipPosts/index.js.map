{"version":3,"file":"index.js","names":["_moduleStatuses","_interopRequireDefault","require","_subscriptionFilters","_RcModule2","_di","_ensureExist","_isBlank","_proxify","_actionTypes","_getReducer","_interopRequireWildcard","_status","_dec","_class","_class2","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","asyncGeneratorStep","o","c","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","l","initializer","slice","reverse","reduce","glipPostsRegExp","glipGroupRegExp","DEFAULT_LOAD_TTL","GlipPosts","Module","deps","dep","optional","_RcModule","_super","_ref","_this","client","auth","subscription","storage","extensionFeatures","_ref$loadTtl","loadTtl","options","actionTypes","_auth","_client","_extensionFeatures","_fetchPromises","_loadTtl","_newPostListeners","_readTimeStorageKey","_storage","_subscription","_reducer","getReducer","ensureExist","registerReducer","reducer","getGlipPostsReadTimeReducer","addNewPostListener","listen","initialize","_this2","store","subscribe","_onStateChange","register","filters","subscriptionFilters","glipPosts","handler","message","_handleSubscription","_onStateChange2","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","_shouldInit","dispatch","type","init","_hasPermission","abrupt","initSuccess","_shouldReset","resetSuccess","stop","loggedIn","ready","pending","test","event","body","_message$body","eventType","post","createSuccess","groupId","record","oldRecordId","id","isSendByMe","creatorId","ownerId","_loadPosts","_callee2","recordCount","lastPosts","fetchTime","_args2","_callee2$","_context2","undefined","postsMap","fetchTimeMap","Date","now","fetchPosts","loadPosts","_x","_fetchPosts","_callee4","_this3","pageToken","promise","_args4","_callee4$","_context4","_callee3","params","response","_callee3$","_context3","fetch","glip","groups","posts","list","sent","fetchSuccess","records","lastPageToken","navigation","t0","fetchError","_x2","_loadNextPage","_callee5","pageInfo","_callee5$","_context5","pageInfos","prevPageToken","loadNextPage","_x3","_x4","_create","_callee6","_ref3","text","mentions","fakeId","fakeRecord","_callee6$","_context6","postInputs","isBlank","mention","matcherId","replace","concat","sendStatus","status","creating","creationTime","updatePostInput","createError","_x5","_sendFile","_callee7","_ref4","fileName","rawFile","platform","_callee7$","_context7","service","name","headers","json","console","error","sendFile","_x6","updateReadTime","time","_ref5","textValue","state","glipPostsStore","moduleStatuses","getItem","fetchTimes","_this$_extensionFeatu","_this$_extensionFeatu2","features","Glip","available","RcModule","proxify","exports"],"sources":["modules/GlipPosts/index.ts"],"sourcesContent":["import moduleStatuses from '../../enums/moduleStatuses';\nimport { subscriptionFilters } from '../../enums/subscriptionFilters';\nimport RcModule from '../../lib/RcModule';\nimport { Module } from '../../lib/di';\nimport ensureExist from '../../lib/ensureExist';\nimport { isBlank } from '../../lib/isBlank';\nimport { proxify } from '../../lib/proxy/proxify';\nimport type { WebSocketSubscription as Subscription } from '../WebSocketSubscription';\n\nimport { actionTypes } from './actionTypes';\nimport getReducer, { getGlipPostsReadTimeReducer } from './getReducer';\nimport { status } from './status';\n\nconst glipPostsRegExp = /glip\\/posts$/;\nconst glipGroupRegExp = /glip\\/groups$/;\n\nconst DEFAULT_LOAD_TTL = 30 * 60 * 1000;\n\n@Module({\n  deps: [\n    'Client',\n    'Auth',\n    'Subscription',\n    'Storage',\n    'ExtensionFeatures',\n    { dep: 'GlipPostsOptions', optional: true },\n  ],\n})\n// @ts-expect-error TS(2415): Class 'GlipPosts' incorrectly extends base class '... Remove this comment to see the full error message\nexport default class GlipPosts extends RcModule {\n  _auth: any;\n  _client: any;\n  _extensionFeatures: any;\n  _fetchPromises: any;\n  _loadTtl: any;\n  _newPostListeners: any;\n  _readTimeStorageKey: any;\n  _storage: any;\n  _subscription: Subscription;\n  constructor({\n    client,\n    auth,\n    subscription,\n    storage,\n    extensionFeatures,\n    loadTtl = DEFAULT_LOAD_TTL,\n    ...options\n  }: any) {\n    super({\n      ...options,\n      actionTypes,\n    });\n    this._reducer = getReducer(this.actionTypes);\n\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._client = ensureExist.call(this, client, 'client');\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._auth = ensureExist.call(this, auth, 'auth');\n    this._extensionFeatures = extensionFeatures;\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._subscription = ensureExist.call(this, subscription, 'subscription');\n    this._fetchPromises = {};\n    this._loadTtl = loadTtl;\n\n    this._storage = storage;\n    this._readTimeStorageKey = 'glipPostReadTime';\n    this._storage.registerReducer({\n      key: this._readTimeStorageKey,\n      reducer: getGlipPostsReadTimeReducer(this.actionTypes),\n    });\n    this._newPostListeners = [];\n  }\n\n  addNewPostListener(listen: any) {\n    if (typeof listen === 'function') {\n      this._newPostListeners.push(listen);\n    }\n  }\n\n  override initialize() {\n    this.store.subscribe(() => this._onStateChange());\n\n    this._subscription.register(this, {\n      filters: [subscriptionFilters.glipPosts],\n      handler: (message) => this._handleSubscription(message),\n    });\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  async _onStateChange() {\n    if (this._shouldInit()) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      if (!this._hasPermission) return;\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n    } else if (this._shouldReset()) {\n      this.store.dispatch({\n        type: this.actionTypes.resetSuccess,\n      });\n      this._fetchPromises = {};\n    }\n  }\n\n  // @ts-expect-error TS(4113): This member cannot have an 'override' modifier bec... Remove this comment to see the full error message\n  override _shouldInit() {\n    return (\n      this._auth.loggedIn &&\n      this._subscription.ready &&\n      this._extensionFeatures.ready &&\n      this.pending\n    );\n  }\n\n  // @ts-expect-error TS(4113): This member cannot have an 'override' modifier bec... Remove this comment to see the full error message\n  override _shouldReset() {\n    return (\n      (!this._auth.loggedIn ||\n        !this._extensionFeatures.ready ||\n        !this._subscription.ready) &&\n      this.ready\n    );\n  }\n\n  _handleSubscription(message: any) {\n    if (\n      message &&\n      (glipPostsRegExp.test(message.event) ||\n        glipGroupRegExp.test(message.event)) &&\n      message.body\n    ) {\n      const { eventType, ...post } = message.body;\n      if (eventType.indexOf('Post') !== 0) {\n        return;\n      }\n      if (eventType === 'PostRemoved') {\n        return;\n      }\n      this.store.dispatch({\n        type: this.actionTypes.createSuccess,\n        groupId: post.groupId,\n        record: post,\n        oldRecordId: post.id,\n        isSendByMe:\n          post.creatorId === this._auth.ownerId && eventType === 'PostAdded',\n      });\n      if (eventType === 'PostAdded' && post.creatorId !== this._auth.ownerId) {\n        this._newPostListeners.forEach((listen: any) => {\n          listen(post);\n        });\n      }\n    }\n  }\n\n  @proxify\n  async loadPosts(groupId: any, recordCount = 20) {\n    const lastPosts = this.postsMap[groupId];\n    const fetchTime = this.fetchTimeMap[groupId];\n    if (lastPosts && fetchTime && Date.now() - fetchTime < this._loadTtl) {\n      return;\n    }\n    // @ts-expect-error TS(2554): Expected 3 arguments, but got 2.\n    await this.fetchPosts(groupId, recordCount);\n  }\n\n  @proxify\n  async fetchPosts(groupId: any, recordCount = 20, pageToken: any) {\n    if (!groupId) {\n      return;\n    }\n    if (!this._fetchPromises[groupId]) {\n      this._fetchPromises[groupId] = (async () => {\n        try {\n          this.store.dispatch({\n            type: this.actionTypes.fetch,\n          });\n          const params = { recordCount };\n          if (pageToken) {\n            // @ts-expect-error TS(2339): Property 'pageToken' does not exist on type '{ rec... Remove this comment to see the full error message\n            params.pageToken = pageToken;\n          }\n          const response = await this._client\n            .glip()\n            .groups(groupId)\n            .posts()\n            .list(params);\n          this.store.dispatch({\n            type: this.actionTypes.fetchSuccess,\n            groupId,\n            records: response.records,\n            lastPageToken: pageToken,\n            navigation: response.navigation,\n          });\n        } catch (e: any /** TODO: confirm with instanceof */) {\n          this.store.dispatch({\n            type: this.actionTypes.fetchError,\n          });\n        }\n        this._fetchPromises[groupId] = null;\n      })();\n    }\n    const promise = this._fetchPromises[groupId];\n    await promise;\n  }\n\n  @proxify\n  async loadNextPage(groupId: any, recordCount: any) {\n    const pageInfo = this.pageInfos[groupId];\n    const pageToken = pageInfo && pageInfo.prevPageToken;\n    if (!pageToken) {\n      return;\n    }\n    await this.fetchPosts(groupId, recordCount, pageToken);\n  }\n\n  @proxify\n  async create({ groupId }: any) {\n    let text = this.postInputs[groupId] && this.postInputs[groupId].text;\n    const mentions =\n      this.postInputs[groupId] && this.postInputs[groupId].mentions;\n    if (isBlank(text) || !groupId) {\n      return;\n    }\n    if (mentions && mentions.length > 0) {\n      mentions.forEach((mention: any) => {\n        if (!mention.matcherId) {\n          return;\n        }\n        text = text.replace(\n          mention.mention,\n          `![:Person](${mention.matcherId})`,\n        );\n      });\n    }\n    const fakeId = `${Date.now()}`;\n    const fakeRecord = {\n      id: fakeId,\n      groupId,\n      creatorId: this._auth.ownerId,\n      sendStatus: status.creating,\n      creationTime: `${new Date(Date.now())}`,\n      text,\n      type: 'TextMessage',\n    };\n    try {\n      this.store.dispatch({\n        type: this.actionTypes.create,\n        groupId,\n        record: fakeRecord,\n      });\n      this.updatePostInput({ text: '', groupId, mentions: [] });\n      const record = await this._client.glip().groups(groupId).posts().post({\n        text,\n      });\n      this.store.dispatch({\n        type: this.actionTypes.createSuccess,\n        groupId,\n        record,\n        oldRecordId: fakeId,\n      });\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      // @ts-expect-error TS(2339): Property 'createError' does not exist on type 'Obj... Remove this comment to see the full error message\n      fakeRecord.sendStatus = status.createError;\n      this.store.dispatch({\n        type: this.actionTypes.createError,\n        record: fakeRecord,\n        groupId,\n        oldRecordId: fakeId,\n      });\n      this.updatePostInput({ text, groupId, mentions });\n    }\n  }\n\n  @proxify\n  async sendFile({ fileName, groupId, rawFile }: any) {\n    try {\n      const platform = this._client.service.platform();\n      const body = rawFile;\n      const response = await platform.post(\n        '/restapi/v1.0/glip/files',\n        body,\n        { groupId, name: fileName },\n        {\n          headers: {\n            'Content-Type': 'application/octet-stream',\n          },\n        },\n      );\n      return response.json();\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      console.error(e);\n    }\n    return null;\n  }\n\n  // @ts-expect-error TS(2345): Argument of type 'TypedPropertyDescriptor<(groupId... Remove this comment to see the full error message\n  @proxify\n  updateReadTime(groupId: any, time: any) {\n    this.store.dispatch({\n      type: this.actionTypes.updateReadTime,\n      groupId,\n      time,\n    });\n  }\n\n  // @ts-expect-error TS(2345): Argument of type 'TypedPropertyDescriptor<({ text,... Remove this comment to see the full error message\n  @proxify\n  updatePostInput({ text, groupId, mentions }: any) {\n    this.store.dispatch({\n      type: this.actionTypes.updatePostInput,\n      groupId,\n      mentions,\n      textValue: text,\n    });\n  }\n\n  get postsMap() {\n    return this.state.glipPostsStore;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get status() {\n    return this.state.status;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get ready() {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get postInputs() {\n    return this.state.postInputs;\n  }\n\n  get readTimeMap() {\n    return this._storage.getItem(this._readTimeStorageKey);\n  }\n\n  get pageInfos() {\n    return this.state.pageInfos;\n  }\n\n  get fetchTimeMap() {\n    return this.state.fetchTimes;\n  }\n\n  get _hasPermission() {\n    return !!this._extensionFeatures.features?.Glip?.available;\n  }\n}\n"],"mappings":"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","ignoreList":[]}