{"version":3,"file":"MainViewUI.js","names":["_di","require","_core","_enums","_getClockByTimestamp","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_class","_class2","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","property","decorators","context","desc","initializer","slice","reverse","reduce","decorator","MainViewUI","Module","name","deps","computed","that","_deps","evWorkingState","agentStates","workingState","evSettings","isOffhooking","evCallMonitor","isOnCall","evCall","isDialing","evAuth","agentPermissions","allowOffHook","_RcUIModuleV","_super","_this","oldIntervalTime","getStateColor","intervalTime","isBreak","isOverOneMinute","_checkOverTime","agentStatesColors","agentState","getTimerText","concat","getClockByTimestamp","maxBreakTime","parseInt","useCeil","handleWithIntervalTime","alertOverBreakTime","getUIProps","currentStateIndex","currentPath","routerInteraction","stateText","time","disabled","isPendingDisposition","isOffHookDisable","offhookState","isOffhook","isWide","environment","hideOffHookBtn","currentLocale","locale","getUIFunctions","_this2","goTo","path","changeWorkingState","state","offhook","offHook","get","map","color","title","agentAuxState","findIndex","_this$_deps$evWorking","isOnBreakOrAway","isOnLunch","RcUIModuleV2","exports"],"sources":["modules/MainViewUI/MainViewUI.ts"],"sourcesContent":["import { Module } from '@ringcentral-integration/commons/lib/di';\nimport { computed, RcUIModuleV2 } from '@ringcentral-integration/core';\n\nimport { agentStatesColors } from '../../enums';\nimport type {\n  EvMainViewUIFunctions,\n  EvMainViewUIProps,\n} from '../../interfaces/EvMainViewUI.interface';\nimport { getClockByTimestamp } from '../../lib/getClockByTimestamp';\nimport type { Deps, MainView } from './MainViewUI.interface';\n\n@Module({\n  name: 'MainViewUI',\n  deps: [\n    'Locale',\n    'RouterInteraction',\n    'EvWorkingState',\n    'EvSettings',\n    'EvCallMonitor',\n    'EvAuth',\n    'Environment',\n    'EvCall',\n  ],\n})\nclass MainViewUI extends RcUIModuleV2<Deps> implements MainView {\n  public oldIntervalTime?: number;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  get maxBreakTime() {\n    return this._deps.evWorkingState.maxBreakTime;\n  }\n\n  @computed((that: MainViewUI) => [that._deps.evWorkingState.agentStates])\n  get agentStates() {\n    return this._deps.evWorkingState.agentStates.map((state) => ({\n      ...state,\n      color: agentStatesColors[state.agentState],\n      title: state.agentAuxState,\n    }));\n  }\n\n  @computed((that: MainViewUI) => [\n    that.agentStates,\n    that._deps.evWorkingState.workingState,\n  ])\n  get currentStateIndex() {\n    const { workingState } = this._deps.evWorkingState;\n    return this.agentStates.findIndex(\n      (state) =>\n        state.agentAuxState === workingState.agentAuxState &&\n        state.agentState === workingState.agentState,\n    );\n  }\n\n  @computed((that: MainViewUI) => [that._deps.evWorkingState.workingState])\n  get stateText() {\n    const { workingState } = this._deps.evWorkingState;\n    return workingState.agentAuxState || workingState.agentState;\n  }\n\n  @computed((that: MainViewUI) => [that._deps.evWorkingState.workingState])\n  get isBreak() {\n    const { isOnBreakOrAway, isOnLunch } = this._deps.evWorkingState;\n    return isOnBreakOrAway || isOnLunch;\n  }\n\n  @computed((that: MainViewUI) => [\n    that._deps.evSettings.isOffhooking,\n    that._deps.evCallMonitor.isOnCall,\n    that._deps.evCall.isDialing,\n    that._deps.evAuth.agentPermissions.allowOffHook,\n  ])\n  get isOffHookDisable() {\n    return (\n      this._deps.evSettings.isOffhooking ||\n      this._deps.evCallMonitor.isOnCall ||\n      this._deps.evCall.isDialing ||\n      !this._deps.evAuth.agentPermissions.allowOffHook\n    );\n  }\n\n  @computed((that: MainViewUI) => [\n    that._deps.evAuth.agentPermissions.allowOffHook,\n  ])\n  get hideOffHookBtn() {\n    return !this._deps.evAuth.agentPermissions.allowOffHook;\n  }\n\n  getStateColor(intervalTime: number) {\n    if (this.isBreak) {\n      const isOverOneMinute = this._checkOverTime(intervalTime);\n\n      if (isOverOneMinute) {\n        return 'red';\n      }\n    }\n\n    return (\n      agentStatesColors[this._deps.evWorkingState.workingState.agentState] ||\n      'grey'\n    );\n  }\n\n  getTimerText(intervalTime: number) {\n    if (this._checkOverTime(intervalTime)) {\n      return `-${getClockByTimestamp(intervalTime - this.maxBreakTime)}`;\n    }\n    if (this.isBreak && this.maxBreakTime > 0) {\n      intervalTime = parseInt(`${this.maxBreakTime - intervalTime}`, 10);\n      return getClockByTimestamp(intervalTime, { useCeil: true });\n    }\n    return getClockByTimestamp(intervalTime);\n  }\n\n  handleWithIntervalTime(intervalTime: number) {\n    const isOverOneMinute = this._checkOverTime(intervalTime);\n    // TODO: think about when browser is block.\n    if (\n      this.oldIntervalTime < this.maxBreakTime &&\n      isOverOneMinute &&\n      this.isBreak\n    ) {\n      this._deps.evWorkingState.alertOverBreakTime();\n    }\n    this.oldIntervalTime = intervalTime;\n  }\n\n  private _checkOverTime(intervalTime: number) {\n    return (\n      this.isBreak && this.maxBreakTime > 0 && intervalTime > this.maxBreakTime\n    );\n  }\n\n  getUIProps(): EvMainViewUIProps {\n    return {\n      agentStates: this.agentStates,\n      agentState: this._deps.evWorkingState.agentState,\n      currentStateIndex: this.currentStateIndex,\n      currentPath: this._deps.routerInteraction.currentPath,\n      stateText: this.stateText,\n      time: this._deps.evWorkingState.time,\n      disabled: this._deps.evWorkingState.isPendingDisposition,\n      isOffHookDisable: this.isOffHookDisable,\n      offhookState: this._deps.evSettings.offhookState,\n      isOffhook: this._deps.evSettings.isOffhook,\n      isOffhooking: this._deps.evSettings.isOffhooking,\n      isWide: this._deps.environment.isWide,\n      hideOffHookBtn: this.hideOffHookBtn,\n      currentLocale: this._deps.locale.currentLocale,\n    };\n  }\n\n  getUIFunctions(): EvMainViewUIFunctions {\n    return {\n      goTo: (path: string) => {\n        if (path) {\n          this._deps.routerInteraction.push(path);\n        }\n      },\n      changeWorkingState: (state) =>\n        this._deps.evWorkingState.changeWorkingState(state),\n      getTimerText: (intervalTime: number) => this.getTimerText(intervalTime),\n      getStateColor: (intervalTime: number) => this.getStateColor(intervalTime),\n      handleWithIntervalTime: (intervalTime: number) =>\n        this.handleWithIntervalTime(intervalTime),\n      offhook: () => {\n        if (!this.isOffHookDisable) {\n          this._deps.evSettings.offHook();\n        }\n      },\n    };\n  }\n}\n\nexport { MainViewUI };\n"],"mappings":";;;;;;;;;;;AAAA,IAAAA,GAAA,GAAAC,OAAA;AACA,IAAAC,KAAA,GAAAD,OAAA;AAEA,IAAAE,MAAA,GAAAF,OAAA;AAKA,IAAAG,oBAAA,GAAAH,OAAA;AAAoE,IAAAI,IAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAC,OAAA;AAAA,SAAAC,QAAAC,MAAA,EAAAC,cAAA,QAAAC,IAAA,GAAAC,MAAA,CAAAD,IAAA,CAAAF,MAAA,OAAAG,MAAA,CAAAC,qBAAA,QAAAC,OAAA,GAAAF,MAAA,CAAAC,qBAAA,CAAAJ,MAAA,GAAAC,cAAA,KAAAI,OAAA,GAAAA,OAAA,CAAAC,MAAA,WAAAC,GAAA,WAAAJ,MAAA,CAAAK,wBAAA,CAAAR,MAAA,EAAAO,GAAA,EAAAE,UAAA,OAAAP,IAAA,CAAAQ,IAAA,CAAAC,KAAA,CAAAT,IAAA,EAAAG,OAAA,YAAAH,IAAA;AAAA,SAAAU,cAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,WAAAF,SAAA,CAAAD,CAAA,IAAAC,SAAA,CAAAD,CAAA,QAAAA,CAAA,OAAAf,OAAA,CAAAI,MAAA,CAAAc,MAAA,OAAAC,OAAA,WAAAC,GAAA,IAAAC,eAAA,CAAAP,MAAA,EAAAM,GAAA,EAAAF,MAAA,CAAAE,GAAA,SAAAhB,MAAA,CAAAkB,yBAAA,GAAAlB,MAAA,CAAAmB,gBAAA,CAAAT,MAAA,EAAAV,MAAA,CAAAkB,yBAAA,CAAAJ,MAAA,KAAAlB,OAAA,CAAAI,MAAA,CAAAc,MAAA,GAAAC,OAAA,WAAAC,GAAA,IAAAhB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,EAAAM,GAAA,EAAAhB,MAAA,CAAAK,wBAAA,CAAAS,MAAA,EAAAE,GAAA,iBAAAN,MAAA;AAAA,SAAAO,gBAAAI,GAAA,EAAAL,GAAA,EAAAM,KAAA,IAAAN,GAAA,GAAAO,cAAA,CAAAP,GAAA,OAAAA,GAAA,IAAAK,GAAA,IAAArB,MAAA,CAAAoB,cAAA,CAAAC,GAAA,EAAAL,GAAA,IAAAM,KAAA,EAAAA,KAAA,EAAAhB,UAAA,QAAAkB,YAAA,QAAAC,QAAA,oBAAAJ,GAAA,CAAAL,GAAA,IAAAM,KAAA,WAAAD,GAAA;AAAA,SAAAK,gBAAAC,QAAA,EAAAC,WAAA,UAAAD,QAAA,YAAAC,WAAA,eAAAC,SAAA;AAAA,SAAAC,kBAAApB,MAAA,EAAAqB,KAAA,aAAApB,CAAA,MAAAA,CAAA,GAAAoB,KAAA,CAAAlB,MAAA,EAAAF,CAAA,UAAAqB,UAAA,GAAAD,KAAA,CAAApB,CAAA,GAAAqB,UAAA,CAAA1B,UAAA,GAAA0B,UAAA,CAAA1B,UAAA,WAAA0B,UAAA,CAAAR,YAAA,wBAAAQ,UAAA,EAAAA,UAAA,CAAAP,QAAA,SAAAzB,MAAA,CAAAoB,cAAA,CAAAV,MAAA,EAAAa,cAAA,CAAAS,UAAA,CAAAhB,GAAA,GAAAgB,UAAA;AAAA,SAAAC,aAAAL,WAAA,EAAAM,UAAA,EAAAC,WAAA,QAAAD,UAAA,EAAAJ,iBAAA,CAAAF,WAAA,CAAAQ,SAAA,EAAAF,UAAA,OAAAC,WAAA,EAAAL,iBAAA,CAAAF,WAAA,EAAAO,WAAA,GAAAnC,MAAA,CAAAoB,cAAA,CAAAQ,WAAA,iBAAAH,QAAA,mBAAAG,WAAA;AAAA,SAAAL,eAAAc,GAAA,QAAArB,GAAA,GAAAsB,YAAA,CAAAD,GAAA,oBAAAE,OAAA,CAAAvB,GAAA,iBAAAA,GAAA,GAAAwB,MAAA,CAAAxB,GAAA;AAAA,SAAAsB,aAAAG,KAAA,EAAAC,IAAA,QAAAH,OAAA,CAAAE,KAAA,kBAAAA,KAAA,kBAAAA,KAAA,MAAAE,IAAA,GAAAF,KAAA,CAAAG,MAAA,CAAAC,WAAA,OAAAF,IAAA,KAAAG,SAAA,QAAAC,GAAA,GAAAJ,IAAA,CAAAK,IAAA,CAAAP,KAAA,EAAAC,IAAA,oBAAAH,OAAA,CAAAQ,GAAA,uBAAAA,GAAA,YAAAlB,SAAA,4DAAAa,IAAA,gBAAAF,MAAA,GAAAS,MAAA,EAAAR,KAAA;AAAA,SAAAS,UAAAC,QAAA,EAAAC,UAAA,eAAAA,UAAA,mBAAAA,UAAA,uBAAAvB,SAAA,0DAAAsB,QAAA,CAAAf,SAAA,GAAApC,MAAA,CAAAqD,MAAA,CAAAD,UAAA,IAAAA,UAAA,CAAAhB,SAAA,IAAAkB,WAAA,IAAAhC,KAAA,EAAA6B,QAAA,EAAA1B,QAAA,QAAAD,YAAA,aAAAxB,MAAA,CAAAoB,cAAA,CAAA+B,QAAA,iBAAA1B,QAAA,gBAAA2B,UAAA,EAAAG,eAAA,CAAAJ,QAAA,EAAAC,UAAA;AAAA,SAAAG,gBAAAC,CAAA,EAAAC,CAAA,IAAAF,eAAA,GAAAvD,MAAA,CAAA0D,cAAA,GAAA1D,MAAA,CAAA0D,cAAA,CAAAC,IAAA,cAAAJ,gBAAAC,CAAA,EAAAC,CAAA,IAAAD,CAAA,CAAAI,SAAA,GAAAH,CAAA,SAAAD,CAAA,YAAAD,eAAA,CAAAC,CAAA,EAAAC,CAAA;AAAA,SAAAI,aAAAC,OAAA,QAAAC,yBAAA,GAAAC,yBAAA,oBAAAC,qBAAA,QAAAC,KAAA,GAAAC,eAAA,CAAAL,OAAA,GAAAM,MAAA,MAAAL,yBAAA,QAAAM,SAAA,GAAAF,eAAA,OAAAb,WAAA,EAAAc,MAAA,GAAAE,OAAA,CAAAC,SAAA,CAAAL,KAAA,EAAAtD,SAAA,EAAAyD,SAAA,YAAAD,MAAA,GAAAF,KAAA,CAAA1D,KAAA,OAAAI,SAAA,YAAA4D,0BAAA,OAAAJ,MAAA;AAAA,SAAAI,2BAAAC,IAAA,EAAAzB,IAAA,QAAAA,IAAA,KAAAT,OAAA,CAAAS,IAAA,yBAAAA,IAAA,2BAAAA,IAAA,aAAAA,IAAA,yBAAAnB,SAAA,uEAAA6C,sBAAA,CAAAD,IAAA;AAAA,SAAAC,uBAAAD,IAAA,QAAAA,IAAA,yBAAAE,cAAA,wEAAAF,IAAA;AAAA,SAAAT,0BAAA,eAAAM,OAAA,qBAAAA,OAAA,CAAAC,SAAA,oBAAAD,OAAA,CAAAC,SAAA,CAAAK,IAAA,2BAAAC,KAAA,oCAAAC,OAAA,CAAA1C,SAAA,CAAA2C,OAAA,CAAA/B,IAAA,CAAAsB,OAAA,CAAAC,SAAA,CAAAO,OAAA,8CAAAE,CAAA;AAAA,SAAAb,gBAAAX,CAAA,IAAAW,eAAA,GAAAnE,MAAA,CAAA0D,cAAA,GAAA1D,MAAA,CAAAiF,cAAA,CAAAtB,IAAA,cAAAQ,gBAAAX,CAAA,WAAAA,CAAA,CAAAI,SAAA,IAAA5D,MAAA,CAAAiF,cAAA,CAAAzB,CAAA,aAAAW,eAAA,CAAAX,CAAA;AAAA,SAAA0B,0BAAAxE,MAAA,EAAAyE,QAAA,EAAAC,UAAA,EAAApD,UAAA,EAAAqD,OAAA,QAAAC,IAAA,OAAAtF,MAAA,CAAAD,IAAA,CAAAiC,UAAA,EAAAjB,OAAA,WAAAC,GAAA,IAAAsE,IAAA,CAAAtE,GAAA,IAAAgB,UAAA,CAAAhB,GAAA,OAAAsE,IAAA,CAAAhF,UAAA,KAAAgF,IAAA,CAAAhF,UAAA,EAAAgF,IAAA,CAAA9D,YAAA,KAAA8D,IAAA,CAAA9D,YAAA,iBAAA8D,IAAA,IAAAA,IAAA,CAAAC,WAAA,IAAAD,IAAA,CAAA7D,QAAA,WAAA6D,IAAA,GAAAF,UAAA,CAAAI,KAAA,GAAAC,OAAA,GAAAC,MAAA,WAAAJ,IAAA,EAAAK,SAAA,WAAAA,SAAA,CAAAjF,MAAA,EAAAyE,QAAA,EAAAG,IAAA,KAAAA,IAAA,KAAAA,IAAA,OAAAD,OAAA,IAAAC,IAAA,CAAAC,WAAA,eAAAD,IAAA,CAAAhE,KAAA,GAAAgE,IAAA,CAAAC,WAAA,GAAAD,IAAA,CAAAC,WAAA,CAAAvC,IAAA,CAAAqC,OAAA,YAAAC,IAAA,CAAAC,WAAA,GAAAzC,SAAA,QAAAwC,IAAA,CAAAC,WAAA,eAAAvF,MAAA,CAAAoB,cAAA,CAAAV,MAAA,EAAAyE,QAAA,EAAAG,IAAA,GAAAA,IAAA,kBAAAA,IAAA;AAAA,IAgB9DM,UAAU,IAAAzG,IAAA,GAbf,IAAA0G,UAAM,EAAC;EACNC,IAAI,EAAE,YAAY;EAClBC,IAAI,EAAE,CACJ,QAAQ,EACR,mBAAmB,EACnB,gBAAgB,EAChB,YAAY,EACZ,eAAe,EACf,QAAQ,EACR,aAAa,EACb,QAAQ;AAEZ,CAAC,CAAC,EAAA3G,KAAA,GAcC,IAAA4G,cAAQ,EAAC,UAACC,IAAgB;EAAA,OAAK,CAACA,IAAI,CAACC,KAAK,CAACC,cAAc,CAACC,WAAW,CAAC;AAAA,EAAC,EAAA/G,KAAA,GASvE,IAAA2G,cAAQ,EAAC,UAACC,IAAgB;EAAA,OAAK,CAC9BA,IAAI,CAACG,WAAW,EAChBH,IAAI,CAACC,KAAK,CAACC,cAAc,CAACE,YAAY,CACvC;AAAA,EAAC,EAAA/G,KAAA,GAUD,IAAA0G,cAAQ,EAAC,UAACC,IAAgB;EAAA,OAAK,CAACA,IAAI,CAACC,KAAK,CAACC,cAAc,CAACE,YAAY,CAAC;AAAA,EAAC,EAAA9G,KAAA,GAMxE,IAAAyG,cAAQ,EAAC,UAACC,IAAgB;EAAA,OAAK,CAACA,IAAI,CAACC,KAAK,CAACC,cAAc,CAACE,YAAY,CAAC;AAAA,EAAC,EAAA7G,KAAA,GAMxE,IAAAwG,cAAQ,EAAC,UAACC,IAAgB;EAAA,OAAK,CAC9BA,IAAI,CAACC,KAAK,CAACI,UAAU,CAACC,YAAY,EAClCN,IAAI,CAACC,KAAK,CAACM,aAAa,CAACC,QAAQ,EACjCR,IAAI,CAACC,KAAK,CAACQ,MAAM,CAACC,SAAS,EAC3BV,IAAI,CAACC,KAAK,CAACU,MAAM,CAACC,gBAAgB,CAACC,YAAY,CAChD;AAAA,EAAC,EAAArH,KAAA,GAUD,IAAAuG,cAAQ,EAAC,UAACC,IAAgB;EAAA,OAAK,CAC9BA,IAAI,CAACC,KAAK,CAACU,MAAM,CAACC,gBAAgB,CAACC,YAAY,CAChD;AAAA,EAAC,EAAA3H,IAAA,CAAAO,MAAA,IAAAC,OAAA,0BAAAoH,YAAA;EAAA7D,SAAA,CAAA0C,UAAA,EAAAmB,YAAA;EAAA,IAAAC,MAAA,GAAAnD,YAAA,CAAA+B,UAAA;EA7DF,SAAAA,WAAYG,IAAU,EAAE;IAAA,IAAAkB,KAAA;IAAAvF,eAAA,OAAAkE,UAAA;IACtBqB,KAAA,GAAAD,MAAA,CAAAhE,IAAA,OAAM;MACJ+C,IAAI,EAAJA;IACF,CAAC;IAAEkB,KAAA,CALEC,eAAe;IAAA,OAAAD,KAAA;EAMtB;EAAChF,YAAA,CAAA2D,UAAA;IAAA5E,GAAA;IAAAM,KAAA,WAAA6F,cA8DaC,YAAoB,EAAE;MAClC,IAAI,IAAI,CAACC,OAAO,EAAE;QAChB,IAAMC,eAAe,GAAG,IAAI,CAACC,cAAc,CAACH,YAAY,CAAC;QAEzD,IAAIE,eAAe,EAAE;UACnB,OAAO,KAAK;QACd;MACF;MAEA,OACEE,wBAAiB,CAAC,IAAI,CAACtB,KAAK,CAACC,cAAc,CAACE,YAAY,CAACoB,UAAU,CAAC,IACpE,MAAM;IAEV;EAAC;IAAAzG,GAAA;IAAAM,KAAA,WAAAoG,aAEYN,YAAoB,EAAE;MACjC,IAAI,IAAI,CAACG,cAAc,CAACH,YAAY,CAAC,EAAE;QACrC,WAAAO,MAAA,CAAW,IAAAC,wCAAmB,EAACR,YAAY,GAAG,IAAI,CAACS,YAAY,CAAC;MAClE;MACA,IAAI,IAAI,CAACR,OAAO,IAAI,IAAI,CAACQ,YAAY,GAAG,CAAC,EAAE;QACzCT,YAAY,GAAGU,QAAQ,IAAAH,MAAA,CAAI,IAAI,CAACE,YAAY,GAAGT,YAAY,GAAI,EAAE,CAAC;QAClE,OAAO,IAAAQ,wCAAmB,EAACR,YAAY,EAAE;UAAEW,OAAO,EAAE;QAAK,CAAC,CAAC;MAC7D;MACA,OAAO,IAAAH,wCAAmB,EAACR,YAAY,CAAC;IAC1C;EAAC;IAAApG,GAAA;IAAAM,KAAA,WAAA0G,uBAEsBZ,YAAoB,EAAE;MAC3C,IAAME,eAAe,GAAG,IAAI,CAACC,cAAc,CAACH,YAAY,CAAC;MACzD;MACA,IACE,IAAI,CAACF,eAAe,GAAG,IAAI,CAACW,YAAY,IACxCP,eAAe,IACf,IAAI,CAACD,OAAO,EACZ;QACA,IAAI,CAACnB,KAAK,CAACC,cAAc,CAAC8B,kBAAkB,CAAC,CAAC;MAChD;MACA,IAAI,CAACf,eAAe,GAAGE,YAAY;IACrC;EAAC;IAAApG,GAAA;IAAAM,KAAA,WAAAiG,eAEsBH,YAAoB,EAAE;MAC3C,OACE,IAAI,CAACC,OAAO,IAAI,IAAI,CAACQ,YAAY,GAAG,CAAC,IAAIT,YAAY,GAAG,IAAI,CAACS,YAAY;IAE7E;EAAC;IAAA7G,GAAA;IAAAM,KAAA,WAAA4G,WAAA,EAE+B;MAC9B,OAAO;QACL9B,WAAW,EAAE,IAAI,CAACA,WAAW;QAC7BqB,UAAU,EAAE,IAAI,CAACvB,KAAK,CAACC,cAAc,CAACsB,UAAU;QAChDU,iBAAiB,EAAE,IAAI,CAACA,iBAAiB;QACzCC,WAAW,EAAE,IAAI,CAAClC,KAAK,CAACmC,iBAAiB,CAACD,WAAW;QACrDE,SAAS,EAAE,IAAI,CAACA,SAAS;QACzBC,IAAI,EAAE,IAAI,CAACrC,KAAK,CAACC,cAAc,CAACoC,IAAI;QACpCC,QAAQ,EAAE,IAAI,CAACtC,KAAK,CAACC,cAAc,CAACsC,oBAAoB;QACxDC,gBAAgB,EAAE,IAAI,CAACA,gBAAgB;QACvCC,YAAY,EAAE,IAAI,CAACzC,KAAK,CAACI,UAAU,CAACqC,YAAY;QAChDC,SAAS,EAAE,IAAI,CAAC1C,KAAK,CAACI,UAAU,CAACsC,SAAS;QAC1CrC,YAAY,EAAE,IAAI,CAACL,KAAK,CAACI,UAAU,CAACC,YAAY;QAChDsC,MAAM,EAAE,IAAI,CAAC3C,KAAK,CAAC4C,WAAW,CAACD,MAAM;QACrCE,cAAc,EAAE,IAAI,CAACA,cAAc;QACnCC,aAAa,EAAE,IAAI,CAAC9C,KAAK,CAAC+C,MAAM,CAACD;MACnC,CAAC;IACH;EAAC;IAAAhI,GAAA;IAAAM,KAAA,WAAA4H,eAAA,EAEuC;MAAA,IAAAC,MAAA;MACtC,OAAO;QACLC,IAAI,EAAE,SAAAA,KAACC,IAAY,EAAK;UACtB,IAAIA,IAAI,EAAE;YACRF,MAAI,CAACjD,KAAK,CAACmC,iBAAiB,CAAC9H,IAAI,CAAC8I,IAAI,CAAC;UACzC;QACF,CAAC;QACDC,kBAAkB,EAAE,SAAAA,mBAACC,KAAK;UAAA,OACxBJ,MAAI,CAACjD,KAAK,CAACC,cAAc,CAACmD,kBAAkB,CAACC,KAAK,CAAC;QAAA;QACrD7B,YAAY,EAAE,SAAAA,aAACN,YAAoB;UAAA,OAAK+B,MAAI,CAACzB,YAAY,CAACN,YAAY,CAAC;QAAA;QACvED,aAAa,EAAE,SAAAA,cAACC,YAAoB;UAAA,OAAK+B,MAAI,CAAChC,aAAa,CAACC,YAAY,CAAC;QAAA;QACzEY,sBAAsB,EAAE,SAAAA,uBAACZ,YAAoB;UAAA,OAC3C+B,MAAI,CAACnB,sBAAsB,CAACZ,YAAY,CAAC;QAAA;QAC3CoC,OAAO,EAAE,SAAAA,QAAA,EAAM;UACb,IAAI,CAACL,MAAI,CAACT,gBAAgB,EAAE;YAC1BS,MAAI,CAACjD,KAAK,CAACI,UAAU,CAACmD,OAAO,CAAC,CAAC;UACjC;QACF;MACF,CAAC;IACH;EAAC;IAAAzI,GAAA;IAAA0I,GAAA,WAAAA,IAAA,EA/IkB;MACjB,OAAO,IAAI,CAACxD,KAAK,CAACC,cAAc,CAAC0B,YAAY;IAC/C;EAAC;IAAA7G,GAAA;IAAA0I,GAAA,WAAAA,IAAA,EAGiB;MAChB,OAAO,IAAI,CAACxD,KAAK,CAACC,cAAc,CAACC,WAAW,CAACuD,GAAG,CAAC,UAACJ,KAAK;QAAA,OAAA9I,aAAA,CAAAA,aAAA,KAClD8I,KAAK;UACRK,KAAK,EAAEpC,wBAAiB,CAAC+B,KAAK,CAAC9B,UAAU,CAAC;UAC1CoC,KAAK,EAAEN,KAAK,CAACO;QAAa;MAAA,CAC1B,CAAC;IACL;EAAC;IAAA9I,GAAA;IAAA0I,GAAA,WAAAA,IAAA,EAMuB;MAAA,IACdrD,YAAY,GAAK,IAAI,CAACH,KAAK,CAACC,cAAc,CAA1CE,YAAY;MACpB,OAAO,IAAI,CAACD,WAAW,CAAC2D,SAAS,CAC/B,UAACR,KAAK;QAAA,OACJA,KAAK,CAACO,aAAa,KAAKzD,YAAY,CAACyD,aAAa,IAClDP,KAAK,CAAC9B,UAAU,KAAKpB,YAAY,CAACoB,UAAU;MAAA,CAChD,CAAC;IACH;EAAC;IAAAzG,GAAA;IAAA0I,GAAA,WAAAA,IAAA,EAGe;MAAA,IACNrD,YAAY,GAAK,IAAI,CAACH,KAAK,CAACC,cAAc,CAA1CE,YAAY;MACpB,OAAOA,YAAY,CAACyD,aAAa,IAAIzD,YAAY,CAACoB,UAAU;IAC9D;EAAC;IAAAzG,GAAA;IAAA0I,GAAA,WAAAA,IAAA,EAGa;MAAA,IAAAM,qBAAA,GAC2B,IAAI,CAAC9D,KAAK,CAACC,cAAc;QAAxD8D,eAAe,GAAAD,qBAAA,CAAfC,eAAe;QAAEC,SAAS,GAAAF,qBAAA,CAATE,SAAS;MAClC,OAAOD,eAAe,IAAIC,SAAS;IACrC;EAAC;IAAAlJ,GAAA;IAAA0I,GAAA,WAAAA,IAAA,EAQsB;MACrB,OACE,IAAI,CAACxD,KAAK,CAACI,UAAU,CAACC,YAAY,IAClC,IAAI,CAACL,KAAK,CAACM,aAAa,CAACC,QAAQ,IACjC,IAAI,CAACP,KAAK,CAACQ,MAAM,CAACC,SAAS,IAC3B,CAAC,IAAI,CAACT,KAAK,CAACU,MAAM,CAACC,gBAAgB,CAACC,YAAY;IAEpD;EAAC;IAAA9F,GAAA;IAAA0I,GAAA,WAAAA,IAAA,EAKoB;MACnB,OAAO,CAAC,IAAI,CAACxD,KAAK,CAACU,MAAM,CAACC,gBAAgB,CAACC,YAAY;IACzD;EAAC;EAAA,OAAAlB,UAAA;AAAA,EAnEsBuE,kBAAY,IAAAjF,yBAAA,CAAAvF,OAAA,CAAAyC,SAAA,kBAAAhD,KAAA,GAAAY,MAAA,CAAAK,wBAAA,CAAAV,OAAA,CAAAyC,SAAA,kBAAAzC,OAAA,CAAAyC,SAAA,GAAA8C,yBAAA,CAAAvF,OAAA,CAAAyC,SAAA,wBAAA/C,KAAA,GAAAW,MAAA,CAAAK,wBAAA,CAAAV,OAAA,CAAAyC,SAAA,wBAAAzC,OAAA,CAAAyC,SAAA,GAAA8C,yBAAA,CAAAvF,OAAA,CAAAyC,SAAA,gBAAA9C,KAAA,GAAAU,MAAA,CAAAK,wBAAA,CAAAV,OAAA,CAAAyC,SAAA,gBAAAzC,OAAA,CAAAyC,SAAA,GAAA8C,yBAAA,CAAAvF,OAAA,CAAAyC,SAAA,cAAA7C,KAAA,GAAAS,MAAA,CAAAK,wBAAA,CAAAV,OAAA,CAAAyC,SAAA,cAAAzC,OAAA,CAAAyC,SAAA,GAAA8C,yBAAA,CAAAvF,OAAA,CAAAyC,SAAA,uBAAA5C,KAAA,GAAAQ,MAAA,CAAAK,wBAAA,CAAAV,OAAA,CAAAyC,SAAA,uBAAAzC,OAAA,CAAAyC,SAAA,GAAA8C,yBAAA,CAAAvF,OAAA,CAAAyC,SAAA,qBAAA3C,KAAA,GAAAO,MAAA,CAAAK,wBAAA,CAAAV,OAAA,CAAAyC,SAAA,qBAAAzC,OAAA,CAAAyC,SAAA,IAAAzC,OAAA,MAAAD,MAAA;AAAA0K,OAAA,CAAAxE,UAAA,GAAAA,UAAA"}