{"version":3,"file":"RingCentralExtensions.js","names":["_core","_interopRequireDefault","require","_debug","_rcsdk","_ws","_interopRequireWildcard","_core2","_isomorphicWs","_background","_debounceThrottle","_di","_proxify","_webSocketReadyStates","_dec","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","asyncGeneratorStep","c","done","Promise","resolve","then","_asyncToGenerator","_next","_throw","_initializerDefineProperty","l","initializer","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_initializerWarningHelper","Error","_applyDecoratedDescriptor","slice","reverse","reduce","RECOVER_DEBOUNCE_THRESHOLD","process","env","NODE_ENV","InactiveTabEventName","exports","SyncTokensTabEventName","RingCentralExtensions","Module","name","deps","dep","optional","_RcModuleV","_super","_this","enableCache","storageKey","_webSocketExtension","_removeWsListener","_wsConnectionReady","_debouncedOnTabActive","debounce","threshold","fn","_onTabActive","_syncWsReadyState","_this$_webSocketExten","readyState","ws","_setWebSocketReadyState","_onInitOnce","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","_setupInfra","_bindEvents","stop","onInitOnce","_onInitSuccess","_callee2","_callee2$","_context2","recoverWebSocketConnection","t0","console","log","concat","onInitSuccess","_setupInfra2","_callee4","_this$_deps$ringCentr2","_wsOptions$wscToken","_this$wscToken","_this2","_this$_deps$ringCentr","debugExtension","rcSdkExtension","wsOptions","_callee4$","_context4","CoreExtension","debugMode","DebugExtension","_deps","ringCentralExtensionsOptions","debugOptions","installExtension","RcSdkExtension","rcSdk","sdk","webSocketOptions","WebSocketExtension","wscToken","token","_useTokens","eventEmitter","addListener","Events","newWsc","_saveTokens","newWebSocketObject","_ref","_callee3","_ws$_onCreated","_callee3$","_context3","_onCreated","_exposeConnectionEvents","_x","connectionReady","auth","loggedIn","disconnectOnInactive","isTabActive","_installWebSocketExtension","_installWebSocketExtension2","_callee5","_callee5$","_context5","allowSwitchConnection","abrupt","error","_bindEvents2","_callee11","_this$_webSocketExten2","_this3","_this$_deps$sleepDete","_callee11$","_context11","options","autoRecover","enabled","autoRecoverSuccess","autoRecoverFailed","sleepDetector","on","_callee6","_callee6$","_context6","addAfterLoggedInHandler","_callee7","_callee7$","_context7","addBeforeLogoutHandler","_callee8","_callee8$","_context8","revokeWebSocketConnection","addRefreshErrorHandler","_ref5","_callee9","refreshTokenValid","_callee9$","_context9","_x2","_setSharedState","watch","isWebSocketReady","_ref6","_callee10","tabActive","_callee10$","_context10","cancel","_x3","allow","tabManager","event","_tabMessageHandler","_inactiveOtherTabs","availabilityMonitor","id","setSharedState","webSocketReady","_setWsAutoRecover","_this$_deps$ringCentr3","_this$_deps$ringCentr4","_this$_deps$ringCentr5","_onTabActive2","_callee12","_callee12$","_context12","ready","_setTokens","args","_inactiveOtherTabs2","_callee13","_this$_deps$tabManage","_callee13$","_context13","send","_syncTokensToOtherTabs2","_callee14","_this$_deps$tabManage2","_callee14$","_context14","wsToken","wsTokenExpiresAt","_syncTokensToOtherTabs","wsc","_clearTokens","_recoverWebSocketConnection","_callee15","_callee15$","_context15","rc","recover","enable","_revokeWebSocketConnection","_callee16","_callee16$","_context16","revoke","_this$_removeWsListen","_this4","addEventListener","removeEventListener","state","WebSocket","CONNECTING","webSocketReadyStates","connecting","OPEN","open","CLOSING","closing","CLOSED","closed","undefined","webSocketReadyState","_this$_deps$ringCentr6","_this$_deps$ringCentr7","active","_this$_deps$ringCentr8","_this$_deps$ringCentr9","client","service","_this$_deps$availabil","_this$_deps$availabil2","hasCallSession","hasWebSocketReady","RcModuleV2","background","action","storage","proxify"],"sources":["modules/RingCentralExtensions/RingCentralExtensions.ts"],"sourcesContent":["import CoreExtension from '@rc-ex/core';\nimport DebugExtension from '@rc-ex/debug';\nimport RcSdkExtension from '@rc-ex/rcsdk';\nimport WebSocketExtension, { Events } from '@rc-ex/ws';\nimport type { Wsc, WsToken } from '@rc-ex/ws/lib/types';\nimport {\n  action,\n  RcModuleV2,\n  state,\n  storage,\n  watch,\n} from '@ringcentral-integration/core';\nimport type { SDK } from '@ringcentral/sdk';\nimport WebSocket from 'isomorphic-ws';\n\nimport background from '../../lib/background';\nimport { debounce } from '../../lib/debounce-throttle';\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\nimport type { TabEvent } from '../TabManager';\n\nimport type { Deps } from './RingCentralExtensions.interface';\nimport type { WebSocketReadyState } from './webSocketReadyStates';\nimport { webSocketReadyStates } from './webSocketReadyStates';\n\nconst RECOVER_DEBOUNCE_THRESHOLD = process.env.NODE_ENV === 'test' ? 0 : 1000;\nexport const InactiveTabEventName = 'RingCentralExtensions-inactive';\nexport const SyncTokensTabEventName = 'RingCentralExtensions-syncTokens';\n\n@Module({\n  name: 'RingCentralExtensions',\n  deps: [\n    'Auth',\n    'Client',\n    'Storage',\n    { dep: 'TabManager', optional: true },\n    { dep: 'SleepDetector', optional: true },\n    { dep: 'AvailabilityMonitor', optional: true },\n    { dep: 'RingCentralExtensionsOptions', optional: true },\n  ],\n})\nexport class RingCentralExtensions extends RcModuleV2<Deps> {\n  // infra\n  private _core!: CoreExtension;\n  private _webSocketExtension!: WebSocketExtension;\n  // refs\n  private _removeWsListener?: () => void;\n  private _wsConnectionReady?: boolean;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'RingCentralExtensions',\n    });\n  }\n\n  override async onInitOnce() {\n    await this._setupInfra();\n    await this._bindEvents();\n  }\n\n  override async onInitSuccess() {\n    // to do: force recoverWebSocketConnection after user re-logins the CTI\n    try {\n      await this.recoverWebSocketConnection();\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      if (process.env.NODE_ENV !== 'test') {\n        console.log(`onInitSuccess error: ${e}`);\n      }\n    }\n  }\n\n  @background\n  private async _setupInfra() {\n    this._core = new CoreExtension();\n\n    // install DebugExtension\n    if (process.env.NODE_ENV !== 'production' && this.debugMode) {\n      const debugExtension = new DebugExtension(\n        this._deps.ringCentralExtensionsOptions?.debugOptions,\n      );\n      await this._core.installExtension(debugExtension);\n    }\n\n    // install RcSdkExtension\n    const rcSdkExtension = new RcSdkExtension({ rcSdk: this.sdk });\n    await this._core.installExtension(rcSdkExtension);\n\n    // install WebSocketExtension\n    const wsOptions = this._deps.ringCentralExtensionsOptions?.webSocketOptions;\n    this._webSocketExtension = new WebSocketExtension({\n      ...wsOptions,\n      wscToken: wsOptions?.wscToken ?? this.wscToken?.token,\n    });\n    this._useTokens();\n    this._webSocketExtension.eventEmitter.addListener(Events.newWsc, () => {\n      this._saveTokens();\n    });\n    // expose WebSocket events\n    this._webSocketExtension.eventEmitter.addListener(\n      Events.newWebSocketObject,\n      async (ws) => {\n        // TODO: should mock correct from @rc-ex/ws\n        // for mock WebSocket used\n        await ws._onCreated?.();\n        // expose events\n        this._exposeConnectionEvents();\n      },\n    );\n    this._webSocketExtension.eventEmitter.addListener(\n      Events.connectionReady,\n      () => {\n        this._wsConnectionReady = true;\n        this._syncWsReadyState();\n      },\n    );\n    if (\n      this._deps.auth.loggedIn &&\n      (!this.disconnectOnInactive || this.isTabActive)\n    ) {\n      await this._installWebSocketExtension();\n    }\n  }\n\n  private async _installWebSocketExtension() {\n    if (!this.allowSwitchConnection) {\n      return;\n    }\n    try {\n      if (process.env.NODE_ENV !== 'test') {\n        console.log('[RingCentralExtensions] > WebSocketExtension > install');\n      }\n      await this._core.installExtension(this._webSocketExtension);\n    } catch (ex) {\n      // It tries to establish connection on install.\n      // Catch the connection issue and ignore.\n      if (process.env.NODE_ENV !== 'test') {\n        console.error(\n          '[RingCentralExtensions] > WebSocketExtension > install failed',\n          ex,\n        );\n      }\n    }\n  }\n\n  @background\n  private async _bindEvents() {\n    if (this._webSocketExtension.options.autoRecover?.enabled) {\n      this._webSocketExtension.eventEmitter.addListener(\n        Events.autoRecoverSuccess,\n        () => {\n          this._exposeConnectionEvents();\n        },\n      );\n      this._webSocketExtension.eventEmitter.addListener(\n        Events.autoRecoverFailed,\n        () => {\n          this._exposeConnectionEvents();\n        },\n      );\n    }\n\n    // register SleepDetector\n    this._deps.sleepDetector?.on('detected', async () => {\n      await this.recoverWebSocketConnection();\n    });\n\n    // hook auth events\n    this._deps.auth.addAfterLoggedInHandler(async () => {\n      await this.recoverWebSocketConnection();\n    });\n    this._deps.auth.addBeforeLogoutHandler(async () => {\n      await this.revokeWebSocketConnection();\n    });\n    this._deps.auth.addRefreshErrorHandler(async (refreshTokenValid) => {\n      if (!refreshTokenValid) {\n        await this.revokeWebSocketConnection();\n      }\n    });\n\n    // multiple tabs support\n    if (this.disconnectOnInactive) {\n      this._setSharedState();\n      watch(\n        this,\n        () => this.isWebSocketReady,\n        () => {\n          this._setSharedState();\n        },\n      );\n      watch(\n        this,\n        () => this.isTabActive,\n        async (tabActive) => {\n          if (tabActive) {\n            if (process.env.NODE_ENV !== 'test') {\n              console.log('[RingCentralExtensions] > tab > active');\n            }\n            await this._debouncedOnTabActive();\n          } else {\n            if (process.env.NODE_ENV !== 'test') {\n              console.log('[RingCentralExtensions] > tab > inactive');\n            }\n            this._debouncedOnTabActive.cancel();\n          }\n        },\n      );\n      watch(\n        this,\n        () => this.allowSwitchConnection,\n        (allow) => {\n          if (allow && this.isTabActive) {\n            this._onTabActive();\n          }\n        },\n      );\n      watch(\n        this,\n        () => this._deps.tabManager!.event,\n        (event) => {\n          this._tabMessageHandler(event);\n        },\n      );\n      if (this.isTabActive) {\n        // as an active tab, inactive other tabs\n        await this._inactiveOtherTabs();\n      }\n    }\n  }\n\n  private _setSharedState() {\n    if (this._deps.availabilityMonitor && this._deps.tabManager) {\n      const key = `ws-${this._deps.tabManager.id}`;\n      this._deps.availabilityMonitor.setSharedState(key, {\n        webSocketReady: this.isWebSocketReady,\n      });\n    }\n  }\n\n  private _setWsAutoRecover(enabled: boolean) {\n    // when auto recover is NOT configured as disabled (it is enabled by default)\n    if (\n      this._webSocketExtension &&\n      this._deps.ringCentralExtensionsOptions?.webSocketOptions?.autoRecover\n        ?.enabled !== false\n    ) {\n      // enable/disable ws auto recover\n      this._webSocketExtension.options.autoRecover!.enabled = enabled;\n    }\n  }\n\n  private _debouncedOnTabActive = debounce({\n    threshold: RECOVER_DEBOUNCE_THRESHOLD,\n    fn: this._onTabActive,\n  });\n\n  private async _onTabActive() {\n    // check if still active after sleep\n    if (!this.ready || !this.isTabActive) {\n      return;\n    }\n    // as an active tab, inactive other tabs\n    await this._inactiveOtherTabs();\n    // recover WebSocket for current tab and other tabs will being disconnected automatically\n    await this.recoverWebSocketConnection();\n  }\n\n  private _tabMessageHandler(event: TabEvent) {\n    if (!this.ready || !event) {\n      return;\n    }\n    if (event.name === InactiveTabEventName) {\n      // as an inactive tab, disable auto recover\n      this._setWsAutoRecover(false);\n    } else if (event.name === SyncTokensTabEventName) {\n      // as an inactive tab, sync and use with tokens that are received from active tab\n      this._setTokens(event.args![0], event.args![1], event.args![2]);\n      this._useTokens();\n    }\n  }\n\n  private async _inactiveOtherTabs() {\n    if (!this.allowSwitchConnection) {\n      return;\n    }\n    // inactive other tabs, for stopping WebSocket auto recover\n    await this._deps.tabManager?.send(InactiveTabEventName);\n    // when auto recover of active tab is NOT configured as disabled\n    this._setWsAutoRecover(true);\n  }\n\n  private async _syncTokensToOtherTabs() {\n    // sync required tokens to other tabsï¼Œ so that other tabs can recover connection with latest tokens as needed\n    // although tokens that are in storage are already synced, still we pass tokens manually for sync in time\n    await this._deps.tabManager?.send(\n      SyncTokensTabEventName,\n      this.wsToken,\n      this.wsTokenExpiresAt,\n      this.wscToken,\n    );\n  }\n\n  private _useTokens() {\n    this._webSocketExtension.wsToken = this.wsToken as WsToken;\n    this._webSocketExtension.wsTokenExpiresAt = this.wsTokenExpiresAt;\n    this._webSocketExtension.wsc = this.wscToken as Wsc;\n  }\n\n  private _saveTokens() {\n    this._setTokens(\n      this._webSocketExtension.wsToken,\n      this._webSocketExtension.wsTokenExpiresAt,\n      this._webSocketExtension.wsc,\n    );\n    if (this.disconnectOnInactive) {\n      this._syncTokensToOtherTabs();\n    }\n  }\n\n  private _clearTokens() {\n    this._setTokens(null, 0, null);\n    if (this.disconnectOnInactive) {\n      this._syncTokensToOtherTabs();\n    }\n  }\n\n  @action\n  private _setTokens(\n    wsToken?: WsToken | null,\n    wsTokenExpiresAt?: number,\n    wscToken?: Wsc | null,\n  ) {\n    this.wsToken = wsToken ?? null;\n    this.wsTokenExpiresAt = wsTokenExpiresAt ?? 0;\n    this.wscToken = wscToken ?? null;\n  }\n\n  @storage\n  @state\n  wsToken?: WsToken | null = null;\n\n  @storage\n  @state\n  wsTokenExpiresAt = 0;\n\n  @storage\n  @state\n  wscToken?: Wsc | null = null;\n\n  @proxify\n  async recoverWebSocketConnection() {\n    if (!this.ready) {\n      return;\n    }\n    if (!this._deps.auth.loggedIn) {\n      return;\n    }\n    if (this.disconnectOnInactive && !this.isTabActive) {\n      return;\n    }\n    if (!this.allowSwitchConnection) {\n      return;\n    }\n    // detect if not yet installed\n    if (!this._webSocketExtension.rc) {\n      // install and establish connection\n      await this._installWebSocketExtension();\n    } else {\n      // recover directly\n      await this._webSocketExtension.recover();\n      this._webSocketExtension.enable();\n    }\n    this._exposeConnectionEvents();\n  }\n\n  @proxify\n  async revokeWebSocketConnection() {\n    if (!this.ready) {\n      return;\n    }\n    if (this.disconnectOnInactive && !this.isTabActive) {\n      return;\n    }\n    await this._webSocketExtension.revoke(true);\n    this._exposeConnectionEvents();\n    this._clearTokens();\n  }\n\n  private _exposeConnectionEvents() {\n    this._removeWsListener?.();\n\n    const { ws } = this._webSocketExtension;\n\n    if (ws) {\n      ws.addEventListener('close', this._syncWsReadyState);\n      ws.addEventListener('open', this._syncWsReadyState);\n      ws.addEventListener('error', this._syncWsReadyState);\n\n      this._removeWsListener = () => {\n        ws.removeEventListener('close', this._syncWsReadyState);\n        ws.removeEventListener('open', this._syncWsReadyState);\n        ws.removeEventListener('error', this._syncWsReadyState);\n      };\n    }\n\n    this._syncWsReadyState();\n  }\n\n  private _syncWsReadyState = () => {\n    const readyState = this._webSocketExtension.ws?.readyState;\n    this._setWebSocketReadyState(readyState);\n  };\n\n  @action\n  private _setWebSocketReadyState(\n    readyState: WebSocketExtension['ws']['readyState'],\n  ) {\n    let state: WebSocketReadyState | null;\n    switch (readyState) {\n      case WebSocket.CONNECTING: {\n        state = webSocketReadyStates.connecting;\n        break;\n      }\n      case WebSocket.OPEN: {\n        if (this._wsConnectionReady) {\n          state = webSocketReadyStates.ready;\n        } else {\n          state = webSocketReadyStates.open;\n        }\n        break;\n      }\n      case WebSocket.CLOSING: {\n        state = webSocketReadyStates.closing;\n        break;\n      }\n      case WebSocket.CLOSED: {\n        state = webSocketReadyStates.closed;\n        this._wsConnectionReady = false;\n        break;\n      }\n      default: {\n        state = null;\n        this._wsConnectionReady = undefined;\n        break;\n      }\n    }\n    if (process.env.NODE_ENV !== 'test' && this.webSocketReadyState !== state) {\n      console.log(\n        `[RingCentralExtensions] > webSocketReadyState > ${this.webSocketReadyState} -> ${state}`,\n      );\n    }\n    this.webSocketReadyState = state;\n  }\n\n  @state\n  webSocketReadyState?: WebSocketReadyState | null = null;\n\n  get isWebSocketReady() {\n    return this.webSocketReadyState === webSocketReadyStates.ready;\n  }\n\n  get debugMode(): boolean {\n    return this._deps.ringCentralExtensionsOptions?.debugMode ?? false;\n  }\n\n  get isTabActive(): boolean {\n    return !!(\n      this._deps.tabManager &&\n      this._deps.tabManager.ready &&\n      this._deps.tabManager.active\n    );\n  }\n\n  get disconnectOnInactive(): boolean {\n    return (\n      this._deps.ringCentralExtensionsOptions?.disconnectOnInactive ?? false\n    );\n  }\n\n  get sdk(): SDK {\n    return this._deps.client.service;\n  }\n\n  get core(): CoreExtension {\n    return this._core;\n  }\n\n  get webSocketExtension(): WebSocketExtension {\n    return this._webSocketExtension;\n  }\n\n  get allowSwitchConnection() {\n    if (\n      this._deps.availabilityMonitor?.hasCallSession &&\n      this._deps.availabilityMonitor?.hasWebSocketReady\n    ) {\n      return false;\n    }\n    return true;\n  }\n}\n"],"mappings":"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","ignoreList":[]}