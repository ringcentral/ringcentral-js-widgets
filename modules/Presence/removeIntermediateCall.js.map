{"version":3,"file":"removeIntermediateCall.js","names":["_ramda","require","_callLogHelpers","removeIntermediateCall","reduce","result","activeCall","isIntermediateCall","find","item","sessionId","direction","push","exports"],"sources":["modules/Presence/removeIntermediateCall.ts"],"sourcesContent":["import { find, reduce } from 'ramda';\nimport type GetPresenceInfo from '@rc-ex/core/lib/definitions/GetPresenceInfo';\n\nimport { isIntermediateCall } from '../../lib/callLogHelpers';\n\nexport const removeIntermediateCall = reduce(\n  (result, activeCall: GetPresenceInfo['activeCalls']): any => {\n    if (\n      // @ts-expect-error\n      !isIntermediateCall(activeCall) &&\n      !find(\n        (item) =>\n          // @ts-expect-error\n          item.sessionId === activeCall.sessionId &&\n          // @ts-expect-error\n          item.direction === activeCall.direction,\n        // @ts-expect-error\n        result,\n      )\n    ) {\n      // @ts-expect-error\n      result.push(activeCall);\n    }\n    return result;\n  },\n);\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,OAAA;AAGA,IAAAC,eAAA,GAAAD,OAAA;AAEO,IAAME,sBAAsB,GAAG,IAAAC,aAAM,EAC1C,UAACC,MAAM,EAAEC,UAA0C,EAAU;EAC3D;EACE;EACA,CAAC,IAAAC,kCAAkB,EAACD,UAAU,CAAC,IAC/B,CAAC,IAAAE,WAAI,EACH,UAACC,IAAI;IAAA;MACH;MACAA,IAAI,CAACC,SAAS,KAAKJ,UAAU,CAACI,SAAS;MACvC;MACAD,IAAI,CAACE,SAAS,KAAKL,UAAU,CAACK;IAAS;EAAA;EACzC;EACAN,MACF,CAAC,EACD;IACA;IACAA,MAAM,CAACO,IAAI,CAACN,UAAU,CAAC;EACzB;EACA,OAAOD,MAAM;AACf,CACF,CAAC;AAACQ,OAAA,CAAAV,sBAAA,GAAAA,sBAAA"}