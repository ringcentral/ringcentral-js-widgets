{"version":3,"file":"Presence.js","names":["_core","require","_ramda","_presenceStatus","_subscriptionFilters","_callLogHelpers","_debounceThrottle","_di","_proxify","_DataFetcherV","_dndStatus","_removeIntermediateCall","_dec","_dec2","_dec3","_dec4","_class","_class2","_descriptor","_regenerator","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","DEFAULT_TTL","exports","DEFAULT_POLLING_INTERVAL","DEFAULT_FETCH_DELAY","DEFAULT_MAX_FETCH_DELAY","presenceRegExp","detailedPresenceRegExp","acceptCallQueueToggles","dndStatus","takeAllCalls","doNotAcceptDepartmentCalls","Presence","Module","name","deps","dep","optional","computed","_ref","data","_ref2","activeCalls","_ref3","calls","_DataFetcherV2Consume","_deps$presenceOptions","_this","enableCache","storageKey","_debouncedFetchData","_stopWatchingConnectivity","_stopWatchingSubscription","presenceOptions","_presenceOptions$ttl","ttl","_presenceOptions$poll","pollingInterval","_source","DataSource","cleanOnReset","fetchFunction","_fetchFunction","_callee","response","_data$dndStatus","_data$meetingStatus","meetingStatus","_data$presenceStatus","presenceStatus","_data$telephonyStatus","telephonyStatus","_data$userStatus","userStatus","_context","_deps","client","service","platform","get","_endPoint","json","_processRawActiveCalls","totalActiveCalls","Date","now","sequence","_sequence","readyCheckFunction","auth","ready","loggedIn","subscription","extensionFeatures","connectivityMonitor","dataFetcherV2","permissionCheckFunction","_checkPermission","register","debounce","fn","fetchData","threshold","_fetchDelay","maxThreshold","_maxFetchDelay","filters","_setLastDndStatus","lastDndStatus","_detailed","subscriptionFilters","detailedPresence","presence","_this$_deps$presenceO","_this$_deps$presenceO2","detailed","_this$_deps$presenceO3","_this$_deps$presenceO4","Math","max","fetchDelay","_this$_deps$presenceO5","_this$_deps$presenceO6","maxFetchDelay","_this$_deps$extension","_this$_deps$extension2","_this$_deps$extension3","features","ReadPresenceStatus","available","_this2","undefined","timestamp","map","activeCall","existingCall","find","sessionId","normalizedCall","normalizeStartTime","normalizeFromTo","startTime","offset","min","removeIntermediateCall","_handleSubscription","message","_this$_deps$tabManage","_this$_deps$tabManage2","regExp","disableCache","tabManager","active","event","test","body","_message$body$activeC","_message$body$activeC2","_message$body$totalAc","_message$body","_message$body$sequenc","_message$body$dndStat","_message$body$meeting","_message$body$presenc","_message$body$telepho","_message$body$userSta","_calculateLastDndStatus","_updateData","activeCallsLength","onInit","_this3","watch","connectivity","_handleConnectivity","_this$_deps$tabManage3","_this$_deps$tabManage4","onReset","_this$_stopWatchingCo","_this$_stopWatchingSu","cancel","_this$data$sequence","_this$data","_this$data$activeCall","_this$data2","isEnded","removeInboundRingOutLegs","newDndStatus","doNotAcceptAnyCalls","_update2","_callee2","params","_this$_deps$extension4","_this$_deps$extension5","ownerId","_ref4","_t","_context2","EditPresenceStatus","put","console","error","_update","_x","_updateData2","_callee3","_args3","_context3","updateData","_x2","_getUpdateStatusParams","_this$lastDndStatus","_setAvailable","_callee4","_context4","setAvailable","_setBusy","_callee5","_context5","busy","setBusy","_setDoNotDisturb","_callee6","_context6","setDoNotDisturb","_setInvisible","_callee7","_context7","offline","setInvisible","_setPresence","_callee8","presenceData","_t2","_context8","setPresence","_x3","_toggleAcceptCallQueueCalls","_callee9","_this4","index","_context9","findIndex","queueStatus","toggleAcceptCallQueueCalls","_this$data3","_this$data4","_this$data5","_this$data6","_this$data7","_fetchData","_callee0","_context0","DataFetcherV2Consumer","storage","state","action","proxify"],"sources":["modules/Presence/Presence.ts"],"sourcesContent":["import type DetailedExtensionPresenceEvent from '@rc-ex/core/lib/definitions/DetailedExtensionPresenceEvent';\nimport type GetPresenceInfo from '@rc-ex/core/lib/definitions/GetPresenceInfo';\nimport type PresenceInfoResponse from '@rc-ex/core/lib/definitions/PresenceInfoResponse';\nimport {\n  computed,\n  state,\n  action,\n  watch,\n  storage,\n} from '@ringcentral-integration/core';\nimport type { ObjectMapValue } from '@ringcentral-integration/core/lib/ObjectMap';\nimport { filter, map } from 'ramda';\nimport type { Unsubscribe } from 'redux';\n\nimport { presenceStatus } from '../../enums/presenceStatus.enum';\nimport { subscriptionFilters } from '../../enums/subscriptionFilters';\nimport type { PresenceInfoModel } from '../../interfaces/Presence.model';\nimport {\n  isEnded,\n  normalizeFromTo,\n  normalizeStartTime,\n  removeInboundRingOutLegs,\n} from '../../lib/callLogHelpers';\nimport type { DebouncedFunction } from '../../lib/debounce-throttle';\nimport { debounce } from '../../lib/debounce-throttle';\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\nimport { DataFetcherV2Consumer, DataSource } from '../DataFetcherV2';\n\nimport type { Deps, UpdatePresenceParams } from './Presence.interface';\nimport { dndStatus } from './dndStatus';\nimport { removeIntermediateCall } from './removeIntermediateCall';\n\nexport const DEFAULT_TTL = 62 * 1000;\nexport const DEFAULT_POLLING_INTERVAL = 3 * 60 * 1000;\nexport const DEFAULT_FETCH_DELAY = 2 * 1000;\nexport const DEFAULT_MAX_FETCH_DELAY = 4 * 1000;\n\nexport const presenceRegExp = /.*\\/presence(\\?.*)?/;\nexport const detailedPresenceRegExp =\n  /.*\\/presence\\?detailedTelephonyState=true&sipData=true/;\n\nconst acceptCallQueueToggles = [\n  dndStatus.takeAllCalls,\n  dndStatus.doNotAcceptDepartmentCalls,\n];\n\n@Module({\n  name: 'Presence',\n  deps: [\n    'Auth',\n    'Client',\n    'ConnectivityMonitor',\n    'DataFetcherV2',\n    'ExtensionFeatures',\n    'Subscription',\n    'Storage',\n    { dep: 'TabManager', optional: true },\n    { dep: 'PresenceOptions', optional: true },\n  ],\n})\nexport class Presence extends DataFetcherV2Consumer<Deps, PresenceInfoModel> {\n  protected _debouncedFetchData: DebouncedFunction<Presence['fetchData']>;\n\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Unsubscribe... Remove this comment to see the full error message\n  protected _stopWatchingConnectivity: Unsubscribe = null;\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Unsubscribe... Remove this comment to see the full error message\n  protected _stopWatchingSubscription: Unsubscribe = null;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'Presence',\n    });\n    const presenceOptions = deps.presenceOptions ?? {};\n    const { ttl = DEFAULT_TTL, pollingInterval = DEFAULT_POLLING_INTERVAL } =\n      presenceOptions;\n    this._source = new DataSource({\n      ...presenceOptions,\n      key: 'presence',\n      cleanOnReset: true,\n      ttl,\n      pollingInterval,\n      fetchFunction: async (): Promise<PresenceInfoModel> => {\n        const response = await this._deps.client.service\n          .platform()\n          .get(this._endPoint);\n        const data = await response.json();\n        const {\n          dndStatus = this.dndStatus,\n          meetingStatus = this.meetingStatus,\n          presenceStatus = this.presenceStatus,\n          telephonyStatus = this.telephonyStatus,\n          userStatus = this.userStatus,\n        } = data;\n        const activeCalls = this._processRawActiveCalls(\n          data.activeCalls,\n          data.totalActiveCalls,\n          Date.now(),\n        );\n        return {\n          sequence: this._sequence,\n          // @ts-expect-error TS(2322): Type 'unknown[]' is not assignable to type 'Active... Remove this comment to see the full error message\n          activeCalls,\n          dndStatus,\n          meetingStatus,\n          presenceStatus,\n          telephonyStatus,\n          userStatus,\n        };\n      },\n      readyCheckFunction: () =>\n        this._deps.auth.ready &&\n        this._deps.auth.loggedIn &&\n        this._deps.subscription.ready &&\n        this._deps.extensionFeatures.ready &&\n        this._deps.connectivityMonitor.ready &&\n        this._deps.dataFetcherV2.ready,\n      permissionCheckFunction: () => this._checkPermission(),\n    });\n    this._deps.dataFetcherV2.register(this._source);\n    this._debouncedFetchData = debounce({\n      fn: this.fetchData,\n      threshold: this._fetchDelay,\n      maxThreshold: this._maxFetchDelay,\n    });\n\n    this._deps.subscription.register(this, {\n      filters: [this._endPoint],\n    });\n  }\n\n  @storage\n  @state\n  lastDndStatus: PresenceInfoModel['dndStatus'] | null = null;\n\n  @action\n  _setLastDndStatus(dndStatus: PresenceInfoModel['dndStatus'] | null) {\n    this.lastDndStatus = dndStatus;\n  }\n\n  get _endPoint() {\n    return this._detailed\n      ? subscriptionFilters.detailedPresence\n      : subscriptionFilters.presence;\n  }\n\n  get _detailed() {\n    return !!(this._deps.presenceOptions?.detailed ?? true);\n  }\n\n  get _fetchDelay() {\n    return Math.max(\n      0,\n      this._deps.presenceOptions?.fetchDelay ?? DEFAULT_FETCH_DELAY,\n    );\n  }\n\n  get _maxFetchDelay() {\n    return Math.max(\n      this._fetchDelay,\n      this._deps.presenceOptions?.maxFetchDelay ?? DEFAULT_MAX_FETCH_DELAY,\n    );\n  }\n\n  protected _checkPermission() {\n    return (\n      this._deps.extensionFeatures.features?.ReadPresenceStatus?.available ??\n      false\n    );\n  }\n\n  _processRawActiveCalls(\n    activeCalls: GetPresenceInfo['activeCalls'] = [],\n    totalActiveCalls = 0,\n    timestamp: number,\n  ) {\n    if (activeCalls.length < totalActiveCalls) {\n      return this.activeCalls;\n    }\n    // @ts-expect-error TS(2769): No overload matches this call.\n    return map((activeCall) => {\n      const existingCall = this.activeCalls.find(\n        // @ts-expect-error TS(2339): Property 'sessionId' does not exist on type 'never... Remove this comment to see the full error message\n        (call) => call.sessionId === activeCall.sessionId,\n      );\n      if (!existingCall) {\n        const normalizedCall = normalizeStartTime(normalizeFromTo(activeCall));\n        const startTime = Number(normalizedCall.startTime || timestamp);\n        const offset = Math.min(timestamp - startTime, 0);\n        return {\n          ...normalizedCall,\n          startTime,\n          offset,\n        };\n      }\n      return {\n        ...existingCall,\n        ...normalizeStartTime(normalizeFromTo(activeCall)),\n      };\n      // @ts-expect-error TS(2345): Argument of type 'ActiveCallInfo[]' is not assigna... Remove this comment to see the full error message\n    }, removeIntermediateCall([], activeCalls));\n  }\n\n  protected _handleSubscription(message?: DetailedExtensionPresenceEvent) {\n    const regExp = this._detailed ? detailedPresenceRegExp : presenceRegExp;\n    if (\n      this.ready &&\n      (this._source.disableCache || (this._deps.tabManager?.active ?? true)) &&\n      message?.event &&\n      regExp.test(message.event) &&\n      message.body\n    ) {\n      if (message.body.sequence && message.body.sequence < this._sequence) {\n        return;\n      }\n      const timestamp = Date.now();\n      const {\n        sequence = this._sequence,\n        dndStatus = this.dndStatus,\n        meetingStatus = this.meetingStatus,\n        presenceStatus = this.presenceStatus,\n        telephonyStatus = this.telephonyStatus,\n        userStatus = this.userStatus,\n      } = message.body;\n      this._setLastDndStatus(this._calculateLastDndStatus(dndStatus));\n      const activeCalls = this._processRawActiveCalls(\n        message.body.activeCalls,\n        message.body.totalActiveCalls,\n        timestamp,\n      );\n      this._updateData(\n        {\n          sequence,\n          // @ts-expect-error TS(2322): Type 'unknown[]' is not assignable to type 'Active... Remove this comment to see the full error message\n          activeCalls,\n          dndStatus,\n          meetingStatus,\n          presenceStatus,\n          telephonyStatus,\n          userStatus,\n        },\n        timestamp,\n      );\n      /**\n       * as pointed out by Igor in https://jira_domain/browse/PLA-33391,\n       * when the real calls count larger than the active calls returned by the pubnub,\n       * we need to pulling the calls manually.\n       */\n      const activeCallsLength = message.body.activeCalls?.length ?? 0;\n      const totalActiveCalls = message.body.totalActiveCalls ?? 0;\n      if (this._detailed && activeCallsLength < totalActiveCalls) {\n        this._debouncedFetchData();\n      }\n    }\n  }\n\n  override onInit() {\n    this._stopWatchingConnectivity = watch(\n      this,\n      () => this._deps.connectivityMonitor.connectivity,\n      (connectivity) => this._handleConnectivity(connectivity),\n    );\n    this._stopWatchingSubscription = watch(\n      this,\n      () =>\n        this._deps.subscription.message as\n          | DetailedExtensionPresenceEvent\n          | undefined,\n      (message) => this._handleSubscription(message),\n    );\n  }\n\n  protected _handleConnectivity(connectivity: boolean) {\n    if (\n      this.ready &&\n      (this._source.disableCache || (this._deps.tabManager?.active ?? true)) &&\n      connectivity &&\n      this._checkPermission()\n    ) {\n      this.fetchData();\n    }\n  }\n\n  override onReset() {\n    this._stopWatchingConnectivity?.();\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Unsubscribe... Remove this comment to see the full error message\n    this._stopWatchingConnectivity = null;\n    this._stopWatchingSubscription?.();\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Unsubscribe... Remove this comment to see the full error message\n    this._stopWatchingSubscription = null;\n    this._debouncedFetchData.cancel();\n  }\n\n  get _sequence() {\n    return this.data?.sequence ?? 0;\n  }\n\n  @computed(({ data }: Presence) => [data])\n  get activeCalls() {\n    return this.data?.activeCalls ?? [];\n  }\n\n  @computed(({ activeCalls }: Presence) => [activeCalls])\n  get calls() {\n    return filter(\n      (call) => !isEnded(call),\n      removeInboundRingOutLegs(this.activeCalls),\n    );\n  }\n\n  _calculateLastDndStatus(\n    newDndStatus: PresenceInfoModel['dndStatus'] | null,\n  ): PresenceInfoModel['dndStatus'] | null {\n    return newDndStatus !== this.dndStatus &&\n      newDndStatus !== dndStatus.doNotAcceptAnyCalls\n      ? newDndStatus\n      : this.lastDndStatus;\n  }\n\n  @proxify\n  async _update(params: UpdatePresenceParams) {\n    try {\n      if (\n        !this._deps.extensionFeatures.features?.EditPresenceStatus?.available\n      ) {\n        return;\n      }\n      const ownerId = this._deps.auth.ownerId;\n      const response = await this._deps.client.service\n        .platform()\n        .put('/restapi/v1.0/account/~/extension/~/presence', params);\n      const data: PresenceInfoResponse = await response?.json();\n\n      if (ownerId === this._deps.auth.ownerId) {\n        const newDndStatus = ((data.dndStatus !== 'Unknown' &&\n          data.dndStatus) ??\n          this.data.dndStatus) as ObjectMapValue<typeof dndStatus>;\n        this._setLastDndStatus(this._calculateLastDndStatus(newDndStatus));\n        this._updateData({\n          presenceStatus: data.presenceStatus,\n          userStatus: data.userStatus,\n          telephonyStatus: data.telephonyStatus,\n          dndStatus: newDndStatus,\n          meetingStatus: data.meetingStatus,\n        });\n      }\n    } catch (e) {\n      console.error('put presence failed', e);\n    }\n  }\n\n  @proxify\n  async _updateData(data: PresenceInfoModel, timestamp = Date.now()) {\n    this._deps.dataFetcherV2.updateData(\n      this._source,\n      {\n        ...this.data,\n        ...data,\n      },\n      timestamp,\n    );\n  }\n\n  _getUpdateStatusParams(userStatus: GetPresenceInfo['userStatus']) {\n    const params: UpdatePresenceParams = {\n      dndStatus: this.dndStatus,\n      userStatus,\n    };\n    if (\n      params.dndStatus !== dndStatus.takeAllCalls &&\n      params.dndStatus !== dndStatus.doNotAcceptDepartmentCalls\n    ) {\n      params.dndStatus = this.lastDndStatus ?? dndStatus.takeAllCalls;\n    }\n    return params;\n  }\n\n  async setAvailable() {\n    if (\n      this.userStatus === presenceStatus.available &&\n      this.dndStatus !== dndStatus.doNotAcceptAnyCalls\n    ) {\n      return;\n    }\n    const params = this._getUpdateStatusParams(presenceStatus.available);\n    await this._update(params);\n  }\n\n  async setBusy() {\n    if (\n      this.userStatus === presenceStatus.busy &&\n      this.dndStatus !== dndStatus.doNotAcceptAnyCalls\n    ) {\n      return;\n    }\n    const params = this._getUpdateStatusParams(presenceStatus.busy);\n    await this._update(params);\n  }\n\n  async setDoNotDisturb() {\n    if (this.dndStatus === dndStatus.doNotAcceptAnyCalls) {\n      return;\n    }\n    const params = {\n      dndStatus: dndStatus.doNotAcceptAnyCalls,\n    };\n    await this._update(params);\n  }\n\n  async setInvisible() {\n    if (\n      this.userStatus === presenceStatus.offline &&\n      this.dndStatus !== dndStatus.doNotAcceptAnyCalls\n    ) {\n      return;\n    }\n    const params = this._getUpdateStatusParams(presenceStatus.offline);\n    await this._update(params);\n  }\n\n  async setPresence(\n    presenceData:\n      | ObjectMapValue<typeof presenceStatus>\n      | ObjectMapValue<typeof dndStatus>,\n  ) {\n    switch (presenceData) {\n      case presenceStatus.available:\n        await this.setAvailable();\n        break;\n      case presenceStatus.busy:\n        await this.setBusy();\n        break;\n      case dndStatus.doNotAcceptAnyCalls:\n        await this.setDoNotDisturb();\n        break;\n      case presenceStatus.offline:\n        await this.setInvisible();\n        break;\n      default:\n        await this.setAvailable();\n        break;\n    }\n  }\n\n  async toggleAcceptCallQueueCalls() {\n    const index = acceptCallQueueToggles.findIndex(\n      (queueStatus) => this.dndStatus === queueStatus,\n    );\n\n    if (index > -1) {\n      return this._update({ dndStatus: acceptCallQueueToggles[+!index] });\n    }\n  }\n\n  @computed(({ calls }: Presence) => [calls])\n  get sessionIdList() {\n    return map((call) => call.sessionId, this.calls);\n  }\n\n  get telephonyStatus() {\n    return this.data?.telephonyStatus;\n  }\n\n  get dndStatus() {\n    return this.data?.dndStatus;\n  }\n\n  get userStatus() {\n    // for displaying the presence, we should use presenceStatus instead\n    return this.data?.presenceStatus;\n  }\n\n  get presenceStatus() {\n    return this.data?.presenceStatus;\n  }\n\n  get meetingStatus() {\n    return this.data?.meetingStatus;\n  }\n\n  get presenceOption() {\n    // doNotDisturb\n    if (this.dndStatus === dndStatus.doNotAcceptAnyCalls) {\n      return dndStatus.doNotAcceptAnyCalls;\n    }\n\n    // busy\n    if (this.userStatus === presenceStatus.busy) {\n      return presenceStatus.busy;\n    }\n\n    // invisible\n    if (this.userStatus === presenceStatus.offline) {\n      return presenceStatus.offline;\n    }\n\n    // available\n    return presenceStatus.available;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  async fetchData() {\n    this._debouncedFetchData.cancel();\n    return this._deps.dataFetcherV2.fetchData(this._source);\n  }\n}\n"],"mappings":"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","ignoreList":[]}