{"version":3,"file":"ErrorLogger.js","names":["_core","require","Sentry","_interopRequireWildcard","_tracing","_di","_dec","_class","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_classCallCheck","a","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","Symbol","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","_inherits","create","_setPrototypeOf","DEFAULT_INTERCEPTED_BRANDS","ErrorLogger","exports","Module","name","deps","dep","optional","_RcModuleV","_this","_sentryInitialized","intercepted","errorLoggerOptions","_bootstrap","Promise","resolve","then","_deps","accountInfo","watch","_this$_deps$accountIn","userBrandId","interceptedBrands","includes","toggle","options","appVersion","appRelease","environment","sentryConfig","endpoint","_init","dsn","sampleRate","release","integrations","BrowserTracing","appName","brandConfig","appBrand","code","setTags","_this2","init","ignoreErrors","beforeSend","event","onInitOnce","_this3","auth","_this3$_deps$auth","loggedIn","_this3$_deps$auth2","setUser","id","ownerId","_this$_deps$errorLogg","_this$_deps$errorLogg2","_ref","user","configureScope","scope","tags","log","message","level","eventId","captureMessage","logError","error","captureException","test","undefined","testError","setTimeout","Error","RcModuleV2"],"sources":["modules/ErrorLogger/ErrorLogger.ts"],"sourcesContent":["import { RcModuleV2, watch } from '@ringcentral-integration/core';\nimport * as Sentry from '@sentry/browser';\nimport { BrowserTracing } from '@sentry/tracing';\nimport type { SeverityLevel, User } from '@sentry/types';\n\nimport { Module } from '../../lib/di';\n\nimport type { Deps, ErrorLoggerOptions } from './ErrorLogger.interface';\n\nconst DEFAULT_INTERCEPTED_BRANDS = ['3000.Brightspeed'];\n\n@Module({\n  name: 'ErrorLogger',\n  deps: [\n    'BrandConfig',\n    { dep: 'Auth', optional: true },\n    { dep: 'AccountInfo', optional: true },\n    { dep: 'ErrorLoggerOptions', optional: true },\n  ],\n})\nexport class ErrorLogger extends RcModuleV2<Deps> {\n  private _sentryInitialized = false;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n\n    if (deps.errorLoggerOptions) {\n      this._bootstrap(deps.errorLoggerOptions);\n      Promise.resolve().then(() => {\n        if (this._sentryInitialized && this._deps.accountInfo) {\n          watch(\n            this,\n            () => this._deps.accountInfo?.userBrandId,\n            (userBrandId) => {\n              if (userBrandId && this.interceptedBrands.includes(userBrandId)) {\n                this.toggle({ intercepted: true });\n              } else {\n                this.toggle({ intercepted: false });\n              }\n            },\n          );\n        }\n      });\n    }\n  }\n\n  private _bootstrap(options: ErrorLoggerOptions) {\n    const { appVersion, appRelease, environment, sentryConfig } = options;\n    if (sentryConfig?.endpoint) {\n      // init client\n      this._init({\n        dsn: sentryConfig.endpoint,\n        sampleRate: sentryConfig.sampleRate,\n        environment,\n        release: appRelease ?? appVersion,\n        integrations: [new BrowserTracing()],\n      });\n      // set tags\n      const appName = this._deps.brandConfig.appName;\n      const appBrand = this._deps.brandConfig.code;\n      this.setTags({\n        'app.name': appName as string,\n        'app.brand': appBrand,\n        'app.version': appVersion ?? '',\n      });\n    }\n  }\n\n  private _init(options: Sentry.BrowserOptions) {\n    Sentry.init({\n      ...options,\n      ignoreErrors: [\n        '200 OK',\n        'Failed to fetch',\n        'Request Timeout',\n        'Service is overloaded',\n        'In order to call this API endpoint, user needs to have [ReadCallLog] permission for requested resource',\n        'INVALID_STATE_ERROR: Invalid status: 11',\n        'INVALID_STATE_ERROR: Invalid status: 1',\n        'rateLimiterErrorMessages-rateLimitReached',\n        // chrome error\n        '[executeScript] Cannot access contents of the page. Extension manifest must request permission to access the respective host.',\n        '[executeScript] The extensions gallery cannot be scripted.',\n        '[executeScript] Cannot access contents of url',\n        '[executeScript] This page cannot be scripted due to an ExtensionsSettings policy.',\n        '[executeScript] Cannot access a chrome',\n      ],\n      beforeSend: (event) => {\n        if (this.intercepted) {\n          return null;\n        }\n        return event;\n      },\n    });\n    this._sentryInitialized = true;\n  }\n\n  override onInitOnce() {\n    if (this._sentryInitialized && this._deps.auth) {\n      watch(\n        this,\n        () => this._deps.auth?.loggedIn,\n        (loggedIn) => {\n          if (loggedIn) {\n            // set user\n            this.setUser({\n              id: this._deps.auth?.ownerId,\n            });\n          }\n        },\n      );\n    }\n  }\n\n  get interceptedBrands() {\n    return (\n      this._deps.errorLoggerOptions?.interceptedBrands ??\n      DEFAULT_INTERCEPTED_BRANDS\n    );\n  }\n\n  private intercepted?: boolean;\n\n  toggle({ intercepted }: { intercepted: boolean }) {\n    this.intercepted = intercepted;\n  }\n\n  setUser(user: User | null) {\n    Sentry.configureScope((scope) => {\n      scope.setUser(user);\n    });\n  }\n\n  setTags(tags: Record<string, string>) {\n    Sentry.configureScope((scope) => {\n      scope.setTags(tags);\n    });\n  }\n\n  log(message: string, level?: SeverityLevel) {\n    const eventId = Sentry.captureMessage(message, level);\n    return eventId;\n  }\n\n  logError(error: unknown) {\n    const eventId = Sentry.captureException(error);\n    return eventId;\n  }\n\n  test(message = '[ErrorLogger] test') {\n    const eventId = this.log(message, 'debug');\n    return eventId;\n  }\n\n  testError(message = '[ErrorLogger] test error') {\n    // To support test with devtool console, throw error within a new thread by using setTimeout\n    setTimeout(() => {\n      throw new Error(message);\n    }, 0);\n  }\n}\n"],"mappings":"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","ignoreList":[]}