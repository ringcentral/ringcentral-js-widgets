{"version":3,"sources":["modules/Analytics/Analytics.ts"],"names":["warn","console","TRACK_LIST","track","tagName","_track","prototype","property","descriptor","value","options","push","funcName","funcImpl","configurable","DEFAULT_TAG_NAME","tracking","Analytics","name","deps","dep","optional","analyticsKey","pendoApiKey","appName","appVersion","brandCode","adapter","auth","call","callingSettings","accountInfo","extensionInfo","callHistory","callMonitor","conference","conferenceCall","contactDetailsUI","messageSender","messageStore","routerInteraction","userGuide","webphone","locale","meeting","rcVideo","dialerUI","tierChecker","analyticsEventExtendedProps","useLog","lingerThreshold","callLogSection","activeCallControl","enablePendo","env","actionTypes","analyticsActionTypes","_analyticsKey","_pendoApiKey","_appName","_appVersion","_brandCode","_adapter","_auth","_call","_callingSettings","_accountInfo","_extensionInfo","_callHistory","_callMonitor","_conference","_conferenceCall","_contactDetailsUI","_messageSender","_messageStore","_routerInteraction","_userGuide","_webphone","_locale","_meeting","_rcVideo","_tierChecker","_analyticsEventExtendedProps","_dialerUI","_segment","_pendo","_trackList","_useLog","_logs","_lingerThreshold","_lingerTimeout","_promise","_callLogSection","_activeCallControl","_enablePendo","_waitPendoCount","_pendoTimeout","_env","_reducer","Pendo","init","pendoInstance","_identify","userId","props","analytics","identify","companyName","info","contact","company","integrations","All","Mixpanel","_pendoInitialize","id","clearTimeout","setTimeout","initializeFunc","isReady","initialize","updateOptions","pendoAgent","visitor","appBrand","plaBrand","serviceInfo","brand","countryCode","account","event","properties","trackProps","extendedProps","get","timeStamp","Date","toISOString","blob","Blob","JSON","stringify","type","router","eventPostfix","pending","store","dispatch","load","initSuccess","ready","lastActions","length","_processActions","forEach","action","processAction","clear","trackList","loginSuccess","setUserId","logout","ownerId","accountId","servicePlanId","servicePlan","edition","CRMEnabled","isCRMEnabled","connect","callSettingMode","callingModes","connectSuccess","registered","send","sendOver","sendError","createCallLog","createSMSLog","clickToDial","callWith","clickToSMS","viewEntity","createEntity","editCallLog","editSMSLog","locationChange","path","payload","pathname","target","getTrackTarget","trackNavigation","currentPath","trackLinger","callAnswer","isOnTransfer","updateSessions","clickToCall","fromType","removeMessage","markMessages","inviteWithText","updateAdditionalNumbers","joinAsHost","updateCarousel","curIdx","playing","allCallsClickHoldTrack","allCallsClickHangupTrack","callItemClickTrack","callControlClickAddTrack","callControlClickMergeTrack","Object","values","state","mergingPair","mergeControlClickHangupTrack","inboundCallConnectedTrack","outboundCallConnectedTrack","callsOnHoldClickAddTrack","callsOnHoldClickMergeTrack","confirmMergeClickCloseTrack","confirmMergeClickMergeTrack","removeParticipantClickRemoveTrack","removeParticipantClickCancelTrack","participantListClickHangupTrack","callControlClickParticipantAreaClickTrack","callsOnHoldClickHangupTrack","routes","split","formatRoute","needMatchSecondRoutes","indexOf","targets","find","initScheduling","initCreating","trackSchedule","showLogSection","expandNotification","mute","includes","unmute","hold","unhold","transfer","show","hangUp","callingMode","phoneNumber","recipient","global","status","moduleStatuses","currentLocale","browserLocale","RcModule"],"mappings":"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","sourcesContent":["import RouterInteraction from '../../../ringcentral-widgets/modules/RouterInteraction';\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport { Pendo, Segment } from '../../lib/Analytics';\nimport { Module } from '../../lib/di';\nimport RcModule from '../../lib/RcModule';\nimport saveBlob from '../../lib/saveBlob';\nimport { sleep } from '../../lib/sleep';\nimport { AnalyticsEventExtendedProps } from '../AnalyticsEventExtendedProps';\nimport callingModes from '../CallingSettings/callingModes';\nimport { ExtensionInfo } from '../ExtensionInfoV2';\nimport { analyticsActionTypes, AnalyticsActionTypes } from './actionTypes';\nimport getAnalyticsReducer from './getAnalyticsReducer';\n\nexport interface TrackProps {\n  appName: string;\n  appVersion: string;\n  brand: string;\n  'App Language': string;\n  'Browser Language': string;\n  'Extension Type': string;\n}\n\nexport interface TrackTarget {\n  eventPostfix: string;\n  router: string;\n}\n\nexport interface TrackPayload {\n  pathname: string;\n}\n\nexport interface TrackAction {\n  type: string;\n  payload?: TrackPayload;\n  curIdx?: number;\n  playing?: boolean;\n  fromType?: string;\n  callSettingMode?: string;\n  phoneNumber?: string;\n  recipient?: any;\n}\n\nexport interface TrackLog {\n  timeStamp: string;\n  event: string;\n  trackProps: TrackProps;\n}\n\nexport interface TrackImpl {\n  (action: TrackAction): void;\n}\n\nexport interface TrackItem {\n  tagName: string;\n  funcName: string;\n  funcImpl: TrackImpl;\n}\n\nexport interface PendoAgent {\n  visitor: {\n    id: string;\n    appName: string;\n    appVersion: string;\n    appBrand: string;\n    plaBrand: string;\n    countryCode?: string;\n    companyName?: string;\n    [key: string]: string;\n  };\n  account: {\n    id: string;\n    [key: string]: string;\n  };\n}\n\ninterface IdentifyOptions {\n  userId: string;\n  [K: string]: any;\n}\n\nfunction warn() {\n  console.warn('Do NOT call this directly.');\n}\n\nconst TRACK_LIST: TrackItem[] = [];\n\nexport function track(tagName: string) {\n  return function _track(\n    prototype: any,\n    property: string,\n    descriptor: TypedPropertyDescriptor<TrackImpl>,\n  ) {\n    const { value, ...options } = descriptor;\n    if (typeof value === 'function') {\n      TRACK_LIST.push({\n        tagName,\n        funcName: property,\n        funcImpl: value,\n      });\n    }\n    return {\n      ...options,\n      value: warn,\n      configurable: false,\n    };\n  };\n}\n\nexport const DEFAULT_TAG_NAME = 'default';\nexport const tracking = track(DEFAULT_TAG_NAME);\n\n// TODO: refactoring the module against `https://docs.google.com/spreadsheets/d/1xufV6-C-RJR6OJgwFYHYzNQwhIdN4BXXCo8ABs7RT-8/edit#gid=1480480736`\n/**\n * @class\n * @description Analytics module.\n */\n@Module({\n  name: 'Analytics',\n  deps: [\n    { dep: 'AnalyticsOptions', optional: true },\n    { dep: 'Adapter', optional: true },\n    { dep: 'Auth', optional: true },\n    { dep: 'Call', optional: true },\n    { dep: 'CallingSettings', optional: true },\n    { dep: 'AccountInfo', optional: true },\n    { dep: 'ExtensionInfo', optional: true },\n    { dep: 'CallHistory', optional: true },\n    { dep: 'CallMonitor', optional: true },\n    { dep: 'Conference', optional: true },\n    { dep: 'ConferenceCall', optional: true },\n    { dep: 'ContactDetailsUI', optional: true },\n    { dep: 'MessageSender', optional: true },\n    { dep: 'MessageStore', optional: true },\n    { dep: 'RouterInteraction', optional: true },\n    { dep: 'UserGuide', optional: true },\n    { dep: 'Webphone', optional: true },\n    { dep: 'Locale', optional: true },\n    { dep: 'Meeting', optional: true },\n    { dep: 'RcVideo', optional: true },\n    { dep: 'CallLogSection', optional: true },\n    { dep: 'ActiveCallControl', optional: true },\n    { dep: 'DialerUI', optional: true },\n    { dep: 'TierChecker', optional: true },\n    { dep: 'AnalyticsEventExtendedProps', optional: true },\n  ],\n})\nexport class Analytics extends RcModule<\n  Record<string, any>,\n  AnalyticsActionTypes\n> {\n  // TODO: add state interface\n  // AnalyticsOptions\n  private _analyticsKey: string;\n  private _pendoApiKey: string;\n  private _appName: string;\n  private _appVersion: string;\n  private _brandCode: string;\n\n  protected _adapter: any;\n  protected _auth: any;\n  protected _call: any;\n  protected _callingSettings: any;\n  protected _accountInfo: any;\n  protected _extensionInfo: ExtensionInfo;\n  protected _callHistory: any;\n  protected _callMonitor: any;\n  protected _conference: any;\n  protected _conferenceCall: any;\n  protected _contactDetailsUI: any;\n  protected _messageSender: any;\n  protected _messageStore: any;\n  protected _routerInteraction: RouterInteraction;\n  protected _userGuide: any;\n  protected _webphone: any;\n  protected _locale: any;\n  protected _meeting: any;\n  protected _rcVideo: any;\n  protected _tierChecker: any;\n  protected _analyticsEventExtendedProps?: AnalyticsEventExtendedProps;\n  private _dialerUI: any;\n\n  private _segment: any;\n  private _pendo: any;\n  private _trackList: TrackItem[];\n  private _useLog: boolean;\n  private _logs: TrackLog[] = [];\n  private _lingerThreshold: number;\n\n  private _lingerTimeout?: NodeJS.Timeout = null;\n  private _promise?: Promise<void>;\n  private _callLogSection: any;\n  private _activeCallControl: any;\n  private _enablePendo: boolean;\n  private _waitPendoCount: number;\n  private _pendoTimeout: ReturnType<typeof setTimeout>;\n  private _env: string;\n\n  constructor({\n    // AnalyticsOptions\n    analyticsKey,\n    pendoApiKey,\n    appName,\n    appVersion,\n    brandCode,\n    // modules\n    adapter,\n    auth,\n    call,\n    callingSettings,\n    accountInfo,\n    extensionInfo,\n    callHistory,\n    callMonitor,\n    conference,\n    conferenceCall,\n    contactDetailsUI,\n    messageSender,\n    messageStore,\n    routerInteraction,\n    userGuide,\n    webphone,\n    locale,\n    meeting,\n    rcVideo,\n    dialerUI,\n    tierChecker,\n    analyticsEventExtendedProps,\n    // settinigs\n    useLog = false,\n    lingerThreshold = 1000,\n    callLogSection,\n    activeCallControl,\n    enablePendo = false,\n    env = 'dev',\n    ...options\n  }: Record<string, any>) {\n    // TODO: fix type from new modules based on RcModulesV2\n    super({\n      ...options,\n      actionTypes: analyticsActionTypes,\n    });\n\n    // config\n    this._analyticsKey = analyticsKey;\n    this._pendoApiKey = pendoApiKey;\n    this._appName = appName;\n    this._appVersion = appVersion;\n    this._brandCode = brandCode;\n\n    // modules\n    this._adapter = adapter;\n    this._auth = auth;\n    this._call = call;\n    this._callingSettings = callingSettings;\n    this._accountInfo = accountInfo;\n    this._extensionInfo = extensionInfo;\n    this._callHistory = callHistory;\n    this._callMonitor = callMonitor;\n    this._conference = conference;\n    this._conferenceCall = conferenceCall;\n    this._contactDetailsUI = contactDetailsUI;\n    this._messageSender = messageSender;\n    this._messageStore = messageStore;\n    this._routerInteraction = routerInteraction;\n    this._userGuide = userGuide;\n    this._webphone = webphone;\n    this._locale = locale;\n    this._meeting = meeting;\n    this._rcVideo = rcVideo;\n    this._callLogSection = callLogSection;\n    this._activeCallControl = activeCallControl;\n    this._dialerUI = dialerUI;\n    this._tierChecker = tierChecker;\n    this._analyticsEventExtendedProps = analyticsEventExtendedProps;\n\n    // init\n    this._reducer = getAnalyticsReducer(this.actionTypes);\n    this._segment = Segment();\n    this._trackList = [...TRACK_LIST];\n    this._useLog = useLog;\n    this._lingerThreshold = lingerThreshold;\n    this._enablePendo = enablePendo;\n    this._pendo = null;\n    this._waitPendoCount = 0;\n    this._pendoTimeout = null;\n    this._env = env;\n    if (this._enablePendo && this._pendoApiKey) {\n      Pendo.init(this._pendoApiKey, (pendoInstance: any) => {\n        this._pendo = pendoInstance;\n      });\n    }\n  }\n\n  identify(options: IdentifyOptions) {\n    this._identify(options);\n  }\n\n  protected _identify({ userId, ...props }: IdentifyOptions) {\n    if (this.analytics) {\n      this.analytics.identify(\n        userId,\n        {\n          ...props,\n          companyName: this._extensionInfo?.info?.contact?.company,\n        },\n        {\n          integrations: {\n            All: true,\n            Mixpanel: true,\n          },\n        },\n      );\n    }\n    if (this._enablePendo && this._pendoApiKey) {\n      this._pendoInitialize({ userId, ...props, env: this._env });\n    }\n  }\n\n  protected _pendoInitialize({\n    userId,\n    ...props\n  }: { userId: string } & Record<string, any>) {\n    if (!this._accountInfo || !this._accountInfo.id || !userId) {\n      return;\n    }\n    if (this._pendoTimeout) {\n      clearTimeout(this._pendoTimeout);\n    }\n    if (this._waitPendoCount > 3) {\n      return;\n    }\n    if (!this._pendo) {\n      this._pendoTimeout = setTimeout(() => {\n        this._waitPendoCount += 1;\n        this._pendoInitialize({ userId, ...props });\n      }, 5 * 1000);\n      return;\n    }\n    const initializeFunc = !this._pendo.isReady()\n      ? this._pendo.initialize\n      : this._pendo.updateOptions;\n    const pendoAgent: PendoAgent = {\n      visitor: {\n        id: userId,\n        ...props,\n        companyName: this._extensionInfo?.info?.contact?.company,\n        appName: this._appName,\n        appVersion: this._appVersion,\n        appBrand: this._brandCode,\n        plaBrand: this._accountInfo?.serviceInfo?.brand?.name,\n        countryCode: this._accountInfo?.countryCode,\n      },\n      account: {\n        id: this._accountInfo.id,\n      },\n    };\n    typeof initializeFunc === 'function' &&\n      initializeFunc({\n        ...pendoAgent,\n      });\n  }\n\n  track(event: string, properties: any = {}) {\n    if (!this.analytics) {\n      return;\n    }\n\n    const trackProps: TrackProps = {\n      ...this.trackProps,\n      ...properties,\n      ...this._analyticsEventExtendedProps?.extendedProps.get(event),\n    };\n\n    this.analytics.track(event, trackProps, {\n      integrations: {\n        All: true,\n        Mixpanel: true,\n      },\n    });\n\n    if (this._useLog) {\n      this._logs.push({\n        timeStamp: new Date().toISOString(),\n        event,\n        trackProps,\n      });\n    }\n\n    if (this._enablePendo && this._pendo?.isReady?.()) {\n      this._pendo.track(`${trackProps.appName}-${event}`, trackProps);\n    }\n  }\n\n  downloadLogs() {\n    if (!this._useLog) {\n      return;\n    }\n\n    const blob = new Blob([JSON.stringify(this._logs, null, 2)], {\n      type: 'application/json',\n    });\n\n    saveBlob('logs.json', blob);\n  }\n\n  trackNavigation({ router, eventPostfix }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track(`Navigation: Click/${eventPostfix}`, trackProps);\n  }\n\n  trackLinger({ router, eventPostfix }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track(`Navigation: View/${eventPostfix}`, trackProps);\n  }\n\n  trackSchedule({ router }: TrackTarget) {\n    const trackProps = {\n      router,\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n    };\n    this.track('Meeting: Click Schedule/Meeting schedule page', trackProps);\n  }\n\n  async _onStateChange() {\n    if (this.pending) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      if (this._analyticsKey && this._segment) {\n        this._segment.load(this._analyticsKey, {\n          integrations: {\n            All: true,\n            Mixpanel: true,\n          },\n        });\n      }\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n    }\n    if (this.ready && this.lastActions.length && !this._promise) {\n      this._promise = this._processActions();\n    }\n  }\n\n  private async _processActions() {\n    if (this.lastActions.length) {\n      await sleep(300);\n      this.lastActions.forEach((action: TrackAction) => {\n        this.processAction(action);\n      });\n      this.store.dispatch({\n        type: this.actionTypes.clear,\n      });\n      this._promise = null;\n    }\n  }\n\n  processAction(action: TrackAction) {\n    (this.trackList || []).forEach(({ funcImpl }: TrackItem) => {\n      if (typeof funcImpl === 'function') {\n        funcImpl.call(this, action);\n      }\n    });\n  }\n\n  @tracking\n  private _authentication(action: TrackAction) {\n    if (this._auth?.actionTypes.loginSuccess === action.type) {\n      this.setUserId();\n      this.track('Authentication');\n    }\n  }\n\n  @tracking\n  private _logout(action: TrackAction) {\n    if (this._auth?.actionTypes.logout === action.type) {\n      this.track('Logout');\n    }\n  }\n\n  @tracking\n  private _accountInfoReady(action: TrackAction) {\n    if (this._accountInfo?.actionTypes.initSuccess === action.type) {\n      this._identify({\n        userId: this._auth?.ownerId,\n        accountId: this._accountInfo.id,\n        servicePlanId: this._accountInfo.servicePlan.id,\n        edition: this._accountInfo.servicePlan.edition,\n        CRMEnabled: this._tierChecker?.isCRMEnabled,\n      });\n    }\n  }\n\n  @tracking\n  private _callAttempt(action: TrackAction) {\n    if (this._call?.actionTypes.connect === action.type) {\n      if (action.callSettingMode === callingModes.webphone) {\n        this.track('Call Attempt WebRTC');\n      } else {\n        this.track('Call Attempt', {\n          callSettingMode: action.callSettingMode,\n        });\n      }\n    }\n  }\n\n  @tracking\n  private _callConnected(action: TrackAction) {\n    if (this._call?.actionTypes.connectSuccess === action.type) {\n      if (action.callSettingMode === callingModes.webphone) {\n        this.track('Outbound WebRTC Call Connected');\n      } else {\n        this.track('Outbound Call Connected', {\n          callSettingMode: action.callSettingMode,\n        });\n      }\n    }\n  }\n\n  @tracking\n  private _webRTCRegistration(action: TrackAction) {\n    if (this._webphone?.actionTypes.registered === action.type) {\n      this.track('WebRTC registration');\n    }\n  }\n\n  @tracking\n  private _smsAttempt(action: TrackAction) {\n    if (this._messageSender?.actionTypes.send === action.type) {\n      this.track('SMS Attempt');\n    }\n  }\n\n  @tracking\n  private _smsSentOver(action: TrackAction) {\n    if (this._messageSender?.actionTypes.sendOver === action.type) {\n      this.track('SMS: SMS sent successfully');\n    }\n  }\n\n  @tracking\n  private _smsSentError(action: TrackAction) {\n    if (this._messageSender?.actionTypes.sendError === action.type) {\n      this.track('SMS: SMS sent failed');\n    }\n  }\n\n  @tracking\n  private _logCall(action: TrackAction) {\n    if (this._adapter?.actionTypes.createCallLog === action.type) {\n      this.track('Log Call');\n    }\n  }\n\n  @tracking\n  private _logSMS(action: TrackAction) {\n    if (this._adapter?.actionTypes.createSMSLog === action.type) {\n      this.track('Log SMS');\n    }\n  }\n\n  @tracking\n  private _clickToDial(action: TrackAction) {\n    if (this._adapter?.actionTypes.clickToDial === action.type) {\n      this.track('Click To Dial');\n    }\n  }\n\n  @tracking\n  private _clickToDialPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._adapter?.actionTypes.clickToDial === action.type &&\n      action.callSettingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Click to Dial ', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _clickToSMS(action: TrackAction) {\n    if (this._adapter?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS');\n    }\n  }\n\n  @tracking\n  private _viewEntity(action: TrackAction) {\n    if (this._adapter?.actionTypes.viewEntity === action.type) {\n      this.track('View Entity Details');\n    }\n  }\n\n  @tracking\n  private _createEntity(action: TrackAction) {\n    if (this._adapter?.actionTypes.createEntity === action.type) {\n      this.track('Add Entity');\n    }\n  }\n\n  @tracking\n  private _editCallLog(action: TrackAction) {\n    if (this._adapter?.actionTypes.editCallLog === action.type) {\n      this.track('Edit Call Log');\n    }\n  }\n\n  @tracking\n  private _editSMSLog(action: TrackAction) {\n    if (this._adapter?.actionTypes.editSMSLog === action.type) {\n      this.track('Edit SMS Log');\n    }\n  }\n\n  @tracking\n  private _navigate(action: TrackAction) {\n    if (this._routerInteraction?.actionTypes.locationChange === action.type) {\n      const path = action.payload && action.payload.pathname;\n      const target = this.getTrackTarget(path);\n      if (target) {\n        this.trackNavigation(target);\n      }\n\n      if (this._lingerTimeout) {\n        clearTimeout(this._lingerTimeout);\n      }\n      this._lingerTimeout = setTimeout(() => {\n        this._lingerTimeout = null;\n        if (target && this._routerInteraction.currentPath === path) {\n          this.trackLinger(target);\n        }\n      }, this._lingerThreshold);\n    }\n  }\n\n  @tracking\n  private _inboundCall(action: TrackAction) {\n    if (this._webphone?.actionTypes.callAnswer === action.type) {\n      this.track('Inbound WebRTC Call Connected');\n    }\n  }\n\n  @tracking\n  private _coldTransfer(action: TrackAction) {\n    if (\n      this._webphone?.isOnTransfer === true &&\n      this._webphone?.actionTypes.updateSessions === action.type\n    ) {\n      this.track('Cold Transfer Call');\n    }\n  }\n\n  @tracking\n  private _textClickToDial(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      (action.fromType === 'Pager' || action.fromType === 'SMS')\n    ) {\n      this.track('Click To Dial (Text List)');\n    }\n  }\n\n  @tracking\n  private _voicemailClickToDial(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      action.fromType === 'VoiceMail'\n    ) {\n      this.track('Click To Dial (Voicemail List)');\n    }\n  }\n\n  @tracking\n  private _voicemailClickToSMS(action: TrackAction) {\n    if (this._messageStore?.actionTypes.clickToSMS === action.type) {\n      this.track('Click to SMS (Voicemail List)');\n    }\n  }\n\n  @tracking\n  private _voicemailDelete(action: TrackAction) {\n    if (this._messageStore?.actionTypes.removeMessage === action.type) {\n      this.track('Delete Voicemail');\n    }\n  }\n\n  @tracking\n  private _voicemailFlag(action: TrackAction) {\n    if (this._messageStore?.actionTypes.markMessages === action.type) {\n      this.track('Flag Voicemail');\n    }\n  }\n\n  @tracking\n  private _contactDetailClickToDial(action: TrackAction) {\n    if (this._contactDetailsUI?.actionTypes.clickToCall === action.type) {\n      this.track('Click To Dial (Contact Details)');\n    }\n  }\n\n  @tracking\n  private _contactDetailClickToSMS(action: TrackAction) {\n    if (this._contactDetailsUI?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS (Contact Details)');\n    }\n  }\n\n  @tracking\n  private _callHistoryClickToDial(action: TrackAction) {\n    if (this._callHistory?.actionTypes.clickToCall === action.type) {\n      this.track('Click To dial (Call History)');\n    }\n  }\n\n  @tracking\n  private _callHistoryClickToSMS(action: TrackAction) {\n    if (this._callHistory?.actionTypes.clickToSMS === action.type) {\n      this.track('Click To SMS (Call History)');\n    }\n  }\n\n  @tracking\n  private _conferenceInviteWithText(action: TrackAction) {\n    if (this._conference?.actionTypes.inviteWithText === action.type) {\n      this.track('Invite With Text (Conference)');\n    }\n  }\n\n  @tracking\n  private _conferenceAddDialInNumber(action: TrackAction) {\n    if (this._conference?.actionTypes.updateAdditionalNumbers === action.type) {\n      this.track('Select Additional Dial-in Number (Conference)');\n    }\n  }\n\n  @tracking\n  private _conferenceJoinAsHost(action: TrackAction) {\n    if (this._conference?.actionTypes.joinAsHost === action.type) {\n      this.track('Join As Host (Conference)');\n    }\n  }\n\n  @tracking\n  private _showWhatsNew(action: TrackAction) {\n    if (\n      this._userGuide?.actionTypes.updateCarousel === action.type &&\n      action.curIdx === 0 &&\n      action.playing\n    ) {\n      this.track(\"What's New\");\n    }\n  }\n\n  @tracking\n  private _allCallsClickHold(action: TrackAction) {\n    if (this._callMonitor?.actionTypes.allCallsClickHoldTrack === action.type) {\n      this.track('Click Hold (All Calls)');\n    }\n  }\n\n  @tracking\n  private _allCallsClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.allCallsClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (All Calls)');\n    }\n  }\n\n  @tracking\n  private _allCallsCallItemClick(action: TrackAction) {\n    if (this._callMonitor?.actionTypes.callItemClickTrack === action.type) {\n      this.track('Click Call Item (All Calls)');\n    }\n  }\n\n  @tracking\n  private _callControlClickAdd(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickAddTrack === action.type\n    ) {\n      this.track('Click Add (Call Control)');\n    }\n  }\n\n  @tracking\n  private _callControlClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickMergeTrack ===\n        action.type &&\n      !Object.values(this._conferenceCall.state.mergingPair).length\n    ) {\n      this.track('Click Merge (Call Control)');\n    }\n  }\n\n  @tracking\n  private _mergeCallControlClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callControlClickMergeTrack ===\n        action.type &&\n      Object.values(this._conferenceCall.state.mergingPair).length\n    ) {\n      this.track('Click Merge (Merge Call Control)');\n    }\n  }\n\n  @tracking\n  private _mergeCallControlClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.mergeControlClickHangupTrack ===\n      action.type\n    ) {\n      this.track('Click Hangup (Merge Call Control)');\n    }\n  }\n\n  @tracking\n  private _inboundCallConnectedTrack(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.inboundCallConnectedTrack === action.type\n    ) {\n      this.track('Call: Inbound call connected');\n    }\n  }\n\n  @tracking\n  private _outboundCallConnectedTrack(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.outboundCallConnectedTrack === action.type\n    ) {\n      this.track('Call: Outbound RingOut Call connected');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickAdd(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickAddTrack === action.type\n    ) {\n      this.track('Click Add (Calls OnHold)');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickMergeTrack === action.type\n    ) {\n      this.track('Click Merge (Calls OnHold)');\n    }\n  }\n\n  @tracking\n  private _confirmMergeClickClose(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.confirmMergeClickCloseTrack === action.type\n    ) {\n      this.track('Click Close (ConfirmMerge Modal)');\n    }\n  }\n\n  @tracking\n  private _confirmMergeClickMerge(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.confirmMergeClickMergeTrack === action.type\n    ) {\n      this.track('Click Merge (ConfirmMerge Modal)');\n    }\n  }\n\n  @tracking\n  private _removeParticipantClickRemove(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.removeParticipantClickRemoveTrack ===\n      action.type\n    ) {\n      this.track('Click Remove (RemoveParticipants Modal)');\n    }\n  }\n\n  @tracking\n  private _removeParticipantClickCancel(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.removeParticipantClickCancelTrack ===\n      action.type\n    ) {\n      this.track('Cancel Remove (RemoveParticipants Modal)');\n    }\n  }\n\n  @tracking\n  private _participantListClickHangup(action: TrackAction) {\n    if (\n      this._conferenceCall?.actionTypes.participantListClickHangupTrack ===\n      action.type\n    ) {\n      this.track('Click Hangup (Participant List)');\n    }\n  }\n\n  @tracking\n  private _callControlClickParticipantArea(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes\n        .callControlClickParticipantAreaClickTrack === action.type\n    ) {\n      this.track('Click Participant Area (Call Control)');\n    }\n  }\n\n  @tracking\n  private _callsOnHoldClickHangup(action: TrackAction) {\n    if (\n      this._callMonitor?.actionTypes.callsOnHoldClickHangupTrack === action.type\n    ) {\n      this.track('Click Hangup (Calls OnHold)');\n    }\n  }\n\n  setUserId() {\n    this._identify({\n      userId: this._auth.ownerId,\n    });\n  }\n\n  getTrackTarget(path = this._routerInteraction?.currentPath): TrackTarget {\n    if (!path) {\n      return null;\n    }\n\n    const routes = path.split('/');\n    let formatRoute: string = null;\n    const needMatchSecondRoutes = ['calls'];\n    if (routes.length >= 3 && needMatchSecondRoutes.indexOf(routes[1]) !== -1) {\n      formatRoute = `/${routes[1]}/${routes[2]}`;\n    } else if (routes.length > 1) {\n      formatRoute = `/${routes[1]}`;\n    }\n\n    const targets: TrackTarget[] = [\n      {\n        eventPostfix: 'Dialer',\n        router: '/dialer',\n      },\n      {\n        eventPostfix: 'Compose SMS',\n        router: '/composeText',\n      },\n      {\n        eventPostfix: 'Messages',\n        router: '/messages',\n      },\n      {\n        eventPostfix: 'Conversation',\n        router: '/conversations',\n      },\n      {\n        eventPostfix: 'Call History',\n        router: '/history',\n      },\n      {\n        eventPostfix: 'All calls page',\n        router: '/calls',\n      },\n      {\n        eventPostfix: 'Settings',\n        router: '/settings',\n      },\n      {\n        eventPostfix: 'Meeting',\n        router: '/meeting',\n      },\n      {\n        eventPostfix: 'Contacts',\n        router: '/contacts',\n      },\n      {\n        eventPostfix: 'Call Control',\n        router: '/calls/active',\n      },\n      {\n        eventPostfix: 'Transfer',\n        router: '/transfer',\n      },\n      {\n        eventPostfix: 'Small call control',\n        router: '/simplifycallctrl',\n      },\n      {\n        eventPostfix: 'Flip',\n        router: '/flip',\n      },\n      {\n        eventPostfix: 'Add',\n        router: '/conferenceCall',\n      },\n    ];\n\n    const target = targets.find((target) => formatRoute === target.router);\n    return target;\n  }\n\n  @tracking\n  private _schedule(action: TrackAction) {\n    if (\n      this._meeting?.actionTypes.initScheduling === action.type ||\n      this._rcVideo?.actionTypes.initCreating === action.type\n    ) {\n      const target = this.getTrackTarget(this._routerInteraction?.currentPath);\n      if (target) {\n        this.trackSchedule(target);\n      }\n    }\n  }\n\n  @tracking\n  private _viewCallLogPage(action: TrackAction) {\n    if (this._callLogSection?.actionTypes.showLogSection === action.type) {\n      this.track('Call Log: View/Call log page');\n    }\n  }\n\n  @tracking\n  private _notificationClickLog(action: TrackAction) {\n    if (this._callLogSection?.actionTypes.expandNotification === action.type) {\n      this.track('Call Log: Click call log/Notification');\n    }\n  }\n\n  @tracking\n  private _muteOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.mute === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Mute/Small call control');\n    }\n  }\n\n  @tracking\n  private _unmuteOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.unmute === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Unmute/Small call control');\n    }\n  }\n\n  @tracking\n  private _holdOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.hold === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Hold/Small call control');\n    }\n  }\n\n  @tracking\n  private _unholdOnSimpleCallControl(action: TrackAction) {\n    if (\n      this._activeCallControl?.actionTypes.unhold === action.type &&\n      this._routerInteraction?.currentPath.includes('/simplifycallctrl')\n    ) {\n      this.track('Call Control: Unhold/Small call control');\n    }\n  }\n\n  @tracking\n  private _confirmTransfer(action: TrackAction) {\n    if (this._activeCallControl?.actionTypes.transfer === action.type) {\n      this.track('Call Control: Cold transfer/Transfer page');\n    }\n  }\n\n  @tracking\n  private _muteOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.mute === action.type\n    ) {\n      this.track('Call Control: Mute/Call log page');\n    }\n  }\n\n  @tracking\n  private _unmuteOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.unmute === action.type\n    ) {\n      this.track('Call Control: Unmute/Call log page');\n    }\n  }\n\n  @tracking\n  private _holdOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.hold === action.type\n    ) {\n      this.track('Call Control: Hold/Call log page');\n    }\n  }\n\n  @tracking\n  private _unholdOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.unhold === action.type\n    ) {\n      this.track('Call Control: Unhold/Call log page');\n    }\n  }\n\n  @tracking\n  private _hangupOnCallLogPage(action: TrackAction) {\n    if (\n      this._callLogSection?.show &&\n      this._activeCallControl?.actionTypes.hangUp === action.type\n    ) {\n      this.track('Call Control: Hang up/Call log page');\n    }\n  }\n\n  @tracking\n  private _smsHistoryPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._messageStore?.actionTypes.clickToCall === action.type &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/SMS history', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _callHistoryPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._callHistory?.actionTypes.clickToCall === action.type &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Call history', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  @tracking\n  private _dialerPlaceRingOutCall(action: TrackAction) {\n    if (\n      this._dialerUI?.actionTypes.call === action.type &&\n      (action.phoneNumber?.length > 0 || action.recipient) &&\n      this._callingSettings.callingMode !== callingModes.webphone\n    ) {\n      this.track('Call: Place RingOut call/Dialer', {\n        'RingOut type': this._callingSettings?.callWith,\n      });\n    }\n  }\n\n  get trackList(): TrackItem[] {\n    return this._trackList;\n  }\n\n  get analytics() {\n    return (global as any).analytics;\n  }\n\n  get lastActions(): TrackAction[] {\n    return this.state.lastActions;\n  }\n\n  get status(): string {\n    return this.state.status;\n  }\n\n  get ready(): boolean {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get pending(): boolean {\n    return this.status === moduleStatuses.pending;\n  }\n\n  get trackProps(): TrackProps {\n    return {\n      appName: this._appName,\n      appVersion: this._appVersion,\n      brand: this._brandCode,\n      'App Language': this._locale?.currentLocale || '',\n      'Browser Language': this._locale?.browserLocale || '',\n      'Extension Type': this._extensionInfo?.info.type || '',\n    };\n  }\n}\n"],"file":"Analytics.js"}