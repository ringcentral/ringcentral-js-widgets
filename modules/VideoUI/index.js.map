{"version":3,"sources":["modules/VideoUI/index.ts"],"names":["VideoUI","name","deps","rcVideo","locale","rateLimiter","connectivityMonitor","brand","appFeatures","options","_locale","_appFeatures","_rcVideo","_rateLimiter","_connectivityMonitor","_brand","disabled","labelPlacement","datePickerSize","timePickerSize","showRcvAdminLock","configDisabled","showE2EE","ready","enableE2EE","meeting","delegators","isDelegator","user","item","extensionId","isLoginUser","enableWaitingRoom","isAllOptionDisabled","isMeetingPasswordValid","isScheduling","connectivity","throttling","settingLock","e2ee","isOnlyCoworkersJoin","isE2eeRelatedOptionsDisabled","isE2EEDisabled","hasVideoE2EE","key","DISABLE_E2EE_WHEN_RELATED_OPTION_MATCH","Object","keys","authUserTypeValue","AUTH_USER_TYPE","SIGNED_IN_CO_WORKERS","SIGNED_IN_USERS","currentLocale","enablePersonalMeeting","showWaitingRoom","personalMeetingId","personalMeeting","shortId","showSaveAsDefault","showScheduleOnBehalf","length","disableSaveAsDefault","isPreferencesChanged","showSpinnerInConfigPanel","isInitializing","brandName","isAllOptionDisabledp","hasSettingsChanged","joinBeforeHostLabel","JBH_LABEL","JOIN_AFTER_HOST","JOIN_AFTER_ME","isPersonalMeetingDisabled","isRequirePasswordDisabled","isMeetingSecret","isJoinBeforeHostDisabled","allowJoinBeforeHost","waitingRoomMode","RCV_WAITING_ROOM_MODE","all","isWaitingRoomDisabled","isWaitingRoomNotCoworkerDisabled","isWaitingRoomGuestDisabled","isOnlyAuthUserJoin","isWaitingRoomAllDisabled","isAuthenticatedCanJoinDisabled","isAuthUserTypeDisabled","isSignedInUsersDisabled","isSignedInCoWorkersDisabled","schedule","updateScheduleFor","userExtensionId","updateMeetingSettings","value","validatePasswordSettings","password","isSecret","switchUsePersonalMeetingId","usePersonalMeetingId","meetingInfo","opener","updateMeeting","id","createMeeting","updateHasSettingsChanged","init","e2eeInteractFunc","e2eeValue","RCV_E2EE_DEFAULT_SECURITY_OPTIONS","RcUIModule"],"mappings":"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","sourcesContent":["import { any, find } from 'ramda';\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport { Brand } from '@ringcentral-integration/commons/modules/Brand';\nimport { RcVideo } from '@ringcentral-integration/commons/modules/RcVideo';\nimport {\n  RcVMeetingModel,\n  RcVSettingLocks,\n} from '@ringcentral-integration/commons/interfaces/Rcv.model';\nimport {\n  DisableE2eeWhenRelatedOptionMatch,\n  DISABLE_E2EE_WHEN_RELATED_OPTION_MATCH,\n  RCV_E2EE_DEFAULT_SECURITY_OPTIONS,\n  RCV_WAITING_ROOM_MODE,\n  AUTH_USER_TYPE,\n  RcvDelegator,\n  JBH_LABEL,\n} from '@ringcentral-integration/commons/modules/RcVideoV2';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'VideoUI',\n  deps: [\n    'RcVideo',\n    'AppFeatures',\n    'Locale',\n    'RateLimiter',\n    'ConnectivityMonitor',\n    'Brand',\n  ],\n})\nexport default class VideoUI extends RcUIModule {\n  private _locale: any;\n  private _appFeatures: any;\n  private _rcVideo: RcVideo;\n  private _rateLimiter: any;\n  private _connectivityMonitor: any;\n  private _brand: Brand;\n  constructor({\n    rcVideo,\n    locale,\n    rateLimiter,\n    connectivityMonitor,\n    brand,\n    appFeatures,\n    ...options\n  }) {\n    super({\n      ...options,\n    });\n    this._appFeatures = appFeatures;\n    this._rcVideo = rcVideo;\n    this._locale = locale;\n    this._rateLimiter = rateLimiter;\n    this._connectivityMonitor = connectivityMonitor;\n    this._brand = brand;\n  }\n\n  getUIProps({\n    disabled,\n    labelPlacement,\n    datePickerSize,\n    timePickerSize,\n    showRcvAdminLock = false,\n    configDisabled = false,\n  }) {\n    const showE2EE = this._rcVideo.ready && this._rcVideo.enableE2EE;\n\n    const meeting: RcVMeetingModel =\n      this._rcVideo.ready && this._rcVideo.meeting;\n\n    const delegators = (this._rcVideo.ready && this._rcVideo.delegators) || [];\n    let isDelegator = false;\n    const user = find(\n      (item) => item.extensionId === meeting.extensionId,\n      delegators as RcvDelegator[],\n    );\n    isDelegator = user && !user.isLoginUser;\n\n    const enableWaitingRoom =\n      this._rcVideo.ready && this._rcVideo.enableWaitingRoom;\n\n    const isAllOptionDisabled = !!(\n      disabled ||\n      !meeting.isMeetingPasswordValid ||\n      (this._rcVideo.ready && this._rcVideo.isScheduling) ||\n      (this._connectivityMonitor && !this._connectivityMonitor.connectivity) ||\n      (this._rateLimiter && this._rateLimiter.throttling)\n    );\n\n    const { settingLock, e2ee, isOnlyCoworkersJoin } = meeting;\n\n    // when e2ee is on, waiting room&auth can join&require password&jbh will be disabled and turn on.\n    const isE2eeRelatedOptionsDisabled = showE2EE && e2ee;\n\n    const isE2EEDisabled =\n      showE2EE &&\n      ((this._appFeatures.ready && !this._appFeatures.hasVideoE2EE) ||\n        (settingLock as RcVSettingLocks).e2ee ||\n        any(\n          (key: DisableE2eeWhenRelatedOptionMatch) =>\n            settingLock[key] &&\n            meeting[key] === DISABLE_E2EE_WHEN_RELATED_OPTION_MATCH[key],\n        )(\n          Object.keys(\n            DISABLE_E2EE_WHEN_RELATED_OPTION_MATCH,\n          ) as DisableE2eeWhenRelatedOptionMatch[],\n        ) ||\n        configDisabled);\n\n    const authUserTypeValue = isOnlyCoworkersJoin\n      ? AUTH_USER_TYPE.SIGNED_IN_CO_WORKERS\n      : AUTH_USER_TYPE.SIGNED_IN_USERS;\n\n    return {\n      datePickerSize,\n      timePickerSize,\n      labelPlacement,\n      isE2EEDisabled,\n      delegators,\n      authUserTypeValue,\n      currentLocale: this._locale.currentLocale,\n      meeting: this._rcVideo.meeting,\n      enablePersonalMeeting: this._rcVideo.enablePersonalMeeting,\n      showWaitingRoom: this._rcVideo.enableWaitingRoom,\n      showE2EE: this._rcVideo.enableE2EE,\n      personalMeetingId:\n        this._rcVideo.ready && this._rcVideo.personalMeeting?.shortId,\n      showSaveAsDefault: this._rcVideo.showSaveAsDefault,\n      showScheduleOnBehalf: !!(delegators && delegators.length > 0),\n      disableSaveAsDefault: !this._rcVideo.isPreferencesChanged,\n      showSpinnerInConfigPanel:\n        this._rcVideo.isInitializing || this._rcVideo.isScheduling,\n      brandName: this._brand.name,\n      configDisabled,\n      disabled: isAllOptionDisabledp,\n      hasSettingsChanged: this._rcVideo.hasSettingsChanged,\n      joinBeforeHostLabel: isDelegator\n        ? JBH_LABEL.JOIN_AFTER_HOST\n        : JBH_LABEL.JOIN_AFTER_ME,\n      isPersonalMeetingDisabled: (showE2EE && meeting.e2ee) || configDisabled,\n      isRequirePasswordDisabled:\n        isE2eeRelatedOptionsDisabled ||\n        configDisabled ||\n        (showRcvAdminLock && meeting.settingLock?.isMeetingSecret),\n      isJoinBeforeHostDisabled:\n        isE2eeRelatedOptionsDisabled ||\n        configDisabled ||\n        (showRcvAdminLock && meeting.settingLock?.allowJoinBeforeHost) ||\n        (enableWaitingRoom &&\n          meeting.waitingRoomMode === RCV_WAITING_ROOM_MODE.all),\n      isWaitingRoomDisabled:\n        isE2eeRelatedOptionsDisabled ||\n        configDisabled ||\n        (showRcvAdminLock && meeting.settingLock?.waitingRoomMode),\n      isWaitingRoomNotCoworkerDisabled: meeting.isOnlyCoworkersJoin,\n      isWaitingRoomGuestDisabled:\n        meeting.isOnlyAuthUserJoin || (showE2EE && meeting.e2ee),\n      isWaitingRoomAllDisabled: false,\n      isAuthenticatedCanJoinDisabled:\n        isE2eeRelatedOptionsDisabled ||\n        configDisabled ||\n        (showRcvAdminLock && meeting.settingLock?.isOnlyAuthUserJoin),\n      isAuthUserTypeDisabled:\n        disabled ||\n        configDisabled ||\n        (showRcvAdminLock && meeting.settingLock?.isOnlyCoworkersJoin),\n      isSignedInUsersDisabled: false,\n      isSignedInCoWorkersDisabled: false,\n    };\n  }\n\n  getUIFunctions({ schedule }) {\n    return {\n      updateScheduleFor: (userExtensionId: string) =>\n        this._rcVideo.updateScheduleFor(userExtensionId),\n      updateMeetingSettings: (value: RcVMeetingModel) =>\n        this._rcVideo.updateMeetingSettings(value),\n      validatePasswordSettings: (\n        password: string,\n        isSecret: boolean,\n      ): boolean => {\n        return this._rcVideo.validatePasswordSettings(password, isSecret);\n      },\n      switchUsePersonalMeetingId: (usePersonalMeetingId: boolean) =>\n        this._rcVideo.switchUsePersonalMeetingId(usePersonalMeetingId),\n      schedule: async (meetingInfo: RcVMeetingModel, opener: Window) => {\n        if (schedule) {\n          await schedule(meetingInfo, opener);\n          return;\n        }\n        if (meetingInfo.usePersonalMeetingId) {\n          await this._rcVideo.updateMeeting(\n            this._rcVideo.personalMeeting.id,\n            meetingInfo,\n          );\n        } else {\n          await this._rcVideo.createMeeting(meetingInfo);\n        }\n      },\n      updateHasSettingsChanged: this._rcVideo.updateHasSettingsChanged,\n      init: () => {\n        this._rcVideo.init();\n      },\n      e2eeInteractFunc: (e2eeValue: boolean) => {\n        if (!e2eeValue) {\n          this._rcVideo.updateMeetingSettings({\n            e2ee: e2eeValue,\n          });\n          return;\n        }\n        // when user turn on e2ee option in pmi meeting, should switch to non-pmi meeting\n        if (this._rcVideo.meeting.usePersonalMeetingId) {\n          this._rcVideo.switchUsePersonalMeetingId(false);\n          this._rcVideo.updateMeetingSettings({\n            e2ee: true,\n            ...RCV_E2EE_DEFAULT_SECURITY_OPTIONS,\n          });\n        } else {\n          this._rcVideo.updateMeetingSettings({\n            e2ee: e2eeValue,\n            ...RCV_E2EE_DEFAULT_SECURITY_OPTIONS,\n          });\n        }\n        this._rcVideo.updateHasSettingsChanged(true);\n      },\n    };\n  }\n}\n"],"file":"index.js"}