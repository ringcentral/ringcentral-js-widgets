{"version":3,"file":"CallHistoryUI.js","names":["_di","require","_formatNumber","_core","_i18n","_interopRequireDefault","_dec","_class","e","__esModule","_regenerator","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","CallHistoryUI","exports","Module","name","deps","dep","optional","_RcUIModuleV","getUIProps","_ref","_this$_deps$extension","_this$_deps$extension2","_this$_deps$extension3","_this$_deps$extension4","_this$_deps$extension5","_ref$enableContactFal","enableContactFallback","_ref$useNewList","useNewList","_ref$showCallerIdName","showCallerIdName","brand","_deps","title","i18n","getString","locale","currentLocale","calls","callHistory","latestCalls","areaCode","regionSettings","countryCode","currentSiteCode","extensionInfo","site","code","isMultipleSiteEnabled","disableLinks","connectivityManager","isOfflineMode","isVoipOnlyMode","rateLimiter","throttling","disableCallButton","isWebphoneUnavailableMode","isWebphoneInitializing","disableClickToDial","isIdle","outboundSmsPermission","appFeatures","hasOutboundSMSPermission","internalSmsPermission","hasInternalSMSPermission","loggingMap","callLogger","showSpinner","ready","dateTimeFormat","connectivityMonitor","composeText","autoLog","enableCDC","isCDCEnabled","maxExtensionNumberLength","accountInfo","getUIFunctions","_ref2","_this","onCreateContact","_ref2$dateTimeFormatt","dateTimeFormatter","_this$_deps$dateTimeF","formatDateTime","onLogCall","isLoggedContact","_ref2$dialerRoute","dialerRoute","_ref2$composeTextRout","composeTextRoute","onViewContact","formatPhone","phoneNumber","_this$_deps$extension6","_this$_deps$extension7","_this$_deps$extension8","formatNumber","maxExtensionLength","siteCode","_ref3","_ref3$contact","contact","type","id","contactDetailsUI","showContactDetails","direct","_ref5","_callee","_ref4","entityType","hasMatchNumber","_context","contactMatcher","ignoreCache","forceMatchNumber","_x","undefined","onClickToDial","dialerUI","isCallingEnabled","recipient","routerInteraction","push","trackCallMadeFrom","onClickToCall","onClickToSms","_ref6","_callee2","isDummyContact","_args2","_context2","updateTypingToNumber","contactSearch","search","searchString","addToNumber","typingToNumber","cleanTypingToNumber","onClickToSMS","_x2","_ref8","_callee3","_ref7","_ref7$redirect","redirect","_context3","logCall","_x3","RcUIModuleV2"],"sources":["modules/CallHistoryUI/CallHistoryUI.ts"],"sourcesContent":["import type { Entity } from '@ringcentral-integration/commons/interfaces/Entity.interface';\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport type { ToNumber } from '@ringcentral-integration/commons/modules/ComposeText';\nimport type { DateTimeFormat } from '@ringcentral-integration/commons/modules/DateTimeFormat';\nimport { RcUIModuleV2 } from '@ringcentral-integration/core';\n\nimport type { OnCreateContactOptions } from '../CallsListUI/CallsListUI.interface';\n\nimport type {\n  CallHistoryUIComponentProps,\n  Deps,\n} from './CallHistoryUI.interface';\nimport i18n from './i18n';\n\n/**\n * TODO:\n * * Add type info for getUIProps and getUIFunctions when CallsPanel is refactored into ts.\n */\n@Module({\n  name: 'CallHistoryUI',\n  deps: [\n    'Locale',\n    'Brand',\n    'CallHistory',\n    'RegionSettings',\n    'ConnectivityMonitor',\n    'RateLimiter',\n    'DateTimeFormat',\n    'AppFeatures',\n    'AccountInfo',\n    { dep: 'CallLogger', optional: true },\n    { dep: 'Call', optional: true },\n    { dep: 'ComposeText', optional: true },\n    { dep: 'DialerUI', optional: true },\n    { dep: 'ContactDetailsUI', optional: true },\n    { dep: 'ExtensionInfo', optional: true },\n    'ContactMatcher',\n    'RouterInteraction',\n    'ContactSearch',\n    'ConnectivityManager',\n  ],\n})\nexport class CallHistoryUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  getUIProps({\n    enableContactFallback = false,\n    useNewList = false,\n    showCallerIdName = false,\n  }: CallHistoryUIComponentProps) {\n    return {\n      enableContactFallback,\n      brand: this._deps.brand.name,\n      title: i18n.getString('title', this._deps.locale.currentLocale),\n      currentLocale: this._deps.locale.currentLocale,\n      calls: this._deps.callHistory.latestCalls,\n      areaCode: this._deps.regionSettings.areaCode,\n      countryCode: this._deps.regionSettings.countryCode,\n      currentSiteCode: this._deps.extensionInfo?.site?.code ?? '',\n      isMultipleSiteEnabled:\n        this._deps.extensionInfo?.isMultipleSiteEnabled ?? false,\n      disableLinks:\n        this._deps.connectivityManager.isOfflineMode ||\n        this._deps.connectivityManager.isVoipOnlyMode ||\n        this._deps.rateLimiter.throttling,\n      disableCallButton:\n        this._deps.connectivityManager.isOfflineMode ||\n        this._deps.connectivityManager.isWebphoneUnavailableMode ||\n        this._deps.connectivityManager.isWebphoneInitializing ||\n        this._deps.rateLimiter.throttling,\n      disableClickToDial: !(this._deps.call && this._deps.call.isIdle),\n      outboundSmsPermission: this._deps.appFeatures.hasOutboundSMSPermission,\n      internalSmsPermission: this._deps.appFeatures.hasInternalSMSPermission,\n      loggingMap: this._deps.callLogger && this._deps.callLogger.loggingMap,\n      showSpinner: !(\n        this._deps.callHistory.ready &&\n        this._deps.locale.ready &&\n        this._deps.regionSettings.ready &&\n        this._deps.dateTimeFormat.ready &&\n        this._deps.connectivityMonitor.ready &&\n        this._deps.appFeatures.ready &&\n        (!this._deps.call || this._deps.call.ready) &&\n        (!this._deps.composeText || this._deps.composeText.ready) &&\n        (!this._deps.callLogger || this._deps.callLogger.ready)\n      ),\n      autoLog: !!(this._deps.callLogger && this._deps.callLogger.autoLog),\n      useNewList,\n      enableCDC: this._deps.appFeatures.isCDCEnabled,\n      maxExtensionNumberLength: this._deps.accountInfo.maxExtensionNumberLength,\n      showCallerIdName,\n    };\n  }\n\n  getUIFunctions({\n    onCreateContact,\n    // @ts-expect-error TS(2322): Type '(args_0: Partial<FormatDateTimeOptions>) => ... Remove this comment to see the full error message\n    dateTimeFormatter = (\n      ...args: Parameters<DateTimeFormat['formatDateTime']>\n    ) => this._deps.dateTimeFormat.formatDateTime(...args),\n    onLogCall,\n    isLoggedContact,\n    dialerRoute = '/dialer',\n    composeTextRoute = '/composeText',\n    onViewContact,\n  }: CallHistoryUIComponentProps) {\n    return {\n      formatPhone: (phoneNumber: string) =>\n        formatNumber({\n          phoneNumber,\n          areaCode: this._deps.regionSettings.areaCode,\n          countryCode: this._deps.regionSettings.countryCode,\n          maxExtensionLength: this._deps.accountInfo.maxExtensionNumberLength,\n          isMultipleSiteEnabled:\n            this._deps.extensionInfo?.isMultipleSiteEnabled,\n          siteCode: this._deps.extensionInfo?.site?.code,\n        }),\n      dateTimeFormatter,\n      onViewContact:\n        onViewContact ||\n        (({ contact: { type, id } }) => {\n          if (this._deps.contactDetailsUI) {\n            this._deps.contactDetailsUI.showContactDetails({\n              type,\n              id,\n              direct: true,\n            });\n          }\n        }),\n      onCreateContact: onCreateContact\n        ? async ({ phoneNumber, name, entityType }: OnCreateContactOptions) => {\n            const hasMatchNumber =\n              await this._deps.contactMatcher.hasMatchNumber({\n                phoneNumber,\n                ignoreCache: true,\n              });\n\n            if (!hasMatchNumber) {\n              await onCreateContact({ phoneNumber, name, entityType });\n              await this._deps.contactMatcher.forceMatchNumber({ phoneNumber });\n            }\n          }\n        : undefined,\n      onClickToDial:\n        this._deps.dialerUI && this._deps.appFeatures.isCallingEnabled\n          ? (recipient: any) => {\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              if (this._deps.call.isIdle) {\n                this._deps.routerInteraction.push(dialerRoute);\n                // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n                this._deps.dialerUI.call({\n                  recipient,\n                  trackCallMadeFrom: 'Call history',\n                });\n                this._deps.callHistory.onClickToCall();\n              }\n            }\n          : undefined,\n      onClickToSms: this._deps.composeText\n        ? // TODO: find a better way to define contact type\n          async (contact: Entity & ToNumber, isDummyContact = false) => {\n            if (this._deps.routerInteraction) {\n              this._deps.routerInteraction.push(composeTextRoute);\n            }\n            // if contact autocomplete, if no match fill the number only\n            if (contact.name && contact.phoneNumber && isDummyContact) {\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              this._deps.composeText.updateTypingToNumber(contact.name);\n              this._deps.contactSearch.search({ searchString: contact.name });\n            } else {\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              this._deps.composeText.addToNumber(contact);\n              if (\n                // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n                this._deps.composeText.typingToNumber === contact.phoneNumber\n              ) {\n                // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n                this._deps.composeText.cleanTypingToNumber();\n              }\n            }\n            this._deps.callHistory.onClickToSMS();\n          }\n        : undefined,\n      isLoggedContact,\n      onLogCall:\n        onLogCall ||\n        (this._deps.callLogger &&\n          (async ({ call, contact, redirect = true }) => {\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            await this._deps.callLogger.logCall({\n              call,\n              contact,\n              redirect,\n            });\n          })),\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}