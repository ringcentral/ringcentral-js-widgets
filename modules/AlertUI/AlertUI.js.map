{"version":3,"sources":["modules/AlertUI/AlertUI.ts"],"names":["AlertUI","name","deps","dep","optional","className","classes","size","messageAlign","fullWidth","currentLocale","_deps","locale","messages","alert","brand","getAdditionalRenderer","regionSettingsUrl","callingSettingsUrl","getRenderer","message","renderer","softphone","rateLimiter","routerInteraction","callLogSection","dismiss","id","RcUIModuleV2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAMA;;;;;;;;;;;;;;;;;;;;;;;;IA6BaA,O,WArBZ,gBAAO;AACNC,EAAAA,IAAI,EAAE,SADA;AAENC,EAAAA,IAAI,EAAE,CACJ,OADI,EAEJ,OAFI,EAGJ,QAHI,EAIJ,mBAJI,EAKJ;AACEC,IAAAA,GAAG,EAAE,aADP;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GALI,EASJ;AACED,IAAAA,GAAG,EAAE,WADP;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GATI,EAaJ;AACED,IAAAA,GAAG,EAAE,gBADP;AAEEC,IAAAA,QAAQ,EAAE;AAFZ,GAbI;AAFA,CAAP,C;;;;;AAsBC,mBAAYF,IAAZ,EAAwB;AAAA;;AAAA,6BAChB;AAAEA,MAAAA,IAAI,EAAJA;AAAF,KADgB;AAEvB;;;;qCAQ+D;AAAA,UAL9DG,SAK8D,QAL9DA,SAK8D;AAAA,UAJ9DC,OAI8D,QAJ9DA,OAI8D;AAAA,UAH9DC,IAG8D,QAH9DA,IAG8D;AAAA,UAF9DC,YAE8D,QAF9DA,YAE8D;AAAA,UAD9DC,SAC8D,QAD9DA,SAC8D;AAC9D,aAAO;AACLJ,QAAAA,SAAS,EAATA,SADK;AAELC,QAAAA,OAAO,EAAPA,OAFK;AAGLC,QAAAA,IAAI,EAAJA,IAHK;AAILC,QAAAA,YAAY,EAAZA,YAJK;AAKLC,QAAAA,SAAS,EAATA,SALK;AAMLC,QAAAA,aAAa,EAAE,KAAKC,KAAL,CAAWC,MAAX,CAAkBF,aAN5B;AAOLG,QAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWG,KAAX,CAAiBD,QAPtB;AAQLE,QAAAA,KAAK,EAAE,KAAKJ,KAAL,CAAWI,KAAX,CAAiBd;AARnB,OAAP;AAUD;;;0CAMmE;AAAA;;AAAA,UAHlEe,qBAGkE,SAHlEA,qBAGkE;AAAA,UAFlEC,iBAEkE,SAFlEA,iBAEkE;AAAA,UADlEC,kBACkE,SADlEA,kBACkE;AAClE,aAAO;AACLC,QAAAA,WAAW,EAAE,qBAACC,OAAD,EAAkC;AAC7C,cAAIJ,qBAAJ,EAA2B;AACzB,gBAAMK,QAAQ,GAAGL,qBAAqB,GAAGI,OAAH,CAAtC;;AACA,gBAAIC,QAAJ,EAAc;AACZ,qBAAOA,QAAP;AACD;AACF;;AAN4C,4BAczC,KAAI,CAACV,KAdoC;AAAA,cAQ3CG,KAR2C,eAQ3CA,KAR2C;AAAA,cAS3CC,KAT2C,eAS3CA,KAT2C;AAAA,cAU3CO,SAV2C,eAU3CA,SAV2C;AAAA,cAW3CC,WAX2C,eAW3CA,WAX2C;AAAA,cAY3CC,iBAZ2C,eAY3CA,iBAZ2C;AAAA,cAa3CC,cAb2C,eAa3CA,cAb2C,EAe7C;;AACA,iBAAO,kCAAc;AACnBX,YAAAA,KAAK,EAALA,KADmB;AAEnBC,YAAAA,KAAK,EAALA,KAFmB;AAGnB;AACA;AACAO,YAAAA,SAAS,EAATA,SALmB;AAMnBC,YAAAA,WAAW,EAAXA,WANmB;AAOnBC,YAAAA,iBAAiB,EAAjBA,iBAPmB;AAQnBC,YAAAA,cAAc,EAAdA,cARmB;AASnBR,YAAAA,iBAAiB,EAAjBA,iBATmB;AAUnBC,YAAAA,kBAAkB,EAAlBA;AAVmB,WAAd,EAWJE,OAXI,CAAP;AAYD,SA7BI;AA8BLM,QAAAA,OAAO,EAAE,iBAACC,EAAD;AAAA,iBAAgB,KAAI,CAAChB,KAAL,CAAWG,KAAX,CAAiBY,OAAjB,CAAyBC,EAAzB,CAAhB;AAAA;AA9BJ,OAAP;AAgCD;;;;EA7D0BC,kB","sourcesContent":["import { Module } from '@ringcentral-integration/commons/lib/di';\nimport {\n  RcUIModuleV2,\n  UIFunctions,\n  UIProps,\n} from '@ringcentral-integration/core';\n\nimport { AlertRenderer } from '../../components/AlertRenderer';\nimport {\n  NotificationMessage,\n  NotificationPanelProps,\n} from '../../components/NotificationPanel/NotificationPanel.interface';\nimport { NotificationContainerProps } from '../../containers/NotificationContainer/NotificationContainer.interface';\nimport { Deps } from './AlertUI.interface';\n\n@Module({\n  name: 'AlertUI',\n  deps: [\n    'Brand',\n    'Alert',\n    'Locale',\n    'RouterInteraction',\n    {\n      dep: 'RateLimiter',\n      optional: true,\n    },\n    {\n      dep: 'Softphone',\n      optional: true,\n    },\n    {\n      dep: 'CallLogSection',\n      optional: true,\n    },\n  ],\n})\nexport class AlertUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({ deps });\n  }\n\n  getUIProps({\n    className,\n    classes,\n    size,\n    messageAlign,\n    fullWidth,\n  }: NotificationContainerProps): UIProps<NotificationPanelProps> {\n    return {\n      className,\n      classes,\n      size,\n      messageAlign,\n      fullWidth,\n      currentLocale: this._deps.locale.currentLocale,\n      messages: this._deps.alert.messages as NotificationMessage[],\n      brand: this._deps.brand.name,\n    };\n  }\n\n  getUIFunctions({\n    getAdditionalRenderer,\n    regionSettingsUrl,\n    callingSettingsUrl,\n  }: NotificationContainerProps): UIFunctions<NotificationPanelProps> {\n    return {\n      getRenderer: (message: NotificationMessage) => {\n        if (getAdditionalRenderer) {\n          const renderer = getAdditionalRenderer()(message);\n          if (renderer) {\n            return renderer;\n          }\n        }\n        const {\n          alert,\n          brand,\n          softphone,\n          rateLimiter,\n          routerInteraction,\n          callLogSection,\n        } = this._deps;\n        // TODO: It would be better to refactor alertUI like modalUI.registerRenderer.\n        return AlertRenderer({\n          alert,\n          brand,\n          // support jupiterAppName with dynamicConfig, should remove this and use brandConfig\n          // instead once dynamicConfig module is deprecated\n          softphone,\n          rateLimiter,\n          routerInteraction,\n          callLogSection,\n          regionSettingsUrl,\n          callingSettingsUrl,\n        })(message);\n      },\n      dismiss: (id: string) => this._deps.alert.dismiss(id),\n    };\n  }\n}\n"],"file":"AlertUI.js"}