{"version":3,"file":"CompanyContacts.js","names":["_core","require","_ramda","_extensionStatusTypes","_extensionTypes","_phoneTypes","_subscriptionFilters","_di","_fetchList","_interopRequireDefault","_DataFetcherV","_dec","_dec2","_dec3","_dec4","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","e","__esModule","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","n","_objectWithoutProperties","o","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","indexOf","propertyIsEnumerable","hasOwnProperty","asyncGeneratorStep","c","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","configurable","writable","_initializerDefineProperty","l","initializer","_classCallCheck","_defineProperties","key","_createClass","prototype","_toPrimitive","_typeof","toPrimitive","String","Number","_inherits","create","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","reverse","reduce","_initializerWarningHelper","Error","contactsRegExp","DEFAULT_TTL","DEFAULT_SHOW_DISABLED","DEFAULT_SHOW_NOT_ACTIVATED","DEFAULT_ALLOW_SETTINGS","DEFAULT_SELECTED_TYPES","extensionTypes","digitalUser","user","department","CompanyContacts","Module","deps","dep","optional","computed","_ref","selectedTypes","showDisabled","showNotActivated","_ref2","data","_extensionFilter","_ref3","_DataFetcherV2Consume","_super","_deps$companyContacts","_deps$companyContacts2","_deps$companyContacts3","_this","enableCache","companyContactsOptions","disableCache","storageKey","_stopWatching","_ref4","_ref4$ttl","ttl","_ref4$polling","polling","_source","DataSource","cleanOnReset","fetchFunction","_fetchFunction","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","fetchDataCore","abrupt","stop","readyCheckFunction","_deps","extensionFeatures","ready","permissionCheckFunction","_this$_deps$extension","_this$_deps$extension2","_this$_deps$extension3","features","ReadExtensions","available","dataFetcherV2","register","_fetchContacts","_callee2","params","response","item","_callee2$","_context2","enableCompanyPublicApi","client","service","platform","get","sent","json","account","directory","contacts","list","fetchContacts","_x","_fetchDataCore","_callee3","_this2","_callee3$","_context3","fetchList","setCompanyContactsData","_handleSubscription","message","_this$_deps$tabManage","_this$_deps$tabManage2","_message$body","tabManager","active","event","body","_this$data","_ref5","eventType","oldEtag","newEtag","contact","concat","reject","id","updateData","Date","now","onInit","_this3","getData","subscription","subscribe","subscriptionFilters","companyContacts","watch","onReset","_this$_stopWatching","companyContactsData","setShowDisabled","_showDisabled","setShowNotActivated","_showNotActivated","isAvailableExtension","extensionNumber","find","filteredContacts","ivrContacts","_this$_deps$companyCo","_this$_deps$companyCo2","allowSettings","_this$_deps$companyCo3","_ref6","_this$_showDisabled","_this$_deps$companyCo4","_this$_deps$companyCo5","_ref7","_this$_showNotActivat","_this$_deps$companyCo6","_this$_deps$companyCo7","_ref8","_this$_selectedTypes","_this$_deps$companyCo8","_this$_deps$companyCo9","_selectedTypes","_this4","typeFilter","acc","type","status","extensionStatusTypes","disabled","notActivated","_this$data2","_this$data3","ivrMenu","map","_item$phoneNumbers","phoneNumbers","phonetype","phoneTypes","extension","phoneNumber","DataFetcherV2Consumer","storage","state","action","exports"],"sources":["modules/CompanyContacts/CompanyContacts.ts"],"sourcesContent":["import type ContactResource from '@rc-ex/core/lib/definitions/ContactResource';\nimport {\n  action,\n  computed,\n  state,\n  storage,\n  watch,\n} from '@ringcentral-integration/core';\nimport type { ObjectMapValue } from '@ringcentral-integration/core/lib/ObjectMap';\nimport { filter, find, forEach, map, reduce, reject } from 'ramda';\nimport type { Unsubscribe } from 'redux';\n\nimport { extensionStatusTypes } from '../../enums/extensionStatusTypes';\nimport { extensionTypes } from '../../enums/extensionTypes';\nimport { phoneTypes } from '../../enums/phoneTypes';\nimport { subscriptionFilters } from '../../enums/subscriptionFilters';\nimport { Module } from '../../lib/di';\nimport fetchList from '../../lib/fetchList';\nimport { DataFetcherV2Consumer, DataSource } from '../DataFetcherV2';\n\nimport type { Deps } from './CompanyContacts.interface';\n\n/**\n * TODO:\n * 1. Consider moving the filters to some UI module for display contact list\n * 2. Find out whether there are other types should be searchable/matchable, but hidden in contact lists\n * 3. Find out whether isAvailableExtension can be better defined in our business logic layer\n * 4. Standardize and remove the IVR contacts special treatments\n */\n\nconst contactsRegExp = /.*\\/directory\\/contacts$/;\n\nconst DEFAULT_TTL = 24 * 60 * 60 * 1000;\nconst DEFAULT_SHOW_DISABLED = false;\nconst DEFAULT_SHOW_NOT_ACTIVATED = false;\nconst DEFAULT_ALLOW_SETTINGS = false;\n\nconst DEFAULT_SELECTED_TYPES: ObjectMapValue<typeof extensionTypes>[] = [\n  extensionTypes.digitalUser,\n  extensionTypes.user,\n  extensionTypes.department,\n  // extensionTypes.limited,\n  // extensionTypes.announcement,\n  // extensionTypes.applicationExtension,\n  // extensionTypes.bot,\n  // extensionTypes.faxUser,\n  // extensionTypes.ivrMenu,\n  // extensionTypes.pagingOnly,\n  // extensionTypes.parkLocation,\n  // extensionTypes.sharedLinesGroup,\n];\n\n@Module({\n  name: 'CompanyContacts',\n  deps: [\n    'Client',\n    'ExtensionFeatures',\n    'DataFetcherV2',\n    'Subscription',\n    'Storage',\n    { dep: 'TabManager', optional: true },\n    { dep: 'CompanyContactsOptions', optional: true },\n  ],\n})\nexport class CompanyContacts extends DataFetcherV2Consumer<\n  Deps,\n  ContactResource[]\n> {\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Unsubscribe... Remove this comment to see the full error message\n  protected _stopWatching: Unsubscribe = null;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: !(deps.companyContactsOptions?.disableCache ?? false),\n      storageKey: 'CompanyContacts',\n    });\n    const { ttl = DEFAULT_TTL, polling = true } =\n      deps.companyContactsOptions ?? {};\n    this._source = new DataSource({\n      ...deps.companyContactsOptions,\n      key: 'companyContacts',\n      polling,\n      ttl,\n      cleanOnReset: true,\n      fetchFunction: async () => {\n        await this.fetchDataCore();\n        return [];\n      },\n      readyCheckFunction: () => this._deps.extensionFeatures.ready,\n      permissionCheckFunction: () =>\n        this._deps.extensionFeatures.features?.ReadExtensions?.available ??\n        false,\n    });\n    this._deps.dataFetcherV2.register(this._source);\n  }\n\n  protected async fetchContacts(params: any) {\n    if (this.enableCompanyPublicApi) {\n      const response = await this._deps.client.service\n        .platform()\n        .get('/restapi/v1.0/account/~/directory/entries', params);\n\n      return response.json();\n    }\n    const item = this._deps.client\n      .account()\n      .directory()\n      .contacts()\n      .list(params);\n    return item;\n  }\n\n  protected async fetchDataCore() {\n    const data = await fetchList((params) => this.fetchContacts(params));\n    // @ts-expect-error TS(2345): Argument of type 'unknown[]' is not assignable to ... Remove this comment to see the full error message\n    this.setCompanyContactsData(data);\n  }\n\n  // company directory events is missing in official swagger spec\n  protected _handleSubscription(message: any) {\n    if (\n      this.ready &&\n      (this._source.disableCache || (this._deps.tabManager?.active ?? true)) &&\n      contactsRegExp.test(message?.event) &&\n      message?.body?.contacts\n    ) {\n      let data = this.data ?? [];\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      forEach(({ eventType, oldEtag, newEtag, ...contact }) => {\n        if (eventType === 'Create' || eventType === 'Update') {\n          data = [...reject((item) => item.id === contact.id, data), contact];\n        } else if (eventType === 'Delete') {\n          data = [...reject((item) => item.id === contact.id, data)];\n        }\n      }, message.body.contacts);\n      this._deps.dataFetcherV2.updateData(this._source, data, Date.now());\n    }\n  }\n\n  override onInit() {\n    // for compatibility with old version cache\n    const data = this._deps.dataFetcherV2.getData(this._source);\n    if (data?.length > 0) {\n      this._deps.dataFetcherV2.updateData(this._source, [], Date.now());\n      this.setCompanyContactsData(data);\n    }\n    this._deps.subscription.subscribe([subscriptionFilters.companyContacts]);\n    this._stopWatching = watch(\n      this,\n      () => this._deps.subscription.message,\n      (message) => this._handleSubscription(message),\n    );\n  }\n\n  override onReset() {\n    this._stopWatching?.();\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Unsubscribe... Remove this comment to see the full error message\n    this._stopWatching = null;\n  }\n\n  get allowSettings() {\n    return (\n      this._deps.companyContactsOptions?.allowSettings ?? DEFAULT_ALLOW_SETTINGS\n    );\n  }\n\n  get enableCompanyPublicApi() {\n    return !!this._deps.companyContactsOptions?.enableCompanyPublicApi;\n  }\n\n  @storage\n  @state\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'boolean'.\n  _showDisabled: boolean = null;\n\n  @storage\n  @state\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'boolean'.\n  _showNotActivated: boolean = null;\n\n  @storage\n  @state\n  companyContactsData: ContactResource[] = [];\n\n  @action\n  setCompanyContactsData(data: ContactResource[]) {\n    this.companyContactsData = data;\n  }\n\n  // just a workaround for the update performance issue\n  // TODO: refactor with type\n  override get data() {\n    return this.companyContactsData;\n  }\n\n  get extensionTypes() {\n    return extensionTypes;\n  }\n\n  @storage\n  @state\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type '(\"Announcem... Remove this comment to see the full error message\n  _selectedTypes: ObjectMapValue<typeof extensionTypes>[] = null;\n\n  @action\n  setShowDisabled(showDisabled: boolean) {\n    this._showDisabled = showDisabled;\n  }\n\n  @action\n  setShowNotActivated(showNotActivated: boolean) {\n    this._showNotActivated = showNotActivated;\n  }\n\n  get showDisabled() {\n    return (\n      (this.allowSettings\n        ? this._showDisabled ?? this._deps.companyContactsOptions?.showDisabled\n        : this._deps.companyContactsOptions?.showDisabled) ??\n      DEFAULT_SHOW_DISABLED\n    );\n  }\n\n  get showNotActivated() {\n    return (\n      (this.allowSettings\n        ? this._showNotActivated ??\n          this._deps.companyContactsOptions?.showNotActivated\n        : this._deps.companyContactsOptions?.showNotActivated) ??\n      DEFAULT_SHOW_NOT_ACTIVATED\n    );\n  }\n\n  get selectedTypes() {\n    return (\n      (this.allowSettings\n        ? this._selectedTypes ??\n          this._deps.companyContactsOptions?.selectedTypes\n        : this._deps.companyContactsOptions?.selectedTypes) ??\n      DEFAULT_SELECTED_TYPES\n    );\n  }\n\n  @computed(\n    ({ selectedTypes, showDisabled, showNotActivated }: CompanyContacts) => [\n      selectedTypes,\n      showDisabled,\n      showNotActivated,\n    ],\n  )\n  get _extensionFilter() {\n    const typeFilter = reduce(\n      (acc, type) => {\n        acc[type] = true;\n        return acc;\n      },\n      {} as Record<string, boolean>,\n      this.selectedTypes,\n    );\n    return filter<ContactResource>(\n      (item) =>\n        !(\n          (!this.showDisabled &&\n            item.status === extensionStatusTypes.disabled) ||\n          (!this.showNotActivated &&\n            item.status === extensionStatusTypes.notActivated) ||\n          // @ts-expect-error TS(2538): Type 'undefined' cannot be used as an index type.\n          !typeFilter[item.type]\n        ),\n    );\n  }\n\n  @computed(({ data, _extensionFilter }: CompanyContacts) => [\n    data,\n    _extensionFilter,\n  ])\n  get filteredContacts() {\n    return this._extensionFilter(this.data ?? []);\n  }\n\n  @computed(({ data }: CompanyContacts) => [data])\n  get ivrContacts() {\n    const ivrContacts = filter(\n      (item) => item.type === extensionTypes.ivrMenu,\n      this.data ?? [],\n    );\n    return map((item) => {\n      return {\n        ...item,\n        phoneNumbers: [\n          ...(item.phoneNumbers ?? []),\n          {\n            phonetype: phoneTypes.extension,\n            phoneNumber: item.extensionNumber,\n          },\n        ],\n      };\n    }, ivrContacts);\n  }\n\n  isAvailableExtension(extensionNumber: string) {\n    return !!find(\n      (item) => item.extensionNumber === extensionNumber,\n      this.filteredContacts.concat(this.ivrContacts),\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}