{"version":3,"file":"CompanyContacts.js","names":["_core","require","_ramda","_extensionStatusTypes","_extensionTypes","_phoneTypes","_subscriptionFilters","_di","_fetchList","_interopRequireDefault","_DataFetcherV","_excluded","_dec","_dec2","_dec3","_dec4","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","e","__esModule","_toConsumableArray","r","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","a","_arrayLikeToArray","t","toString","call","slice","constructor","name","Array","from","test","Symbol","iterator","isArray","length","n","_objectWithoutProperties","o","i","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","indexOf","propertyIsEnumerable","hasOwnProperty","_regenerator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","d","bind","l","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","filter","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","reverse","reduce","_initializerWarningHelper","Error","contactsRegExp","DEFAULT_TTL","DEFAULT_SHOW_DISABLED","DEFAULT_SHOW_NOT_ACTIVATED","DEFAULT_ALLOW_SETTINGS","DEFAULT_SELECTED_TYPES","extensionTypes","digitalUser","user","department","CompanyContacts","exports","Module","deps","dep","optional","computed","_ref","selectedTypes","showDisabled","showNotActivated","_ref2","data","_extensionFilter","_ref3","_DataFetcherV2Consume","_deps$companyContacts","_deps$companyContacts2","_deps$companyContacts3","_this","enableCache","companyContactsOptions","disableCache","storageKey","_stopWatching","_ref4","_ref4$ttl","ttl","_ref4$polling","polling","_source","DataSource","cleanOnReset","fetchFunction","_fetchFunction","_callee","_context","fetchDataCore","readyCheckFunction","_deps","extensionFeatures","ready","permissionCheckFunction","_this$_deps$extension","_this$_deps$extension2","_this$_deps$extension3","features","ReadExtensions","available","dataFetcherV2","register","subscription","filters","subscriptionFilters","companyContacts","_fetchContacts","_callee2","params","response","item","_context2","enableCompanyPublicApi","client","service","platform","get","json","account","directory","contacts","list","fetchContacts","_x","_fetchDataCore","_callee3","_this2","_context3","fetchList","setCompanyContactsData","_handleSubscription","message","_this$_deps$tabManage","_this$_deps$tabManage2","_message$body","tabManager","active","event","body","_this$data","_ref5","eventType","oldEtag","newEtag","contact","concat","reject","id","updateData","Date","now","onInit","_this3","getData","watch","onReset","_this$_stopWatching","_this$_deps$companyCo","_this$_deps$companyCo2","allowSettings","_this$_deps$companyCo3","companyContactsData","setShowDisabled","_showDisabled","setShowNotActivated","_showNotActivated","_ref6","_this$_showDisabled","_this$_deps$companyCo4","_this$_deps$companyCo5","_ref7","_this$_showNotActivat","_this$_deps$companyCo6","_this$_deps$companyCo7","_ref8","_this$_selectedTypes","_this$_deps$companyCo8","_this$_deps$companyCo9","_selectedTypes","_this4","typeFilter","acc","type","status","extensionStatusTypes","disabled","notActivated","_this$data2","_this$data3","ivrContacts","ivrMenu","map","_item$phoneNumbers","phoneNumbers","phonetype","phoneTypes","extension","phoneNumber","extensionNumber","isAvailableExtension","find","filteredContacts","DataFetcherV2Consumer","storage","state","action"],"sources":["modules/CompanyContacts/CompanyContacts.ts"],"sourcesContent":["import type ContactResource from '@rc-ex/core/lib/definitions/ContactResource';\nimport {\n  action,\n  computed,\n  state,\n  storage,\n  watch,\n} from '@ringcentral-integration/core';\nimport type { ObjectMapValue } from '@ringcentral-integration/core/lib/ObjectMap';\nimport { filter, find, forEach, map, reduce, reject } from 'ramda';\nimport type { Unsubscribe } from 'redux';\n\nimport { extensionStatusTypes } from '../../enums/extensionStatusTypes';\nimport { extensionTypes } from '../../enums/extensionTypes';\nimport { phoneTypes } from '../../enums/phoneTypes';\nimport { subscriptionFilters } from '../../enums/subscriptionFilters';\nimport { Module } from '../../lib/di';\nimport fetchList from '../../lib/fetchList';\nimport { DataFetcherV2Consumer, DataSource } from '../DataFetcherV2';\n\nimport type { Deps } from './CompanyContacts.interface';\n\n/**\n * TODO:\n * 1. Consider moving the filters to some UI module for display contact list\n * 2. Find out whether there are other types should be searchable/matchable, but hidden in contact lists\n * 3. Find out whether isAvailableExtension can be better defined in our business logic layer\n * 4. Standardize and remove the IVR contacts special treatments\n */\n\nconst contactsRegExp = /.*\\/directory\\/contacts$/;\n\nconst DEFAULT_TTL = 24 * 60 * 60 * 1000;\nconst DEFAULT_SHOW_DISABLED = false;\nconst DEFAULT_SHOW_NOT_ACTIVATED = false;\nconst DEFAULT_ALLOW_SETTINGS = false;\n\nconst DEFAULT_SELECTED_TYPES: ObjectMapValue<typeof extensionTypes>[] = [\n  extensionTypes.digitalUser,\n  extensionTypes.user,\n  extensionTypes.department,\n  // extensionTypes.limited,\n  // extensionTypes.announcement,\n  // extensionTypes.applicationExtension,\n  // extensionTypes.bot,\n  // extensionTypes.faxUser,\n  // extensionTypes.ivrMenu,\n  // extensionTypes.pagingOnly,\n  // extensionTypes.parkLocation,\n  // extensionTypes.sharedLinesGroup,\n];\n\n@Module({\n  name: 'CompanyContacts',\n  deps: [\n    'Client',\n    'ExtensionFeatures',\n    'DataFetcherV2',\n    'Subscription',\n    'Storage',\n    { dep: 'TabManager', optional: true },\n    { dep: 'CompanyContactsOptions', optional: true },\n  ],\n})\nexport class CompanyContacts extends DataFetcherV2Consumer<\n  Deps,\n  ContactResource[]\n> {\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Unsubscribe... Remove this comment to see the full error message\n  protected _stopWatching: Unsubscribe = null;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: !(deps.companyContactsOptions?.disableCache ?? false),\n      storageKey: 'CompanyContacts',\n    });\n    const { ttl = DEFAULT_TTL, polling = true } =\n      deps.companyContactsOptions ?? {};\n    this._source = new DataSource({\n      ...deps.companyContactsOptions,\n      key: 'companyContacts',\n      polling,\n      ttl,\n      cleanOnReset: true,\n      fetchFunction: async () => {\n        await this.fetchDataCore();\n        return [];\n      },\n      readyCheckFunction: () => this._deps.extensionFeatures.ready,\n      permissionCheckFunction: () =>\n        this._deps.extensionFeatures.features?.ReadExtensions?.available ??\n        false,\n    });\n    this._deps.dataFetcherV2.register(this._source);\n\n    this._deps.subscription.register(this, {\n      filters: [subscriptionFilters.companyContacts],\n    });\n  }\n\n  protected async fetchContacts(params: any) {\n    if (this.enableCompanyPublicApi) {\n      const response = await this._deps.client.service\n        .platform()\n        .get('/restapi/v1.0/account/~/directory/entries', params);\n\n      return response.json();\n    }\n    const item = this._deps.client\n      .account()\n      .directory()\n      .contacts()\n      .list(params);\n    return item;\n  }\n\n  protected async fetchDataCore() {\n    const data = await fetchList((params) => this.fetchContacts(params));\n    // @ts-expect-error TS(2345): Argument of type 'unknown[]' is not assignable to ... Remove this comment to see the full error message\n    this.setCompanyContactsData(data);\n  }\n\n  // company directory events is missing in official swagger spec\n  protected _handleSubscription(message?: any) {\n    if (\n      this.ready &&\n      (this._source.disableCache || (this._deps.tabManager?.active ?? true)) &&\n      message?.event &&\n      contactsRegExp.test(message.event) &&\n      message.body?.contacts\n    ) {\n      let data = this.data ?? [];\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      forEach(({ eventType, oldEtag, newEtag, ...contact }) => {\n        if (eventType === 'Create' || eventType === 'Update') {\n          data = [...reject((item) => item.id === contact.id, data), contact];\n        } else if (eventType === 'Delete') {\n          data = [...reject((item) => item.id === contact.id, data)];\n        }\n      }, message.body.contacts);\n      this._deps.dataFetcherV2.updateData(this._source, data, Date.now());\n    }\n  }\n\n  override onInit() {\n    // for compatibility with old version cache\n    const data = this._deps.dataFetcherV2.getData(this._source);\n    if (data?.length > 0) {\n      this._deps.dataFetcherV2.updateData(this._source, [], Date.now());\n      this.setCompanyContactsData(data);\n    }\n    this._stopWatching = watch(\n      this,\n      () => this._deps.subscription.message,\n      (message) => this._handleSubscription(message),\n    );\n  }\n\n  override onReset() {\n    this._stopWatching?.();\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'Unsubscribe... Remove this comment to see the full error message\n    this._stopWatching = null;\n  }\n\n  get allowSettings() {\n    return (\n      this._deps.companyContactsOptions?.allowSettings ?? DEFAULT_ALLOW_SETTINGS\n    );\n  }\n\n  get enableCompanyPublicApi() {\n    return !!this._deps.companyContactsOptions?.enableCompanyPublicApi;\n  }\n\n  @storage\n  @state\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'boolean'.\n  _showDisabled: boolean = null;\n\n  @storage\n  @state\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'boolean'.\n  _showNotActivated: boolean = null;\n\n  @storage\n  @state\n  companyContactsData: ContactResource[] = [];\n\n  @action\n  setCompanyContactsData(data: ContactResource[]) {\n    this.companyContactsData = data;\n  }\n\n  // just a workaround for the update performance issue\n  // TODO: refactor with type\n  override get data() {\n    return this.companyContactsData;\n  }\n\n  get extensionTypes() {\n    return extensionTypes;\n  }\n\n  @storage\n  @state\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type '(\"Announcem... Remove this comment to see the full error message\n  _selectedTypes: ObjectMapValue<typeof extensionTypes>[] = null;\n\n  @action\n  setShowDisabled(showDisabled: boolean) {\n    this._showDisabled = showDisabled;\n  }\n\n  @action\n  setShowNotActivated(showNotActivated: boolean) {\n    this._showNotActivated = showNotActivated;\n  }\n\n  get showDisabled() {\n    return (\n      (this.allowSettings\n        ? this._showDisabled ?? this._deps.companyContactsOptions?.showDisabled\n        : this._deps.companyContactsOptions?.showDisabled) ??\n      DEFAULT_SHOW_DISABLED\n    );\n  }\n\n  get showNotActivated() {\n    return (\n      (this.allowSettings\n        ? this._showNotActivated ??\n          this._deps.companyContactsOptions?.showNotActivated\n        : this._deps.companyContactsOptions?.showNotActivated) ??\n      DEFAULT_SHOW_NOT_ACTIVATED\n    );\n  }\n\n  get selectedTypes() {\n    return (\n      (this.allowSettings\n        ? this._selectedTypes ??\n          this._deps.companyContactsOptions?.selectedTypes\n        : this._deps.companyContactsOptions?.selectedTypes) ??\n      DEFAULT_SELECTED_TYPES\n    );\n  }\n\n  @computed(\n    ({ selectedTypes, showDisabled, showNotActivated }: CompanyContacts) => [\n      selectedTypes,\n      showDisabled,\n      showNotActivated,\n    ],\n  )\n  get _extensionFilter() {\n    const typeFilter = reduce(\n      (acc, type) => {\n        acc[type] = true;\n        return acc;\n      },\n      {} as Record<string, boolean>,\n      this.selectedTypes,\n    );\n    return filter<ContactResource>(\n      (item) =>\n        !(\n          (!this.showDisabled &&\n            item.status === extensionStatusTypes.disabled) ||\n          (!this.showNotActivated &&\n            item.status === extensionStatusTypes.notActivated) ||\n          // @ts-expect-error TS(2538): Type 'undefined' cannot be used as an index type.\n          !typeFilter[item.type]\n        ),\n    );\n  }\n\n  @computed(({ data, _extensionFilter }: CompanyContacts) => [\n    data,\n    _extensionFilter,\n  ])\n  get filteredContacts() {\n    return this._extensionFilter(this.data ?? []);\n  }\n\n  @computed(({ data }: CompanyContacts) => [data])\n  get ivrContacts() {\n    const ivrContacts = filter(\n      (item) => item.type === extensionTypes.ivrMenu,\n      this.data ?? [],\n    );\n    return map((item) => {\n      return {\n        ...item,\n        phoneNumbers: [\n          ...(item.phoneNumbers ?? []),\n          {\n            phonetype: phoneTypes.extension,\n            phoneNumber: item.extensionNumber,\n          },\n        ],\n      };\n    }, ivrContacts);\n  }\n\n  isAvailableExtension(extensionNumber: string) {\n    return !!find(\n      (item) => item.extensionNumber === extensionNumber,\n      this.filteredContacts.concat(this.ivrContacts),\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]}