{"version":3,"file":"EvAgentSessionUI.js","names":["_di","require","_core","_enums","_sortByName","_i18n","_interopRequireDefault","_dec","_dec2","_dec3","_dec4","_class","_class2","_descriptor","obj","__esModule","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","arr2","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","err","undefined","_initializerDefineProperty","property","descriptor","context","initializer","_classCallCheck","instance","Constructor","_defineProperties","props","_createClass","protoProps","staticProps","_toPrimitive","_typeof","String","input","hint","prim","toPrimitive","res","Number","_inherits","subClass","superClass","create","_setPrototypeOf","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","decorators","desc","reverse","reduce","decorator","_initializerWarningHelper","Error","EvAgentSessionUI","Module","deps","dep","optional","computed","that","_deps","locale","currentLocale","evAgentSession","inboundQueues","formGroup","selectedInboundQueueIds","evAuth","authenticateResponse","agents","agentId","_RcUIModuleV","_super","_this","enableCache","storageKey","_onStateChange","regeneratorRuntime","mark","_callee","_this$_deps$tabManage","wrap","_callee$","_context","prev","next","ready","tabManager","enable","_checkTabManagerEvent","stop","onStateChange","_checkTabManagerEvent2","_callee2","event","_callee2$","_context2","t0","tabManagerEvents","RE_CHOOSE_ACCOUNT","_onAccountReChoose","abrupt","setIsLoading","isLoading","onInit","_setConfigure","_callee4","_this2","_callee4$","_context4","block","_callee3","_callee3$","_context3","configureAgent","needAssignFormGroupValue","console","finish","setConfigure","showSaveEditionModal","_this3","modalUI","confirm","title","i18n","getString","content","confirmButtonText","cancelButtonText","childrenSize","onConfirm","onSaveUpdate","onCancel","resetFormGroup","goToSettingsPage","goToSettingsPageWhetherSessionChanged","isSessionChanged","_onSaveUpdate","_callee5","_callee5$","_context5","updateAgent","voiceConnectionChanged","_checkBoxOnChange","gateId","inboundQueuesState","setInboundQueuesState","index","findIndex","option","selectedInboundQueue","checked","_allCheckBoxOnChange","severalAssign","map","goBack","routerInteraction","submitInboundQueues","queues","cb","inboundQueue","setFormGroup","setLoginType","loginType","autoAnswer","selectedIntegratedSoftphone","defaultAutoAnswerOn","_onAccountReChoose2","_callee7","_this4","syncAllTabs","_args7","_callee7$","_context7","log","_callee6","_callee6$","_context6","hasMultipleTabs","send","evClient","ifSocketExist","closeSocket","setNotAuth","clearAgentId","getUIProps","_this$_deps$evAgentSe","skillProfileList","loginTypeList","isExternalPhone","_this$_deps$evAuth$ag","agentPermissions","allowAutoAnswer","allowLoginControl","allowInbound","_this$_deps$evAgentSe2","selectedSkillProfileId","extensionNumber","inboundQueuesFieldText","isExtensionNumber","showAutoAnswer","showInboundQueues","showSkillProfile","selectedAgent","_selectedAgent","showReChooseAccount","isOnlyOneAgent","getUIFunctions","_this5","setSkillProfileId","setExtensionNumber","setAutoAnswer","searchOption","text","_option$gateName","gateName","toLowerCase","includes","getAssignedInboundQueues","_ref3","isAllAssign","assignedInboundQueues","isSeveralAssign","checkBoxOnChange","allCheckBoxOnChange","onAccountReChoose","get","find","concat","dropDownOptions","None","_this$_deps$evAgentSe3","sortByName","id","loginTypes","integratedSoftphone","_this6","agent","RcUIModuleV2","storage","state","action","exports"],"sources":["modules/EvAgentSessionUI/EvAgentSessionUI.ts"],"sourcesContent":["import { Module } from '@ringcentral-integration/commons/lib/di';\nimport {\n  action,\n  computed,\n  RcUIModuleV2,\n  state,\n  storage,\n} from '@ringcentral-integration/core';\n\nimport type { LoginTypes } from '../../enums';\nimport { dropDownOptions, loginTypes, tabManagerEvents } from '../../enums';\nimport type {\n  ChangeQueueStateFn,\n  EvAgentSessionUIFunctions,\n  EvAgentSessionUIProps,\n} from '../../interfaces/EvAgentSessionUI.interface';\nimport type { AvailableQueue } from '../../interfaces/SelectableQueue.interface';\nimport { sortByName } from '../../lib/sortByName';\nimport type { Deps, SessionConfigUI } from './EvAgentSessionUI.interface';\nimport i18n from './i18n';\n\n@Module({\n  name: 'EvAgentSessionUI',\n  deps: [\n    'Locale',\n    'RouterInteraction',\n    'EvAuth',\n    'EvAgentSession',\n    'EvSettings',\n    'EvWorkingState',\n    'Storage',\n    'ModalUI',\n    'EvCallMonitor',\n    'Block',\n    'EvClient',\n    { dep: 'TabManager', optional: true },\n    { dep: 'EvAgentSessionUIOptions', optional: true },\n  ],\n})\nclass EvAgentSessionUI extends RcUIModuleV2<Deps> implements SessionConfigUI {\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'EvAgentSessionUI',\n    });\n  }\n\n  override async onStateChange() {\n    if (\n      this.ready &&\n      this._deps.tabManager.ready &&\n      this._deps.tabManager?.enable\n    ) {\n      await this._checkTabManagerEvent();\n    }\n  }\n\n  private async _checkTabManagerEvent() {\n    const { event } = this._deps.tabManager;\n    if (event) {\n      switch (event.name) {\n        case tabManagerEvents.RE_CHOOSE_ACCOUNT:\n          await this._onAccountReChoose();\n          break;\n        default:\n          break;\n      }\n    }\n  }\n\n  @storage\n  @state\n  isLoading = false;\n\n  @computed((that: EvAgentSessionUI) => [\n    that._deps.locale.currentLocale,\n    that._deps.evAgentSession.inboundQueues,\n    that._deps.evAgentSession.formGroup.selectedInboundQueueIds,\n  ])\n  get inboundQueuesFieldText() {\n    const { selectedInboundQueueIds } = this._deps.evAgentSession.formGroup;\n    const { inboundQueues } = this._deps.evAgentSession;\n    const { currentLocale } = this._deps.locale;\n\n    if (selectedInboundQueueIds.length === 1) {\n      const selectedInboundQueue = inboundQueues.find(\n        (inboundQueue) => inboundQueue.gateId === selectedInboundQueueIds[0],\n      );\n      return selectedInboundQueue.gateName;\n    }\n\n    if (selectedInboundQueueIds.length > 1) {\n      return `${i18n.getString('multiple', currentLocale)} (${\n        selectedInboundQueueIds.length\n      })`;\n    }\n\n    return i18n.getString(dropDownOptions.None, currentLocale);\n  }\n\n  @action\n  setIsLoading(isLoading: boolean) {\n    this.isLoading = isLoading;\n  }\n\n  override onInit() {\n    this.setIsLoading(false);\n  }\n\n  async setConfigure() {\n    await this._deps.block.next(async () => {\n      this.setIsLoading(true);\n      try {\n        await this._deps.evAgentSession.configureAgent({\n          needAssignFormGroupValue: true,\n        });\n      } catch (e) {\n        console.error(e);\n      } finally {\n        this.setIsLoading(false);\n      }\n    });\n  }\n\n  private showSaveEditionModal() {\n    const { currentLocale } = this._deps.locale;\n\n    this._deps.modalUI.confirm({\n      title: i18n.getString('saveEditionModalTitle', currentLocale),\n      content: i18n.getString('saveEditionModalContent', currentLocale),\n      confirmButtonText: i18n.getString('save', currentLocale),\n      cancelButtonText: i18n.getString('cancel', currentLocale),\n      childrenSize: 'small',\n      onConfirm: () => {\n        this.onSaveUpdate();\n      },\n      onCancel: () => {\n        this._deps.evAgentSession.resetFormGroup();\n        this._deps.evAgentSession.goToSettingsPage();\n      },\n    });\n  }\n\n  goToSettingsPageWhetherSessionChanged() {\n    if (this._deps.evAgentSession.isSessionChanged) {\n      return this.showSaveEditionModal();\n    }\n    this._deps.evAgentSession.goToSettingsPage();\n  }\n\n  async onSaveUpdate() {\n    if (!this._deps.evAgentSession.isSessionChanged) {\n      return this._deps.evAgentSession.goToSettingsPage();\n    }\n\n    await this._deps.evAgentSession.updateAgent(this.voiceConnectionChanged);\n  }\n\n  // InboundQueue Panel\n  @computed((that: EvAgentSessionUI) => [\n    that._deps.evAgentSession.formGroup.selectedInboundQueueIds,\n    that._deps.evAgentSession.inboundQueues,\n  ])\n  get inboundQueues() {\n    const {\n      inboundQueues,\n      formGroup: { selectedInboundQueueIds },\n    } = this._deps.evAgentSession;\n\n    return sortByName(\n      inboundQueues.map((inboundQueue) => {\n        return {\n          ...inboundQueue,\n          checked: !!selectedInboundQueueIds.find(\n            (id) => id === inboundQueue.gateId,\n          ),\n        };\n      }),\n      'gateName',\n    );\n  }\n\n  private _checkBoxOnChange(\n    gateId: string,\n    inboundQueuesState: AvailableQueue[],\n    setInboundQueuesState: ChangeQueueStateFn,\n  ) {\n    const inboundQueues = [...inboundQueuesState];\n    const index = inboundQueues.findIndex((option) => option.gateId === gateId);\n    const selectedInboundQueue = inboundQueues[index];\n\n    inboundQueues[index] = {\n      ...selectedInboundQueue,\n      checked: !selectedInboundQueue.checked,\n    };\n\n    setInboundQueuesState(inboundQueues);\n  }\n\n  private _allCheckBoxOnChange(\n    severalAssign: boolean,\n    inboundQueuesState: AvailableQueue[],\n    setInboundQueuesState: ChangeQueueStateFn,\n  ) {\n    const inboundQueues = [...inboundQueuesState].map((option) => {\n      return {\n        ...option,\n        // new object\n        checked: severalAssign || !option.checked,\n      };\n    });\n    setInboundQueuesState(inboundQueues);\n  }\n\n  goBack() {\n    this._deps.routerInteraction.goBack();\n  }\n\n  submitInboundQueues(queues: AvailableQueue[], cb: () => void) {\n    const selectedInboundQueueIds = queues.map(\n      (inboundQueue) => inboundQueue.gateId,\n    );\n    this._deps.evAgentSession.setFormGroup({ selectedInboundQueueIds });\n    cb();\n  }\n\n  get selectedIntegratedSoftphone() {\n    return (\n      this._deps.evAgentSession.formGroup.loginType ===\n      loginTypes.integratedSoftphone\n    );\n  }\n\n  get voiceConnectionChanged() {\n    return (\n      this._deps.evAgentSession.loginType !==\n      this._deps.evAgentSession.formGroup.loginType\n    );\n  }\n\n  setLoginType(loginType: LoginTypes) {\n    // set login type first, and reset autoAnswer after login type changed\n    this._deps.evAgentSession.setFormGroup({ loginType });\n    const autoAnswer = this.selectedIntegratedSoftphone\n      ? this._deps.evAgentSession.autoAnswer\n      : this._deps.evAgentSession.defaultAutoAnswerOn;\n    this._deps.evAgentSession.setFormGroup({\n      autoAnswer,\n    });\n  }\n\n  async _onAccountReChoose(syncAllTabs = false) {\n    console.log('_onAccountReChoose~~', syncAllTabs);\n    await this._deps.block.next(async () => {\n      if (syncAllTabs && this._deps.tabManager.hasMultipleTabs) {\n        this._deps.tabManager.send(tabManagerEvents.RE_CHOOSE_ACCOUNT);\n      }\n      if (this._deps.evClient.ifSocketExist) {\n        this._deps.evClient.closeSocket();\n      }\n      this._deps.evAuth.setNotAuth();\n      this._deps.evAuth.clearAgentId();\n      this._deps.routerInteraction.push('/chooseAccount');\n    });\n  }\n\n  @computed((that: EvAgentSessionUI) => [\n    that._deps.evAuth.authenticateResponse.agents,\n    that._deps.evAuth.agentId,\n  ])\n  get _selectedAgent() {\n    const agents = this._deps.evAuth.authenticateResponse.agents;\n    return agents.find((agent) => agent.agentId === this._deps.evAuth.agentId);\n  }\n\n  getUIProps(): EvAgentSessionUIProps {\n    const {\n      skillProfileList,\n      loginTypeList,\n      isExternalPhone,\n      // takingCall,\n    } = this._deps.evAgentSession;\n    const { allowAutoAnswer, allowLoginControl, allowInbound } =\n      this._deps.evAuth.agentPermissions;\n    const { selectedSkillProfileId, loginType, extensionNumber, autoAnswer } =\n      this._deps.evAgentSession.formGroup;\n    return {\n      selectedSkillProfileId,\n      loginType,\n      extensionNumber,\n      inboundQueuesFieldText: this.inboundQueuesFieldText,\n      // takingCall,\n      autoAnswer,\n      skillProfileList,\n      loginTypeList,\n      isExtensionNumber: isExternalPhone,\n      isLoading: this.isLoading,\n      currentLocale: this._deps.locale.currentLocale,\n      // InboundQueue Panel\n      inboundQueues: this.inboundQueues,\n      showAutoAnswer: allowAutoAnswer && this.selectedIntegratedSoftphone,\n      showInboundQueues: allowLoginControl && allowInbound,\n      showSkillProfile: allowLoginControl && skillProfileList.length > 0,\n      selectedAgent: this._selectedAgent,\n      showReChooseAccount: !this._deps.evAuth.isOnlyOneAgent,\n    };\n  }\n\n  getUIFunctions(): EvAgentSessionUIFunctions {\n    return {\n      setSkillProfileId: (selectedSkillProfileId) =>\n        this._deps.evAgentSession.setFormGroup({ selectedSkillProfileId }),\n      setLoginType: (loginType) => this.setLoginType(loginType),\n      setExtensionNumber: (extensionNumber) =>\n        this._deps.evAgentSession.setFormGroup({ extensionNumber }),\n      setAutoAnswer: (autoAnswer) =>\n        this._deps.evAgentSession.setFormGroup({ autoAnswer }),\n      submitInboundQueues: (queues, cb) => this.submitInboundQueues(queues, cb),\n      // setTakingCall: (takingCall) =>\n      //   this._deps.evAgentSession.setTakingCall(takingCall),\n      setConfigure: () => this.setConfigure(),\n      goToSettingsPage: () => this._deps.evAgentSession.goToSettingsPage(),\n      goToSettingsPageWhetherSessionChanged: () =>\n        this.goToSettingsPageWhetherSessionChanged(),\n      onSaveUpdate: () => this.onSaveUpdate(),\n      // InboundQueue Panel\n      searchOption: (option, text) =>\n        option?.gateName?.toLowerCase().includes(text.toLowerCase()),\n      goBack: () => this.goBack(),\n      getAssignedInboundQueues: (inboundQueues) =>\n        inboundQueues.filter(({ checked }) => checked),\n      isAllAssign: (assignedInboundQueues, inboundQueues) =>\n        !!assignedInboundQueues.length &&\n        assignedInboundQueues.length === inboundQueues.length,\n      isSeveralAssign: (assignedInboundQueues, inboundQueues) =>\n        !!assignedInboundQueues.length &&\n        assignedInboundQueues.length !== inboundQueues.length,\n      checkBoxOnChange: (...args) => this._checkBoxOnChange(...args),\n      allCheckBoxOnChange: (...args) => this._allCheckBoxOnChange(...args),\n      onAccountReChoose: () => this._onAccountReChoose(true),\n    };\n  }\n}\nexport { EvAgentSessionUI };\n"],"mappings":"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"}