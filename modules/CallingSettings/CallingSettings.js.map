{"version":3,"file":"CallingSettings.js","names":["_core","require","_contactHelper","_di","_proxify","_callingModes","_callingOptions","_callingSettingsMessages","_deprecatedCallingOptions","_mapOptionToMode","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_class","_class2","_descriptor","_descriptor2","asyncGeneratorStep","n","t","e","r","o","a","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","l","Object","defineProperty","enumerable","configurable","writable","initializer","call","_classCallCheck","TypeError","_defineProperties","length","_toPropertyKey","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","_initializerWarningHelper","Error","LOCATION_NUMBER_ORDER","BLOCKED_ID_VALUE","exports","CallingSettings","Module","name","deps","dep","optional","computed","that","_deps","extensionPhoneNumber","directNumbers","mainCompanyNumber","extensionInfo","extensionNumber","forwardingNumber","flipNumbers","callerIdNumbers","appFeatures","isRingOutEnabled","isWebPhoneEnabled","isSoftphoneEnabled","otherPhoneNumbers","numbers","myPhoneNumbers","availableNumbers","_RcModuleV","_super","_this$_deps$callingSe","_this$_deps$callingSe2","_this$_deps$callingSe3","_this$_deps$callingSe4","_this$_deps$callingSe5","_this$_deps$callingSe6","_this$_deps$callingSe7","_this$_deps$callingSe8","_this","enableCache","storageKey","_myPhoneNumbers","_onFirstLogin","_ringoutEnabled","_otherPhoneNumbers","_webphoneEnabled","_blockedIdDisabled","_showCallWithJupiter","_emergencyCallAvailable","_showCustomPhoneLabel","_availableNumbers","initRingoutPrompt","callingSettingsOptions","onFirstLogin","defaultRingoutPrompt","showCallWithJupiter","emergencyCallAvailable","webphone","showCustomPhoneLabel","setDataAction","_ref","_ref$callWith","callWith","_ref$ringoutPrompt","ringoutPrompt","_ref$myLocation","myLocation","_ref$timestamp","timestamp","_ref$isCustomLocation","isCustomLocation","data","_updateFromNumber","number","fromNumber","phoneNumber","_updateFromNumber2","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","updateFromNumber","_x","setAcknowledgeJPMessage","acknowledgeJPMessage","resetSuccess","_onStateChange","_callee2","_callee2$","_context2","_shouldReset","_shouldInit","_shouldValidate","isBlockedIdDisabled","_validateSettings","onStateChange","_onInitSuccess","_callee3","_callee3$","_context3","isWebphoneMode","_verifyJPEmergency","onInitSuccess","ready","_onInit","_callee4","_callee4$","_context4","_init","onInit","onReset","_handleFirstTimeLogin","defaultCallWith","callWithOptions","Date","now","_warningEmergencyCallingNotAvailable","_init2","_callee5","_callee5$","_context5","isCallingEnabled","abrupt","deprecatedCallingOptions","myphone","otherphone","customphone","callingOptions","ringout","_initFromNumber","_warningEmergencyCallingNotAvailable2","_callee6","_callee6$","_context6","browser","alert","warning","message","callingSettingsMessages","emergencyCallingNotAvailable","ttl","_validateSettings2","_callee7","_callee7$","_context7","_hasWebphonePermissionRemoved","_setSoftPhoneToCallWith","danger","webphonePermissionRemoved","_hasPermissionChanged","permissionChanged","_hasPhoneNumberChanged","phoneNumberChanged","_verifyJPEmergency2","_callee8","hasJapanNumber","_callee8$","_context8","fromNumbers","find","record","_record$country","country","id","disableEmergencyInJapan","_setSoftPhoneToCallWith2","_callee9","_callee9$","_context9","softphone","indexOf","_getLocationLabel","devices","extensionDevice","_this$_deps$extension","label","getExtensionPhoneNumberLabel","registeredWithDevice","device","phoneLines","phoneLine","_phoneLine$phoneInfo","phoneInfo","isFlipNumber","flipNumber","mainPhoneNumber","concat","_initFromNumber2","_callee10","_this$_deps$callerId","defaultCallerId","_this$_deps$callerId2","_this$_deps$callerId3","defaultPhoneNumber","defaultEntry","_callee10$","_context10","callerId","ringOut","type","item","_setData","_callee11","_ref2","withPrompt","_callee11$","_context11","success","saveSuccessWithSoftphone","jupiter","saveSuccessWithJupiter","saveSuccess","setData","_x2","_x3","get","_this$_deps$extension2","map","push","_this$_deps$extension3","filterMapping","filter","sort","b","_this$_deps$appFeatur","hasExtensionPhoneNumber","brand","isRingCentralAppEnabled","sortedPhoneNumbers","firstItem","lastItem","usageType","_this2","result","locationLabel","mapOptionToMode","callingMode","callingModes","storage","driver","_this$_deps$softphone","jupiterAppName","_this$_deps$extension4","_this$_deps$extension5","extensionFeatures","features","BlockingCallerId","available","RcModuleV2","state","action","getOwnPropertyDescriptor","proxify"],"sources":["modules/CallingSettings/CallingSettings.ts"],"sourcesContent":["import {\n  action,\n  computed,\n  RcModuleV2,\n  state,\n  storage,\n} from '@ringcentral-integration/core';\n\nimport { getExtensionPhoneNumberLabel } from '../../lib/contactHelper';\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\n\nimport type { Deps } from './CallingSettings.interface';\nimport { callingModes } from './callingModes';\nimport type { CallingOptionsType } from './callingOptions';\nimport { callingOptions } from './callingOptions';\nimport { callingSettingsMessages } from './callingSettingsMessages';\nimport { deprecatedCallingOptions } from './deprecatedCallingOptions';\nimport { mapOptionToMode } from './mapOptionToMode';\n\nconst LOCATION_NUMBER_ORDER = ['Other', 'Main'];\nexport const BLOCKED_ID_VALUE = 'anonymous';\n/**\n * @class\n * @description Call setting managing module\n */\n@Module({\n  name: 'CallingSettings',\n  deps: [\n    'Alert',\n    'Brand',\n    'Storage',\n    'ExtensionInfo',\n    'ExtensionDevice',\n    'ForwardingNumber',\n    'AppFeatures',\n    'ExtensionFeatures',\n    'ExtensionPhoneNumber',\n    { dep: 'CallerId', optional: true },\n    { dep: 'Webphone', optional: true },\n    { dep: 'Softphone', optional: true },\n    { dep: 'TabManager', optional: true },\n    { dep: 'CallingSettingsOptions', optional: true },\n  ],\n})\nclass CallingSettings extends RcModuleV2<Deps> {\n  private _myPhoneNumbers?: string[];\n  private _onFirstLogin?: () => {};\n  private _ringoutEnabled?: boolean;\n  private _otherPhoneNumbers?: string[];\n  private _webphoneEnabled?: boolean;\n  private _blockedIdDisabled?: boolean;\n  private _showCallWithJupiter: boolean;\n  private _emergencyCallAvailable: boolean;\n  private _showCustomPhoneLabel: boolean;\n  private _availableNumbers?: string[];\n  private initRingoutPrompt?: boolean;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'CallingSettings',\n    });\n    this._onFirstLogin = this._deps.callingSettingsOptions?.onFirstLogin;\n    this.initRingoutPrompt =\n      this._deps.callingSettingsOptions?.defaultRingoutPrompt;\n    this._showCallWithJupiter =\n      this._deps.callingSettingsOptions?.showCallWithJupiter ?? true;\n    this._emergencyCallAvailable =\n      this._deps.callingSettingsOptions?.emergencyCallAvailable ??\n      !!this._deps.webphone;\n    this._showCustomPhoneLabel =\n      this._deps.callingSettingsOptions?.showCustomPhoneLabel ?? false;\n  }\n\n  get callWith() {\n    return this.data.callWith;\n  }\n\n  get ringoutPrompt() {\n    return this.data.ringoutPrompt;\n  }\n\n  get myLocation() {\n    return this.data.myLocation;\n  }\n\n  get fromNumber() {\n    return this.data.fromNumber;\n  }\n\n  get timestamp() {\n    return this.data.timestamp;\n  }\n\n  get isCustomLocation() {\n    return this.data.isCustomLocation;\n  }\n\n  // For Japan Emergency Service notification\n  @storage\n  @state\n  acknowledgeJPMessage = false;\n\n  @storage\n  @state\n  data: {\n    callWith: string | null;\n    ringoutPrompt: boolean;\n    myLocation: string;\n    fromNumber: string | null | undefined;\n    timestamp: number | null;\n    isCustomLocation: boolean;\n  } = {\n    callWith: null,\n    ringoutPrompt: true,\n    myLocation: '',\n    fromNumber: null,\n    timestamp: null,\n    isCustomLocation: false,\n  };\n\n  @action\n  setDataAction({\n    callWith = this.callWith,\n    ringoutPrompt = this.ringoutPrompt,\n    myLocation = this.myLocation,\n    timestamp = this.timestamp,\n    isCustomLocation = this.isCustomLocation,\n  }: {\n    callWith?: CallingOptionsType | null;\n    ringoutPrompt?: boolean;\n    myLocation?: string;\n    timestamp?: number | null;\n    isCustomLocation?: boolean;\n  }) {\n    this.data.callWith = callWith;\n    this.data.ringoutPrompt = ringoutPrompt;\n    this.data.myLocation = myLocation;\n    this.data.timestamp = timestamp;\n    this.data.isCustomLocation = isCustomLocation;\n  }\n\n  @action\n  private _updateFromNumber(number: { phoneNumber?: string }) {\n    // TODO: should confirm is that should be undefined\n    this.data.fromNumber = number?.phoneNumber;\n  }\n\n  @proxify\n  async updateFromNumber(number: { phoneNumber?: string }) {\n    this._updateFromNumber(number);\n  }\n\n  @action\n  setAcknowledgeJPMessage(value: boolean) {\n    this.acknowledgeJPMessage = value;\n  }\n\n  @action\n  resetSuccess() {\n    this.data.fromNumber = null;\n    this.setAcknowledgeJPMessage(false);\n  }\n\n  override async onStateChange() {\n    if (!this._shouldReset() && !this._shouldInit() && this._shouldValidate()) {\n      this._ringoutEnabled = this._deps.appFeatures.isRingOutEnabled;\n      this._webphoneEnabled = this._deps.appFeatures.isWebPhoneEnabled;\n      this._myPhoneNumbers = this.myPhoneNumbers;\n      this._otherPhoneNumbers = this.otherPhoneNumbers;\n      this._blockedIdDisabled = this.isBlockedIdDisabled;\n      await this._validateSettings();\n    }\n  }\n\n  override async onInitSuccess() {\n    if (this.isWebphoneMode) {\n      this._verifyJPEmergency();\n    }\n  }\n\n  _shouldValidate() {\n    return (\n      this.ready &&\n      (this._ringoutEnabled !== this._deps.appFeatures.isRingOutEnabled ||\n        this._webphoneEnabled !== this._deps.appFeatures.isWebPhoneEnabled ||\n        this._myPhoneNumbers !== this.myPhoneNumbers ||\n        this._otherPhoneNumbers !== this.otherPhoneNumbers ||\n        this._blockedIdDisabled !== this.isBlockedIdDisabled)\n    );\n  }\n\n  override async onInit() {\n    await this._init();\n  }\n\n  override onReset() {\n    this.resetSuccess();\n  }\n\n  _handleFirstTimeLogin() {\n    if (!this.timestamp) {\n      // first time login\n      const defaultCallWith = this.callWithOptions && this.callWithOptions[0];\n      this.setDataAction({ callWith: defaultCallWith, timestamp: Date.now() });\n      if (!this._emergencyCallAvailable) {\n        this._warningEmergencyCallingNotAvailable();\n      }\n      if (typeof this._onFirstLogin === 'function') {\n        this._onFirstLogin();\n      }\n    }\n  }\n\n  async _init() {\n    if (!this._deps.appFeatures.isCallingEnabled) {\n      this.setDataAction({ callWith: null, timestamp: null });\n      return;\n    }\n\n    this._myPhoneNumbers = this.myPhoneNumbers;\n    this._otherPhoneNumbers = this.otherPhoneNumbers;\n    this._availableNumbers = this.availableNumbers;\n    this._ringoutEnabled = this._deps.appFeatures.isRingOutEnabled;\n    this._webphoneEnabled = this._deps.appFeatures.isWebPhoneEnabled;\n    this._blockedIdDisabled = this.isBlockedIdDisabled;\n\n    this._handleFirstTimeLogin();\n\n    if (\n      this.callWith === deprecatedCallingOptions.myphone ||\n      this.callWith === deprecatedCallingOptions.otherphone ||\n      this.callWith === deprecatedCallingOptions.customphone\n    ) {\n      this.setDataAction({\n        callWith: callingOptions.ringout,\n        isCustomLocation:\n          this.callWith === deprecatedCallingOptions.customphone,\n      });\n    }\n    await this._validateSettings();\n    await this._initFromNumber();\n  }\n\n  @proxify\n  async _warningEmergencyCallingNotAvailable() {\n    if (this.callWith === callingOptions.browser) {\n      this._deps.alert.warning({\n        message: callingSettingsMessages.emergencyCallingNotAvailable,\n        ttl: 0,\n      });\n    }\n  }\n\n  @proxify\n  async _validateSettings() {\n    if (this._hasWebphonePermissionRemoved()) {\n      if (this._deps.appFeatures.isSoftphoneEnabled) {\n        await this._setSoftPhoneToCallWith();\n      }\n      this._deps.alert.danger({\n        message: callingSettingsMessages.webphonePermissionRemoved,\n        ttl: 0,\n      });\n    } else if (this._hasPermissionChanged()) {\n      if (this._deps.appFeatures.isSoftphoneEnabled) {\n        await this._setSoftPhoneToCallWith();\n      }\n      this._deps.alert.danger({\n        message: callingSettingsMessages.permissionChanged,\n        ttl: 0,\n      });\n    } else if (this._hasPhoneNumberChanged()) {\n      this.setDataAction({\n        callWith: callingOptions.ringout,\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        myLocation: this._myPhoneNumbers[0],\n        timestamp: Date.now(),\n      });\n      this._deps.alert.danger({\n        message: callingSettingsMessages.phoneNumberChanged,\n        ttl: 0,\n      });\n    }\n\n    if (this.isBlockedIdDisabled && this.fromNumber === BLOCKED_ID_VALUE) {\n      this._initFromNumber();\n    }\n  }\n\n  @proxify\n  async _verifyJPEmergency() {\n    if (this.acknowledgeJPMessage) return;\n\n    const hasJapanNumber = !!this.fromNumbers.find(\n      (record) => record?.country?.id === '112',\n    );\n    if (hasJapanNumber) {\n      this._deps.alert.warning({\n        message: callingSettingsMessages.disableEmergencyInJapan,\n        ttl: 0,\n      });\n      this.setAcknowledgeJPMessage(true);\n    }\n  }\n\n  @proxify\n  async _setSoftPhoneToCallWith() {\n    this.setDataAction({\n      callWith: callingOptions.softphone,\n      timestamp: Date.now(),\n    });\n  }\n\n  _hasWebphonePermissionRemoved() {\n    return (\n      !(this._webphoneEnabled && this._deps.webphone) &&\n      this.callWith === callingOptions.browser\n    );\n  }\n\n  _hasPermissionChanged() {\n    return !this._ringoutEnabled && this.callWith === callingOptions.ringout;\n  }\n\n  _hasPhoneNumberChanged() {\n    return (\n      this.callWith === callingOptions.ringout &&\n      !this.isCustomLocation &&\n      this._availableNumbers!.indexOf(this.myLocation) === -1\n    );\n  }\n\n  _getLocationLabel(phoneNumber: string) {\n    const { devices } = this._deps.extensionDevice;\n    const { flipNumbers } = this._deps.forwardingNumber;\n    const { mainCompanyNumber, numbers } = this._deps.extensionPhoneNumber;\n    const { extensionNumber } = this._deps.extensionInfo;\n    let name = null;\n    if (this._showCustomPhoneLabel && numbers.length) {\n      const label = getExtensionPhoneNumberLabel(phoneNumber, numbers);\n      if (label) {\n        return label;\n      }\n    }\n    if (devices.length) {\n      let registeredWithDevice = false;\n      devices.forEach((device) => {\n        const { phoneLines } = device;\n        if (phoneLines?.length) {\n          registeredWithDevice = !!phoneLines.find((phoneLine) => {\n            return phoneLine.phoneInfo?.phoneNumber === phoneNumber;\n          });\n          if (registeredWithDevice) {\n            name = device.name;\n          }\n        }\n      });\n      if (name) return name;\n    }\n    if (flipNumbers.length) {\n      const isFlipNumber = flipNumbers.find(\n        (flipNumber) => flipNumber.phoneNumber === phoneNumber,\n      );\n      if (isFlipNumber) {\n        return isFlipNumber.label || 'Other';\n      }\n    }\n\n    const mainPhoneNumber = `${mainCompanyNumber?.phoneNumber}*${extensionNumber}`;\n    if (phoneNumber === mainPhoneNumber) {\n      return 'Main';\n    }\n    return 'Other';\n  }\n\n  @proxify\n  async _initFromNumber() {\n    const fromNumber = this.fromNumber;\n    if (\n      !fromNumber ||\n      (fromNumber === BLOCKED_ID_VALUE && this.isBlockedIdDisabled)\n    ) {\n      let defaultCallerId = this.fromNumbers[0];\n      if (this._deps.callerId?.ringOut) {\n        if (\n          this._deps.callerId.ringOut.type === 'Blocked' &&\n          !this.isBlockedIdDisabled\n        ) {\n          defaultCallerId = { phoneNumber: BLOCKED_ID_VALUE };\n        } else if (this._deps.callerId.ringOut.type === 'PhoneNumber') {\n          const defaultPhoneNumber =\n            this._deps.callerId?.ringOut.phoneInfo?.phoneNumber;\n          const defaultEntry = this.fromNumbers.find(\n            (item) => item.phoneNumber === defaultPhoneNumber,\n          );\n          if (defaultEntry) {\n            defaultCallerId = defaultEntry;\n          }\n        }\n      }\n      await this.updateFromNumber(defaultCallerId);\n    }\n  }\n\n  @proxify\n  async setData(\n    {\n      callWith,\n      myLocation,\n      ringoutPrompt,\n      isCustomLocation,\n    }: {\n      callWith: CallingOptionsType;\n      myLocation: string;\n      ringoutPrompt: boolean;\n      isCustomLocation: boolean;\n    },\n    withPrompt: boolean,\n  ) {\n    this.setDataAction({\n      callWith,\n      myLocation,\n      ringoutPrompt,\n      timestamp: Date.now(),\n      isCustomLocation,\n    });\n    if (withPrompt) {\n      if (this.callWith === callingOptions.softphone) {\n        this._deps.alert.success({\n          message: callingSettingsMessages.saveSuccessWithSoftphone,\n        });\n      } else if (this.callWith === callingOptions.jupiter) {\n        this._deps.alert.success({\n          message: callingSettingsMessages.saveSuccessWithJupiter,\n        });\n      } else {\n        this._deps.alert.success({\n          message: callingSettingsMessages.saveSuccess,\n        });\n        if (!this._emergencyCallAvailable) {\n          this._warningEmergencyCallingNotAvailable();\n        }\n      }\n    }\n\n    if (this.isWebphoneMode) {\n      this._verifyJPEmergency();\n    }\n  }\n\n  @computed((that: CallingSettings) => [\n    that._deps.extensionPhoneNumber.directNumbers,\n    that._deps.extensionPhoneNumber.mainCompanyNumber,\n    that._deps.extensionInfo.extensionNumber,\n  ])\n  get myPhoneNumbers() {\n    const { directNumbers, mainCompanyNumber } =\n      this._deps.extensionPhoneNumber;\n    const { extensionNumber } = this._deps.extensionInfo;\n    const myPhoneNumbers = directNumbers.map((item) => item.phoneNumber!);\n    if (mainCompanyNumber && extensionNumber) {\n      myPhoneNumbers.push(\n        `${mainCompanyNumber.phoneNumber}*${extensionNumber}`,\n      );\n    }\n    return myPhoneNumbers;\n  }\n\n  @computed((that: CallingSettings) => [\n    that._deps.forwardingNumber.flipNumbers,\n    that._deps.extensionPhoneNumber.callerIdNumbers,\n    that._deps.extensionPhoneNumber.directNumbers,\n  ])\n  get otherPhoneNumbers() {\n    const { flipNumbers } = this._deps.forwardingNumber;\n    const { callerIdNumbers, directNumbers } = this._deps.extensionPhoneNumber;\n    const filterMapping: { [k: string]: boolean } = {};\n    callerIdNumbers.forEach((item) => {\n      filterMapping[item.phoneNumber!] = true;\n    });\n    directNumbers.forEach((item) => {\n      filterMapping[item.phoneNumber!] = true;\n    });\n    return flipNumbers\n      .filter((item) => !filterMapping[item.phoneNumber!])\n      .sort((a, b) => (a.label === 'Mobile' && a.label !== b.label ? -1 : 1))\n      .map((item) => item.phoneNumber!);\n  }\n\n  @computed((that: CallingSettings) => [\n    that._deps.appFeatures.isRingOutEnabled,\n    that._deps.appFeatures.isWebPhoneEnabled,\n    that._deps.appFeatures.isSoftphoneEnabled,\n    that.otherPhoneNumbers.length,\n    that._deps.extensionPhoneNumber.numbers.length,\n  ])\n  get callWithOptions() {\n    const { isRingOutEnabled, isWebPhoneEnabled } = this._deps.appFeatures;\n    const hasExtensionPhoneNumber =\n      this._deps.extensionPhoneNumber.numbers.length > 0;\n    if (!hasExtensionPhoneNumber && this._deps.appFeatures.isSoftphoneEnabled) {\n      return [callingOptions.softphone];\n    }\n    if (\n      !hasExtensionPhoneNumber &&\n      !this._deps.appFeatures.isSoftphoneEnabled\n    ) {\n      return [];\n    }\n    const callWithOptions = [];\n    if (this._deps.webphone && isWebPhoneEnabled) {\n      callWithOptions.push(callingOptions.browser);\n    }\n    if (\n      this._deps.brand &&\n      this._showCallWithJupiter &&\n      this._deps.appFeatures.isRingCentralAppEnabled\n    ) {\n      callWithOptions.push(callingOptions.jupiter);\n    }\n\n    if (this._deps.appFeatures.isSoftphoneEnabled) {\n      callWithOptions.push(callingOptions.softphone);\n    }\n    if (isRingOutEnabled && this._deps.appFeatures.isRingOutEnabled) {\n      callWithOptions.push(callingOptions.ringout);\n    }\n    return callWithOptions;\n  }\n\n  @computed((that: CallingSettings) => [\n    that._deps.extensionPhoneNumber.callerIdNumbers,\n  ])\n  get fromNumbers() {\n    const { callerIdNumbers } = this._deps.extensionPhoneNumber;\n    const sortedPhoneNumbers = callerIdNumbers.sort((firstItem, lastItem) => {\n      if (firstItem.usageType === 'DirectNumber') return -1;\n      if (lastItem.usageType === 'DirectNumber') return 1;\n      if (firstItem.usageType === 'MainCompanyNumber') return -1;\n      if (lastItem.usageType === 'MainCompanyNumber') return 1;\n      if (firstItem.usageType! < lastItem.usageType!) return -1;\n      if (firstItem.usageType! > lastItem.usageType!) return 1;\n      return 0;\n    });\n    return sortedPhoneNumbers;\n  }\n\n  @computed((that: CallingSettings) => [\n    that.myPhoneNumbers,\n    that.otherPhoneNumbers,\n  ])\n  get availableNumbers() {\n    return this.myPhoneNumbers.concat(this.otherPhoneNumbers);\n  }\n\n  @computed((that: CallingSettings) => [that.availableNumbers])\n  get availableNumbersWithLabel() {\n    const { availableNumbers } = this;\n    const result: { label: string; value: string }[] = [];\n    if (availableNumbers.length) {\n      availableNumbers.forEach((phoneNumber) => {\n        const locationLabel = this._getLocationLabel(phoneNumber);\n        result.push({\n          label: locationLabel,\n          value: phoneNumber,\n        });\n      });\n    }\n    result.sort(\n      (a, b) =>\n        LOCATION_NUMBER_ORDER.indexOf(a.label) -\n        LOCATION_NUMBER_ORDER.indexOf(b.label),\n    );\n    return result;\n  }\n\n  get callingMode() {\n    return mapOptionToMode(this.callWith!);\n  }\n\n  get defaultRingoutPrompt() {\n    return this.initRingoutPrompt;\n  }\n\n  get isWebphoneMode() {\n    return this.callingMode === callingModes.webphone;\n  }\n\n  /* ringtone */\n  get isChangeRingToneAllowed() {\n    return (\n      this._deps.webphone &&\n      (this._deps.storage.driver === 'INDEXEDDB' ||\n        this._deps.storage.driver === 'WEBSQL')\n    );\n  }\n\n  get jupiterAppName() {\n    return this._deps.softphone?.jupiterAppName;\n  }\n\n  /* India go */\n  get isBlockedIdDisabled() {\n    return (\n      this._deps.extensionFeatures.features?.BlockingCallerId?.available ===\n      false\n    );\n  }\n}\nexport { CallingSettings };\n"],"mappings":"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","ignoreList":[]}