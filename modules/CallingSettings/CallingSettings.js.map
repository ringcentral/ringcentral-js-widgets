{"version":3,"file":"CallingSettings.js","names":["_core","require","_di","_proxify","_callingModes","_callingOptions","_callingSettingsMessages","_deprecatedCallingOptions","_mapOptionToMode","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_dec7","_class","_class2","_descriptor","_descriptor2","asyncGeneratorStep","n","t","e","r","o","a","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","l","Object","defineProperty","enumerable","configurable","writable","initializer","call","_classCallCheck","TypeError","_defineProperties","length","_toPropertyKey","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","_initializerWarningHelper","Error","LOCATION_NUMBER_ORDER","BLOCKED_ID_VALUE","exports","CallingSettings","Module","name","deps","dep","optional","computed","that","_deps","extensionPhoneNumber","directNumbers","mainCompanyNumber","extensionInfo","extensionNumber","forwardingNumber","flipNumbers","callerIdNumbers","appFeatures","isRingOutEnabled","isWebPhoneEnabled","isSoftphoneEnabled","otherPhoneNumbers","numbers","myPhoneNumbers","availableNumbers","_RcModuleV","_super","_this$_deps$callingSe","_this$_deps$callingSe2","_this$_deps$callingSe3","_this$_deps$callingSe4","_this$_deps$callingSe5","_this$_deps$callingSe6","_this","enableCache","storageKey","_myPhoneNumbers","_onFirstLogin","_ringoutEnabled","_otherPhoneNumbers","_webphoneEnabled","_blockedIdDisabled","_showCallWithJupiter","_emergencyCallAvailable","_availableNumbers","initRingoutPrompt","callingSettingsOptions","onFirstLogin","defaultRingoutPrompt","showCallWithJupiter","emergencyCallAvailable","webphone","setDataAction","_ref","_ref$callWith","callWith","_ref$ringoutPrompt","ringoutPrompt","_ref$myLocation","myLocation","_ref$timestamp","timestamp","_ref$isCustomLocation","isCustomLocation","data","_updateFromNumber","number","fromNumber","phoneNumber","_updateFromNumber2","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","updateFromNumber","_x","setAcknowledgeJPMessage","acknowledgeJPMessage","resetSuccess","_onStateChange","_callee2","_callee2$","_context2","_shouldReset","_shouldInit","_shouldValidate","isBlockedIdDisabled","_validateSettings","onStateChange","_onInitSuccess","_callee3","_callee3$","_context3","isWebphoneMode","_verifyJPEmergency","onInitSuccess","ready","_onInit","_callee4","_callee4$","_context4","_init","onInit","onReset","_handleFirstTimeLogin","defaultCallWith","callWithOptions","Date","now","_warningEmergencyCallingNotAvailable","_init2","_callee5","_callee5$","_context5","isCallingEnabled","abrupt","deprecatedCallingOptions","myphone","otherphone","customphone","callingOptions","ringout","_initFromNumber","_warningEmergencyCallingNotAvailable2","_callee6","_callee6$","_context6","browser","alert","warning","message","callingSettingsMessages","emergencyCallingNotAvailable","ttl","_validateSettings2","_callee7","_callee7$","_context7","_hasWebphonePermissionRemoved","_setSoftPhoneToCallWith","danger","webphonePermissionRemoved","_hasPermissionChanged","permissionChanged","_hasPhoneNumberChanged","phoneNumberChanged","_verifyJPEmergency2","_callee8","hasJapanNumber","_callee8$","_context8","fromNumbers","find","record","_record$country","country","id","disableEmergencyInJapan","_setSoftPhoneToCallWith2","_callee9","_callee9$","_context9","softphone","indexOf","_getLocationLabel","devices","extensionDevice","registeredWithDevice","device","phoneLines","phoneLine","_phoneLine$phoneInfo","phoneInfo","isFlipNumber","flipNumber","label","mainPhoneNumber","concat","_initFromNumber2","_callee10","_this$_deps$callerId","defaultCallerId","_this$_deps$callerId2","_this$_deps$callerId3","defaultPhoneNumber","defaultEntry","_callee10$","_context10","callerId","ringOut","type","item","_setData","_callee11","_ref2","withPrompt","_callee11$","_context11","success","saveSuccessWithSoftphone","jupiter","saveSuccessWithJupiter","saveSuccess","setData","_x2","_x3","get","_this$_deps$extension","map","push","_this$_deps$extension2","filterMapping","filter","sort","b","_this$_deps$appFeatur","hasExtensionPhoneNumber","brand","isRingCentralAppEnabled","sortedPhoneNumbers","firstItem","lastItem","usageType","_this2","result","locationLabel","mapOptionToMode","callingMode","callingModes","storage","driver","_this$_deps$softphone","jupiterAppName","_this$_deps$extension3","_this$_deps$extension4","extensionFeatures","features","BlockingCallerId","available","RcModuleV2","state","action","getOwnPropertyDescriptor","proxify"],"sources":["modules/CallingSettings/CallingSettings.ts"],"sourcesContent":["import {\n  action,\n  computed,\n  RcModuleV2,\n  state,\n  storage,\n} from '@ringcentral-integration/core';\n\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\n\nimport type { Deps } from './CallingSettings.interface';\nimport { callingModes } from './callingModes';\nimport type { CallingOptionsType } from './callingOptions';\nimport { callingOptions } from './callingOptions';\nimport { callingSettingsMessages } from './callingSettingsMessages';\nimport { deprecatedCallingOptions } from './deprecatedCallingOptions';\nimport { mapOptionToMode } from './mapOptionToMode';\n\nconst LOCATION_NUMBER_ORDER = ['Other', 'Main'];\nexport const BLOCKED_ID_VALUE = 'anonymous';\n/**\n * @class\n * @description Call setting managing module\n */\n@Module({\n  name: 'CallingSettings',\n  deps: [\n    'Alert',\n    'Brand',\n    'Storage',\n    'ExtensionInfo',\n    'ExtensionDevice',\n    'ForwardingNumber',\n    'AppFeatures',\n    'ExtensionFeatures',\n    'ExtensionPhoneNumber',\n    { dep: 'CallerId', optional: true },\n    { dep: 'Webphone', optional: true },\n    { dep: 'Softphone', optional: true },\n    { dep: 'TabManager', optional: true },\n    { dep: 'CallingSettingsOptions', optional: true },\n  ],\n})\nclass CallingSettings extends RcModuleV2<Deps> {\n  private _myPhoneNumbers?: string[];\n  private _onFirstLogin?: () => {};\n  private _ringoutEnabled?: boolean;\n  private _otherPhoneNumbers?: string[];\n  private _webphoneEnabled?: boolean;\n  private _blockedIdDisabled?: boolean;\n  private _showCallWithJupiter: boolean;\n  private _emergencyCallAvailable: boolean;\n  private _availableNumbers?: string[];\n  private initRingoutPrompt?: boolean;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'CallingSettings',\n    });\n    this._onFirstLogin = this._deps.callingSettingsOptions?.onFirstLogin;\n    this.initRingoutPrompt =\n      this._deps.callingSettingsOptions?.defaultRingoutPrompt;\n    this._showCallWithJupiter =\n      this._deps.callingSettingsOptions?.showCallWithJupiter ?? true;\n    this._emergencyCallAvailable =\n      this._deps.callingSettingsOptions?.emergencyCallAvailable ??\n      !!this._deps.webphone;\n  }\n\n  get callWith() {\n    return this.data.callWith;\n  }\n\n  get ringoutPrompt() {\n    return this.data.ringoutPrompt;\n  }\n\n  get myLocation() {\n    return this.data.myLocation;\n  }\n\n  get fromNumber() {\n    return this.data.fromNumber;\n  }\n\n  get timestamp() {\n    return this.data.timestamp;\n  }\n\n  get isCustomLocation() {\n    return this.data.isCustomLocation;\n  }\n\n  // For Japan Emergency Service notification\n  @storage\n  @state\n  acknowledgeJPMessage = false;\n\n  @storage\n  @state\n  data: {\n    callWith: string | null;\n    ringoutPrompt: boolean;\n    myLocation: string;\n    fromNumber: string | null | undefined;\n    timestamp: number | null;\n    isCustomLocation: boolean;\n  } = {\n    callWith: null,\n    ringoutPrompt: true,\n    myLocation: '',\n    fromNumber: null,\n    timestamp: null,\n    isCustomLocation: false,\n  };\n\n  @action\n  setDataAction({\n    callWith = this.callWith,\n    ringoutPrompt = this.ringoutPrompt,\n    myLocation = this.myLocation,\n    timestamp = this.timestamp,\n    isCustomLocation = this.isCustomLocation,\n  }: {\n    callWith?: CallingOptionsType | null;\n    ringoutPrompt?: boolean;\n    myLocation?: string;\n    timestamp?: number | null;\n    isCustomLocation?: boolean;\n  }) {\n    this.data.callWith = callWith;\n    this.data.ringoutPrompt = ringoutPrompt;\n    this.data.myLocation = myLocation;\n    this.data.timestamp = timestamp;\n    this.data.isCustomLocation = isCustomLocation;\n  }\n\n  @action\n  private _updateFromNumber(number: { phoneNumber?: string }) {\n    // TODO: should confirm is that should be undefined\n    this.data.fromNumber = number?.phoneNumber;\n  }\n\n  @proxify\n  async updateFromNumber(number: { phoneNumber?: string }) {\n    this._updateFromNumber(number);\n  }\n\n  @action\n  setAcknowledgeJPMessage(value: boolean) {\n    this.acknowledgeJPMessage = value;\n  }\n\n  @action\n  resetSuccess() {\n    this.data.fromNumber = null;\n    this.setAcknowledgeJPMessage(false);\n  }\n\n  override async onStateChange() {\n    if (!this._shouldReset() && !this._shouldInit() && this._shouldValidate()) {\n      this._ringoutEnabled = this._deps.appFeatures.isRingOutEnabled;\n      this._webphoneEnabled = this._deps.appFeatures.isWebPhoneEnabled;\n      this._myPhoneNumbers = this.myPhoneNumbers;\n      this._otherPhoneNumbers = this.otherPhoneNumbers;\n      this._blockedIdDisabled = this.isBlockedIdDisabled;\n      await this._validateSettings();\n    }\n  }\n\n  override async onInitSuccess() {\n    if (this.isWebphoneMode) {\n      this._verifyJPEmergency();\n    }\n  }\n\n  _shouldValidate() {\n    return (\n      this.ready &&\n      (this._ringoutEnabled !== this._deps.appFeatures.isRingOutEnabled ||\n        this._webphoneEnabled !== this._deps.appFeatures.isWebPhoneEnabled ||\n        this._myPhoneNumbers !== this.myPhoneNumbers ||\n        this._otherPhoneNumbers !== this.otherPhoneNumbers ||\n        this._blockedIdDisabled !== this.isBlockedIdDisabled)\n    );\n  }\n\n  override async onInit() {\n    await this._init();\n  }\n\n  override onReset() {\n    this.resetSuccess();\n  }\n\n  _handleFirstTimeLogin() {\n    if (!this.timestamp) {\n      // first time login\n      const defaultCallWith = this.callWithOptions && this.callWithOptions[0];\n      this.setDataAction({ callWith: defaultCallWith, timestamp: Date.now() });\n      if (!this._emergencyCallAvailable) {\n        this._warningEmergencyCallingNotAvailable();\n      }\n      if (typeof this._onFirstLogin === 'function') {\n        this._onFirstLogin();\n      }\n    }\n  }\n\n  async _init() {\n    if (!this._deps.appFeatures.isCallingEnabled) {\n      this.setDataAction({ callWith: null, timestamp: null });\n      return;\n    }\n\n    this._myPhoneNumbers = this.myPhoneNumbers;\n    this._otherPhoneNumbers = this.otherPhoneNumbers;\n    this._availableNumbers = this.availableNumbers;\n    this._ringoutEnabled = this._deps.appFeatures.isRingOutEnabled;\n    this._webphoneEnabled = this._deps.appFeatures.isWebPhoneEnabled;\n    this._blockedIdDisabled = this.isBlockedIdDisabled;\n\n    this._handleFirstTimeLogin();\n\n    if (\n      this.callWith === deprecatedCallingOptions.myphone ||\n      this.callWith === deprecatedCallingOptions.otherphone ||\n      this.callWith === deprecatedCallingOptions.customphone\n    ) {\n      this.setDataAction({\n        callWith: callingOptions.ringout,\n        isCustomLocation:\n          this.callWith === deprecatedCallingOptions.customphone,\n      });\n    }\n    await this._validateSettings();\n    await this._initFromNumber();\n  }\n\n  @proxify\n  async _warningEmergencyCallingNotAvailable() {\n    if (this.callWith === callingOptions.browser) {\n      this._deps.alert.warning({\n        message: callingSettingsMessages.emergencyCallingNotAvailable,\n        ttl: 0,\n      });\n    }\n  }\n\n  @proxify\n  async _validateSettings() {\n    if (this._hasWebphonePermissionRemoved()) {\n      if (this._deps.appFeatures.isSoftphoneEnabled) {\n        await this._setSoftPhoneToCallWith();\n      }\n      this._deps.alert.danger({\n        message: callingSettingsMessages.webphonePermissionRemoved,\n        ttl: 0,\n      });\n    } else if (this._hasPermissionChanged()) {\n      if (this._deps.appFeatures.isSoftphoneEnabled) {\n        await this._setSoftPhoneToCallWith();\n      }\n      this._deps.alert.danger({\n        message: callingSettingsMessages.permissionChanged,\n        ttl: 0,\n      });\n    } else if (this._hasPhoneNumberChanged()) {\n      this.setDataAction({\n        callWith: callingOptions.ringout,\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        myLocation: this._myPhoneNumbers[0],\n        timestamp: Date.now(),\n      });\n      this._deps.alert.danger({\n        message: callingSettingsMessages.phoneNumberChanged,\n        ttl: 0,\n      });\n    }\n\n    if (this.isBlockedIdDisabled && this.fromNumber === BLOCKED_ID_VALUE) {\n      this._initFromNumber();\n    }\n  }\n\n  @proxify\n  async _verifyJPEmergency() {\n    if (this.acknowledgeJPMessage) return;\n\n    const hasJapanNumber = !!this.fromNumbers.find(\n      (record) => record?.country?.id === '112',\n    );\n    if (hasJapanNumber) {\n      this._deps.alert.warning({\n        message: callingSettingsMessages.disableEmergencyInJapan,\n        ttl: 0,\n      });\n      this.setAcknowledgeJPMessage(true);\n    }\n  }\n\n  @proxify\n  async _setSoftPhoneToCallWith() {\n    this.setDataAction({\n      callWith: callingOptions.softphone,\n      timestamp: Date.now(),\n    });\n  }\n\n  _hasWebphonePermissionRemoved() {\n    return (\n      !(this._webphoneEnabled && this._deps.webphone) &&\n      this.callWith === callingOptions.browser\n    );\n  }\n\n  _hasPermissionChanged() {\n    return !this._ringoutEnabled && this.callWith === callingOptions.ringout;\n  }\n\n  _hasPhoneNumberChanged() {\n    return (\n      this.callWith === callingOptions.ringout &&\n      !this.isCustomLocation &&\n      this._availableNumbers!.indexOf(this.myLocation) === -1\n    );\n  }\n\n  _getLocationLabel(phoneNumber: string) {\n    const { devices } = this._deps.extensionDevice;\n    const { flipNumbers } = this._deps.forwardingNumber;\n    const { mainCompanyNumber } = this._deps.extensionPhoneNumber;\n    const { extensionNumber } = this._deps.extensionInfo;\n    let name = null;\n    if (devices.length) {\n      let registeredWithDevice = false;\n      devices.forEach((device) => {\n        const { phoneLines } = device;\n        if (phoneLines?.length) {\n          registeredWithDevice = !!phoneLines.find((phoneLine) => {\n            return phoneLine.phoneInfo?.phoneNumber === phoneNumber;\n          });\n          if (registeredWithDevice) {\n            name = device.name;\n          }\n        }\n      });\n      if (name) return name;\n    }\n    if (flipNumbers.length) {\n      const isFlipNumber = flipNumbers.find(\n        (flipNumber) => flipNumber.phoneNumber === phoneNumber,\n      );\n      if (isFlipNumber) {\n        return isFlipNumber.label || 'Other';\n      }\n    }\n\n    const mainPhoneNumber = `${mainCompanyNumber?.phoneNumber}*${extensionNumber}`;\n    if (phoneNumber === mainPhoneNumber) {\n      return 'Main';\n    }\n    return 'Other';\n  }\n\n  @proxify\n  async _initFromNumber() {\n    const fromNumber = this.fromNumber;\n    if (\n      !fromNumber ||\n      (fromNumber === BLOCKED_ID_VALUE && this.isBlockedIdDisabled)\n    ) {\n      let defaultCallerId = this.fromNumbers[0];\n      if (this._deps.callerId?.ringOut) {\n        if (\n          this._deps.callerId.ringOut.type === 'Blocked' &&\n          !this.isBlockedIdDisabled\n        ) {\n          defaultCallerId = { phoneNumber: BLOCKED_ID_VALUE };\n        } else if (this._deps.callerId.ringOut.type === 'PhoneNumber') {\n          const defaultPhoneNumber =\n            this._deps.callerId?.ringOut.phoneInfo?.phoneNumber;\n          const defaultEntry = this.fromNumbers.find(\n            (item) => item.phoneNumber === defaultPhoneNumber,\n          );\n          if (defaultEntry) {\n            defaultCallerId = defaultEntry;\n          }\n        }\n      }\n      await this.updateFromNumber(defaultCallerId);\n    }\n  }\n\n  @proxify\n  async setData(\n    {\n      callWith,\n      myLocation,\n      ringoutPrompt,\n      isCustomLocation,\n    }: {\n      callWith: CallingOptionsType;\n      myLocation: string;\n      ringoutPrompt: boolean;\n      isCustomLocation: boolean;\n    },\n    withPrompt: boolean,\n  ) {\n    this.setDataAction({\n      callWith,\n      myLocation,\n      ringoutPrompt,\n      timestamp: Date.now(),\n      isCustomLocation,\n    });\n    if (withPrompt) {\n      if (this.callWith === callingOptions.softphone) {\n        this._deps.alert.success({\n          message: callingSettingsMessages.saveSuccessWithSoftphone,\n        });\n      } else if (this.callWith === callingOptions.jupiter) {\n        this._deps.alert.success({\n          message: callingSettingsMessages.saveSuccessWithJupiter,\n        });\n      } else {\n        this._deps.alert.success({\n          message: callingSettingsMessages.saveSuccess,\n        });\n        if (!this._emergencyCallAvailable) {\n          this._warningEmergencyCallingNotAvailable();\n        }\n      }\n    }\n\n    if (this.isWebphoneMode) {\n      this._verifyJPEmergency();\n    }\n  }\n\n  @computed((that: CallingSettings) => [\n    that._deps.extensionPhoneNumber.directNumbers,\n    that._deps.extensionPhoneNumber.mainCompanyNumber,\n    that._deps.extensionInfo.extensionNumber,\n  ])\n  get myPhoneNumbers() {\n    const { directNumbers, mainCompanyNumber } =\n      this._deps.extensionPhoneNumber;\n    const { extensionNumber } = this._deps.extensionInfo;\n    const myPhoneNumbers = directNumbers.map((item) => item.phoneNumber!);\n    if (mainCompanyNumber && extensionNumber) {\n      myPhoneNumbers.push(\n        `${mainCompanyNumber.phoneNumber}*${extensionNumber}`,\n      );\n    }\n    return myPhoneNumbers;\n  }\n\n  @computed((that: CallingSettings) => [\n    that._deps.forwardingNumber.flipNumbers,\n    that._deps.extensionPhoneNumber.callerIdNumbers,\n    that._deps.extensionPhoneNumber.directNumbers,\n  ])\n  get otherPhoneNumbers() {\n    const { flipNumbers } = this._deps.forwardingNumber;\n    const { callerIdNumbers, directNumbers } = this._deps.extensionPhoneNumber;\n    const filterMapping: { [k: string]: boolean } = {};\n    callerIdNumbers.forEach((item) => {\n      filterMapping[item.phoneNumber!] = true;\n    });\n    directNumbers.forEach((item) => {\n      filterMapping[item.phoneNumber!] = true;\n    });\n    return flipNumbers\n      .filter((item) => !filterMapping[item.phoneNumber!])\n      .sort((a, b) => (a.label === 'Mobile' && a.label !== b.label ? -1 : 1))\n      .map((item) => item.phoneNumber!);\n  }\n\n  @computed((that: CallingSettings) => [\n    that._deps.appFeatures.isRingOutEnabled,\n    that._deps.appFeatures.isWebPhoneEnabled,\n    that._deps.appFeatures.isSoftphoneEnabled,\n    that.otherPhoneNumbers.length,\n    that._deps.extensionPhoneNumber.numbers.length,\n  ])\n  get callWithOptions() {\n    const { isRingOutEnabled, isWebPhoneEnabled } = this._deps.appFeatures;\n    const hasExtensionPhoneNumber =\n      this._deps.extensionPhoneNumber.numbers.length > 0;\n    if (!hasExtensionPhoneNumber && this._deps.appFeatures.isSoftphoneEnabled) {\n      return [callingOptions.softphone];\n    }\n    if (\n      !hasExtensionPhoneNumber &&\n      !this._deps.appFeatures.isSoftphoneEnabled\n    ) {\n      return [];\n    }\n    const callWithOptions = [];\n    if (this._deps.webphone && isWebPhoneEnabled) {\n      callWithOptions.push(callingOptions.browser);\n    }\n    if (\n      this._deps.brand &&\n      this._showCallWithJupiter &&\n      this._deps.appFeatures.isRingCentralAppEnabled\n    ) {\n      callWithOptions.push(callingOptions.jupiter);\n    }\n\n    if (this._deps.appFeatures.isSoftphoneEnabled) {\n      callWithOptions.push(callingOptions.softphone);\n    }\n    if (isRingOutEnabled && this._deps.appFeatures.isRingOutEnabled) {\n      callWithOptions.push(callingOptions.ringout);\n    }\n    return callWithOptions;\n  }\n\n  @computed((that: CallingSettings) => [\n    that._deps.extensionPhoneNumber.callerIdNumbers,\n  ])\n  get fromNumbers() {\n    const { callerIdNumbers } = this._deps.extensionPhoneNumber;\n    const sortedPhoneNumbers = callerIdNumbers.sort((firstItem, lastItem) => {\n      if (firstItem.usageType === 'DirectNumber') return -1;\n      if (lastItem.usageType === 'DirectNumber') return 1;\n      if (firstItem.usageType === 'MainCompanyNumber') return -1;\n      if (lastItem.usageType === 'MainCompanyNumber') return 1;\n      if (firstItem.usageType! < lastItem.usageType!) return -1;\n      if (firstItem.usageType! > lastItem.usageType!) return 1;\n      return 0;\n    });\n    return sortedPhoneNumbers;\n  }\n\n  @computed((that: CallingSettings) => [\n    that.myPhoneNumbers,\n    that.otherPhoneNumbers,\n  ])\n  get availableNumbers() {\n    return this.myPhoneNumbers.concat(this.otherPhoneNumbers);\n  }\n\n  @computed((that: CallingSettings) => [that.availableNumbers])\n  get availableNumbersWithLabel() {\n    const { availableNumbers } = this;\n    const result: { label: string; value: string }[] = [];\n    if (availableNumbers.length) {\n      availableNumbers.forEach((phoneNumber) => {\n        const locationLabel = this._getLocationLabel(phoneNumber);\n        result.push({\n          label: locationLabel,\n          value: phoneNumber,\n        });\n      });\n    }\n    result.sort(\n      (a, b) =>\n        LOCATION_NUMBER_ORDER.indexOf(a.label) -\n        LOCATION_NUMBER_ORDER.indexOf(b.label),\n    );\n    return result;\n  }\n\n  get callingMode() {\n    return mapOptionToMode(this.callWith!);\n  }\n\n  get defaultRingoutPrompt() {\n    return this.initRingoutPrompt;\n  }\n\n  get isWebphoneMode() {\n    return this.callingMode === callingModes.webphone;\n  }\n\n  /* ringtone */\n  get isChangeRingToneAllowed() {\n    return (\n      this._deps.webphone &&\n      (this._deps.storage.driver === 'INDEXEDDB' ||\n        this._deps.storage.driver === 'WEBSQL')\n    );\n  }\n\n  get jupiterAppName() {\n    return this._deps.softphone?.jupiterAppName;\n  }\n\n  /* India go */\n  get isBlockedIdDisabled() {\n    return (\n      this._deps.extensionFeatures.features?.BlockingCallerId?.available ===\n      false\n    );\n  }\n}\nexport { CallingSettings };\n"],"mappings":"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","ignoreList":[]}