{"version":3,"file":"index.js","names":["_utils","require","_moduleStatuses","_interopRequireDefault","_RcModule2","_batchApiHelper","_di","_ensureExist","_proxify","_actionTypes","_getReducer","_interopRequireWildcard","_excluded","_dec","_class","_class2","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","_typeof","has","get","set","_t3","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","_regenerator","Symbol","iterator","toStringTag","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","bind","length","l","TypeError","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","displayName","w","m","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","ownKeys","keys","getOwnPropertySymbols","filter","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_objectWithoutProperties","_objectWithoutPropertiesLoose","indexOf","propertyIsEnumerable","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","initializer","slice","reverse","reduce","MaximumBatchGetPersons","DEFAULT_BATCH_FETCH_DELAY","GlipPersons","exports","Module","deps","dep","optional","_RcModule","_ref","_this","client","auth","storage","tabManager","appFeatures","_ref$batchFetchDelay","batchFetchDelay","options","actionTypes","_appFeatures","_auth","_batchFetchDelay","_client","_dataStorageKey","_fetchingIds","_storage","_tabManager","ensureExist","_reducer","getReducer","registerReducer","reducer","getGlipPersonStoreReducer","glipPersonStore","initialize","_this2","store","subscribe","_onStateChange","_onStateChange2","_callee","_context","_shouldInit","dispatch","type","init","isFreshLogin","cleanUp","_hasPermission","loadMe","initSuccess","_shouldReset","resetSuccess","loggedIn","ready","pending","_loadMe","_callee2","_context2","loadPerson","ownerId","_loadPerson","_callee3","id","person","_t","_context3","fetch","glip","persons","fetchSuccess","fetchError","_x","_loadPersons","_callee4","personIds","_this3","newPersonIds","ids","lastIds","_t2","_context4","personsMap","_batchGetPersons","batchFetchSuccess","sleep","loadPersons","_x2","_batchGetPersons2","_callee5","response","multipartResponse","responses","_context5","join","batchGetApi","platform","service","url","concat","all","ok","map","x","json","_x3","getItem","state","status","moduleStatuses","hasGlipPermission","RcModule","proxify"],"sources":["modules/GlipPersons/index.ts"],"sourcesContent":["import { sleep } from '@ringcentral-integration/utils';\n\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport RcModule from '../../lib/RcModule';\nimport { batchGetApi } from '../../lib/batchApiHelper';\nimport { Module } from '../../lib/di';\nimport ensureExist from '../../lib/ensureExist';\nimport proxify from '../../lib/proxy/proxify';\n\nimport { actionTypes } from './actionTypes';\nimport getReducer, { getGlipPersonStoreReducer } from './getReducer';\n\nconst MaximumBatchGetPersons = 30;\nconst DEFAULT_BATCH_FETCH_DELAY = 500;\n\n@Module({\n  deps: [\n    'Client',\n    'Auth',\n    'AppFeatures',\n    { dep: 'Storage', optional: true },\n    { dep: 'TabManager', optional: true },\n    { dep: 'GlipPersonsOptions', optional: true },\n  ],\n})\n// @ts-expect-error TS(2415): Class 'GlipPersons' incorrectly extends base class... Remove this comment to see the full error message\nexport default class GlipPersons extends RcModule {\n  _appFeatures: any;\n  _auth: any;\n  _batchFetchDelay: any;\n  _client: any;\n  _dataStorageKey: any;\n  _fetchingIds: any;\n  _storage: any;\n  _tabManager: any;\n  constructor({\n    client,\n    auth,\n    storage,\n    tabManager,\n    appFeatures,\n    batchFetchDelay = DEFAULT_BATCH_FETCH_DELAY,\n    ...options\n  }: any) {\n    super({\n      ...options,\n      actionTypes,\n    });\n\n    this._appFeatures = appFeatures;\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._client = ensureExist.call(this, client, 'client');\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._auth = ensureExist.call(this, auth, 'auth');\n    this._tabManager = tabManager;\n    this._storage = storage;\n\n    this._fetchingIds = {};\n    this._batchFetchDelay = batchFetchDelay;\n\n    this._dataStorageKey = 'glipPersonsData';\n    if (this._storage) {\n      this._reducer = getReducer(this.actionTypes);\n      this._storage.registerReducer({\n        key: this._dataStorageKey,\n        reducer: getGlipPersonStoreReducer(this.actionTypes),\n      });\n    } else {\n      this._reducer = getReducer(this.actionTypes, {\n        glipPersonStore: getGlipPersonStoreReducer(this.actionTypes),\n      });\n    }\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  initialize() {\n    this.store.subscribe(() => this._onStateChange());\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  async _onStateChange() {\n    if (this._shouldInit()) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      if (this._auth.isFreshLogin) {\n        this.store.dispatch({\n          type: this.actionTypes.cleanUp,\n        });\n      }\n      if (!this._hasPermission) return;\n      await this.loadMe();\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n    } else if (this._shouldReset()) {\n      this.store.dispatch({\n        type: this.actionTypes.resetSuccess,\n      });\n    }\n  }\n\n  // @ts-expect-error TS(4113): This member cannot have an 'override' modifier bec... Remove this comment to see the full error message\n  override _shouldInit() {\n    return (\n      this._auth.loggedIn &&\n      this._appFeatures.ready &&\n      (!this._storage || this._storage.ready) &&\n      (!this._tabManager || this._tabManager.ready) &&\n      this.pending\n    );\n  }\n\n  // @ts-expect-error TS(4113): This member cannot have an 'override' modifier bec... Remove this comment to see the full error message\n  override _shouldReset() {\n    return (\n      ((this._storage && !this._storage.ready) ||\n        (this._tabManager && !this._tabManager.ready) ||\n        !this._appFeatures.ready ||\n        !this._auth.loggedIn) &&\n      this.ready\n    );\n  }\n\n  @proxify\n  async loadMe() {\n    await this.loadPerson(this._auth.ownerId);\n  }\n\n  @proxify\n  async loadPerson(id: any) {\n    try {\n      this.store.dispatch({\n        type: this.actionTypes.fetch,\n      });\n      const person = await this._client.glip().persons(id).get();\n      this.store.dispatch({\n        type: this.actionTypes.fetchSuccess,\n        person,\n      });\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      this.store.dispatch({\n        type: this.actionTypes.fetchError,\n      });\n    }\n  }\n\n  @proxify\n  async loadPersons(personIds: any) {\n    if (!this._auth.loggedIn) {\n      return;\n    }\n    if (!personIds) {\n      return;\n    }\n    const { ownerId } = this._auth;\n    const newPersonIds: any = [];\n    personIds.forEach((id: any) => {\n      if (!this.personsMap[id] && !this._fetchingIds[id]) {\n        newPersonIds.push(id);\n      }\n    });\n    if (newPersonIds.length === 0) {\n      return;\n    }\n    const ids = newPersonIds.slice(0, MaximumBatchGetPersons);\n    // @ts-expect-error TS(7006): Parameter 'id' implicitly has an 'any' type.\n    ids.forEach((id) => {\n      this._fetchingIds[id] = 1;\n    });\n    try {\n      this.store.dispatch({\n        type: this.actionTypes.fetch,\n      });\n      const persons = await this._batchGetPersons(ids);\n      this.store.dispatch({\n        type: this.actionTypes.batchFetchSuccess,\n        persons,\n      });\n      // @ts-expect-error TS(7006): Parameter 'id' implicitly has an 'any' type.\n      ids.forEach((id) => {\n        delete this._fetchingIds[id];\n      });\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      this.store.dispatch({\n        type: this.actionTypes.fetchError,\n      });\n      // @ts-expect-error TS(7006): Parameter 'id' implicitly has an 'any' type.\n      ids.forEach((id) => {\n        delete this._fetchingIds[id];\n      });\n    }\n    if (ownerId !== this._auth.ownerId) {\n      return;\n    }\n    const lastIds = newPersonIds.slice(MaximumBatchGetPersons);\n    if (lastIds.length > 0) {\n      await sleep(this._batchFetchDelay);\n      await this.loadPersons(lastIds);\n    }\n  }\n\n  async _batchGetPersons(personIds: any) {\n    if (!personIds || personIds.length === 0) {\n      return [];\n    }\n    if (personIds.length === 1) {\n      const response = await this._client.glip().persons(personIds[0]).get();\n      return [response];\n    }\n    const ids = personIds.join(',');\n    const multipartResponse = await batchGetApi({\n      platform: this._client.service.platform(),\n      url: `/restapi/v1.0/glip/persons/${ids}`,\n    });\n    const responses = await Promise.all(\n      multipartResponse.filter((r: any) => r.ok).map((x: any) => x.json()),\n    );\n    return responses;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get _actionTypes() {\n    return actionTypes;\n  }\n\n  get personsMap() {\n    if (this._storage) {\n      return this._storage.getItem(this._dataStorageKey) || {};\n    }\n    return this.state.glipPersonStore;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get status() {\n    return this.state.status;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get ready() {\n    return this.status === moduleStatuses.ready;\n  }\n\n  get me() {\n    return this.personsMap[this._auth.ownerId];\n  }\n\n  get _hasPermission() {\n    return !!this._appFeatures.hasGlipPermission;\n  }\n}\n"],"mappings":"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","ignoreList":[]}