{"version":3,"file":"VideoConfiguration.js","names":["_ramda","require","_core","_subscriptionFilters","_subscriptionHints","_debounceThrottle","_di","_DataFetcherV","_videoProviders","_dec","_class","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","call","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","DEFAULT_FETCH_DELAY","VideoConfiguration","Module","name","deps","dep","optional","_DataFetcherV2Consume","_super","_this","_stopWatching","_debouncedFetchData","_source","DataSource","videoConfigurationOptions","cleanOnReset","disableCache","fetchFunction","_fetchFunction","regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","_deps","client","service","platform","get","sent","abrupt","json","stop","readyCheckFunction","appFeatures","ready","subscription","permissionCheckFunction","_hasPermission","dataFetcherV2","register","debounce","fetchData","threshold","_fetchDelay","_handleSubscription2","_callee2","message","_message$body","_message$body$hints","_this$_deps$tabManage","_this$_deps$tabManage2","_callee2$","_context2","body","hints","includes","subscriptionHints","videoConfiguration","tabManager","active","_handleSubscription","_x","onInit","_this2","subscribe","subscriptionFilters","extensionInfo","watch","onReset","_this$_stopWatching","cancel","_this$_deps$videoConf","_this$_deps$videoConf2","Math","max","fetchDelay","provider","videoProviders","RCVideo","RCMeetings","None","_this$data","data","_this$data2","userLicenseType","hasMeetingsPermission","DataFetcherV2Consumer","exports"],"sources":["modules/VideoConfiguration/VideoConfiguration.ts"],"sourcesContent":["import { includes } from 'ramda';\nimport type { Unsubscribe } from 'redux';\nimport type ExtensionInfoEvent from '@rc-ex/core/lib/definitions/ExtensionInfoEvent';\nimport type UserVideoConfiguration from '@rc-ex/core/lib/definitions/UserVideoConfiguration';\nimport { watch } from '@ringcentral-integration/core';\n\nimport { subscriptionFilters } from '../../enums/subscriptionFilters';\nimport { subscriptionHints } from '../../enums/subscriptionHints';\nimport type { DebouncedFunction } from '../../lib/debounce-throttle';\nimport { debounce } from '../../lib/debounce-throttle';\nimport { Module } from '../../lib/di';\nimport { DataFetcherV2Consumer, DataSource } from '../DataFetcherV2';\nimport type { UserLicenseType } from './userLicenseType';\nimport type { Deps } from './VideoConfiguration.interface';\nimport { videoProviders } from './videoProviders';\n\nconst DEFAULT_FETCH_DELAY = 5 * 1000;\n\n@Module({\n  name: 'VideoConfiguration',\n  deps: [\n    'Client',\n    'DataFetcherV2',\n    'AppFeatures',\n    'Subscription',\n    { dep: 'TabManager', optional: true },\n    { dep: 'VideoConfigurationOptions', optional: true },\n  ],\n})\nexport class VideoConfiguration extends DataFetcherV2Consumer<\n  Deps,\n  UserVideoConfiguration\n> {\n  protected _stopWatching: Unsubscribe | null = null;\n  protected _debouncedFetchData: DebouncedFunction<\n    VideoConfiguration['fetchData']\n  >;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n    this._source = new DataSource({\n      ...deps.videoConfigurationOptions,\n      key: 'videoConfiguration',\n      cleanOnReset: true,\n      disableCache: true,\n      fetchFunction: async (): Promise<UserVideoConfiguration> => {\n        const response = await this._deps.client.service\n          .platform()\n          .get('/restapi/v1.0/account/~/extension/~/video-configuration');\n        return response.json();\n      },\n      readyCheckFunction: () =>\n        this._deps.appFeatures.ready && this._deps.subscription.ready,\n      permissionCheckFunction: () => this._hasPermission,\n    });\n    this._deps.dataFetcherV2.register(this._source);\n    this._debouncedFetchData = debounce({\n      fn: this.fetchData,\n      threshold: this._fetchDelay,\n    });\n  }\n\n  protected get _fetchDelay() {\n    return Math.max(\n      0,\n      this._deps.videoConfigurationOptions?.fetchDelay ?? DEFAULT_FETCH_DELAY,\n    );\n  }\n\n  protected async _handleSubscription(message: ExtensionInfoEvent) {\n    if (\n      this.ready &&\n      message?.body?.hints?.includes(subscriptionHints.videoConfiguration) &&\n      (this._source.disableCache || (this._deps.tabManager?.active ?? true))\n    ) {\n      // https://jira_domain/browse/ENV-67087\n      // the video configuration api may return the old value\n      // when we try to query immediately right after got the push notification\n      // here we wait for seconds as a workaround to solve the issue\n      this._debouncedFetchData();\n    }\n  }\n\n  override onInit() {\n    this._deps.subscription.subscribe([subscriptionFilters.extensionInfo]);\n    this._stopWatching = watch(\n      this,\n      () => this._deps.subscription.message,\n      (message) => this._handleSubscription(message),\n    );\n  }\n\n  override onReset() {\n    this._stopWatching?.();\n    this._stopWatching = null;\n    this._debouncedFetchData.cancel();\n  }\n\n  get isRCV() {\n    return this.provider === videoProviders.RCVideo;\n  }\n\n  get isRCM() {\n    return includes(this.provider, [\n      videoProviders.RCMeetings,\n      videoProviders.None,\n    ]);\n  }\n\n  get provider() {\n    return this.data?.provider || null;\n  }\n\n  get userLicenseType(): UserLicenseType {\n    // TODO: fix UserVideoConfiguration type in @rc-ex/core/definitions\n    // @ts-ignore\n    return this.data?.userLicenseType || null;\n  }\n\n  get _hasPermission() {\n    return this._deps.appFeatures.hasMeetingsPermission;\n  }\n}\n"],"mappings":"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"}