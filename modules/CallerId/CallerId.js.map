{"version":3,"sources":["modules/CallerId/CallerId.js"],"names":["CallerId","deps","dep","optional","options","fetchFunction","_client","service","platform","get","resp","json","data","byDevice","byFeature","DataFetcher","selector","settings","find","item","feature","callerId"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAKaA,Q,WAHZ,gBAAO;AACNC,EAAAA,IAAI,EAAE,CAAC,QAAD,EAAW;AAAEC,IAAAA,GAAG,EAAE,iBAAP;AAA0BC,IAAAA,QAAQ,EAAE;AAApC,GAAX;AADA,CAAP,C;;;;;AAIC,0BAA4B;AAAA;;AAAA,QAAXC,OAAW;;AAAA;;AAC1B;AACEC,MAAAA,aAAa;AAAA,qFAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACM,MAAKC,OAAL,CAAaC,OAAb,CAChBC,QADgB,GAEhBC,GAFgB,CAEZ,+CAFY,CADN;;AAAA;AACPC,kBAAAA,IADO;AAAA,mDAINA,IAAI,CAACC,IAAL,EAJM;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AADf,OAOKP,OAPL;;AAD0B;;AAAA;AAU3B;;;;wBAEW;AACV,aAAO,UAAP;AACD;;;wBAEc;AACb,aAAO,KAAKQ,IAAL,CAAUC,QAAjB;AACD;;;wBAEe;AACd,aAAO,KAAKD,IAAL,CAAUE,SAAjB;AACD;;;;EAvB2BC,wB,mFAyB3BC,kB;;;;;;;WACS,CACR;AAAA,aAAM,MAAI,CAACF,SAAX;AAAA,KADQ,EAER;AAAA;;AAAA,UAACG,QAAD,uEAAY,EAAZ;AAAA,+BACEA,QAAQ,CAACC,IAAT,CAAc,UAACC,IAAD;AAAA,eAAUA,IAAI,CAACC,OAAL,KAAiB,SAA3B;AAAA,OAAd,CADF,mDACE,eAAqDC,QADvD;AAAA,KAFQ,C","sourcesContent":["import { Module } from '../../lib/di';\nimport DataFetcher from '../../lib/DataFetcher';\nimport { selector } from '../../lib/selector';\n\n@Module({\n  deps: ['Client', { dep: 'CallerIdOptions', optional: true }],\n})\nexport class CallerId extends DataFetcher {\n  constructor({ ...options }) {\n    super({\n      fetchFunction: async () => {\n        const resp = await this._client.service\n          .platform()\n          .get('/restapi/v1.0/account/~/extension/~/caller-id');\n        return resp.json();\n      },\n      ...options,\n    });\n  }\n\n  get _name() {\n    return 'callerId';\n  }\n\n  get byDevice() {\n    return this.data.byDevice;\n  }\n\n  get byFeature() {\n    return this.data.byFeature;\n  }\n\n  @selector\n  ringOut = [\n    () => this.byFeature,\n    (settings = []) =>\n      settings.find((item) => item.feature === 'RingOut')?.callerId,\n  ];\n}\n"],"file":"CallerId.js"}