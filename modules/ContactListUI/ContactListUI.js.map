{"version":3,"file":"ContactListUI.js","names":["_contactHelper","require","_debounceThrottle","_di","_proxify","_core","_dec","_dec2","_dec3","_dec4","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_slicedToArray","r","e","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","l","t","Symbol","iterator","n","i","u","a","f","o","call","next","Object","done","push","value","length","Array","isArray","asyncGeneratorStep","c","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_createForOfIteratorHelper","_n","F","s","_initializerDefineProperty","defineProperty","enumerable","configurable","writable","initializer","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","prototype","_toPrimitive","_typeof","toPrimitive","String","Number","_get","Reflect","get","bind","p","_superPropBase","getOwnPropertyDescriptor","hasOwnProperty","_getPrototypeOf","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","__proto__","_createSuper","_isNativeReflectConstruct","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","_initializerWarningHelper","Error","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_arrayLikeToArray","toString","name","from","test","FILTER_THRESHOLD","exports","ContactListUI","Module","deps","dep","optional","computed","that","filteredContactsList","concat","values","contactSources","map","source","contacts","checkSourcesUpdated","filteredContacts","_RcUIModuleV","_super","_this","_sourcesLastStatus","Map","_sourcesUpdatedAt","_currentFilterCriteria","_nextFilterCriteria","_debouncedFilterContactSources","debounce","fn","_filterContactSources","threshold","_shouldInit","_deps","auth","loggedIn","allSourcesReady","_shouldReset","ready","notLoggedIn","onInitOnce","_this2","watch","applyFilters","onInitSuccess","onReset","_resetFilters","_clearFilteredContacts","cancel","_iterator","_step","err","updated","size","clear","_iterator2","_step2","lastStatus","sourceName","sourceReady","rawContacts","set","Date","now","_updateFilters","_ref","sourceFilter","searchFilter","filterStamp","Math","random","AllContactSourceName","isFiltering","_setIsFiltering","_appendFilteredContacts","_this3","contact","id","_filterContactSources2","regeneratorRuntime","mark","_callee","criteria","_this4","sources","wrap","_callee$","_context","prev","abrupt","filter","filterContacts","all","promise","items","error","console","stop","_x","_applyFilters","_callee2","_ref2","_ref2$sourceFilter","_ref2$searchFilter","_args2","_callee2$","_context2","undefined","_getPresence","_callee3","useCache","presence","_args3","_callee3$","_context3","getPresence","sent","_x2","getUIProps","_ref3","_this$_deps$extension","_this$_deps$extension2","_this$_deps$extension3","_this$_deps$extension4","_this$_deps$extension5","bottomNotice","bottomNoticeHeight","currentLocale","locale","contactSourceNames","sourceNames","contactGroups","searchSource","searchString","isSearching","showSpinner","currentSiteCode","extensionInfo","site","code","isMultipleSiteEnabled","getUIFunctions","_ref4","_this5","onVisitPage","onRefresh","onItemSelect","getAvatarUrl","_ref6","_callee4","_ref5","type","_callee4$","_context4","contactDetailsUI","showContactDetails","_x3","onSearchContact","_ref7","contactsMap","_ref8","_ref9","names","_iterator3","_step3","_groupByFirstLetterOf","groupByFirstLetterOfName","sortContactItemsByName","uniqueContactItems","RcUIModuleV2","state","action","proxify"],"sources":["modules/ContactListUI/ContactListUI.ts"],"sourcesContent":["import type {\n  ContactPresence,\n  IContact,\n} from '@ringcentral-integration/commons/interfaces/Contact.model';\nimport {\n  AllContactSourceName,\n  groupByFirstLetterOfName,\n  sortContactItemsByName,\n  uniqueContactItems,\n} from '@ringcentral-integration/commons/lib/contactHelper';\nimport { debounce } from '@ringcentral-integration/commons/lib/debounce-throttle';\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport { proxify } from '@ringcentral-integration/commons/lib/proxy/proxify';\nimport {\n  action,\n  computed,\n  RcUIModuleV2,\n  state,\n  watch,\n} from '@ringcentral-integration/core';\n\nimport type { RouteParams } from '../ContactDetailsUI';\n\nimport type {\n  ContactSourceLastStatus,\n  Deps,\n  FilterCriteria,\n  GetUIFunctions,\n  GetUIProps,\n  StampedFilterCriteria,\n} from './ContactListUI.interface';\n\nexport const FILTER_THRESHOLD = 500;\n\n@Module({\n  name: 'ContactListUI',\n  deps: [\n    'Auth',\n    'Locale',\n    'ExtensionInfo',\n    'Contacts',\n    { dep: 'ContactDetailsUI', optional: true },\n  ],\n})\nexport class ContactListUI extends RcUIModuleV2<Deps> {\n  private _sourcesLastStatus: Map<string, ContactSourceLastStatus> = new Map();\n  private _sourcesUpdatedAt = 0;\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'StampedFilt... Remove this comment to see the full error message\n  private _currentFilterCriteria: StampedFilterCriteria = null;\n  // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'StampedFilt... Remove this comment to see the full error message\n  private _nextFilterCriteria: StampedFilterCriteria = null;\n\n  constructor(deps: Deps) {\n    super({ deps });\n  }\n\n  override _shouldInit() {\n    return (\n      super._shouldInit() && this._deps.auth.loggedIn && this.allSourcesReady()\n    );\n  }\n\n  override _shouldReset() {\n    return (\n      super._shouldReset() ||\n      (this.ready && (this._deps.auth.notLoggedIn || !this.allSourcesReady()))\n    );\n  }\n\n  override onInitOnce() {\n    this.checkSourcesUpdated();\n    watch(\n      this,\n      () => this.checkSourcesUpdated(),\n      () => {\n        if (this.ready) {\n          this.applyFilters();\n        }\n      },\n    );\n  }\n\n  override onInitSuccess() {\n    this.applyFilters();\n  }\n\n  override onReset() {\n    this._resetFilters();\n    this._clearFilteredContacts();\n    if (this._debouncedFilterContactSources) {\n      this._debouncedFilterContactSources.cancel();\n    }\n  }\n\n  get contactSources() {\n    return Array.from(this._deps.contacts.contactSources.values());\n  }\n\n  allSourcesReady() {\n    let ready = true;\n    for (const source of this.contactSources) {\n      if (!source.ready) {\n        ready = false;\n        break;\n      }\n    }\n    return ready;\n  }\n\n  checkSourcesUpdated() {\n    let updated = false;\n    if (this._sourcesLastStatus.size !== this.contactSources.length) {\n      updated = true;\n      this._sourcesLastStatus.clear();\n    }\n    for (const source of this.contactSources) {\n      const lastStatus = this._sourcesLastStatus.get(source.sourceName);\n      if (\n        !lastStatus ||\n        lastStatus.sourceReady !== source.sourceReady ||\n        lastStatus.rawContacts !== source.rawContacts\n      ) {\n        updated = true;\n        this._sourcesLastStatus.set(source.sourceName, {\n          sourceReady: source.sourceReady,\n          contacts: source.contacts,\n          rawContacts: source.rawContacts,\n        });\n      }\n    }\n    if (updated) {\n      this._sourcesUpdatedAt = Date.now();\n    }\n    return this._sourcesUpdatedAt;\n  }\n\n  @state\n  sourceFilter: string = AllContactSourceName;\n\n  @state\n  searchFilter = '';\n\n  @state\n  filterStamp = 0;\n\n  @state\n  isFiltering = false;\n\n  @state\n  filteredContactsList: [string, string][] = [];\n\n  @action\n  private _updateFilters({ sourceFilter, searchFilter }: FilterCriteria) {\n    // @ts-expect-error TS(2322): Type 'string | undefined' is not assignable to typ... Remove this comment to see the full error message\n    this.sourceFilter = sourceFilter;\n    // @ts-expect-error TS(2322): Type 'string | undefined' is not assignable to typ... Remove this comment to see the full error message\n    this.searchFilter = searchFilter;\n    this.filterStamp = Math.random();\n  }\n\n  @action\n  private _resetFilters() {\n    this.sourceFilter = AllContactSourceName;\n    this.searchFilter = '';\n    this.filterStamp = 0;\n    this.isFiltering = false;\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'StampedFilt... Remove this comment to see the full error message\n    this._currentFilterCriteria = null;\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'StampedFilt... Remove this comment to see the full error message\n    this._nextFilterCriteria = null;\n  }\n\n  @action\n  private _setIsFiltering(isFiltering: boolean) {\n    this.isFiltering = isFiltering;\n  }\n\n  @action\n  private _clearFilteredContacts() {\n    this.filteredContactsList = [];\n  }\n\n  @action\n  private _appendFilteredContacts(contacts: IContact[], sourceName: string) {\n    if (contacts.length > 0) {\n      contacts.forEach((contact) => {\n        this.filteredContactsList.push([sourceName, contact.id]);\n      });\n    }\n  }\n\n  @computed((that: ContactListUI) => [\n    that.filteredContactsList,\n    ...Object.values(that.contactSources).map((source) => source.contacts),\n  ])\n  get filteredContacts() {\n    const contactsMap: Record<string, Record<string, IContact>> = {};\n    this.contactSources.forEach((source) => {\n      contactsMap[source.sourceName] = {};\n      source.contacts.forEach((contact) => {\n        contactsMap[source.sourceName][contact.id] = contact;\n      });\n    });\n    const filteredContacts: IContact[] = [];\n    this.filteredContactsList.forEach(([sourceName, id]) => {\n      const contact = contactsMap[sourceName][id];\n      if (contact) {\n        filteredContacts.push(contact);\n      }\n    });\n    return filteredContacts;\n  }\n\n  private _debouncedFilterContactSources = debounce({\n    fn: this._filterContactSources,\n    threshold: FILTER_THRESHOLD,\n  });\n\n  private async _filterContactSources(criteria: StampedFilterCriteria) {\n    if (this._currentFilterCriteria) {\n      this._nextFilterCriteria = criteria;\n      return;\n    }\n    this._setIsFiltering(true);\n    this._clearFilteredContacts();\n    this._currentFilterCriteria = criteria;\n    const sources = this.contactSources.filter(\n      (source) =>\n        source.sourceReady &&\n        typeof source.filterContacts === 'function' &&\n        (source.sourceName === criteria.sourceFilter ||\n          AllContactSourceName === criteria.sourceFilter),\n    );\n    await Promise.all(\n      sources.map((source) => {\n        const promise = Promise.resolve(\n          // @ts-expect-error TS(2722): Cannot invoke an object which is possibly 'undefin... Remove this comment to see the full error message\n          source.filterContacts(criteria.searchFilter),\n        );\n        return promise\n          .then((items) => {\n            if (\n              !criteria.filterStamp ||\n              criteria.filterStamp === this.filterStamp\n            ) {\n              this._appendFilteredContacts(items, source.sourceName);\n            }\n          })\n          .catch((error) => {\n            console.error(\n              `[ContactListUI > ContactSource(${source.sourceName}) > filterContacts] ${error}`,\n            );\n          });\n      }),\n    );\n    // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'StampedFilt... Remove this comment to see the full error message\n    this._currentFilterCriteria = null;\n    this._setIsFiltering(false);\n    if (this._nextFilterCriteria) {\n      const next = this._nextFilterCriteria;\n      // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'StampedFilt... Remove this comment to see the full error message\n      this._nextFilterCriteria = null;\n      this._filterContactSources(next);\n    }\n  }\n\n  @proxify\n  async applyFilters({\n    sourceFilter = this.sourceFilter,\n    searchFilter = this.searchFilter,\n  }: FilterCriteria = {}) {\n    this._updateFilters({\n      sourceFilter,\n      searchFilter,\n    });\n    this._debouncedFilterContactSources({\n      sourceFilter,\n      searchFilter,\n      filterStamp: this.filterStamp,\n    });\n  }\n\n  @proxify\n  async getPresence(\n    contact: IContact,\n    useCache = true,\n  ): Promise<ContactPresence | null> {\n    const presence = await this._deps.contacts.getPresence(contact, useCache);\n    return presence;\n  }\n\n  @computed((that: ContactListUI) => [that.checkSourcesUpdated()])\n  get sourceNames() {\n    const names = [AllContactSourceName];\n    for (const source of this.contactSources) {\n      if (source.sourceReady) {\n        names.push(source.sourceName);\n      }\n    }\n    return names;\n  }\n\n  @computed((that: ContactListUI) => [that.filteredContacts])\n  get contactGroups() {\n    return (\n      groupByFirstLetterOfName(\n        sortContactItemsByName(uniqueContactItems(this.filteredContacts)),\n      ) ?? []\n    );\n  }\n\n  getUIProps({ bottomNotice, bottomNoticeHeight }: GetUIProps) {\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      contactSourceNames: this.sourceNames,\n      contactGroups: this.contactGroups,\n      searchSource: this.sourceFilter,\n      searchString: this.searchFilter,\n      isSearching: this.isFiltering,\n      showSpinner: !(this._deps.locale.ready && this.ready),\n      currentSiteCode: this._deps.extensionInfo?.site?.code ?? '',\n      isMultipleSiteEnabled:\n        this._deps.extensionInfo?.isMultipleSiteEnabled ?? false,\n      bottomNotice,\n      bottomNoticeHeight,\n    };\n  }\n\n  getUIFunctions({ onVisitPage, onRefresh, onItemSelect }: GetUIFunctions) {\n    return {\n      getAvatarUrl(): string {\n        // @ts-expect-error TS(2322): Type 'null' is not assignable to type 'string'.\n        return null;\n      },\n      getPresence: (contact: IContact): Promise<any> => {\n        return this.getPresence(contact);\n      },\n      onItemSelect:\n        onItemSelect ||\n        (async ({ type, id }: RouteParams) => {\n          if (this._deps.contactDetailsUI) {\n            this._deps.contactDetailsUI.showContactDetails({ type, id });\n          }\n        }),\n      onSearchContact: ({\n        searchSource,\n        searchString,\n      }: {\n        searchSource: string;\n        searchString: string;\n      }) => {\n        this.applyFilters({\n          sourceFilter: searchSource,\n          searchFilter: searchString,\n        });\n      },\n      onVisitPage: () => {\n        if (typeof onVisitPage === 'function') {\n          onVisitPage();\n        }\n        // fire filtering contacts if not yet\n        if (!this.filterStamp) {\n          this.applyFilters();\n        }\n      },\n      onRefresh,\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}