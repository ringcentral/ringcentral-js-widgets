{"version":3,"file":"UserGuide.js","names":["_ramda","require","_core","_di","_proxify","_trackEvents","_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","i","Object","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","keys","_initializerDefineProperty","property","descriptor","context","defineProperty","enumerable","configurable","writable","initializer","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","_toPropertyKey","_createClass","protoProps","staticProps","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","decorators","desc","forEach","slice","reverse","reduce","decorator","_initializerWarningHelper","Error","SUPPORTED_LOCALES","exports","getFileName","fileUrl","_fileUrl$split$pop","split","pop","anyFileDiff","urls1","urls2","files1","map","url","files2","JSON","stringify","UserGuide","Module","name","deps","dep","optional","track","that","options","curIdx","playing","trackEvents","whatsNew","computed","_deps","locale","ready","allGuides","brand","code","currentLocale","_RcModuleV","_super","_this","enableCache","storageKey","setPreLoadImageStatus","preLoadImageStatus","setGuides","guides","_this$allGuides$this$","oldGuides","_i","_Object$keys","start","firstLogin","_migrateGuides","_this2","setCarousel","_ref","carouselState","_onInitSuccess","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","hasPermission","initUserGuide","stop","onInitSuccess","_shouldInit","pending","auth","loggedIn","storage","appFeatures","_shouldReset","onInitOnce","_this3","watch","webphone","ringSession","dismiss","brandConfig","_callee2","_callee2$","_context2","_preLoadImage2","_callee3","_callee3$","_context3","img","Image","src","onload","onerror","_preLoadImage","_x","_preLoadImage3","_callee4","_callee4$","_context4","preLoadImage","resolveGuides","_this$_deps$brand$bra","_this$_deps$userGuide","_this4","images","assets","userGuideOptions","sort","locales","acc","curr","includes","push","_dismiss","_callee5","_callee5$","_context5","entered","updateCarousel","_updateCarousel","_callee6","_ref3","_ref3$firstLogin","_callee6$","_context6","_x2","_initUserGuide","_callee7","_callee7$","_context7","_start","_callee8","_ref4","_ref4$firstLogin","_args8","_callee8$","_context8","get","isCallingEnabled","hasReadMessagesPermission","brandGuides","currentGuides","RcModuleV2","state","action","getOwnPropertyDescriptor","proxify"],"sources":["modules/UserGuide/UserGuide.ts"],"sourcesContent":["import { includes } from 'ramda';\n\nimport {\n  action,\n  computed,\n  RcModuleV2,\n  state,\n  storage,\n  track,\n  watch,\n} from '@ringcentral-integration/core';\n\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\nimport { trackEvents } from '../../enums/trackEvents';\nimport type {\n  CarouselOptions,\n  CarouselState,\n  Deps,\n  Guides,\n} from './UserGuide.interface';\n\nexport const SUPPORTED_LOCALES = {\n  'en-US': 'en-US',\n  'fr-CA': 'fr-CA',\n};\n\nfunction getFileName(fileUrl: string) {\n  return fileUrl.split('\\\\').pop()?.split('/').pop();\n}\n\n// Since file name has included file MD5, any file name change means file change\nfunction anyFileDiff(urls1: string[], urls2: string[]) {\n  const files1 = (urls1 ?? []).map((url) => getFileName(url));\n  const files2 = (urls2 ?? []).map((url) => getFileName(url));\n  return JSON.stringify(files1) !== JSON.stringify(files2);\n}\n\n@Module({\n  name: 'UserGuide',\n  deps: [\n    'Auth',\n    'Locale',\n    'Storage',\n    'Webphone',\n    'AppFeatures',\n    'Brand',\n    { dep: 'UserGuideOptions', optional: true },\n  ],\n})\nexport class UserGuide extends RcModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'UserGuide',\n    });\n  }\n\n  @storage\n  @state\n  allGuides: { [key: string]: Guides } = {};\n\n  @state\n  carouselState: CarouselState = {\n    curIdx: 0,\n    entered: false,\n    playing: false,\n  };\n\n  @state\n  preLoadImageStatus = false;\n\n  @state\n  firstLogin = false;\n\n  @action\n  setPreLoadImageStatus() {\n    this.preLoadImageStatus = true;\n  }\n\n  @action\n  setGuides(guides: Guides) {\n    const oldGuides = this.allGuides[this._deps.brand.code] ?? {};\n    this.allGuides[this._deps.brand.code] = guides;\n    for (const locale of Object.keys(SUPPORTED_LOCALES)) {\n      if (anyFileDiff(guides[locale], oldGuides[locale])) {\n        this.start({ firstLogin: true });\n        break;\n      }\n    }\n  }\n\n  @action\n  _migrateGuides() {\n    if (!this.allGuides[this._deps.brand.code]) {\n      this.allGuides[this._deps.brand.code] = {};\n    }\n    Object.keys(SUPPORTED_LOCALES).forEach((locale) => {\n      const allGuides: Guides = this.allGuides as any;\n      if (allGuides[locale]) {\n        this.allGuides[this._deps.brand.code][locale] = allGuides[locale];\n        delete allGuides[locale];\n      }\n    });\n  }\n\n  @track((that: UserGuide, options: Required<CarouselOptions>) => {\n    if (options.curIdx === 0 && options.playing) {\n      return [trackEvents.whatsNew];\n    }\n  })\n  @action\n  setCarousel({ firstLogin, ...carouselState }: Required<CarouselOptions>) {\n    this.carouselState = carouselState;\n    this.firstLogin = firstLogin;\n  }\n\n  override async onInitSuccess() {\n    if (this.hasPermission) {\n      await this.initUserGuide();\n    }\n  }\n\n  override _shouldInit() {\n    return !!(\n      this.pending &&\n      this._deps.auth.ready &&\n      this._deps.auth.loggedIn &&\n      this._deps.locale.ready &&\n      this._deps.storage.ready &&\n      this._deps.appFeatures.ready &&\n      this._deps.brand.ready\n    );\n  }\n\n  override _shouldReset() {\n    return !!(\n      this.ready &&\n      (!this._deps.auth.ready ||\n        !this._deps.locale.ready ||\n        !this._deps.storage.ready ||\n        !this._deps.appFeatures.ready ||\n        !this._deps.brand.ready)\n    );\n  }\n\n  override onInitOnce() {\n    this._migrateGuides();\n    // When there is an incoming call,\n    // the guide should be dismissed\n    watch(\n      this,\n      () => this._deps.webphone.ringSession,\n      (ringSession) => {\n        if (this._deps.webphone.ready && ringSession) {\n          this.dismiss();\n        }\n      },\n    );\n    watch(\n      this,\n      () => this._deps.brand.brandConfig,\n      async () => {\n        if (this.hasPermission) {\n          await this.initUserGuide();\n        }\n      },\n    );\n  }\n\n  @proxify\n  async _preLoadImage(url: string) {\n    await new Promise((resolve, reject) => {\n      const img = new Image();\n      img.src = url;\n      img.onload = resolve;\n      img.onerror = reject;\n    });\n  }\n\n  @proxify\n  async preLoadImage() {\n    const url = this.guides[0];\n    if (url) {\n      await this._preLoadImage(url);\n    }\n    this.setPreLoadImageStatus();\n  }\n\n  /**\n   * Using webpack `require.context` to load guides files.\n   * Image files will be sorted by file name in ascending order.\n   */\n  resolveGuides(): Record<string, string[]> {\n    let images =\n      (this._deps.brand.brandConfig.assets?.guides as string[]) || [];\n\n    if (\n      images.length === 0 &&\n      typeof this._deps.userGuideOptions?.context === 'function'\n    ) {\n      images = this._deps.userGuideOptions.context\n        .keys()\n        .sort()\n        .map((key: string) => {\n          const value = this._deps.userGuideOptions!.context(key);\n          return typeof value === 'string' ? value : value?.default;\n        }) as string[];\n    }\n\n    const locales = Object.keys(SUPPORTED_LOCALES);\n    return images.reduce<Record<string, string[]>>((acc, curr: string) => {\n      locales.forEach((locale) => {\n        if (!acc[locale]) {\n          acc[locale] = [];\n        }\n        if (includes(locale, curr)) {\n          acc[locale].push(curr);\n        }\n      });\n      return acc;\n    }, {});\n  }\n\n  @proxify\n  async dismiss() {\n    if (\n      this.carouselState.curIdx !== 0 ||\n      this.carouselState.playing ||\n      this.carouselState.entered ||\n      this.firstLogin\n    ) {\n      this.updateCarousel({\n        curIdx: 0,\n        entered: false,\n        playing: false,\n        firstLogin: false,\n      });\n    }\n  }\n\n  @proxify\n  async updateCarousel({\n    curIdx,\n    entered,\n    playing,\n    firstLogin = this.firstLogin,\n  }: CarouselOptions) {\n    this.setCarousel({\n      curIdx,\n      entered,\n      playing,\n      firstLogin,\n    });\n  }\n\n  get hasPermission() {\n    // For extensions without calling or read message permissions, most of the content in\n    // the user guide is not applicable to them. So we should not show the user guide for\n    // these extensions.\n    return (\n      this._deps.appFeatures.isCallingEnabled ||\n      this._deps.appFeatures.hasReadMessagesPermission\n    );\n  }\n\n  @proxify\n  async initUserGuide() {\n    const guides = this.resolveGuides();\n    // Determine if it needs to be displayed when first log in,\n    // the principles behind this is to use webpack's file hash,\n    // i.e. if any of the guide files is changed, the file name hash\n    // will be changed as well, in this case, it will be displayed.\n    if (guides) {\n      this.setGuides(guides);\n      await this.preLoadImage();\n    }\n  }\n\n  @proxify\n  async start({ firstLogin = false } = {}) {\n    // Start guides only when images are ready\n    this.setCarousel({\n      curIdx: 0,\n      entered: true,\n      playing: true,\n      firstLogin,\n    });\n  }\n\n  @computed((that: UserGuide) => [\n    that._deps.locale.ready,\n    that.allGuides[that._deps.brand.code],\n    that._deps.locale.currentLocale,\n  ])\n  get guides() {\n    if (!this._deps.locale.ready) {\n      return [];\n    }\n    const brandGuides = this.allGuides[this._deps.brand.code];\n    if (brandGuides) {\n      const currentGuides = brandGuides[this._deps.locale.currentLocale];\n      if (currentGuides && currentGuides.length > 0) {\n        return currentGuides;\n      }\n      return brandGuides[SUPPORTED_LOCALES['en-US']] || [];\n    }\n    return [];\n  }\n\n  get started() {\n    return this.carouselState.entered && this.carouselState.playing;\n  }\n}\n"],"mappings":"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"}