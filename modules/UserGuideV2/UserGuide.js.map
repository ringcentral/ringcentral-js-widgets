{"version":3,"sources":["modules/UserGuideV2/UserGuide.ts"],"names":["SUPPORTED_LOCALES","getFileName","fileUrl","split","pop","anyFileDiff","urls1","urls2","files1","map","url","files2","JSON","stringify","UserGuide","name","deps","dep","optional","that","options","curIdx","playing","trackEvents","whatsNew","_deps","locale","ready","allGuides","brand","code","currentLocale","enableCache","storageKey","preLoadImageStatus","guides","oldGuides","Object","keys","start","firstLogin","forEach","carouselState","hasPermission","initUserGuide","pending","auth","loggedIn","storage","appFeatures","_migrateGuides","webphone","ringSession","dismiss","brandConfig","Promise","resolve","reject","img","Image","src","onload","onerror","_preLoadImage","setPreLoadImageStatus","images","assets","length","userGuideOptions","context","sort","key","value","locales","reduce","acc","curr","push","updateCarousel","entered","setCarousel","resolveGuides","setGuides","preLoadImage","isCallingEnabled","hasReadMessagesPermission","brandGuides","currentGuides","RcModuleV2","state","action","proxify"],"mappings":"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","sourcesContent":["import { contains } from 'ramda';\n\nimport {\n  action,\n  computed,\n  RcModuleV2,\n  state,\n  storage,\n  track,\n  watch,\n} from '@ringcentral-integration/core';\n\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\nimport { trackEvents } from '../Analytics';\nimport {\n  CarouselOptions,\n  CarouselState,\n  Deps,\n  Guides,\n} from './UserGuide.interface';\n\nexport const SUPPORTED_LOCALES = {\n  'en-US': 'en-US',\n  'fr-CA': 'fr-CA',\n};\n\nfunction getFileName(fileUrl: string) {\n  return fileUrl.split('\\\\').pop().split('/').pop();\n}\n\n// Since file name has included file MD5, any file name change means file change\nfunction anyFileDiff(urls1: string[], urls2: string[]) {\n  const files1 = (urls1 ?? []).map((url) => getFileName(url));\n  const files2 = (urls2 ?? []).map((url) => getFileName(url));\n  return JSON.stringify(files1) !== JSON.stringify(files2);\n}\n\n@Module({\n  name: 'UserGuide',\n  deps: [\n    'Auth',\n    'Locale',\n    'Storage',\n    'Webphone',\n    'AppFeatures',\n    'Brand',\n    { dep: 'UserGuideOptions', optional: true },\n  ],\n})\nexport class UserGuide extends RcModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'UserGuide',\n    });\n  }\n\n  @storage\n  @state\n  allGuides: { [key: string]: Guides } = {};\n\n  @state\n  carouselState: CarouselState = {\n    curIdx: 0,\n    entered: false,\n    playing: false,\n  };\n\n  @state\n  preLoadImageStatus = false;\n\n  @state\n  firstLogin = false;\n\n  @action\n  setPreLoadImageStatus() {\n    this.preLoadImageStatus = true;\n  }\n\n  @action\n  setGuides(guides: Guides) {\n    const oldGuides = this.allGuides[this._deps.brand.code] ?? {};\n    this.allGuides[this._deps.brand.code] = guides;\n    for (const locale of Object.keys(SUPPORTED_LOCALES)) {\n      if (anyFileDiff(guides[locale], oldGuides[locale])) {\n        this.start({ firstLogin: true });\n        break;\n      }\n    }\n  }\n\n  @action\n  _migrateGuides() {\n    if (!this.allGuides[this._deps.brand.code]) {\n      this.allGuides[this._deps.brand.code] = {};\n    }\n    Object.keys(SUPPORTED_LOCALES).forEach((locale) => {\n      const allGuides: Guides = this.allGuides as any;\n      if (allGuides[locale]) {\n        this.allGuides[this._deps.brand.code][locale] = allGuides[locale];\n        delete allGuides[locale];\n      }\n    });\n  }\n\n  @track((that: UserGuide, options: Required<CarouselOptions>) => {\n    if (options.curIdx === 0 && options.playing) {\n      return [trackEvents.whatsNew];\n    }\n  })\n  @action\n  setCarousel({ firstLogin, ...carouselState }: Required<CarouselOptions>) {\n    this.carouselState = carouselState;\n    this.firstLogin = firstLogin;\n  }\n\n  async onInitSuccess() {\n    if (this.hasPermission) {\n      await this.initUserGuide();\n    }\n  }\n\n  _shouldInit() {\n    return !!(\n      this.pending &&\n      this._deps.auth.ready &&\n      this._deps.auth.loggedIn &&\n      this._deps.locale.ready &&\n      this._deps.storage.ready &&\n      this._deps.appFeatures.ready &&\n      this._deps.brand.ready\n    );\n  }\n\n  _shouldReset() {\n    return !!(\n      this.ready &&\n      (!this._deps.auth.ready ||\n        !this._deps.locale.ready ||\n        !this._deps.storage.ready ||\n        !this._deps.appFeatures.ready ||\n        !this._deps.brand.ready)\n    );\n  }\n\n  onInitOnce() {\n    this._migrateGuides();\n    // When there is an incoming call,\n    // the guide should be dismissed\n    watch(\n      this,\n      () => this._deps.webphone.ringSession,\n      (ringSession) => {\n        if (this._deps.webphone.ready && ringSession) {\n          this.dismiss();\n        }\n      },\n    );\n    watch(\n      this,\n      () => this._deps.brand.brandConfig,\n      async () => {\n        if (this.hasPermission) {\n          await this.initUserGuide();\n        }\n      },\n    );\n  }\n\n  @proxify\n  async _preLoadImage(url: string) {\n    await new Promise((resolve, reject) => {\n      const img = new Image();\n      img.src = url;\n      img.onload = resolve;\n      img.onerror = reject;\n    });\n  }\n\n  @proxify\n  async preLoadImage() {\n    const url = this.guides[0];\n    if (url) {\n      await this._preLoadImage(url);\n    }\n    this.setPreLoadImageStatus();\n  }\n\n  /**\n   * Using webpack `require.context` to load guides files.\n   * Image files will be sorted by file name in ascending order.\n   */\n  resolveGuides(): Record<string, string[]> {\n    let images =\n      (this._deps.brand.brandConfig.assets?.guides as string[]) || [];\n\n    if (\n      images.length === 0 &&\n      typeof this._deps.userGuideOptions?.context === 'function'\n    ) {\n      images = this._deps.userGuideOptions.context\n        .keys()\n        .sort()\n        .map((key: string) => {\n          const value = this._deps.userGuideOptions.context(key);\n          return typeof value === 'string' ? value : value?.default;\n        }) as string[];\n    }\n\n    const locales = Object.keys(SUPPORTED_LOCALES);\n    return images.reduce<Record<string, string[]>>((acc, curr: string) => {\n      locales.forEach((locale) => {\n        if (!acc[locale]) {\n          acc[locale] = [];\n        }\n        if (contains(locale, curr)) {\n          acc[locale].push(curr);\n        }\n      });\n      return acc;\n    }, {});\n  }\n\n  @proxify\n  async dismiss() {\n    this.updateCarousel({\n      curIdx: 0,\n      entered: false,\n      playing: false,\n      firstLogin: false,\n    });\n  }\n\n  @proxify\n  async updateCarousel({\n    curIdx,\n    entered,\n    playing,\n    firstLogin = this.firstLogin,\n  }: CarouselOptions) {\n    this.setCarousel({\n      curIdx,\n      entered,\n      playing,\n      firstLogin,\n    });\n  }\n\n  get hasPermission() {\n    // For extensions without calling or read message permissions, most of the content in\n    // the user guide is not applicable to them. So we should not show the user guide for\n    // these extensions.\n    return (\n      this._deps.appFeatures.isCallingEnabled ||\n      this._deps.appFeatures.hasReadMessagesPermission\n    );\n  }\n\n  @proxify\n  async initUserGuide() {\n    const guides = this.resolveGuides();\n    // Determine if it needs to be displayed when first log in,\n    // the principles behind this is to use webpack's file hash,\n    // i.e. if any of the guide files is changed, the file name hash\n    // will be changed as well, in this case, it will be displayed.\n    if (guides) {\n      this.setGuides(guides);\n      await this.preLoadImage();\n    }\n  }\n\n  @proxify\n  async start({ firstLogin = false } = {}) {\n    // Start guides only when images are ready\n    this.setCarousel({\n      curIdx: 0,\n      entered: true,\n      playing: true,\n      firstLogin,\n    });\n  }\n\n  @computed((that: UserGuide) => [\n    that._deps.locale.ready,\n    that.allGuides[that._deps.brand.code],\n    that._deps.locale.currentLocale,\n  ])\n  get guides() {\n    if (!this._deps.locale.ready) {\n      return [];\n    }\n    const brandGuides = this.allGuides[this._deps.brand.code];\n    if (brandGuides) {\n      const currentGuides = brandGuides[this._deps.locale.currentLocale];\n      if (currentGuides && currentGuides.length > 0) {\n        return currentGuides;\n      }\n      return brandGuides[SUPPORTED_LOCALES['en-US']] || [];\n    }\n    return [];\n  }\n\n  get started() {\n    return this.carouselState.entered && this.carouselState.playing;\n  }\n}\n"],"file":"UserGuide.js"}