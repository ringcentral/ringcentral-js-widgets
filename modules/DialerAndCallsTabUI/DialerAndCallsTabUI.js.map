{"version":3,"file":"DialerAndCallsTabUI.js","names":["_di","require","_core","_hasActiveCalls","_i18n","_interopRequireDefault","_dec","_dec2","_class","_class2","e","__esModule","_classCallCheck","a","n","TypeError","_defineProperties","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_inherits","create","constructor","value","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","arguments","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","l","keys","forEach","initializer","slice","reverse","reduce","DialerAndCallsTabUI","Module","name","deps","dep","optional","computed","that","_deps","locale","currentLocale","routerInteraction","currentPath","_RcUIModuleV","_super","getUIProps","props","showTabs","hasActiveCalls","callingSettings","webphone","callMonitor","showSpinner","ready","tabs","getUIFunctions","_this","goTo","path","push","get","_this2","label","i18n","getString","dataSign","isActive","RcUIModuleV2","getOwnPropertyDescriptor","exports"],"sources":["modules/DialerAndCallsTabUI/DialerAndCallsTabUI.ts"],"sourcesContent":["import { Module } from '@ringcentral-integration/commons/lib/di';\nimport type { UIFunctions, UIProps } from '@ringcentral-integration/core';\nimport { computed, RcUIModuleV2 } from '@ringcentral-integration/core';\n\nimport type { TabContentViewProps } from '../../components/TabContentView/TabContentView';\nimport { hasActiveCalls } from '../../lib/hasActiveCalls';\n\nimport type {\n  Deps,\n  DialerAndCallsTabContainerProps,\n} from './DialerAndCallsTabUI.interface';\nimport i18n from './i18n';\n\n@Module({\n  name: 'DialerAndCallsTabUI',\n  deps: [\n    'Locale',\n    'RouterInteraction',\n    'CallingSettings',\n    { dep: 'Webphone', optional: true },\n    { dep: 'CallMonitor', optional: true },\n    { dep: 'DialerAndCallsTabUIOptions', optional: true },\n  ],\n})\nexport class DialerAndCallsTabUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  @computed((that: DialerAndCallsTabUI) => [\n    that._deps.locale.currentLocale,\n    that._deps.routerInteraction.currentPath,\n  ])\n  get tabs() {\n    return [\n      {\n        path: '/dialer',\n        label: i18n.getString('dialer', this._deps.locale.currentLocale),\n        dataSign: 'dialer',\n        isActive: () => {\n          return this._deps.routerInteraction.currentPath === '/dialer';\n        },\n      },\n      {\n        path: '/calls',\n        label: i18n.getString('allCalls', this._deps.locale.currentLocale),\n        dataSign: 'allCalls',\n        isActive: () => {\n          return this._deps.routerInteraction.currentPath === '/calls';\n        },\n      },\n    ];\n  }\n\n  getUIProps(\n    props: DialerAndCallsTabContainerProps,\n  ): UIProps<TabContentViewProps> {\n    return {\n      showTabs: props.hasActiveCalls\n        ? props.hasActiveCalls({\n            callingSettings: this._deps.callingSettings,\n            webphone: this._deps.webphone,\n            callMonitor: this._deps.callMonitor,\n          })\n        : hasActiveCalls({\n            callingSettings: this._deps.callingSettings,\n            webphone: this._deps.webphone,\n            callMonitor: this._deps.callMonitor,\n          }),\n      showSpinner: !this._deps.locale.ready,\n      tabs: this.tabs,\n    };\n  }\n\n  getUIFunctions(\n    props: DialerAndCallsTabContainerProps,\n  ): UIFunctions<TabContentViewProps> {\n    return {\n      goTo: (path) => {\n        this._deps.routerInteraction.push(path);\n      },\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}