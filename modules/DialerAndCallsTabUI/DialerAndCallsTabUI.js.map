{"version":3,"file":"DialerAndCallsTabUI.js","names":["_di","require","_core","_hasActiveCalls","_i18n","_interopRequireDefault","_dec","_dec2","_class","_class2","e","__esModule","_classCallCheck","a","n","TypeError","_defineProperties","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","value","_setPrototypeOf","_applyDecoratedDescriptor","l","keys","forEach","initializer","slice","reverse","reduce","DialerAndCallsTabUI","exports","Module","name","deps","dep","optional","computed","that","_deps","locale","currentLocale","routerInteraction","currentPath","_RcUIModuleV","get","_this","path","label","i18n","getString","dataSign","isActive","getUIProps","props","showTabs","hasActiveCalls","callingSettings","webphone","callMonitor","showSpinner","ready","tabs","getUIFunctions","_this2","goTo","push","RcUIModuleV2","getOwnPropertyDescriptor"],"sources":["modules/DialerAndCallsTabUI/DialerAndCallsTabUI.ts"],"sourcesContent":["import { Module } from '@ringcentral-integration/commons/lib/di';\nimport type { UIFunctions, UIProps } from '@ringcentral-integration/core';\nimport { computed, RcUIModuleV2 } from '@ringcentral-integration/core';\n\nimport type { TabContentViewProps } from '../../components/TabContentView/TabContentView';\nimport { hasActiveCalls } from '../../lib/hasActiveCalls';\n\nimport type {\n  Deps,\n  DialerAndCallsTabContainerProps,\n} from './DialerAndCallsTabUI.interface';\nimport i18n from './i18n';\n\n@Module({\n  name: 'DialerAndCallsTabUI',\n  deps: [\n    'Locale',\n    'RouterInteraction',\n    'CallingSettings',\n    { dep: 'Webphone', optional: true },\n    { dep: 'CallMonitor', optional: true },\n    { dep: 'DialerAndCallsTabUIOptions', optional: true },\n  ],\n})\nexport class DialerAndCallsTabUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  @computed((that: DialerAndCallsTabUI) => [\n    that._deps.locale.currentLocale,\n    that._deps.routerInteraction.currentPath,\n  ])\n  get tabs() {\n    return [\n      {\n        path: '/dialer',\n        label: i18n.getString('dialer', this._deps.locale.currentLocale),\n        dataSign: 'dialer',\n        isActive: () => {\n          return this._deps.routerInteraction.currentPath === '/dialer';\n        },\n      },\n      {\n        path: '/calls',\n        label: i18n.getString('allCalls', this._deps.locale.currentLocale),\n        dataSign: 'allCalls',\n        isActive: () => {\n          return this._deps.routerInteraction.currentPath === '/calls';\n        },\n      },\n    ];\n  }\n\n  getUIProps(\n    props: DialerAndCallsTabContainerProps,\n  ): UIProps<TabContentViewProps> {\n    return {\n      showTabs: props.hasActiveCalls\n        ? props.hasActiveCalls({\n            callingSettings: this._deps.callingSettings,\n            webphone: this._deps.webphone,\n            callMonitor: this._deps.callMonitor,\n          })\n        : hasActiveCalls({\n            callingSettings: this._deps.callingSettings,\n            webphone: this._deps.webphone,\n            callMonitor: this._deps.callMonitor,\n          }),\n      showSpinner: !this._deps.locale.ready,\n      tabs: this.tabs,\n    };\n  }\n\n  getUIFunctions(\n    props: DialerAndCallsTabContainerProps,\n  ): UIFunctions<TabContentViewProps> {\n    return {\n      goTo: (path) => {\n        this._deps.routerInteraction.push(path);\n      },\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}