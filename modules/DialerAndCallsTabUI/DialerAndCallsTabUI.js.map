{"version":3,"sources":["modules/DialerAndCallsTabUI/DialerAndCallsTabUI.ts"],"names":["DialerAndCallsTabUI","name","deps","dep","optional","that","_deps","locale","currentLocale","routerInteraction","currentPath","props","showTabs","hasActiveCalls","callingSettings","webphone","callMonitor","showSpinner","ready","tabs","goTo","path","push","label","i18n","getString","dataSign","isActive","RcUIModuleV2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AAQA;;AAKA;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAaaA,mB,WAXZ,gBAAO;AACNC,EAAAA,IAAI,EAAE,qBADA;AAENC,EAAAA,IAAI,EAAE,CACJ,QADI,EAEJ,mBAFI,EAGJ,iBAHI,EAIJ;AAAEC,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,QAAQ,EAAE;AAA7B,GAJI,EAKJ;AAAED,IAAAA,GAAG,EAAE,aAAP;AAAsBC,IAAAA,QAAQ,EAAE;AAAhC,GALI,EAMJ;AAAED,IAAAA,GAAG,EAAE,4BAAP;AAAqCC,IAAAA,QAAQ,EAAE;AAA/C,GANI;AAFA,CAAP,C,UAkBE,oBAAS,UAACC,IAAD;AAAA,SAA+B,CACvCA,IAAI,CAACC,KAAL,CAAWC,MAAX,CAAkBC,aADqB,EAEvCH,IAAI,CAACC,KAAL,CAAWG,iBAAX,CAA6BC,WAFU,CAA/B;AAAA,CAAT,C;;;;;AAND,+BAAYR,IAAZ,EAAwB;AAAA;;AAAA,6BAChB;AACJA,MAAAA,IAAI,EAAJA;AADI,KADgB;AAIvB;;;;+BA4BCS,K,EAC8B;AAC9B,aAAO;AACLC,QAAAA,QAAQ,EAAED,KAAK,CAACE,cAAN,GACNF,KAAK,CAACE,cAAN,CAAqB;AACnBC,UAAAA,eAAe,EAAE,KAAKR,KAAL,CAAWQ,eADT;AAEnBC,UAAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWS,QAFF;AAGnBC,UAAAA,WAAW,EAAE,KAAKV,KAAL,CAAWU;AAHL,SAArB,CADM,GAMN,oCAAe;AACbF,UAAAA,eAAe,EAAE,KAAKR,KAAL,CAAWQ,eADf;AAEbC,UAAAA,QAAQ,EAAE,KAAKT,KAAL,CAAWS,QAFR;AAGbC,UAAAA,WAAW,EAAE,KAAKV,KAAL,CAAWU;AAHX,SAAf,CAPC;AAYLC,QAAAA,WAAW,EAAE,CAAC,KAAKX,KAAL,CAAWC,MAAX,CAAkBW,KAZ3B;AAaLC,QAAAA,IAAI,EAAE,KAAKA;AAbN,OAAP;AAeD;;;mCAGCR,K,EACkC;AAAA;;AAClC,aAAO;AACLS,QAAAA,IAAI,EAAE,cAACC,IAAD,EAAU;AACd,UAAA,KAAI,CAACf,KAAL,CAAWG,iBAAX,CAA6Ba,IAA7B,CAAkCD,IAAlC;AACD;AAHI,OAAP;AAKD;;;wBAjDU;AAAA;;AACT,aAAO,CACL;AACEA,QAAAA,IAAI,EAAE,SADR;AAEEE,QAAAA,KAAK,EAAEC,iBAAKC,SAAL,CAAe,QAAf,EAAyB,KAAKnB,KAAL,CAAWC,MAAX,CAAkBC,aAA3C,CAFT;AAGEkB,QAAAA,QAAQ,EAAE,QAHZ;AAIEC,QAAAA,QAAQ,EAAE,oBAAM;AACd,iBAAO,MAAI,CAACrB,KAAL,CAAWG,iBAAX,CAA6BC,WAA7B,KAA6C,SAApD;AACD;AANH,OADK,EASL;AACEW,QAAAA,IAAI,EAAE,QADR;AAEEE,QAAAA,KAAK,EAAEC,iBAAKC,SAAL,CAAe,UAAf,EAA2B,KAAKnB,KAAL,CAAWC,MAAX,CAAkBC,aAA7C,CAFT;AAGEkB,QAAAA,QAAQ,EAAE,UAHZ;AAIEC,QAAAA,QAAQ,EAAE,oBAAM;AACd,iBAAO,MAAI,CAACrB,KAAL,CAAWG,iBAAX,CAA6BC,WAA7B,KAA6C,QAApD;AACD;AANH,OATK,CAAP;AAkBD;;;;EA9BsCkB,kB","sourcesContent":["import { Module } from '@ringcentral-integration/commons/lib/di';\nimport {\n  computed,\n  RcUIModuleV2,\n  UIFunctions,\n  UIProps,\n} from '@ringcentral-integration/core';\n\nimport { TabContentViewProps } from '../../components/TabContentView/TabContentView';\nimport { hasActiveCalls } from '../../lib/hasActiveCalls';\nimport {\n  Deps,\n  DialerAndCallsTabContainerProps,\n} from './DialerAndCallsTabUI.interface';\nimport i18n from './i18n';\n\n@Module({\n  name: 'DialerAndCallsTabUI',\n  deps: [\n    'Locale',\n    'RouterInteraction',\n    'CallingSettings',\n    { dep: 'Webphone', optional: true },\n    { dep: 'CallMonitor', optional: true },\n    { dep: 'DialerAndCallsTabUIOptions', optional: true },\n  ],\n})\nexport class DialerAndCallsTabUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  @computed((that: DialerAndCallsTabUI) => [\n    that._deps.locale.currentLocale,\n    that._deps.routerInteraction.currentPath,\n  ])\n  get tabs() {\n    return [\n      {\n        path: '/dialer',\n        label: i18n.getString('dialer', this._deps.locale.currentLocale),\n        dataSign: 'dialer',\n        isActive: () => {\n          return this._deps.routerInteraction.currentPath === '/dialer';\n        },\n      },\n      {\n        path: '/calls',\n        label: i18n.getString('allCalls', this._deps.locale.currentLocale),\n        dataSign: 'allCalls',\n        isActive: () => {\n          return this._deps.routerInteraction.currentPath === '/calls';\n        },\n      },\n    ];\n  }\n\n  getUIProps(\n    props: DialerAndCallsTabContainerProps,\n  ): UIProps<TabContentViewProps> {\n    return {\n      showTabs: props.hasActiveCalls\n        ? props.hasActiveCalls({\n            callingSettings: this._deps.callingSettings,\n            webphone: this._deps.webphone,\n            callMonitor: this._deps.callMonitor,\n          })\n        : hasActiveCalls({\n            callingSettings: this._deps.callingSettings,\n            webphone: this._deps.webphone,\n            callMonitor: this._deps.callMonitor,\n          }),\n      showSpinner: !this._deps.locale.ready,\n      tabs: this.tabs,\n    };\n  }\n\n  getUIFunctions(\n    props: DialerAndCallsTabContainerProps,\n  ): UIFunctions<TabContentViewProps> {\n    return {\n      goTo: (path) => {\n        this._deps.routerInteraction.push(path);\n      },\n    };\n  }\n}\n"],"file":"DialerAndCallsTabUI.js"}