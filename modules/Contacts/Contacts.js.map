{"version":3,"file":"Contacts.js","names":["_core","require","_di","_proxify","_dec","_dec2","_dec3","_class","_class2","_regenerator","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","length","l","TypeError","call","done","value","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_createForOfIteratorHelper","Array","isArray","_unsupportedIterableToArray","_n","F","s","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","_classCallCheck","_defineProperties","_toPropertyKey","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","keys","forEach","initializer","reverse","reduce","Contacts","exports","Module","deps","dep","optional","computed","that","_contactSources","size","checkSourceUpdated","_RcModuleV","_this$_deps$contactSo","_this","Map","_sourcesLastStatus","_sourcesUpdatedAt","Date","now","_iterator","_deps","contactSources","_step","source","addSource","err","_shouldInit","auth","loggedIn","sourceModuleReady","pending","_shouldReset","ready","sourceName","Error","has","concat","getPresence","getProfileImage","findContact","filterContacts","searchForPhoneNumbers","matchContactsByPhoneNumber","set","updated","_i","_Array$from","get","lastStatus","sourceReady","data","contacts","_findContact","_callee","_ref","contactId","contact","_t","_context","console","error","_x","_filterContacts","_callee2","searchFilter","sources","result","_context2","values","filter","all","map","promise","items","_x2","_searchForPhoneNumbers","_callee3","searchString","_context3","_x3","_matchContactsByPhoneNumber","_callee4","phoneNumber","_context4","_x4","_matchContacts","_callee5","_ref2","_this2","phoneNumbers","_context5","matchContacts","_x5","_getProfileImage","_callee6","useCache","_args6","_context6","undefined","type","_x6","_getPresence","_callee7","_args7","_context7","_x7","_sync","_callee8","syncPromises","_i2","_Array$from2","_args8","_context8","sync","push","_i3","_Array$from3","names","_i4","_Array$from4","_i5","_Array$from5","RcModuleV2","proxify","getOwnPropertyDescriptor"],"sources":["modules/Contacts/Contacts.ts"],"sourcesContent":["import { computed, RcModuleV2 } from '@ringcentral-integration/core';\n\nimport type {\n  ContactSource,\n  IContact,\n  TypedContact,\n  TypedPhoneNumber,\n} from '../../interfaces/Contact.model';\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\n\nimport type { Deps } from './Contacts.interface';\n\n@Module({\n  name: 'Contacts',\n  deps: [\n    'Auth',\n    { dep: 'ContactSources', optional: true },\n    { dep: 'ContactsOptions', optional: true },\n  ],\n})\nexport class Contacts<T extends Deps = Deps> extends RcModuleV2<T> {\n  protected _contactSources = new Map<string, ContactSource>();\n\n  protected _sourcesLastStatus = new Map<\n    string,\n    { ready?: boolean; data?: IContact[] }\n  >();\n\n  protected _sourcesUpdatedAt = Date.now();\n\n  constructor(deps: T) {\n    super({\n      deps,\n    });\n    for (const source of this._deps.contactSources ?? []) {\n      this.addSource(source);\n    }\n  }\n\n  override _shouldInit() {\n    return this._deps.auth.loggedIn && this.sourceModuleReady && this.pending;\n  }\n\n  override _shouldReset() {\n    return (!this._deps.auth.loggedIn || !this.sourceModuleReady) && this.ready;\n  }\n\n  addSource(source: ContactSource) {\n    if (!source.sourceName) {\n      throw new Error('[Contacts > ContactSource > sourceName] is required');\n    }\n    if (this._contactSources.has(source.sourceName)) {\n      throw new Error(\n        `[Contacts > ContactSource(${source.sourceName}) > sourceName] already exists`,\n      );\n    }\n    if (source.getPresence && typeof source.getPresence !== 'function') {\n      throw new Error(\n        `[Contacts > ContactSource(${source.sourceName}) > getPresence] must be a function`,\n      );\n    }\n    if (\n      source.getProfileImage &&\n      typeof source.getProfileImage !== 'function'\n    ) {\n      throw new Error(\n        `[Contacts > ContactSource(${source.sourceName}) > getProfileImage] must be a function`,\n      );\n    }\n    if (source.findContact && typeof source.findContact !== 'function') {\n      throw new Error(\n        `[Contacts > ContactSource(${source.sourceName}) > findContact] must be a function`,\n      );\n    }\n    if (source.filterContacts && typeof source.filterContacts !== 'function') {\n      throw new Error(\n        `[Contacts > ContactSource(${source.sourceName}) > filterContacts] must be a function`,\n      );\n    }\n    if (\n      source.searchForPhoneNumbers &&\n      typeof source.searchForPhoneNumbers !== 'function'\n    ) {\n      throw new Error(\n        `[Contacts > ContactSource(${source.sourceName}) > searchForPhoneNumbers] must be a function`,\n      );\n    }\n    if (\n      source.matchContactsByPhoneNumber &&\n      typeof source.matchContactsByPhoneNumber !== 'function'\n    ) {\n      throw new Error(\n        `[Contacts > ContactSource(${source.sourceName}) > matchContactsByPhoneNumber] must be a function`,\n      );\n    }\n    this._contactSources.set(source.sourceName, source);\n    this._sourcesLastStatus.set(source.sourceName, {});\n    this._sourcesUpdatedAt = Date.now();\n  }\n\n  checkSourceUpdated() {\n    let updated = false;\n    for (const sourceName of Array.from(this._contactSources.keys())) {\n      const source = this._contactSources.get(sourceName);\n      const lastStatus = this._sourcesLastStatus.get(sourceName);\n      if (\n        source &&\n        lastStatus &&\n        (lastStatus.ready !== source.sourceReady ||\n          lastStatus.data !== source.contacts)\n      ) {\n        updated = true;\n        this._sourcesLastStatus.set(sourceName, {\n          ready: source.sourceReady,\n          data: source.contacts,\n        });\n      }\n    }\n    if (updated) {\n      this._sourcesUpdatedAt = Date.now();\n    }\n    return this._sourcesUpdatedAt;\n  }\n\n  async findContact({\n    sourceName,\n    contactId,\n  }: {\n    sourceName: string;\n    contactId: string;\n  }) {\n    let contact = null;\n    const source = this._contactSources.get(sourceName);\n    if (source && typeof source.findContact === 'function') {\n      try {\n        contact = await source.findContact(contactId);\n      } catch (error: any /** TODO: confirm with instanceof */) {\n        console.error(\n          `[Contacts > ContactSource(${source.sourceName}) > findContact] ${error}`,\n        );\n      }\n    }\n    return contact;\n  }\n\n  async filterContacts(searchFilter: string) {\n    const sources = Array.from(this._contactSources.values()).filter(\n      (source) => typeof source.filterContacts === 'function',\n    );\n    let result: IContact[] = [];\n    await Promise.all(\n      sources.map((source) => {\n        const promise = Promise.resolve(source.filterContacts!(searchFilter));\n        return promise\n          .then((items) => {\n            if (items) {\n              result = result.concat(items);\n            }\n          })\n          .catch((error) => {\n            console.error(\n              `[Contacts > ContactSource(${source.sourceName}) > filterContacts] ${error}`,\n            );\n          });\n      }),\n    );\n    return result;\n  }\n\n  async searchForPhoneNumbers(searchString: string) {\n    const sources = Array.from(this._contactSources.values()).filter(\n      (source) => typeof source.searchForPhoneNumbers === 'function',\n    );\n    let result: TypedPhoneNumber[] = [];\n    await Promise.all(\n      sources.map((source) => {\n        const promise = Promise.resolve(\n          source.searchForPhoneNumbers!(searchString),\n        );\n        return promise\n          .then((items) => {\n            if (items) {\n              result = result.concat(items);\n            }\n          })\n          .catch((error) => {\n            console.error(\n              `[Contacts > ContactSource(${source.sourceName}) > searchForPhoneNumbers] ${error}`,\n            );\n          });\n      }),\n    );\n    return result;\n  }\n\n  async matchContactsByPhoneNumber(phoneNumber: string) {\n    const sources = Array.from(this._contactSources.values()).filter(\n      (source) => typeof source.matchContactsByPhoneNumber === 'function',\n    );\n    let result: TypedContact[] = [];\n    await Promise.all(\n      sources.map((source) => {\n        const promise = Promise.resolve(\n          source.matchContactsByPhoneNumber!(phoneNumber),\n        );\n        return promise\n          .then((items) => {\n            if (items) {\n              result = result.concat(items);\n            }\n          })\n          .catch((error) => {\n            console.error(\n              `[Contacts > ContactSource(${source.sourceName}) > matchContactsByPhoneNumber] ${error}`,\n            );\n          });\n      }),\n    );\n    return result;\n  }\n\n  async matchContacts({ phoneNumbers }: { phoneNumbers: string[] }) {\n    const result: Record<string, TypedContact[]> = {};\n    await Promise.all(\n      phoneNumbers.map((phoneNumber) => {\n        const promise = this.matchContactsByPhoneNumber(phoneNumber);\n        return promise.then((items) => {\n          result[phoneNumber] = items;\n        });\n      }),\n    );\n    return result;\n  }\n\n  @proxify\n  async getProfileImage(contact: IContact, useCache = true) {\n    const source = this._contactSources.get(contact && contact.type);\n    if (source && source.getProfileImage) {\n      const result = await source.getProfileImage(contact, useCache);\n      return result;\n    }\n    return null;\n  }\n\n  @proxify\n  async getPresence(contact: IContact, useCache = true) {\n    const source = this._contactSources.get(contact && contact.type);\n    if (source && source.sourceReady && source.getPresence) {\n      const result = await source.getPresence(contact, useCache);\n      return result;\n    }\n    return null;\n  }\n\n  @proxify\n  async sync(...args: unknown[]) {\n    const syncPromises = [];\n    for (const sourceName of Array.from(this._contactSources.keys())) {\n      const source = this._contactSources.get(sourceName);\n      if (typeof source?.sync === 'function') {\n        syncPromises.push(source.sync(...args));\n      }\n    }\n    await Promise.all(syncPromises);\n  }\n\n  get sourceModuleReady() {\n    let ready = true;\n    for (const sourceName of Array.from(this._contactSources.keys())) {\n      const source = this._contactSources.get(sourceName);\n      if (!source?.ready) {\n        ready = false;\n        break;\n      }\n    }\n    return ready;\n  }\n\n  @computed((that: Contacts) => [\n    that._contactSources.size,\n    that.checkSourceUpdated(),\n  ])\n  get sourceNames() {\n    const names = [];\n    for (const sourceName of Array.from(this._contactSources.keys())) {\n      const source = this._contactSources.get(sourceName);\n      if (source?.sourceReady) {\n        names.push(sourceName);\n      }\n    }\n    return names;\n  }\n\n  @computed((that: Contacts) => [that.checkSourceUpdated()])\n  get allContacts() {\n    let contacts: IContact[] = [];\n    for (const sourceName of Array.from(this._contactSources.keys())) {\n      const source = this._contactSources.get(sourceName);\n      if (source?.sourceReady && source.contacts) {\n        contacts = contacts.concat(source.contacts);\n      }\n    }\n    return contacts;\n  }\n\n  get contactSources() {\n    return this._contactSources;\n  }\n}\n"],"mappings":"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","ignoreList":[]}