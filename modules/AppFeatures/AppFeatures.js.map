{"version":3,"file":"AppFeatures.js","names":["_core","require","_di","_dec","_dec2","_class","_class2","_dec3","_class3","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","property","decorators","context","desc","initializer","slice","reverse","reduce","decorator","defaultConfiguration","CallLog","Conferencing","Fax","Voicemail","Pages","SMS","RingCentralApp","RingOut","Softphone","WebPhone","CallControl","ConferenceCall","Meetings","Glip","Contacts","HideContactsWhenNoCallOrMessage","CDC","EDP","exports","AppFeaturesBase","Module","name","deps","dep","optional","computed","that","_deps","featureConfiguration","_RcModuleV","_super","get","isRingOutEnabled","isWebPhoneEnabled","_this$_deps$extension","_this$_deps$extension2","extensionFeatures","features","available","config","_this$_deps$extension3","_this$_deps$extension4","_this$_deps$brand$bra","brand","brandConfig","isDisableSpartan","_this$_deps$extension5","_this$_deps$extension6","SMSReceiving","_this$_deps$extension7","_this$_deps$extension8","PagesReceiving","_this$_deps$extension9","_this$_deps$extension10","_this$_deps$extension11","_this$_deps$extension12","FaxReceiving","hasReadSMSPermission","hasReadPagesPermission","hasVoicemailPermission","hasReadFaxPermission","_this$_deps$extension13","_this$_deps$extension14","SMSSending","hasSendSMSPermission","_this$_deps$extension15","_this$_deps$extension16","PagesSending","hasSendPagesPermission","_this$_deps$extension17","_this$_deps$extension18","_this$_deps$extension19","_this$_deps$extension20","RoomConnectorBeta","_this$_deps$extension21","_this$_deps$extension22","MeetingsEncryption","_this$_deps$extension23","_this$_deps$extension24","ReadExtensionCallLog","readExtensionCallLogAvailable","_this$_deps$extension25","_this$_deps$extension26","_this$_deps$auth$toke","_this$_deps$auth$toke2","_this$_deps$auth$toke3","_this$_deps$auth$toke4","auth","token","scope","indexOf","isCallingEnabled","hasReadMessagesPermission","_this$_deps$extension27","_this$_deps$extension28","OutboundCallPrefix","isOCPEnabled","_this$_deps$extension29","_this$_deps$extension30","_this$_deps$extension31","_this$_deps$extension32","params","_this$_deps$extension33","_this$_deps$extension34","SmartDialPlanRouting","isEDPEnabled","enableEDP","RcModuleV2","AppFeatures","_AppFeaturesBase","_super2"],"sources":["modules/AppFeatures/AppFeatures.ts"],"sourcesContent":["import { computed, RcModuleV2 } from '@ringcentral-integration/core';\n\nimport { Module } from '../../lib/di';\nimport type { Deps, FeatureConfiguration } from './AppFeatures.interface';\n\n// Required<FeatureConfiguration> helps to make sure that the default config aligns with the interface\nexport const defaultConfiguration: Required<FeatureConfiguration> = {\n  CallLog: true,\n  // Conferencing\n  Conferencing: true,\n\n  // Messages\n  Fax: true,\n  Voicemail: true,\n  Pages: true,\n  SMS: true,\n\n  // Call\n  RingCentralApp: true,\n  RingOut: true,\n  Softphone: true,\n  WebPhone: true,\n  CallControl: true,\n  ConferenceCall: true,\n\n  // Meetings\n  Meetings: true,\n\n  // Glip\n  Glip: false,\n\n  // Contacts Tab\n  Contacts: true,\n  HideContactsWhenNoCallOrMessage: true,\n\n  // CompanyDirectoryControl\n  CDC: false,\n\n  // Enterprise dial plan\n  EDP: false,\n};\n\n/**\n * AppFeatures:\n * * This module manages and provide access to feature toggle settings. This module also provide ways to dynamically update these settings. However, to avoid putting this module high in the dependency tree, this module only provide methods to update the settings that are cached in storage, but does not have the ability to make queries to external api to update settings on its own.\n * * (TODO): Implement cached settings and update settings features.\n * * (TODO): Brand module should depend on this and set the toggle based on brand if applicable. This module should not have other dependencies so it can be ready to use early in the init process.\n */\n\n@Module({\n  name: 'AppFeatures',\n  deps: [\n    'Auth',\n    'ExtensionFeatures',\n    'Brand',\n    {\n      dep: 'FeatureConfiguration',\n      optional: true,\n    },\n    {\n      dep: 'AppFeaturesOptions',\n      optional: true,\n    },\n  ],\n})\nexport abstract class AppFeaturesBase<\n  T extends FeatureConfiguration = FeatureConfiguration,\n> extends RcModuleV2<Deps<T>> {\n  constructor(deps: Deps<T>) {\n    super({\n      deps,\n    });\n  }\n\n  @computed((that: AppFeaturesBase) => [that._deps.featureConfiguration])\n  get config(): T {\n    return {\n      ...defaultConfiguration,\n      ...this._deps.featureConfiguration!,\n    };\n  }\n\n  // TODO: investigate on how or whether to include softphone and ringcentral app settings\n  get isCallingEnabled() {\n    return this.isRingOutEnabled || this.isWebPhoneEnabled;\n  }\n\n  get isWebPhoneEnabled() {\n    return !!(\n      this._deps.extensionFeatures.features?.WebPhone?.available &&\n      this.config.WebPhone\n    );\n  }\n\n  get isRingOutEnabled() {\n    return !!(\n      this._deps.extensionFeatures.features?.RingOut?.available &&\n      this.config.RingOut\n    );\n  }\n\n  get isSoftphoneEnabled() {\n    return !!(\n      this.config.Softphone && !this._deps.brand.brandConfig?.isDisableSpartan\n    );\n  }\n\n  get isRingCentralAppEnabled() {\n    return !!this.config.RingCentralApp;\n  }\n\n  get hasReadSMSPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.SMSReceiving?.available &&\n      this.config.SMS\n    );\n  }\n\n  get hasReadPagesPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.PagesReceiving?.available &&\n      this.config.Pages\n    );\n  }\n\n  get hasVoicemailPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.Voicemail?.available &&\n      this.config.Voicemail\n    );\n  }\n\n  get hasReadFaxPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.FaxReceiving?.available &&\n      this.config.Fax\n    );\n  }\n\n  get hasReadTextPermission() {\n    return this.hasReadSMSPermission || this.hasReadPagesPermission;\n  }\n\n  get hasReadMessagesPermission() {\n    return (\n      this.hasReadSMSPermission ||\n      this.hasReadPagesPermission ||\n      this.hasVoicemailPermission ||\n      this.hasReadFaxPermission\n    );\n  }\n\n  get hasSendSMSPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.SMSSending?.available &&\n      this.config.SMS\n    );\n  }\n\n  get hasOutboundSMSPermission() {\n    return this.hasSendSMSPermission;\n  }\n\n  get hasSendPagesPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.PagesSending?.available &&\n      this.config.Pages\n    );\n  }\n\n  get hasInternalSMSPermission() {\n    return this.hasSendPagesPermission;\n  }\n\n  get hasComposeTextPermission() {\n    return this.hasSendSMSPermission || this.hasSendPagesPermission;\n  }\n\n  get hasMeetingsPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.Meetings?.available &&\n      this.config.Meetings\n    );\n  }\n\n  get hasRoomConnectorBeta() {\n    return !!this._deps.extensionFeatures.features?.RoomConnectorBeta\n      ?.available;\n  }\n\n  get hasVideoE2EE() {\n    return !!this._deps.extensionFeatures.features?.MeetingsEncryption\n      ?.available;\n  }\n\n  get readExtensionCallLogAvailable() {\n    return this._deps.extensionFeatures.features?.ReadExtensionCallLog\n      ?.available;\n  }\n\n  get hasReadExtensionCallLog() {\n    return !!(this.readExtensionCallLogAvailable && this.config.CallLog);\n  }\n\n  get hasConferenceCall() {\n    return (\n      this.isRingOutEnabled &&\n      this.isWebPhoneEnabled &&\n      this.config.ConferenceCall\n    );\n  }\n\n  get hasGlipPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.Glip?.available && this.config.Glip\n    );\n  }\n\n  get hasCallControl() {\n    return !!(\n      (this._deps.auth.token?.scope?.indexOf('CallControl')! > -1 ||\n        this._deps.auth.token?.scope?.indexOf('TelephonySession')! > -1) &&\n      this.config.CallControl\n    );\n  }\n\n  get isContactsEnabled() {\n    return (\n      this.config.Contacts &&\n      (!this.config.HideContactsWhenNoCallOrMessage ||\n        (this.config.HideContactsWhenNoCallOrMessage &&\n          (this.isCallingEnabled || this.hasReadMessagesPermission)))\n    );\n  }\n\n  get isCDCEnabled() {\n    return !!this.config.CDC;\n  }\n\n  get isOCPEnabled() {\n    return this._deps.extensionFeatures.features?.OutboundCallPrefix?.available;\n  }\n\n  get OCPValue() {\n    if (this.isOCPEnabled) {\n      return this._deps.extensionFeatures.features?.OutboundCallPrefix\n        ?.params?.[0]?.value;\n    }\n    return null;\n  }\n\n  get enableSmartDialPlan() {\n    return (\n      this._deps.extensionFeatures.features?.SmartDialPlanRouting?.available &&\n      this.isEDPEnabled\n    );\n  }\n  get isEDPEnabled() {\n    return !!this.config.EDP && this._deps.brand.brandConfig.enableEDP;\n  }\n}\n\n@Module({\n  name: 'AppFeatures',\n})\nexport class AppFeatures extends AppFeaturesBase {}\n"],"mappings":"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"}