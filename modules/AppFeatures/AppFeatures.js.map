{"version":3,"file":"AppFeatures.js","names":["_core","require","_di","_dec","_dec2","_class","_class2","_dec3","_class3","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_classCallCheck","a","n","TypeError","_defineProperties","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","_setPrototypeOf","_applyDecoratedDescriptor","l","initializer","slice","reverse","reduce","defaultConfiguration","exports","CallLog","Conferencing","Fax","Voicemail","Pages","SMS","RingCentralApp","RingOut","Softphone","WebPhone","CallControl","ConferenceCall","Meetings","Glip","Contacts","HideContactsWhenNoCallOrMessage","CDC","EDP","AppFeaturesBase","Module","name","deps","dep","optional","computed","that","_deps","featureConfiguration","_RcModuleV","get","isRingOutEnabled","isWebPhoneEnabled","_this$_deps$extension","_this$_deps$extension2","extensionFeatures","features","available","config","_this$_deps$extension3","_this$_deps$extension4","_this$_deps$brand$bra","brand","brandConfig","isDisableSpartan","_this$_deps$extension5","_this$_deps$extension6","SMSReceiving","_this$_deps$extension7","_this$_deps$extension8","PagesReceiving","_this$_deps$extension9","_this$_deps$extension0","_this$_deps$extension1","_this$_deps$extension10","FaxReceiving","hasReadSMSPermission","hasReadPagesPermission","hasVoicemailPermission","hasReadFaxPermission","_this$_deps$extension11","_this$_deps$extension12","SMSSending","_this$_deps$extension13","_this$_deps$extension14","MMSSending","hasSendSMSPermission","_this$_deps$extension15","_this$_deps$extension16","PagesSending","hasSendPagesPermission","_this$_deps$extension17","_this$_deps$extension18","_this$_deps$extension19","_this$_deps$extension20","RoomConnectorBeta","_this$_deps$extension21","_this$_deps$extension22","MeetingsEncryption","_this$_deps$extension23","_this$_deps$extension24","ReadExtensionCallLog","readExtensionCallLogAvailable","_this$_deps$extension25","_this$_deps$extension26","_this$_deps$auth$toke","_this$_deps$auth$toke2","_this$_deps$auth$toke3","_this$_deps$auth$toke4","auth","token","scope","indexOf","isCallingEnabled","hasReadMessagesPermission","_this$_deps$extension27","_this$_deps$extension28","OutboundCallPrefix","isOCPEnabled","_this$_deps$extension29","_this$_deps$extension30","_this$_deps$extension31","_this$_deps$extension32","params","_this$_deps$extension33","_this$_deps$extension34","SmartDialPlanRouting","isEDPEnabled","enableEDP","RcModuleV2","AppFeatures","_AppFeaturesBase"],"sources":["modules/AppFeatures/AppFeatures.ts"],"sourcesContent":["import { computed, RcModuleV2 } from '@ringcentral-integration/core';\n\nimport { Module } from '../../lib/di';\n\nimport type { Deps, FeatureConfiguration } from './AppFeatures.interface';\n\n// Required<FeatureConfiguration> helps to make sure that the default config aligns with the interface\nexport const defaultConfiguration: Required<FeatureConfiguration> = {\n  CallLog: true,\n  // Conferencing\n  Conferencing: true,\n\n  // Messages\n  Fax: true,\n  Voicemail: true,\n  Pages: true,\n  SMS: true,\n\n  // Call\n  RingCentralApp: true,\n  RingOut: true,\n  Softphone: true,\n  WebPhone: true,\n  CallControl: true,\n  ConferenceCall: true,\n\n  // Meetings\n  Meetings: true,\n\n  // Glip\n  Glip: false,\n\n  // Contacts Tab\n  Contacts: true,\n  HideContactsWhenNoCallOrMessage: true,\n\n  // CompanyDirectoryControl\n  CDC: false,\n\n  // Enterprise dial plan\n  EDP: false,\n};\n\n/**\n * AppFeatures:\n * * This module manages and provide access to feature toggle settings. This module also provide ways to dynamically update these settings. However, to avoid putting this module high in the dependency tree, this module only provide methods to update the settings that are cached in storage, but does not have the ability to make queries to external api to update settings on its own.\n * * (TODO): Implement cached settings and update settings features.\n * * (TODO): Brand module should depend on this and set the toggle based on brand if applicable. This module should not have other dependencies so it can be ready to use early in the init process.\n */\n\n@Module({\n  name: 'AppFeatures',\n  deps: [\n    'Auth',\n    'ExtensionFeatures',\n    'Brand',\n    {\n      dep: 'FeatureConfiguration',\n      optional: true,\n    },\n    {\n      dep: 'AppFeaturesOptions',\n      optional: true,\n    },\n  ],\n})\nexport abstract class AppFeaturesBase<\n  T extends FeatureConfiguration = FeatureConfiguration,\n> extends RcModuleV2<Deps<T>> {\n  constructor(deps: Deps<T>) {\n    super({\n      deps,\n    });\n  }\n\n  @computed((that: AppFeaturesBase) => [that._deps.featureConfiguration])\n  get config(): T {\n    return {\n      ...defaultConfiguration,\n      ...this._deps.featureConfiguration!,\n    };\n  }\n\n  // TODO: investigate on how or whether to include softphone and ringcentral app settings\n  get isCallingEnabled() {\n    return this.isRingOutEnabled || this.isWebPhoneEnabled;\n  }\n\n  get isWebPhoneEnabled() {\n    return !!(\n      this._deps.extensionFeatures.features?.WebPhone?.available &&\n      this.config.WebPhone\n    );\n  }\n\n  get isRingOutEnabled() {\n    return !!(\n      this._deps.extensionFeatures.features?.RingOut?.available &&\n      this.config.RingOut\n    );\n  }\n\n  get isSoftphoneEnabled() {\n    return !!(\n      this.config.Softphone && !this._deps.brand.brandConfig?.isDisableSpartan\n    );\n  }\n\n  get isRingCentralAppEnabled() {\n    return !!this.config.RingCentralApp;\n  }\n\n  get hasReadSMSPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.SMSReceiving?.available &&\n      this.config.SMS\n    );\n  }\n\n  get hasReadPagesPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.PagesReceiving?.available &&\n      this.config.Pages\n    );\n  }\n\n  get hasVoicemailPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.Voicemail?.available &&\n      this.config.Voicemail\n    );\n  }\n\n  get hasReadFaxPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.FaxReceiving?.available &&\n      this.config.Fax\n    );\n  }\n\n  get hasReadTextPermission() {\n    return this.hasReadSMSPermission || this.hasReadPagesPermission;\n  }\n\n  get hasReadMessagesPermission() {\n    return (\n      this.hasReadSMSPermission ||\n      this.hasReadPagesPermission ||\n      this.hasVoicemailPermission ||\n      this.hasReadFaxPermission\n    );\n  }\n\n  get hasSendSMSPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.SMSSending?.available &&\n      this.config.SMS\n    );\n  }\n\n  get hasSendMMSPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.MMSSending?.available &&\n      this.config.SMS\n    );\n  }\n\n  get hasOutboundSMSPermission() {\n    return this.hasSendSMSPermission;\n  }\n\n  get hasSendPagesPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.PagesSending?.available &&\n      this.config.Pages\n    );\n  }\n\n  get hasInternalSMSPermission() {\n    return this.hasSendPagesPermission;\n  }\n\n  get hasComposeTextPermission() {\n    return this.hasSendSMSPermission || this.hasSendPagesPermission;\n  }\n\n  get hasMeetingsPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.Meetings?.available &&\n      this.config.Meetings\n    );\n  }\n\n  get hasRoomConnectorBeta() {\n    return !!this._deps.extensionFeatures.features?.RoomConnectorBeta\n      ?.available;\n  }\n\n  get hasVideoE2EE() {\n    return !!this._deps.extensionFeatures.features?.MeetingsEncryption\n      ?.available;\n  }\n\n  get readExtensionCallLogAvailable() {\n    return this._deps.extensionFeatures.features?.ReadExtensionCallLog\n      ?.available;\n  }\n\n  get hasReadExtensionCallLog() {\n    return !!(this.readExtensionCallLogAvailable && this.config.CallLog);\n  }\n\n  get hasConferenceCall() {\n    return (\n      this.isRingOutEnabled &&\n      this.isWebPhoneEnabled &&\n      this.config.ConferenceCall\n    );\n  }\n\n  get hasGlipPermission() {\n    return !!(\n      this._deps.extensionFeatures.features?.Glip?.available && this.config.Glip\n    );\n  }\n\n  get hasCallControl() {\n    return !!(\n      (this._deps.auth.token?.scope?.indexOf('CallControl')! > -1 ||\n        this._deps.auth.token?.scope?.indexOf('TelephonySession')! > -1) &&\n      this.config.CallControl\n    );\n  }\n\n  get isContactsEnabled() {\n    return (\n      this.config.Contacts &&\n      (!this.config.HideContactsWhenNoCallOrMessage ||\n        (this.config.HideContactsWhenNoCallOrMessage &&\n          (this.isCallingEnabled || this.hasReadMessagesPermission)))\n    );\n  }\n\n  get isCDCEnabled() {\n    return !!this.config.CDC;\n  }\n\n  get isOCPEnabled() {\n    return this._deps.extensionFeatures.features?.OutboundCallPrefix?.available;\n  }\n\n  get OCPValue() {\n    if (this.isOCPEnabled) {\n      return this._deps.extensionFeatures.features?.OutboundCallPrefix\n        ?.params?.[0]?.value;\n    }\n    return null;\n  }\n\n  get enableSmartDialPlan() {\n    return (\n      this._deps.extensionFeatures.features?.SmartDialPlanRouting?.available &&\n      this.isEDPEnabled\n    );\n  }\n  get isEDPEnabled() {\n    return !!this.config.EDP && this._deps.brand.brandConfig.enableEDP;\n  }\n}\n\n@Module({\n  name: 'AppFeatures',\n})\nexport class AppFeatures extends AppFeaturesBase {}\n"],"mappings":"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","ignoreList":[]}