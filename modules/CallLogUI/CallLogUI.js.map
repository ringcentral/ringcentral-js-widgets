{"version":3,"file":"CallLogUI.js","names":["_trackEvents","require","_callLogHelpers","_di","_formatNumber","_CallingSettings","_core","_react","_interopRequireDefault","_CallLogCallCtrlContainer","_i18n","_dec","_dec2","_class","_class2","_dec3","_class3","e","__esModule","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_objectWithoutProperties","i","_objectWithoutPropertiesLoose","n","indexOf","propertyIsEnumerable","call","hasOwnProperty","_classCallCheck","a","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","l","initializer","slice","reverse","reduce","CallLogCallControlRenderer","currentLocale","telephonySessionId","isWide","enableReply","isCurrentDeviceCall","warmTransferActiveTelephonySessionId","createElement","CallLogCallCtrlContainer","CallLogUIBase","Module","name","deps","dep","optional","track","trackEvents","clickReplyWithMessage","entry","_ref","_super","_ref2","options","getUIProps","_this$_deps$callLogSe","_deps","callLogSection","currentNotificationIdentify","currentIdentify","isInTransferPage","routerInteraction","currentPath","match","locale","header","showSpinner","ready","regionSettings","dateTimeFormat","appFeatures","callLogger","disableLinks","connectivityMonitor","connectivity","rateLimiter","throttling","currentSession","activeCallControl","getActiveSession","sessionIdToTelephonySessionIdMapping","activeSession","isWebRTC","callingSettings","callWith","callingOptions","browser","forwardingNumbers","forwardingNumber","getUIFunctions","_this","formatPhone","phoneNumber","formatNumber","areaCode","countryCode","maxExtensionLength","accountInfo","maxExtensionNumberLength","i18n","getString","goBack","closeLogSection","closeLogNotification","renderCallLogCallControl","onSaveNotification","saveAndHandleNotification","onDiscardNotification","discardAndHandleNotification","onCloseNotification","onExpandNotification","expandLogNotification","onSwitchWarmTransferSession","_this$_deps$callLogSe2","currentCall","currentWarmTransferCall","isTransferCallActive","activeCall","subCall","isActiveCallOnHold","isOnHold","setWarmTransferCallActiveId","unhold","onReject","sessionId","reject","onHangup","hangUp","onIgnore","_this$_deps$activeCal","_this$_deps$activeCal2","ignore","onForward","concat","_this$_deps$activeCal3","_this$_deps$activeCal4","forward","reply","replyWithMessageEntranceTrack","endAndAnswer","_this$_deps$activeCal5","_this$_deps$activeCal6","answerAndEnd","holdAndAnswer","_this$_deps$activeCal7","_this$_deps$activeCal8","answerAndHold","toVoicemail","answer","_this$_deps$activeCal9","_this$_deps$activeCal10","clickForwardTrack","_this$_deps$activeCal11","_this$_deps$activeCal12","openEntityDetailLinkTrack","path","_this$_deps$activeCal13","_this$_deps$activeCal14","RcUIModuleV2","exports","CallLogUI","_CallLogUIBase","_super2"],"sources":["modules/CallLogUI/CallLogUI.tsx"],"sourcesContent":["import { trackEvents } from '@ringcentral-integration/commons/enums/trackEvents';\nimport { isOnHold } from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport { callingOptions } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport type { RcModuleOptions } from '@ringcentral-integration/core';\nimport { RcUIModuleV2, track } from '@ringcentral-integration/core';\nimport React from 'react';\n\nimport { CallLogCallCtrlContainer } from '../../containers/CallLogCallCtrlContainer';\n\nimport type {\n  CallLogUIFunctions,\n  CallLogUIInterface,\n  CallLogUIProps,\n  Deps,\n} from './CallLogUI.interface';\nimport i18n from './i18n';\n\nconst CallLogCallControlRenderer = (\n  currentLocale: string,\n  telephonySessionId: string,\n  isWide: boolean,\n  enableReply: boolean,\n  isCurrentDeviceCall: boolean,\n  warmTransferActiveTelephonySessionId: string,\n) => (\n  <CallLogCallCtrlContainer\n    currentLocale={currentLocale}\n    telephonySessionId={telephonySessionId}\n    isCurrentDeviceCall={isCurrentDeviceCall}\n    warmTransferActiveTelephonySessionId={warmTransferActiveTelephonySessionId}\n    isWide={isWide}\n    enableReply={enableReply}\n  />\n);\n\n@Module({\n  name: 'CallLogUI',\n  deps: [\n    'Locale',\n    'CallLogger',\n    'RateLimiter',\n    'RegionSettings',\n    'DateTimeFormat',\n    'CallLogSection',\n    'RouterInteraction',\n    'ActiveCallControl',\n    'AppFeatures',\n    'ConnectivityMonitor',\n    'CallingSettings',\n    'ForwardingNumber',\n    'AccountInfo',\n    { dep: 'CallLogUIOptions', optional: true },\n  ],\n})\nexport abstract class CallLogUIBase<T extends Deps = Deps>\n  extends RcUIModuleV2<T>\n  implements CallLogUIInterface\n{\n  constructor({ deps, ...options }: RcModuleOptions<T>) {\n    super({\n      deps,\n      ...options,\n    });\n  }\n\n  getUIProps(): CallLogUIProps {\n    const {\n      currentNotificationIdentify,\n      currentIdentify,\n      warmTransferActiveTelephonySessionId,\n    } = this._deps.callLogSection;\n    const isInTransferPage =\n      this._deps.routerInteraction.currentPath.match('^/transfer/') !== null;\n\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      header: true,\n      showSpinner: !(\n        this._deps.locale.ready &&\n        this._deps.regionSettings.ready &&\n        this._deps.dateTimeFormat.ready &&\n        this._deps.appFeatures.ready &&\n        (!this._deps.callLogger || this._deps.callLogger.ready)\n      ),\n      isInTransferPage,\n      disableLinks:\n        !this._deps.connectivityMonitor.connectivity ||\n        this._deps.rateLimiter.throttling,\n      currentIdentify,\n      // notification props\n      currentNotificationIdentify,\n      // @ts-expect-error TS(2322): Type 'Partial<ActiveSession> | null' is not assign... Remove this comment to see the full error message\n      currentSession: this._deps.activeCallControl.getActiveSession(\n        this._deps.activeCallControl.sessionIdToTelephonySessionIdMapping[\n          currentNotificationIdentify\n        ],\n      ),\n      // @ts-expect-error TS(2322): Type 'Partial<ActiveSession> | null' is not assign... Remove this comment to see the full error message\n      activeSession: this._deps.activeCallControl.activeSession,\n      isWebRTC: this._deps.callingSettings.callWith === callingOptions.browser,\n      forwardingNumbers: this._deps.forwardingNumber.forwardingNumbers,\n      warmTransferActiveTelephonySessionId,\n    };\n  }\n\n  getUIFunctions(): CallLogUIFunctions {\n    return {\n      formatPhone: (phoneNumber: string) =>\n        formatNumber({\n          phoneNumber,\n          areaCode: this._deps.regionSettings.areaCode,\n          countryCode: this._deps.regionSettings.countryCode,\n          maxExtensionLength: this._deps.accountInfo.maxExtensionNumberLength,\n        }) || i18n.getString('unknown', this._deps.locale.currentLocale),\n      goBack: () => {\n        this._deps.callLogSection.closeLogSection();\n        this._deps.callLogSection.closeLogNotification();\n      },\n      renderCallLogCallControl: (\n        telephonySessionId,\n        isWide,\n        enableReply,\n        isCurrentDeviceCall,\n        warmTransferActiveTelephonySessionId,\n      ) =>\n        CallLogCallControlRenderer(\n          this._deps.locale.currentLocale,\n          telephonySessionId,\n          isWide,\n          enableReply,\n          isCurrentDeviceCall,\n          warmTransferActiveTelephonySessionId,\n        ),\n      // notification props\n      onSaveNotification: () =>\n        this._deps.callLogSection.saveAndHandleNotification(),\n      onDiscardNotification: () =>\n        this._deps.callLogSection.discardAndHandleNotification(),\n      onCloseNotification: () =>\n        this._deps.callLogSection.closeLogNotification(),\n      onExpandNotification: () =>\n        this._deps.callLogSection.expandLogNotification(),\n      onSwitchWarmTransferSession: () => {\n        const {\n          currentCall,\n          currentWarmTransferCall,\n          warmTransferActiveTelephonySessionId,\n        } = this._deps.callLogSection;\n        if (!currentCall || !currentWarmTransferCall) return;\n\n        const isTransferCallActive =\n          currentWarmTransferCall?.telephonySessionId ===\n          warmTransferActiveTelephonySessionId;\n        const activeCall = isTransferCallActive\n          ? currentWarmTransferCall\n          : currentCall;\n        const subCall = isTransferCallActive\n          ? currentCall\n          : currentWarmTransferCall;\n\n        const isActiveCallOnHold = isOnHold(activeCall);\n\n        if (isActiveCallOnHold) {\n          this._deps.callLogSection.setWarmTransferCallActiveId(\n            subCall.telephonySessionId,\n          );\n        } else {\n          return this._deps.activeCallControl.unhold(\n            // @ts-expect-error TS(2345): Argument of type 'string | undefined' is not assig... Remove this comment to see the full error message\n            subCall.telephonySessionId,\n          );\n        }\n      },\n      onReject: (sessionId) => {\n        const telephonySessionId =\n          this._deps.activeCallControl.sessionIdToTelephonySessionIdMapping[\n            sessionId\n          ];\n        return this._deps.activeCallControl.reject(telephonySessionId);\n      },\n      onHangup: (sessionId) => {\n        const telephonySessionId =\n          this._deps.activeCallControl.sessionIdToTelephonySessionIdMapping[\n            sessionId\n          ];\n        return this._deps.activeCallControl.hangUp(telephonySessionId);\n      },\n      onIgnore: (telephonySessionId) => {\n        this._deps.activeCallControl.ignore?.(telephonySessionId);\n        this._deps.callLogSection.closeLogNotification();\n      },\n      onForward: (phoneNumber, telephonySessionId) => {\n        if (phoneNumber === 'custom') {\n          this._deps.routerInteraction.push(`/forward/${telephonySessionId}`);\n        } else {\n          this._deps.activeCallControl.forward?.(\n            phoneNumber,\n            telephonySessionId,\n          );\n          this._deps.callLogSection.closeLogNotification();\n        }\n      },\n      reply: (telephonySessionId) => {\n        this._deps.routerInteraction.push(\n          `/replyWithMessage/${telephonySessionId}/active`,\n        );\n        this.replyWithMessageEntranceTrack();\n      },\n      endAndAnswer: (telephonySessionId) => {\n        this._deps.activeCallControl.answerAndEnd?.(telephonySessionId);\n        this._deps.callLogSection.discardAndHandleNotification();\n      },\n      holdAndAnswer: (telephonySessionId) => {\n        this._deps.activeCallControl.answerAndHold?.(telephonySessionId);\n        this._deps.callLogSection.discardAndHandleNotification();\n      },\n      toVoicemail: (telephonySessionId) => {\n        this._deps.activeCallControl.reject(telephonySessionId);\n        this._deps.callLogSection.closeLogNotification();\n      },\n      answer: (telephonySessionId) => {\n        this._deps.activeCallControl.answer?.(telephonySessionId);\n        this._deps.callLogSection.discardAndHandleNotification();\n      },\n      clickForwardTrack: () =>\n        this._deps.activeCallControl.clickForwardTrack?.(),\n      openEntityDetailLinkTrack: (path) =>\n        this._deps.activeCallControl.openEntityDetailLinkTrack?.(path),\n    };\n  }\n\n  @track(() => [\n    trackEvents.clickReplyWithMessage,\n    { entry: 'Inbound call notification page' },\n  ])\n  replyWithMessageEntranceTrack() {}\n}\n\n// @ts-expect-error TS(2554): Expected 1 arguments, but got 0.\n@Module()\nexport class CallLogUI extends CallLogUIBase {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n}\n"],"mappings":"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","ignoreList":[]}