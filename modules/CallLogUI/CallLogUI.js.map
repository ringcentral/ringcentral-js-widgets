{"version":3,"file":"CallLogUI.js","names":["_react","_interopRequireDefault","require","_di","_formatNumber","_CallingSettings","_core","_callLogHelpers","_trackEvents","_CallLogCallCtrlContainer","_i18n","_dec","_dec2","_class","_class2","_dec3","_class3","obj","__esModule","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","value","_toPropertyKey","configurable","writable","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","undefined","res","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","property","decorators","context","desc","initializer","slice","reverse","reduce","decorator","CallLogCallControlRenderer","currentLocale","telephonySessionId","isWide","enableReply","isCurrentDeviceCall","warmTransferActiveTelephonySessionId","createElement","CallLogCallCtrlContainer","CallLogUIBase","Module","name","deps","dep","optional","track","trackEvents","clickReplyWithMessage","entry","_ref","_super","_ref2","options","getUIProps","_this$_deps$callLogSe","_deps","callLogSection","currentNotificationIdentify","currentIdentify","isInTransferPage","routerInteraction","currentPath","match","locale","header","showSpinner","ready","regionSettings","dateTimeFormat","appFeatures","callLogger","disableLinks","connectivityMonitor","connectivity","rateLimiter","throttling","currentSession","activeCallControl","getActiveSession","sessionIdToTelephonySessionIdMapping","activeSession","isWebRTC","callingSettings","callWith","callingOptions","browser","forwardingNumbers","forwardingNumber","getUIFunctions","_this","formatPhone","phoneNumber","formatNumber","areaCode","countryCode","maxExtensionLength","accountInfo","maxExtensionNumberLength","i18n","getString","goBack","closeLogSection","closeLogNotification","renderCallLogCallControl","onSaveNotification","saveAndHandleNotification","onDiscardNotification","discardAndHandleNotification","onCloseNotification","onExpandNotification","expandLogNotification","onSwitchWarmTransferSession","_this$_deps$callLogSe2","currentCall","currentWarmTransferCall","isTransferCallActive","activeCall","subCall","isActiveCallOnHold","isOnHold","setWarmTransferCallActiveId","unhold","onReject","sessionId","reject","onHangup","hangUp","onIgnore","_this$_deps$activeCal","_this$_deps$activeCal2","ignore","onForward","concat","_this$_deps$activeCal3","_this$_deps$activeCal4","forward","reply","replyWithMessageEntranceTrack","endAndAnswer","_this$_deps$activeCal5","_this$_deps$activeCal6","answerAndEnd","holdAndAnswer","_this$_deps$activeCal7","_this$_deps$activeCal8","answerAndHold","toVoicemail","answer","_this$_deps$activeCal9","_this$_deps$activeCal10","clickForwardTrack","_this$_deps$activeCal11","_this$_deps$activeCal12","openEntityDetailLinkTrack","path","_this$_deps$activeCal13","_this$_deps$activeCal14","RcUIModuleV2","exports","CallLogUI","_CallLogUIBase","_super2"],"sources":["modules/CallLogUI/CallLogUI.tsx"],"sourcesContent":["import React from 'react';\n\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport { callingOptions } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport type { RcModuleOptions } from '@ringcentral-integration/core';\nimport { RcUIModuleV2, track } from '@ringcentral-integration/core';\nimport { isOnHold } from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport { trackEvents } from '@ringcentral-integration/commons/enums/trackEvents';\n\nimport { CallLogCallCtrlContainer } from '../../containers/CallLogCallCtrlContainer';\nimport type {\n  CallLogUIFunctions,\n  CallLogUIInterface,\n  CallLogUIProps,\n  Deps,\n} from './CallLogUI.interface';\nimport i18n from './i18n';\n\nconst CallLogCallControlRenderer = (\n  currentLocale: string,\n  telephonySessionId: string,\n  isWide: boolean,\n  enableReply: boolean,\n  isCurrentDeviceCall: boolean,\n  warmTransferActiveTelephonySessionId: string,\n) => (\n  <CallLogCallCtrlContainer\n    currentLocale={currentLocale}\n    telephonySessionId={telephonySessionId}\n    isCurrentDeviceCall={isCurrentDeviceCall}\n    warmTransferActiveTelephonySessionId={warmTransferActiveTelephonySessionId}\n    isWide={isWide}\n    enableReply={enableReply}\n  />\n);\n\n@Module({\n  name: 'CallLogUI',\n  deps: [\n    'Locale',\n    'CallLogger',\n    'RateLimiter',\n    'RegionSettings',\n    'DateTimeFormat',\n    'CallLogSection',\n    'RouterInteraction',\n    'ActiveCallControl',\n    'AppFeatures',\n    'ConnectivityMonitor',\n    'CallingSettings',\n    'ForwardingNumber',\n    'AccountInfo',\n    { dep: 'CallLogUIOptions', optional: true },\n  ],\n})\nexport abstract class CallLogUIBase<T extends Deps = Deps>\n  extends RcUIModuleV2<T>\n  implements CallLogUIInterface\n{\n  constructor({ deps, ...options }: RcModuleOptions<T>) {\n    super({\n      deps,\n      ...options,\n    });\n  }\n\n  getUIProps(): CallLogUIProps {\n    const {\n      currentNotificationIdentify,\n      currentIdentify,\n      warmTransferActiveTelephonySessionId,\n    } = this._deps.callLogSection;\n    const isInTransferPage =\n      this._deps.routerInteraction.currentPath.match('^/transfer/') !== null;\n\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      header: true,\n      showSpinner: !(\n        this._deps.locale.ready &&\n        this._deps.regionSettings.ready &&\n        this._deps.dateTimeFormat.ready &&\n        this._deps.appFeatures.ready &&\n        (!this._deps.callLogger || this._deps.callLogger.ready)\n      ),\n      isInTransferPage,\n      disableLinks:\n        !this._deps.connectivityMonitor.connectivity ||\n        this._deps.rateLimiter.throttling,\n      currentIdentify,\n      // notification props\n      currentNotificationIdentify,\n      // @ts-expect-error TS(2322): Type 'Partial<ActiveSession> | null' is not assign... Remove this comment to see the full error message\n      currentSession: this._deps.activeCallControl.getActiveSession(\n        this._deps.activeCallControl.sessionIdToTelephonySessionIdMapping[\n          currentNotificationIdentify\n        ],\n      ),\n      // @ts-expect-error TS(2322): Type 'Partial<ActiveSession> | null' is not assign... Remove this comment to see the full error message\n      activeSession: this._deps.activeCallControl.activeSession,\n      isWebRTC: this._deps.callingSettings.callWith === callingOptions.browser,\n      forwardingNumbers: this._deps.forwardingNumber.forwardingNumbers,\n      warmTransferActiveTelephonySessionId,\n    };\n  }\n\n  getUIFunctions(): CallLogUIFunctions {\n    return {\n      formatPhone: (phoneNumber: string) =>\n        formatNumber({\n          phoneNumber,\n          areaCode: this._deps.regionSettings.areaCode,\n          countryCode: this._deps.regionSettings.countryCode,\n          maxExtensionLength: this._deps.accountInfo.maxExtensionNumberLength,\n        }) || i18n.getString('unknown', this._deps.locale.currentLocale),\n      goBack: () => {\n        this._deps.callLogSection.closeLogSection();\n        this._deps.callLogSection.closeLogNotification();\n      },\n      renderCallLogCallControl: (\n        telephonySessionId,\n        isWide,\n        enableReply,\n        isCurrentDeviceCall,\n        warmTransferActiveTelephonySessionId,\n      ) =>\n        CallLogCallControlRenderer(\n          this._deps.locale.currentLocale,\n          telephonySessionId,\n          isWide,\n          enableReply,\n          isCurrentDeviceCall,\n          warmTransferActiveTelephonySessionId,\n        ),\n      // notification props\n      onSaveNotification: () =>\n        this._deps.callLogSection.saveAndHandleNotification(),\n      onDiscardNotification: () =>\n        this._deps.callLogSection.discardAndHandleNotification(),\n      onCloseNotification: () =>\n        this._deps.callLogSection.closeLogNotification(),\n      onExpandNotification: () =>\n        this._deps.callLogSection.expandLogNotification(),\n      onSwitchWarmTransferSession: () => {\n        const {\n          currentCall,\n          currentWarmTransferCall,\n          warmTransferActiveTelephonySessionId,\n        } = this._deps.callLogSection;\n        if (!currentCall || !currentWarmTransferCall) return;\n\n        const isTransferCallActive =\n          currentWarmTransferCall?.telephonySessionId ===\n          warmTransferActiveTelephonySessionId;\n        const activeCall = isTransferCallActive\n          ? currentWarmTransferCall\n          : currentCall;\n        const subCall = isTransferCallActive\n          ? currentCall\n          : currentWarmTransferCall;\n\n        const isActiveCallOnHold = isOnHold(activeCall);\n\n        if (isActiveCallOnHold) {\n          this._deps.callLogSection.setWarmTransferCallActiveId(\n            subCall.telephonySessionId,\n          );\n        } else {\n          return this._deps.activeCallControl.unhold(\n            // @ts-expect-error TS(2345): Argument of type 'string | undefined' is not assig... Remove this comment to see the full error message\n            subCall.telephonySessionId,\n          );\n        }\n      },\n      onReject: (sessionId) => {\n        const telephonySessionId =\n          this._deps.activeCallControl.sessionIdToTelephonySessionIdMapping[\n            sessionId\n          ];\n        return this._deps.activeCallControl.reject(telephonySessionId);\n      },\n      onHangup: (sessionId) => {\n        const telephonySessionId =\n          this._deps.activeCallControl.sessionIdToTelephonySessionIdMapping[\n            sessionId\n          ];\n        return this._deps.activeCallControl.hangUp(telephonySessionId);\n      },\n      onIgnore: (telephonySessionId) => {\n        this._deps.activeCallControl.ignore?.(telephonySessionId);\n        this._deps.callLogSection.closeLogNotification();\n      },\n      onForward: (phoneNumber, telephonySessionId) => {\n        if (phoneNumber === 'custom') {\n          this._deps.routerInteraction.push(`/forward/${telephonySessionId}`);\n        } else {\n          this._deps.activeCallControl.forward?.(\n            phoneNumber,\n            telephonySessionId,\n          );\n          this._deps.callLogSection.closeLogNotification();\n        }\n      },\n      reply: (telephonySessionId) => {\n        this._deps.routerInteraction.push(\n          `/replyWithMessage/${telephonySessionId}/active`,\n        );\n        this.replyWithMessageEntranceTrack();\n      },\n      endAndAnswer: (telephonySessionId) => {\n        this._deps.activeCallControl.answerAndEnd?.(telephonySessionId);\n        this._deps.callLogSection.discardAndHandleNotification();\n      },\n      holdAndAnswer: (telephonySessionId) => {\n        this._deps.activeCallControl.answerAndHold?.(telephonySessionId);\n        this._deps.callLogSection.discardAndHandleNotification();\n      },\n      toVoicemail: (telephonySessionId) => {\n        this._deps.activeCallControl.reject(telephonySessionId);\n        this._deps.callLogSection.closeLogNotification();\n      },\n      answer: (telephonySessionId) => {\n        this._deps.activeCallControl.answer?.(telephonySessionId);\n        this._deps.callLogSection.discardAndHandleNotification();\n      },\n      clickForwardTrack: () =>\n        this._deps.activeCallControl.clickForwardTrack?.(),\n      openEntityDetailLinkTrack: (path) =>\n        this._deps.activeCallControl.openEntityDetailLinkTrack?.(path),\n    };\n  }\n\n  @track(() => [\n    trackEvents.clickReplyWithMessage,\n    { entry: 'Inbound call notification page' },\n  ])\n  replyWithMessageEntranceTrack() {}\n}\n\n// @ts-expect-error TS(2554): Expected 1 arguments, but got 0.\n@Module()\nexport class CallLogUI extends CallLogUIBase {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n}\n"],"mappings":"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"}