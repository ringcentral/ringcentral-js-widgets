{"version":3,"file":"processAssets.js","names":["processedKey","processAssets","assets","origin","replace","getUrl","url","concat","Object","entries","reduce","acc","_ref","_ref2","_slicedToArray","key","Array","isArray","map","x","_defineProperty","exports"],"sources":["modules/Brand/processAssets.ts"],"sourcesContent":["import type { BrandConfig } from './BrandConfig.interface';\n\nconst processedKey = '$$processed$$';\n\n/** combine origin url with assets relative path to actual url */\nexport const processAssets = (\n  assets: BrandConfig['assets'],\n  origin: string,\n) => {\n  // when that processed, return directly\n  if (!origin || assets![processedKey]) {\n    return assets;\n  }\n\n  // Remove last slash from origin if any\n  origin = origin.replace(/\\/+$/, '');\n\n  const getUrl = (url: string) => {\n    return `${origin}${url}`;\n  };\n\n  return Object.entries(assets!).reduce<BrandConfig['assets']>(\n    (acc, [key, url]) => {\n      if (!url) {\n        return acc;\n      }\n\n      if (Array.isArray(url)) {\n        acc![key] = url.map((x) => getUrl(x));\n      } else {\n        acc![key] = getUrl(url);\n      }\n\n      return acc;\n    },\n    {\n      [processedKey]: '1',\n    },\n  );\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,YAAY,GAAG,eAAe;;AAEpC;AACO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CACxBC,MAA6B,EAC7BC,MAAc,EACX;EACH;EACA,IAAI,CAACA,MAAM,IAAID,MAAM,CAAEF,YAAY,CAAC,EAAE;IACpC,OAAOE,MAAM;EACf;;EAEA;EACAC,MAAM,GAAGA,MAAM,CAACC,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;EAEnC,IAAMC,MAAM,GAAG,SAATA,MAAMA,CAAIC,GAAW,EAAK;IAC9B,UAAAC,MAAA,CAAUJ,MAAM,EAAAI,MAAA,CAAGD,GAAG;EACxB,CAAC;EAED,OAAOE,MAAM,CAACC,OAAO,CAACP,MAAO,CAAC,CAACQ,MAAM,CACnC,UAACC,GAAG,EAAAC,IAAA,EAAiB;IAAA,IAAAC,KAAA,GAAAC,cAAA,CAAAF,IAAA;MAAdG,GAAG,GAAAF,KAAA;MAAEP,GAAG,GAAAO,KAAA;IACb,IAAI,CAACP,GAAG,EAAE;MACR,OAAOK,GAAG;IACZ;IAEA,IAAIK,KAAK,CAACC,OAAO,CAACX,GAAG,CAAC,EAAE;MACtBK,GAAG,CAAEI,GAAG,CAAC,GAAGT,GAAG,CAACY,GAAG,CAAC,UAACC,CAAC;QAAA,OAAKd,MAAM,CAACc,CAAC,CAAC;MAAA,EAAC;IACvC,CAAC,MAAM;MACLR,GAAG,CAAEI,GAAG,CAAC,GAAGV,MAAM,CAACC,GAAG,CAAC;IACzB;IAEA,OAAOK,GAAG;EACZ,CAAC,EAAAS,eAAA,KAEEpB,YAAY,EAAG,GAAG,CAEvB,CAAC;AACH,CAAC;AAACqB,OAAA,CAAApB,aAAA,GAAAA,aAAA","ignoreList":[]}