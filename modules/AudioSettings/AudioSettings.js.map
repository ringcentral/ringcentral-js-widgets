{"version":3,"file":"AudioSettings.js","names":["_ramda","require","_core","_di","_proxify","_audioSettingsErrors","_dec","_dec2","_dec3","_class","_class2","_descriptor","_descriptor2","_descriptor3","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_initializerDefineProperty","target","property","descriptor","context","Object","defineProperty","enumerable","configurable","writable","initializer","call","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","i","length","_toPropertyKey","_createClass","protoProps","staticProps","prototype","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","Number","_get","Reflect","get","bind","receiver","base","_superPropBase","desc","getOwnPropertyDescriptor","object","hasOwnProperty","_getPrototypeOf","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","decorators","keys","forEach","slice","reverse","reduce","decorator","_initializerWarningHelper","Error","polyfillGetUserMedia","navigator","mediaDevices","assign","getUserMedia","webkitGetUserMedia","mozGetUserMedia","constraints","AudioSettings","Module","name","deps","dep","optional","computed","_ref","availableDevices","_ref2","_RcModuleV","_super","_this","storageKey","enableCache","_getUserMediaPromise","setHasAutoPrompted","data","hasAutoPrompted","setUserMediaError","hasUserMedia","outputDeviceId","inputDeviceId","setUserMediaSuccess","setAvailableDevices","devices","_this2","isOutputDeviceExist","find","device","deviceId","kind","hasDefaultDevice","firstDevice","isInputDeviceExist","_setData","_ref3","_ref3$dialButtonVolum","dialButtonVolume","_ref3$dialButtonMuted","dialButtonMuted","_ref3$ringtoneVolume","ringtoneVolume","_ref3$ringtoneMuted","ringtoneMuted","_ref3$callVolume","callVolume","_ref3$outputDeviceId","_ref3$inputDeviceId","Math","min","max","initializeProxy","_this3","supportDevices","_checkDevices","parentModule","store","subscribe","ready","_deps","auth","loggedIn","appFeatures","isWebPhoneEnabled","userMedia","markAutoPrompted","_markAutoPrompted","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","_initModule2","_callee2","_this4","_callee2$","_context2","addEventListener","_initModule","_onInit","_callee3","_callee3$","_context3","onInit","_checkDevices2","_callee4","_callee4$","_context4","enumerateDevices","sent","map","d","JSON","parse","stringify","_getUserMedia","_callee5","stream","_callee5$","_context5","abrupt","audio","_onGetUserMediaSuccess","getTracks","track","t0","onGetUserMediaError","_onGetUserMediaSuccess2","_callee6","userMediaAlert","_callee6$","_context6","item","message","audioSettingsErrors","userMediaPermission","alert","messages","dismiss","id","_onGetUserMediaError","_callee7","_callee7$","_context7","danger","allowDuplicates","_showAlert","_callee8","_callee8$","_context8","ttl","showAlert","_setData2","_callee9","_ref4","_ref4$dialButtonVolum","_ref4$dialButtonMuted","_ref4$ringtoneVolume","_ref4$ringtoneMuted","_ref4$callVolume","_ref4$outputDeviceId","_ref4$inputDeviceId","_callee9$","_context9","setData","_x","_this5","_this6","filter","isFirefox","userAgent","indexOf","label","RcModuleV2","storage","state","action","proxify","exports"],"sources":["modules/AudioSettings/AudioSettings.ts"],"sourcesContent":["import { filter, find } from 'ramda';\n\nimport {\n  action,\n  computed,\n  RcModuleV2,\n  state,\n  storage,\n} from '@ringcentral-integration/core';\n\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\nimport type { AudioSettingsData, Deps } from './AudioSettings.interface';\nimport { audioSettingsErrors } from './audioSettingsErrors';\n\nfunction polyfillGetUserMedia() {\n  if (navigator.mediaDevices === undefined) {\n    Object.assign(navigator, { mediaDevices: {} });\n  }\n  // @ts-expect-error\n  navigator.getUserMedia =\n    // @ts-expect-error\n    navigator.getUserMedia ||\n    (navigator as any).webkitGetUserMedia ||\n    (navigator as any).mozGetUserMedia;\n  if (\n    navigator.mediaDevices.getUserMedia === undefined &&\n    // @ts-expect-error\n    navigator.getUserMedia\n  ) {\n    navigator.mediaDevices.getUserMedia = (constraints) =>\n      new Promise((resolve, reject) => {\n        // @ts-expect-error\n        navigator.getUserMedia.call(navigator, constraints, resolve, reject);\n      });\n  }\n}\npolyfillGetUserMedia();\n\n@Module({\n  name: 'AudioSettings',\n  deps: [\n    'Auth',\n    'Alert',\n    'Storage',\n    'AppFeatures',\n    { dep: 'AudioSettingsOptions', optional: true },\n  ],\n})\nexport class AudioSettings extends RcModuleV2<Deps> {\n  protected _getUserMediaPromise: Promise<MediaStream> | null = null;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n      storageKey: 'AudioSettings',\n      enableCache: true,\n    });\n  }\n\n  @storage\n  @state\n  data: AudioSettingsData = {\n    dialButtonVolume: 1,\n    dialButtonMuted: false,\n    ringtoneVolume: 0.3,\n    ringtoneMuted: false,\n    callVolume: 1,\n    outputDeviceId: 'default',\n    inputDeviceId: 'default',\n    hasAutoPrompted: false,\n  };\n\n  @state\n  availableDevices: MediaDeviceInfo[] = [];\n\n  @state\n  hasUserMedia = false;\n\n  @action\n  setHasAutoPrompted() {\n    this.data.hasAutoPrompted = true;\n  }\n\n  @action\n  setUserMediaError() {\n    this.hasUserMedia = false;\n    this.availableDevices = [];\n    this.data.outputDeviceId = 'default';\n    this.data.inputDeviceId = 'default';\n  }\n\n  @action\n  setUserMediaSuccess() {\n    this.hasUserMedia = true;\n  }\n\n  @action\n  setAvailableDevices(devices: MediaDeviceInfo[]) {\n    this.availableDevices = devices;\n\n    const isOutputDeviceExist = find(\n      (device) =>\n        device.deviceId === this.data.outputDeviceId &&\n        device.kind === 'audiooutput',\n      devices,\n    );\n    if (!isOutputDeviceExist) {\n      // For Firefox, don't have default device id\n      const hasDefaultDevice = find(\n        (device) =>\n          device.deviceId === 'default' && device.kind === 'audiooutput',\n        devices,\n      );\n      const firstDevice = find(\n        (device) => device.kind === 'audiooutput',\n        devices,\n      );\n      if (!hasDefaultDevice && firstDevice) {\n        this.data.outputDeviceId = firstDevice.deviceId;\n      } else {\n        this.data.outputDeviceId = 'default';\n      }\n    }\n\n    const isInputDeviceExist = find(\n      (device) =>\n        device.deviceId === this.data.inputDeviceId &&\n        device.kind === 'audioinput',\n      devices,\n    );\n    if (!isInputDeviceExist) {\n      // For Firefox, don't have default device id\n      const hasDefaultDevice = find(\n        (device) =>\n          device.deviceId === 'default' && device.kind === 'audioinput',\n        devices,\n      );\n      const firstDevice = find(\n        (device) => device.kind === 'audioinput',\n        devices,\n      );\n      if (!hasDefaultDevice && firstDevice) {\n        this.data.inputDeviceId = firstDevice.deviceId;\n      } else {\n        this.data.inputDeviceId = 'default';\n      }\n    }\n  }\n\n  @action\n  _setData({\n    dialButtonVolume = this.dialButtonVolume,\n    dialButtonMuted = this.dialButtonMuted,\n    ringtoneVolume = this.ringtoneVolume,\n    ringtoneMuted = this.ringtoneMuted,\n    callVolume = this.callVolume,\n    outputDeviceId = this.outputDeviceId,\n    inputDeviceId = this.inputDeviceId,\n  }) {\n    this.data.outputDeviceId = outputDeviceId;\n    this.data.inputDeviceId = inputDeviceId;\n    this.data.dialButtonVolume = Math.min(1, Math.max(0, dialButtonVolume));\n    this.data.dialButtonMuted = !!dialButtonMuted;\n    this.data.ringtoneVolume = Math.min(1, Math.max(0, ringtoneVolume));\n    this.data.ringtoneMuted = !!ringtoneMuted;\n    this.data.callVolume = Math.min(1, Math.max(0.1, callVolume));\n  }\n\n  override initializeProxy() {\n    // Check audio permissions everytime app client starts\n    if (this.supportDevices) {\n      this._checkDevices();\n    }\n    this.parentModule.store.subscribe(() => {\n      if (\n        this.ready &&\n        this._deps.auth.loggedIn &&\n        this._deps.appFeatures.isWebPhoneEnabled &&\n        !this.userMedia\n      ) {\n        // Make sure it only prompts once\n        if (this.hasAutoPrompted) return;\n        this.markAutoPrompted();\n        this.getUserMedia();\n      }\n    });\n  }\n\n  @proxify\n  async markAutoPrompted() {\n    this.setHasAutoPrompted();\n  }\n\n  override async _initModule() {\n    super._initModule();\n    if (\n      navigator &&\n      navigator.mediaDevices &&\n      navigator.mediaDevices.addEventListener\n    ) {\n      navigator.mediaDevices.addEventListener('devicechange', () => {\n        this._checkDevices();\n      });\n    }\n  }\n\n  override async onInit() {\n    if (this.supportDevices) {\n      await this._checkDevices();\n    }\n  }\n\n  @proxify\n  async _checkDevices() {\n    const devices = await navigator.mediaDevices.enumerateDevices();\n    this.setAvailableDevices(\n      // TODO: formatting for devices info instances and replace JSON APIs.\n      devices.map((d) => JSON.parse(JSON.stringify(d))),\n    );\n  }\n\n  async getUserMedia() {\n    if (!navigator.mediaDevices.getUserMedia) {\n      return;\n    }\n    try {\n      if (!this._getUserMediaPromise) {\n        this._getUserMediaPromise = navigator.mediaDevices.getUserMedia({\n          audio: true,\n        });\n      }\n      const stream = await this._getUserMediaPromise;\n      this._getUserMediaPromise = null;\n      await this._onGetUserMediaSuccess();\n      if (typeof stream.getTracks === 'function') {\n        stream.getTracks().forEach((track) => {\n          track.stop();\n        });\n      } else if (typeof (stream as any).stop === 'function') {\n        // TODO: check type;\n        (stream as any).stop();\n      }\n    } catch (error: any /** TODO: confirm with instanceof */) {\n      this._getUserMediaPromise = null;\n      this.onGetUserMediaError();\n    }\n  }\n\n  @proxify\n  async _onGetUserMediaSuccess() {\n    const userMediaAlert = find(\n      (item) => item.message === audioSettingsErrors.userMediaPermission,\n      this._deps.alert.messages,\n    );\n    if (userMediaAlert) {\n      this._deps.alert.dismiss(userMediaAlert.id);\n    }\n    this.setUserMediaSuccess();\n    await this._checkDevices();\n  }\n\n  @proxify\n  async onGetUserMediaError() {\n    this.setUserMediaError();\n    this._deps.alert.danger({\n      message: audioSettingsErrors.userMediaPermission,\n      allowDuplicates: false,\n    });\n  }\n\n  @proxify\n  async showAlert() {\n    if (!this.userMedia) {\n      this._deps.alert.danger({\n        message: audioSettingsErrors.userMediaPermission,\n        allowDuplicates: false,\n        ttl: 30 * 1000,\n      });\n    }\n  }\n\n  @proxify\n  async setData({\n    dialButtonVolume = this.dialButtonVolume,\n    dialButtonMuted = this.dialButtonMuted,\n    ringtoneVolume = this.ringtoneVolume,\n    ringtoneMuted = this.ringtoneMuted,\n    callVolume = this.callVolume,\n    outputDeviceId = this.outputDeviceId,\n    inputDeviceId = this.inputDeviceId,\n  }) {\n    this._setData({\n      dialButtonVolume,\n      dialButtonMuted,\n      ringtoneVolume,\n      ringtoneMuted,\n      callVolume,\n      outputDeviceId,\n      inputDeviceId,\n    });\n  }\n\n  get outputDeviceId() {\n    return this.data.outputDeviceId;\n  }\n\n  get outputDevice() {\n    return find(\n      (device) =>\n        device.kind === 'audiooutput' &&\n        device.deviceId === this.outputDeviceId,\n      this.availableDevices,\n    );\n  }\n\n  get inputDeviceId() {\n    return this.data.inputDeviceId;\n  }\n\n  get inputDevice() {\n    return find(\n      (device) =>\n        device.kind === 'audioinput' && device.deviceId === this.inputDeviceId,\n      this.availableDevices,\n    );\n  }\n\n  get supportDevices() {\n    return !!(\n      navigator.mediaDevices && navigator.mediaDevices.enumerateDevices\n    );\n  }\n\n  @computed(({ availableDevices }: AudioSettings) => [availableDevices])\n  get availableOutputDevices() {\n    return filter(\n      (device) => device.kind === 'audiooutput',\n      this.availableDevices,\n    );\n  }\n\n  @computed(({ availableDevices }: AudioSettings) => [availableDevices])\n  get availableInputDevices() {\n    return filter(\n      (device) => device.kind === 'audioinput',\n      this.availableDevices,\n    );\n  }\n\n  get dialButtonVolume() {\n    return this.data.dialButtonVolume;\n  }\n\n  get dialButtonMuted() {\n    return this.data.dialButtonMuted;\n  }\n\n  get ringtoneVolume() {\n    return this.data.ringtoneVolume;\n  }\n\n  get ringtoneMuted() {\n    return this.data.ringtoneMuted;\n  }\n\n  get callVolume() {\n    return this.data.callVolume;\n  }\n\n  get hasAutoPrompted() {\n    return this.data.hasAutoPrompted;\n  }\n\n  get userMedia() {\n    const isFirefox = navigator.userAgent.indexOf('Firefox') > -1;\n    if (isFirefox) {\n      return true;\n    }\n    // this detection method may not work in the future\n    // currently there is no good way to detect this\n    return !!(\n      this.availableDevices.length && this.availableDevices[0].label !== ''\n    );\n  }\n}\n"],"mappings":"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"}