{"version":3,"file":"Environment.js","names":["_core","require","_sdk","_di","_proxify","_dec","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","_toPropertyKey","configurable","writable","_initializerDefineProperty","property","descriptor","context","initializer","call","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","_createClass","protoProps","staticProps","prototype","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","decorators","desc","slice","reverse","reduce","decorator","_initializerWarningHelper","Error","DEFAULT_RECORDING_HOST","Environment","Module","name","deps","dep","optional","_RcModuleV","_super","_this","enableGlobalCache","storageKey","recordingHostState","_defaultRecordingHost","onInit","enabled","changeEnvironment","setEnvData","_ref","server","recordingHost","updateChangeCounter","changeCounter","sdkConfig","getSdkConfig","_deps","client","service","SDK","newConfig","discoveryServer","_setData","regeneratorRuntime","mark","_callee","_ref2","_ref2$environmentChan","environmentChanged","isEnvChanged","wrap","_callee$","_context","prev","next","stop","setData","_x","get","_this$_deps$environme","_this$_deps$environme2","environmentOptions","defaultRecordingHost","RcModuleV2","globalStorage","state","sandbox","action","proxify","exports"],"sources":["modules/Environment/Environment.ts"],"sourcesContent":["import {\n  action,\n  globalStorage,\n  RcModuleV2,\n  state,\n} from '@ringcentral-integration/core';\nimport { SDK } from '@ringcentral/sdk';\n\nimport type { SDKConfig } from '../../lib/createSdkConfig';\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\nimport type { Deps, SetDataOptions } from './Environment.interface';\n\nconst DEFAULT_RECORDING_HOST =\n  'https://apps.ringcentral.com/integrations/recording/v3.0/rc/index.html';\n\n@Module({\n  name: 'Environment',\n  deps: [\n    'Client',\n    'GlobalStorage',\n    'SdkConfig',\n    { dep: 'EnvironmentOptions', optional: true },\n  ],\n})\nexport class Environment extends RcModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableGlobalCache: true,\n      storageKey: 'environment',\n    });\n    this.recordingHostState = this._defaultRecordingHost;\n  }\n\n  override onInit() {\n    if (this.enabled) {\n      this.changeEnvironment();\n    }\n  }\n\n  @globalStorage\n  @state\n  server: SDKConfig['server'] = SDK.server.sandbox;\n\n  @globalStorage\n  @state\n  recordingHostState: string | null = null;\n\n  @globalStorage\n  @state\n  enabled = false;\n\n  @state\n  changeCounter = 0;\n\n  @action\n  setEnvData({ server, recordingHost, enabled }: SetDataOptions) {\n    this.server = server;\n    this.recordingHostState = recordingHost;\n    this.enabled = enabled;\n  }\n\n  @action\n  updateChangeCounter() {\n    this.changeCounter++;\n  }\n\n  changeEnvironment() {\n    const sdkConfig = this.getSdkConfig();\n    this._deps.client.service = new SDK(sdkConfig);\n  }\n\n  getSdkConfig() {\n    const newConfig = {\n      ...this._deps.sdkConfig,\n    };\n    if (this.enabled) {\n      newConfig.server = this.server;\n      newConfig.discoveryServer = this.server;\n    }\n    return newConfig;\n  }\n\n  @proxify\n  async setData({\n    server,\n    recordingHost,\n    enabled,\n    environmentChanged = false,\n  }: SetDataOptions) {\n    // `recordingHost` change no need to set to SDK\n    const isEnvChanged =\n      environmentChanged ||\n      this.enabled !== enabled ||\n      (enabled && this.server !== server);\n\n    this.setEnvData({\n      server,\n      recordingHost,\n      enabled,\n    });\n\n    if (isEnvChanged) {\n      // apply changes\n      this.changeEnvironment();\n      // notify change at last\n      this.updateChangeCounter();\n    }\n  }\n\n  get recordingHost() {\n    return this.enabled ? this.recordingHostState : this._defaultRecordingHost;\n  }\n\n  protected get _defaultRecordingHost() {\n    return (\n      this._deps.environmentOptions?.defaultRecordingHost ??\n      DEFAULT_RECORDING_HOST\n    );\n  }\n}\n"],"mappings":"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"}