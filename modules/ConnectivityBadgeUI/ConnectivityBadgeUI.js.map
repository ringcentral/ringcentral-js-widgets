{"version":3,"sources":["modules/ConnectivityBadgeUI/ConnectivityBadgeUI.ts"],"names":["ConnectivityBadgeUI","name","deps","dep","optional","currentLocale","_deps","locale","mode","connectivityManager","ready","webphoneConnecting","hasLimitedStatusError","onClick","isWebphoneUnavailableMode","checkWebphoneAndConnect","checkStatus","showConnectivityAlert","showBadgeAlert","RcUIModuleV2"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;IAgBaA,mB,WARZ,wBAAO;AACNC,EAAAA,IAAI,EAAE,qBADA;AAENC,EAAAA,IAAI,EAAE,CACJ,QADI,EAEJ,qBAFI,EAGJ;AAAEC,IAAAA,GAAG,EAAE,4BAAP;AAAqCC,IAAAA,QAAQ,EAAE;AAA/C,GAHI;AAFA,CAAP,C;;;;;AASC,+BAAYF,IAAZ,EAAwB;AAAA;;AAAA,6BAChB;AAAEA,MAAAA,IAAI,EAAJA;AAAF,KADgB;AAEvB;;;;iCAE6C;AAC5C,aAAO;AACLG,QAAAA,aAAa,EAAE,KAAKC,KAAL,CAAWC,MAAX,CAAkBF,aAD5B;AAELG,QAAAA,IAAI,EACD,KAAKF,KAAL,CAAWG,mBAAX,CAA+BC,KAA/B,IACC,KAAKJ,KAAL,CAAWG,mBAAX,CAA+BD,IADjC,IAEA,IALG;AAMLG,QAAAA,kBAAkB,EAChB,KAAKL,KAAL,CAAWG,mBAAX,CAA+BC,KAA/B,IACA,KAAKJ,KAAL,CAAWG,mBAAX,CAA+BE,kBAR5B;AASLC,QAAAA,qBAAqB,EACnB,KAAKN,KAAL,CAAWG,mBAAX,CAA+BC,KAA/B,IACA,KAAKJ,KAAL,CAAWG,mBAAX,CAA+BG;AAX5B,OAAP;AAaD;;;qCAEqD;AAAA;;AACpD,aAAO;AACLC,QAAAA,OAAO,EAAE,mBAAM;AACb,cAAI,KAAI,CAACP,KAAL,CAAWG,mBAAX,CAA+BK,yBAAnC,EAA8D;AAC5D,YAAA,KAAI,CAACR,KAAL,CAAWG,mBAAX,CAA+BM,uBAA/B;AACD,WAFD,MAEO,IAAI,KAAI,CAACT,KAAL,CAAWG,mBAAX,CAA+BG,qBAAnC,EAA0D;AAC/D,YAAA,KAAI,CAACN,KAAL,CAAWG,mBAAX,CAA+BO,WAA/B;AACD,WAFM,MAEA;AACL,YAAA,KAAI,CAACV,KAAL,CAAWG,mBAAX,CAA+BQ,qBAA/B;AACD;AACF,SATI;AAULC,QAAAA,cAAc,EAAE,0BAAM;AACpB,UAAA,KAAI,CAACZ,KAAL,CAAWG,mBAAX,CAA+BQ,qBAA/B;AACD;AAZI,OAAP;AAcD;;;;EApCsCE,kB","sourcesContent":["import Module from '@ringcentral-integration/commons/lib/di/decorators/module';\nimport {\n  RcUIModuleV2,\n  UIProps,\n  UIFunctions,\n} from '@ringcentral-integration/core';\nimport { Deps } from './ConnectivityBadgeUI.interface';\nimport { ConnectivityBadgeProps } from '../../components/ConnectivityBadge';\n\n@Module({\n  name: 'ConnectivityBadgeUI',\n  deps: [\n    'Locale',\n    'ConnectivityManager',\n    { dep: 'ConnectivityBadgeUIOptions', optional: true },\n  ],\n})\nexport class ConnectivityBadgeUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({ deps });\n  }\n\n  getUIProps(): UIProps<ConnectivityBadgeProps> {\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      mode:\n        (this._deps.connectivityManager.ready &&\n          this._deps.connectivityManager.mode) ||\n        null,\n      webphoneConnecting:\n        this._deps.connectivityManager.ready &&\n        this._deps.connectivityManager.webphoneConnecting,\n      hasLimitedStatusError:\n        this._deps.connectivityManager.ready &&\n        this._deps.connectivityManager.hasLimitedStatusError,\n    };\n  }\n\n  getUIFunctions(): UIFunctions<ConnectivityBadgeProps> {\n    return {\n      onClick: () => {\n        if (this._deps.connectivityManager.isWebphoneUnavailableMode) {\n          this._deps.connectivityManager.checkWebphoneAndConnect();\n        } else if (this._deps.connectivityManager.hasLimitedStatusError) {\n          this._deps.connectivityManager.checkStatus();\n        } else {\n          this._deps.connectivityManager.showConnectivityAlert();\n        }\n      },\n      showBadgeAlert: () => {\n        this._deps.connectivityManager.showConnectivityAlert();\n      },\n    };\n  }\n}\n"],"file":"ConnectivityBadgeUI.js"}