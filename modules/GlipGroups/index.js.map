{"version":3,"file":"index.js","names":["_utils","require","_moduleStatuses","_interopRequireDefault","_Pollable2","_di","_ensureExist","_isBlank","_proxify","_selector","_actionTypes","_getReducer","_interopRequireWildcard","_dec","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","_descriptor7","_descriptor8","_descriptor9","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","asyncGeneratorStep","o","c","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_initializerDefineProperty","l","enumerable","configurable","writable","initializer","_objectWithoutProperties","_objectWithoutPropertiesLoose","getOwnPropertySymbols","s","length","includes","propertyIsEnumerable","_classCallCheck","TypeError","_defineProperties","_toPropertyKey","key","_createClass","prototype","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_initializerWarningHelper","Error","_applyDecoratedDescriptor","keys","forEach","slice","reverse","reduce","Symbol","iterator","_createForOfIteratorHelper","Array","isArray","_unsupportedIterableToArray","_n","F","f","next","_arrayLikeToArray","toString","name","from","test","ownKeys","filter","push","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPrimitive","toPrimitive","String","Number","glipGroupRegExp","subscriptionFilter","DEFAULT_PER_PAGE","DEFAULT_TTL","DEFAULT_RETRY","DEFAULT_RECORD_COUNT_PER_REQ","DEFAULT_PRELOAD_POSTS_DELAY_TTL","formatGroup","group","personsMap","postsMap","undefined","ownerId","id","detailMembers","members","memberId","isMe","newGroup","updatedTime","Date","lastModifiedTime","getTime","latestPost","creator","creatorId","postCreationTime","creationTime","getUniqueMemberIds","groups","memberIds","memberIdsMap","searchPosts","searchFilter","posts","result","_iterator","_step","post","text","toLowerCase","indexOf","mentions","mentionNames","map","m","join","err","GlipGroups","Module","deps","dep","optional","_Pollable","_super","_ref","_this","auth","subscription","client","tabManager","glipPersons","glipPosts","storage","appFeatures","connectivityMonitor","_ref$timeToRetry","timeToRetry","_ref$ttl","ttl","_ref$polling","polling","_ref$disableCache","disableCache","_ref$perPage","perPage","_ref$recordCountPerRe","recordCountPerReq","_ref$preloadPosts","preloadPosts","_ref$preloadPostsDela","preloadPostsDelayTtl","options","actionTypes","_appFeatures","_auth","_client","_connectivity","_connectivityMonitor","_dataStorageKey","_glipPersons","_glipPosts","_lastMessage","_perPage","_polling","_preloadPosts","_preloadPostsDelayTtl","_preloadedPosts","_promise","_readyCheckFn","_recordCountPerReq","_storage","_subscription","_subscriptionFilters","_timeToRetry","_timestampStorageKey","_ttl","ensureExist","_tabManager","_reducer","getReducer","registerReducer","reducer","getDataReducer","getTimestampReducer","timestamp","data","addNewPostListener","onNewPost","initialize","_this2","store","subscribe","_onStateChange","_onStateChange2","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","_shouldInit","dispatch","type","init","_init","_isDataReady","initSuccess","_onDataReady","_shouldReset","_clearTimeout","resetSuccess","_shouldHandleSubscriptionMessage","_processSubscription","ready","connectivity","abrupt","fetchData","_preloadGroupPosts","stop","loggedIn","pending","message","loadPersons","groupMemberIds","_subscriptionHandleFn2","_callee2","_message$body","eventType","_callee2$","_context2","event","body","removeGroup","updateGroup","loadPosts","_subscriptionHandleFn","_x","_shouldFetch","active","status","moduleStatuses","initializing","_init2","_callee3","_callee3$","_context3","_hasPermission","t0","console","error","_retry","_startPolling","_preloadGroupPosts2","_callee4","force","_iterator2","_step2","_callee4$","_context4","sleep","fetchPosts","readTimeMap","updateReadTime","now","finish","_x2","updateFilter","_ref2","pageNumber","updateCurrentGroupId","groupId","lastGroupId","currentGroupId","lastGroupPosts","currentGroupPosts","currentGroup","_fetchFunction2","_callee5","_callee5$","_context5","glip","list","recordCount","sent","_fetchFunction","_fetchData2","_callee6","_callee6$","_context6","fetch","fetchSuccess","fetchError","_fetchData","_fetchData3","_callee7","_callee7$","_context7","_startChat","_callee8","personId","_callee8$","_context8","startChat","_x3","_createTeam","_callee9","_args9","_callee9$","_context9","isPublic","description","createTeam","_x4","_x5","state","getItem","hasGlipPermission","Pollable","proxify","selector","_this3","_this4","allGroups","isBlank","filterString","groupUsernames","concat","firstName","lastName","_this5","filteredGroups","sortedGroups","sort","b","_this6","_this7","noTeamGroups","g","_this8","find","_this9","reversePosts","sentByMe","_this10","readTime","unread","_this11","groupsWithUnread","exports"],"sources":["modules/GlipGroups/index.ts"],"sourcesContent":["import { sleep } from '@ringcentral-integration/utils';\n\nimport moduleStatuses from '../../enums/moduleStatuses';\nimport Pollable from '../../lib/Pollable';\nimport { Module } from '../../lib/di';\nimport ensureExist from '../../lib/ensureExist';\nimport { isBlank } from '../../lib/isBlank';\nimport proxify from '../../lib/proxy/proxify';\nimport { selector } from '../../lib/selector';\n\nimport { actionTypes } from './actionTypes';\nimport getReducer, { getDataReducer, getTimestampReducer } from './getReducer';\n\nconst glipGroupRegExp = /glip\\/groups$/;\nconst subscriptionFilter = '/restapi/v1.0/glip/groups';\n\nconst DEFAULT_PER_PAGE = 20;\nconst DEFAULT_TTL = 30 * 60 * 1000;\nconst DEFAULT_RETRY = 62 * 1000;\nconst DEFAULT_RECORD_COUNT_PER_REQ = 250;\nconst DEFAULT_PRELOAD_POSTS_DELAY_TTL = 800;\n\nfunction formatGroup(group: any, personsMap: any, postsMap = {}, ownerId: any) {\n  if (!group || !group.id) {\n    return {};\n  }\n  const detailMembers: any = [];\n  if (group.members) {\n    group.members.forEach((memberId: any) => {\n      if (personsMap[memberId]) {\n        detailMembers.push({\n          ...personsMap[memberId],\n          isMe: ownerId === memberId,\n        });\n      }\n    });\n  }\n  const newGroup = {\n    ...group,\n    detailMembers,\n    updatedTime: new Date(group.lastModifiedTime).getTime(),\n  };\n  // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n  const latestPost = postsMap[group.id] && postsMap[group.id][0];\n  if (latestPost) {\n    newGroup.latestPost = {\n      ...latestPost,\n      creator: personsMap[latestPost.creatorId],\n    };\n    const postCreationTime = new Date(latestPost.creationTime).getTime();\n    if (postCreationTime > newGroup.updatedTime) {\n      newGroup.updatedTime = postCreationTime;\n    }\n  }\n  return newGroup;\n}\n\nfunction getUniqueMemberIds(groups: any) {\n  const memberIds: any = [];\n  const memberIdsMap = {};\n  groups.forEach((group: any) => {\n    group.members.forEach((memberId: any) => {\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      if (memberIdsMap[memberId]) {\n        return;\n      }\n      // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n      memberIdsMap[memberId] = true;\n      memberIds.push(memberId);\n    });\n  });\n  return memberIds;\n}\n\nfunction searchPosts(searchFilter: any, posts: any) {\n  let result = false;\n  for (const post of posts) {\n    if (post.text && post.text.toLowerCase().indexOf(searchFilter) > -1) {\n      result = true;\n      break;\n    }\n    if (post.mentions && post.mentions.length > 0) {\n      const mentionNames = post.mentions\n        .map((m: any) => m.name)\n        .join(' ')\n        .toLowerCase();\n      if (mentionNames.indexOf(searchFilter) > -1) {\n        result = true;\n        break;\n      }\n    }\n  }\n  return result;\n}\n\n/**\n * @class\n * @description Accound info managing module.\n */\n@Module({\n  deps: [\n    'Auth',\n    'Client',\n    'Subscription',\n    'AppFeatures',\n    { dep: 'ConnectivityMonitor', optional: true },\n    { dep: 'Storage', optional: true },\n    { dep: 'TabManager', optional: true },\n    { dep: 'GlipPersons', optional: true },\n    { dep: 'GlipPosts', optional: true },\n    { dep: 'GLipGroupsOptions', optional: true },\n  ],\n})\n// @ts-expect-error TS(2415): Class 'GlipGroups' incorrectly extends base class ... Remove this comment to see the full error message\nexport default class GlipGroups extends Pollable {\n  _appFeatures: any;\n  _auth: any;\n  _client: any;\n  _connectivity: any;\n  _connectivityMonitor: any;\n  _dataStorageKey: any;\n  _glipPersons: any;\n  _glipPosts: any;\n  _lastMessage: any;\n  _perPage: any;\n  _polling: any;\n  _preloadPosts: any;\n  _preloadPostsDelayTtl: any;\n  _preloadedPosts: any;\n  _promise: any;\n  _readyCheckFn: any;\n  _recordCountPerReq: any;\n  _storage: any;\n  _subscription: any;\n  _subscriptionFilters: any;\n  _timeToRetry: any;\n  _timestampStorageKey: any;\n  _ttl: any;\n  constructor({\n    auth,\n    subscription,\n    client,\n    tabManager,\n    glipPersons,\n    glipPosts,\n    storage,\n    appFeatures,\n    connectivityMonitor,\n    timeToRetry = DEFAULT_RETRY,\n    ttl = DEFAULT_TTL,\n    polling = false,\n    disableCache = false,\n    perPage = DEFAULT_PER_PAGE,\n    recordCountPerReq = DEFAULT_RECORD_COUNT_PER_REQ,\n    preloadPosts = true,\n    preloadPostsDelayTtl = DEFAULT_PRELOAD_POSTS_DELAY_TTL,\n    ...options\n  }: any) {\n    super({\n      ...options,\n      actionTypes,\n    });\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._auth = ensureExist.call(this, auth, 'auth');\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._client = ensureExist.call(this, client, 'client');\n    // @ts-expect-error TS(2345): Argument of type 'string' is not assignable to par... Remove this comment to see the full error message\n    this._subscription = ensureExist.call(this, subscription, 'subscription');\n    this._appFeatures = appFeatures;\n    this._connectivityMonitor = connectivityMonitor;\n    this._glipPersons = glipPersons;\n    this._glipPosts = glipPosts;\n    this._tabManager = tabManager;\n\n    this._ttl = ttl;\n    this._timeToRetry = timeToRetry;\n    this._polling = polling;\n    this._perPage = perPage;\n    this._recordCountPerReq = recordCountPerReq;\n    this._preloadPosts = preloadPosts;\n    this._preloadedPosts = {};\n    this._preloadPostsDelayTtl = preloadPostsDelayTtl;\n\n    this._promise = null;\n    this._lastMessage = null;\n\n    this._subscriptionFilters = [subscriptionFilter];\n    if (!disableCache) {\n      this._storage = storage;\n    }\n\n    this._dataStorageKey = 'glipGroupsData';\n    this._timestampStorageKey = 'glipGroupsTimestamp';\n\n    if (this._storage) {\n      this._reducer = getReducer(this.actionTypes);\n\n      this._storage.registerReducer({\n        key: this._dataStorageKey,\n        reducer: getDataReducer(this.actionTypes),\n      });\n      this._storage.registerReducer({\n        key: this._timestampStorageKey,\n        reducer: getTimestampReducer(this.actionTypes),\n      });\n    } else {\n      this._reducer = getReducer(this.actionTypes, {\n        timestamp: getTimestampReducer(this.actionTypes),\n        data: getDataReducer(this.actionTypes),\n      });\n    }\n\n    if (this._glipPosts) {\n      this._glipPosts.addNewPostListener((post: any) => this.onNewPost(post));\n    }\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  initialize() {\n    this.store.subscribe(() => this._onStateChange());\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  async _onStateChange() {\n    if (this._shouldInit()) {\n      this.store.dispatch({\n        type: this.actionTypes.init,\n      });\n      await this._init();\n    } else if (this._isDataReady()) {\n      this.store.dispatch({\n        type: this.actionTypes.initSuccess,\n      });\n      this._onDataReady();\n    } else if (this._shouldReset()) {\n      this._clearTimeout();\n      this._promise = null;\n      this.store.dispatch({\n        type: this.actionTypes.resetSuccess,\n      });\n    } else if (this._shouldHandleSubscriptionMessage()) {\n      this._processSubscription();\n    } else if (\n      this.ready &&\n      this._connectivityMonitor &&\n      this._connectivityMonitor.ready &&\n      this._connectivity !== this._connectivityMonitor.connectivity\n    ) {\n      this._connectivity = this._connectivityMonitor.connectivity;\n      if (!this._connectivity) {\n        return;\n      }\n      await this.fetchData();\n      if (this._preloadPosts) {\n        this._preloadedPosts = {};\n        this._preloadGroupPosts(true);\n      }\n    }\n  }\n\n  // @ts-expect-error TS(4113): This member cannot have an 'override' modifier bec... Remove this comment to see the full error message\n  override _shouldInit() {\n    return !!(\n      this._auth.loggedIn &&\n      this._appFeatures.ready &&\n      (!this._connectivityMonitor || this._connectivityMonitor.ready) &&\n      (!this._storage || this._storage.ready) &&\n      (!this._readyCheckFn || this._readyCheckFn()) &&\n      (!this._subscription || this._subscription.ready) &&\n      (!this._glipPosts || this._glipPosts.ready) &&\n      (!this._glipPersons || this._glipPersons.ready) &&\n      (!this._tabManager || this._tabManager.ready) &&\n      this.pending\n    );\n  }\n\n  // @ts-expect-error TS(4113): This member cannot have an 'override' modifier bec... Remove this comment to see the full error message\n  override _shouldReset() {\n    return !!(\n      (!this._auth.loggedIn ||\n        !this._appFeatures.ready ||\n        (this._storage && !this._storage.ready) ||\n        (this._readyCheckFn && !this._readyCheckFn()) ||\n        (this._subscription && !this._subscription.ready) ||\n        (this._glipPosts && !this._glipPosts.ready) ||\n        (this._glipPersons && !this._glipPersons.ready) ||\n        (this._connectivityMonitor && !this._connectivityMonitor.ready) ||\n        (this._tabManager && !this._tabManager.ready)) &&\n      this.ready\n    );\n  }\n\n  _shouldHandleSubscriptionMessage() {\n    return !!(\n      this.ready &&\n      this._subscription &&\n      this._subscription.ready &&\n      this._subscription.message &&\n      this._subscription.message !== this._lastMessage\n    );\n  }\n\n  _onDataReady() {\n    if (this._glipPersons) {\n      this._glipPersons.loadPersons(this.groupMemberIds);\n    }\n    if (this._preloadPosts) {\n      this._preloadedPosts = {};\n      // @ts-expect-error TS(2554): Expected 1 arguments, but got 0.\n      this._preloadGroupPosts();\n    }\n  }\n\n  async _subscriptionHandleFn(message: any) {\n    if (\n      message &&\n      glipGroupRegExp.test(message.event) &&\n      message.body &&\n      message.body.eventType\n    ) {\n      const { eventType, ...group } = message.body;\n      if (eventType.indexOf('Group') !== 0) {\n        return;\n      }\n      if (eventType === 'GroupLeft') {\n        this.store.dispatch({\n          type: this.actionTypes.removeGroup,\n          group,\n        });\n        return;\n      }\n      this.store.dispatch({\n        type: this.actionTypes.updateGroup,\n        group,\n      });\n      if (this._glipPersons) {\n        this._glipPersons.loadPersons(group.members);\n      }\n      this._glipPosts.loadPosts(group.id);\n    }\n  }\n\n  _shouldFetch() {\n    return !this._tabManager || this._tabManager.active;\n  }\n\n  _isDataReady() {\n    return (\n      this.status === moduleStatuses.initializing && this.timestamp !== null\n    );\n  }\n\n  async _init() {\n    if (!this._hasPermission) {\n      return;\n    }\n    if (this._shouldFetch()) {\n      try {\n        await this.fetchData();\n      } catch (e: any /** TODO: confirm with instanceof */) {\n        console.error('fetchData error:', e);\n        this._retry();\n      }\n    } else if (this._polling) {\n      this._startPolling();\n    } else {\n      this._retry();\n    }\n    if (this._subscription && this._subscriptionFilters) {\n      this._subscription.subscribe(this._subscriptionFilters);\n    }\n    if (this._connectivityMonitor) {\n      this._connectivity = this._connectivityMonitor.connectivity;\n    }\n  }\n\n  _processSubscription() {\n    this._lastMessage = this._subscription.message;\n    this._subscriptionHandleFn(this._lastMessage);\n  }\n\n  async _preloadGroupPosts(force: any) {\n    const groups = this.groups.slice(0, 20);\n    for (const group of groups) {\n      if (!this._glipPosts) {\n        return;\n      }\n      // @ts-expect-error TS(2339): Property 'id' does not exist on type '(filteredGro... Remove this comment to see the full error message\n      if (!this._preloadedPosts[group.id]) {\n        // @ts-expect-error TS(2339): Property 'id' does not exist on type '(filteredGro... Remove this comment to see the full error message\n        this._preloadedPosts[group.id] = true;\n        // @ts-expect-error TS(2339): Property 'id' does not exist on type '(filteredGro... Remove this comment to see the full error message\n        if (!this._glipPosts.postsMap[group.id] || force) {\n          await sleep(this._preloadPostsDelayTtl);\n          // @ts-expect-error TS(2339): Property 'id' does not exist on type '(filteredGro... Remove this comment to see the full error message\n          if (!this._glipPosts.postsMap[group.id] || force) {\n            // @ts-expect-error TS(2339): Property 'id' does not exist on type '(filteredGro... Remove this comment to see the full error message\n            await this._glipPosts.fetchPosts(group.id);\n          }\n        }\n        // @ts-expect-error TS(2339): Property 'id' does not exist on type '(filteredGro... Remove this comment to see the full error message\n        if (!this._glipPosts.readTimeMap[group.id]) {\n          this._glipPosts.updateReadTime(\n            // @ts-expect-error TS(2339): Property 'id' does not exist on type '(filteredGro... Remove this comment to see the full error message\n            group.id,\n            Date.now() - 1000 * 3600 * 2,\n          );\n        }\n      }\n    }\n  }\n\n  // @ts-expect-error TS(2345): Argument of type 'TypedPropertyDescriptor<({ searc... Remove this comment to see the full error message\n  @proxify\n  updateFilter({ searchFilter, pageNumber }: any) {\n    this.store.dispatch({\n      type: this.actionTypes.updateFilter,\n      searchFilter,\n      pageNumber,\n    });\n    if (this._preloadPosts && this.groups.length <= this._perPage * 2) {\n      // @ts-expect-error TS(2554): Expected 1 arguments, but got 0.\n      this._preloadGroupPosts();\n    }\n  }\n\n  // @ts-expect-error TS(2345): Argument of type 'TypedPropertyDescriptor<(groupId... Remove this comment to see the full error message\n  @proxify\n  updateCurrentGroupId(groupId: any) {\n    if (!groupId) {\n      return;\n    }\n    const lastGroupId = this.currentGroupId;\n    const lastGroupPosts = this.currentGroupPosts;\n    this.store.dispatch({\n      type: this.actionTypes.updateCurrentGroupId,\n      groupId,\n    });\n    if (this._glipPersons) {\n      this._glipPersons.loadPersons(\n        // @ts-expect-error TS(2339): Property 'members' does not exist on type '((allGr... Remove this comment to see the full error message\n        this.currentGroup && this.currentGroup.members,\n      );\n    }\n    if (!this._glipPosts) {\n      return;\n    }\n    if (lastGroupPosts.length > 20) {\n      this._glipPosts.fetchPosts(lastGroupId);\n    }\n    this._glipPosts.loadPosts(groupId);\n    this._glipPosts.updateReadTime(groupId);\n  }\n\n  async _fetchFunction() {\n    const result = await this._client.glip().groups().list({\n      recordCount: this._recordCountPerReq,\n    });\n    return result;\n  }\n\n  async _fetchData() {\n    this.store.dispatch({\n      type: this.actionTypes.fetch,\n    });\n    const { ownerId } = this._auth;\n    try {\n      const data = await this._fetchFunction();\n      if (this._auth.ownerId === ownerId) {\n        this.store.dispatch({\n          type: this.actionTypes.fetchSuccess,\n          data,\n          timestamp: Date.now(),\n        });\n        if (this._polling) {\n          this._startPolling();\n        }\n        this._promise = null;\n      }\n    } catch (error: any /** TODO: confirm with instanceof */) {\n      if (this._auth.ownerId === ownerId) {\n        this._promise = null;\n        this.store.dispatch({\n          type: this.actionTypes.fetchError,\n          error,\n        });\n        if (this._polling) {\n          this._startPolling(this.timeToRetry);\n        } else {\n          this._retry();\n        }\n        throw error;\n      }\n    }\n  }\n\n  @proxify\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  async fetchData() {\n    if (!this._promise) {\n      this._promise = this._fetchData();\n    }\n    return this._promise;\n  }\n\n  @proxify\n  async startChat(personId: any) {\n    try {\n      const group = await this._client\n        .glip()\n        .groups()\n        .post({\n          type: 'PrivateChat',\n          members: [this._auth.ownerId, personId],\n        });\n      group.lastModifiedTime = Date.now();\n      this.store.dispatch({\n        type: this.actionTypes.updateGroup,\n        group,\n      });\n      this.store.dispatch({\n        type: this.actionTypes.updateCurrentGroupId,\n        groupId: group.id,\n      });\n      return group;\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      console.error(e);\n    }\n    return null;\n  }\n\n  onNewPost(post: any) {\n    if (post.groupId === this.currentGroupId && this._glipPosts) {\n      this._glipPosts.updateReadTime(post.groupId);\n    }\n  }\n\n  async createTeam(name: any, members: any, type = 'Team') {\n    const group = await this._client.glip().groups().post({\n      type,\n      name,\n      members,\n      isPublic: true,\n      description: '',\n    });\n    return group.id;\n  }\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  allGroups = [\n    () => this.data,\n    () => this._glipPersons && this._glipPersons.personsMap,\n    () => this._glipPosts && this._glipPosts.postsMap,\n    () => this._auth.ownerId,\n    (data: any, personsMap = {}, postsMap = {}, ownerId: any) =>\n      (data || []).map((group: any) =>\n        formatGroup(group, personsMap, postsMap, ownerId),\n      ),\n  ];\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  filteredGroups = [\n    () => this.allGroups,\n    () => this.searchFilter,\n    () => this._glipPosts && this._glipPosts.postsMap,\n    (allGroups: any, searchFilter: any, postsMap = {}) => {\n      if (isBlank(searchFilter)) {\n        return allGroups;\n      }\n      const filterString = searchFilter.toLowerCase();\n      return allGroups.filter((group: any) => {\n        const name = group.name && group.name.toLowerCase();\n        if (name && name.indexOf(filterString) > -1) {\n          return true;\n        }\n        if (!name) {\n          const groupUsernames = group.detailMembers\n            .map((m: any) => `${m.firstName} ${m.lastName}`)\n            .join(' ')\n            .toLowerCase();\n          if (groupUsernames && groupUsernames.indexOf(filterString) > -1) {\n            return true;\n          }\n        }\n        // @ts-expect-error TS(7053): Element implicitly has an 'any' type because expre... Remove this comment to see the full error message\n        const result = searchPosts(filterString, postsMap[group.id] || []);\n        return result;\n      });\n    },\n  ];\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  groups = [\n    () => this.filteredGroups,\n    (filteredGroups: any) => {\n      const sortedGroups = filteredGroups.sort((a: any, b: any) => {\n        if (a.updatedTime === b.updatedTime) return 0;\n        return a.updatedTime > b.updatedTime ? -1 : 1;\n      });\n      return sortedGroups;\n    },\n  ];\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  uniqueMemberIds = [() => this.allGroups, getUniqueMemberIds];\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  groupMemberIds = [\n    () => this.allGroups,\n    (groups: any) => {\n      const noTeamGroups = groups.filter((g: any) => g.type !== 'Team');\n      return getUniqueMemberIds(noTeamGroups);\n    },\n  ];\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  currentGroup = [\n    () => this.allGroups,\n    () => this.currentGroupId,\n    () => (this._glipPersons && this._glipPersons.personsMap) || {},\n    (allGroups: any, currentGroupId: any, personsMap: any) => {\n      const group = allGroups.find((g: any) => g.id === currentGroupId) || {};\n      return formatGroup(group, personsMap, undefined, this._auth.ownerId);\n    },\n  ];\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  currentGroupPosts = [\n    () => {\n      const postsMap = (this._glipPosts && this._glipPosts.postsMap) || {};\n      return postsMap[this.currentGroupId];\n    },\n    () => (this._glipPersons && this._glipPersons.personsMap) || {},\n    (posts: any, personsMap: any) => {\n      // const posts = postsMap[currentGroupId] || [];\n      const reversePosts = (posts || []).slice(0).reverse();\n      return reversePosts.map((post: any) => {\n        const creator = personsMap[post.creatorId];\n        return {\n          ...post,\n          sentByMe: post.creatorId === this._auth.ownerId,\n          creator,\n        };\n      });\n    },\n  ];\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  groupsWithUnread = [\n    () => this.groups,\n    () => (this._glipPosts && this._glipPosts.postsMap) || {},\n    () => (this._glipPosts && this._glipPosts.readTimeMap) || {},\n    (groups: any, postsMap: any, readTimeMap: any) =>\n      groups.map((group: any) => {\n        const posts = postsMap[group.id] || [];\n        const readTime = readTimeMap[group.id] || Date.now();\n        return {\n          ...group,\n          unread: posts.filter(\n            (post: any) =>\n              new Date(post.creationTime).getTime() > readTime &&\n              post.creatorId !== this._auth.ownerId,\n          ).length,\n        };\n      }),\n  ];\n\n  // @ts-expect-error TS(1240): Unable to resolve signature of property decorator ... Remove this comment to see the full error message\n  @selector\n  unreadCounts = [\n    () => this.groupsWithUnread,\n    (groups: any) => groups.reduce((a: any, b: any) => a + b.unread, 0),\n  ];\n\n  get searchFilter() {\n    return this.state.searchFilter;\n  }\n\n  get data() {\n    return this._storage\n      ? this._storage.getItem(this._dataStorageKey)\n      : this.state.data;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get timestamp() {\n    return this._storage\n      ? this._storage.getItem(this._timestampStorageKey)\n      : this.state.timestamp;\n  }\n\n  get currentGroupId() {\n    return this.state.currentGroupId;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get status() {\n    return this.state.status;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get ready() {\n    return this.status === moduleStatuses.ready;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get pending() {\n    return this.status === moduleStatuses.pending;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get ttl() {\n    return this._ttl;\n  }\n\n  // @ts-expect-error TS(4114): This member must have an 'override' modifier becau... Remove this comment to see the full error message\n  get timeToRetry() {\n    return this._timeToRetry;\n  }\n\n  get _hasPermission() {\n    return !!this._appFeatures.hasGlipPermission;\n  }\n}\n"],"mappings":"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","ignoreList":[]}