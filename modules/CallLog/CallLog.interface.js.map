{"version":3,"file":"CallLog.interface.js","names":[],"sources":["modules/CallLog/CallLog.interface.ts"],"sourcesContent":["import type UserCallLogRecord from '@rc-ex/core/lib/definitions/CallLogRecord';\nimport type UserCallLogResponse from '@rc-ex/core/lib/definitions/CallLogResponse';\nimport type CallLogSyncResponse from '@rc-ex/core/lib/definitions/CallLogSyncResponse';\n\nimport type { AppFeatures } from '../AppFeatures';\nimport type { Auth } from '../Auth';\nimport type { ExtensionInfo } from '../ExtensionInfo';\nimport type { ExtensionPhoneNumber } from '../ExtensionPhoneNumber';\nimport type { Storage } from '../Storage';\nimport type { Subscription } from '../Subscription';\nimport type { TabManager } from '../TabManager';\n\nexport interface CallLogOptions {\n  /**\n   * local cache time, default 5 min.\n   */\n  ttl?: number;\n  /**\n   * time for token expire, default 3 min.\n   */\n  refreshLock?: number;\n  /**\n   * time for token expire, default 1 hour.\n   */\n  tokenExpiresIn?: number;\n  /**\n   * waiting time to retry, default 62 seconds.\n   */\n  timeToRetry?: number;\n  /**\n   * day span of call log, , default 7 days.\n   */\n  daySpan?: number;\n  /**\n   * polling flag, default true.\n   */\n  polling?: boolean;\n  /**\n   * disable cache flag, default false.\n   */\n  disableCache?: boolean;\n  /**\n   * limit List, default false.\n   */\n  isLimitList?: boolean;\n  /**\n   * list record count per page, default 250.\n   */\n  listRecordCount?: number;\n  /**\n   * full sync record count, default 250.\n   */\n  recordCount?: number;\n  /**\n   * disable handling the deleted call log.\n   */\n  enableDeleted?: boolean;\n}\n\nexport interface Deps {\n  auth: Auth;\n  client: any;\n  extensionPhoneNumber: ExtensionPhoneNumber;\n  extensionInfo: ExtensionInfo;\n  subscription: Subscription;\n  appFeatures: AppFeatures;\n  tabManager?: TabManager;\n  storage?: Storage;\n  callLogOptions?: CallLogOptions;\n}\n\nexport type CallLogRecord = Pick<\n  UserCallLogRecord,\n  Exclude<keyof UserCallLogRecord, 'startTime'>\n> & {\n  // TODO: fix type issue in 'CallLogRecord' in '@rc-ex/core/lib/definitions'\n  startTime: number;\n};\n\nexport type CallLogItem = Pick<\n  CallLogRecord,\n  Exclude<keyof UserCallLogRecord, 'uri'>\n>;\n\nexport type CallLogSyncData = Pick<CallLogSyncResponse, 'syncInfo' | 'uri'> & {\n  records: CallLogList;\n};\n\nexport type CallLogList = CallLogItem[];\n\nexport type CallLogRecords = CallLogRecord[];\n\nexport type UserCallLogResponseData = Pick<\n  UserCallLogResponse,\n  Exclude<keyof UserCallLogResponse, 'records'>\n> & {\n  // TODO: fix type issue in 'CallLogResponse' in '@rc-ex/core/lib/definitions'\n  records: CallLogRecords;\n};\n\nexport interface CallLogData {\n  list: string[];\n  map: Record<string, CallLogRecord>;\n  token: string | null;\n  timestamp: number | null;\n}\n\nexport interface SyncSuccessOptions {\n  timestamp: number;\n  syncToken: string;\n  daySpan: number;\n  records?: CallLogList;\n  supplementRecords?: CallLogList;\n}\n"],"mappings":"","ignoreList":[]}