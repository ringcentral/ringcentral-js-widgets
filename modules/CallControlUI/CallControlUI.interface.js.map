{"version":3,"file":"CallControlUI.interface.js","names":["_callDirections","_interopRequireDefault","require","_calleeTypes","e","__esModule","getLastCallInfoFromWebphoneSession","webphoneSession","contactMapping","sessionNumber","direction","callDirections","outbound","to","from","sessionStatus","callStatus","matchedContact","contactMatch","matches","length","calleeType","calleeTypes","contacts","unknown","avatarUrl","profileImageUrl","lastCallContact","name","status","phoneNumber"],"sources":["modules/CallControlUI/CallControlUI.interface.ts"],"sourcesContent":["import callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport calleeTypes from '@ringcentral-integration/commons/enums/calleeTypes';\nimport type { NormalizedSession } from '@ringcentral-integration/commons/interfaces/Webphone.interface';\nimport type { AccountInfo } from '@ringcentral-integration/commons/modules/AccountInfo';\nimport type { AppFeatures } from '@ringcentral-integration/commons/modules/AppFeatures/AppFeatures';\nimport type { Brand } from '@ringcentral-integration/commons/modules/Brand';\nimport type { CallMonitor } from '@ringcentral-integration/commons/modules/CallMonitor';\nimport type { CallingSettings } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport type { ConferenceCall } from '@ringcentral-integration/commons/modules/ConferenceCall';\nimport type { ContactMatcher } from '@ringcentral-integration/commons/modules/ContactMatcher';\nimport type { ContactSearch } from '@ringcentral-integration/commons/modules/ContactSearch';\nimport type { ExtensionInfo } from '@ringcentral-integration/commons/modules/ExtensionInfo';\nimport type { ForwardingNumber } from '@ringcentral-integration/commons/modules/ForwardingNumber';\nimport type { Locale } from '@ringcentral-integration/commons/modules/Locale';\nimport type { RegionSettings } from '@ringcentral-integration/commons/modules/RegionSettings';\nimport type { Webphone } from '@ringcentral-integration/commons/modules/Webphone';\nimport type { ReactNode } from 'react';\n\nimport type { ConnectivityManager } from '../ConnectivityManager';\nimport type { RouterInteraction } from '../RouterInteraction';\n\nexport interface CallControlUIOptions {}\n\nexport interface CallControlComponentProps {\n  params?: {\n    sessionId?: string;\n  };\n  showCallQueueName?: boolean;\n  showCallerIdName?: boolean;\n  showPark?: boolean;\n  getAvatarUrl?: () => string;\n  onBackButtonClick?: () => any;\n  phoneTypeRenderer?: () => ReactNode;\n  phoneSourceNameRenderer?: () => ReactNode;\n  children?: ReactNode;\n}\n\nexport interface Deps {\n  appFeatures: AppFeatures;\n  webphone: Webphone;\n  locale: Locale;\n  contactMatcher: ContactMatcher;\n  regionSettings: RegionSettings;\n  brand: Brand;\n  contactSearch: ContactSearch;\n  callingSettings: CallingSettings;\n  connectivityManager: ConnectivityManager;\n  forwardingNumber: ForwardingNumber;\n  callMonitor: CallMonitor;\n  extensionInfo: ExtensionInfo;\n  conferenceCall?: ConferenceCall;\n  routerInteraction?: RouterInteraction;\n  callControlUIOptions: CallControlUIOptions;\n  accountInfo: AccountInfo;\n}\nexport function getLastCallInfoFromWebphoneSession(\n  webphoneSession: NormalizedSession,\n  contactMapping?: any,\n) {\n  const sessionNumber =\n    webphoneSession.direction === callDirections.outbound\n      ? webphoneSession.to\n      : webphoneSession.from;\n  const sessionStatus = webphoneSession.callStatus;\n  let matchedContact = webphoneSession.contactMatch;\n  if (!matchedContact && contactMapping) {\n    const matches = contactMapping[sessionNumber];\n    if (matches?.length) {\n      matchedContact = matches[0];\n    }\n  }\n  const calleeType = matchedContact\n    ? calleeTypes.contacts\n    : calleeTypes.unknown;\n  return {\n    calleeType,\n    avatarUrl: matchedContact && matchedContact.profileImageUrl,\n    lastCallContact: matchedContact,\n    name: matchedContact && matchedContact.name,\n    status: sessionStatus,\n    phoneNumber: sessionNumber,\n  };\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,eAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA6E,SAAAD,uBAAAG,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAsDtE,SAASE,kCAAkCA,CAChDC,eAAkC,EAClCC,cAAoB,EACpB;EACA,IAAMC,aAAa,GACjBF,eAAe,CAACG,SAAS,KAAKC,0BAAc,CAACC,QAAQ,GACjDL,eAAe,CAACM,EAAE,GAClBN,eAAe,CAACO,IAAI;EAC1B,IAAMC,aAAa,GAAGR,eAAe,CAACS,UAAU;EAChD,IAAIC,cAAc,GAAGV,eAAe,CAACW,YAAY;EACjD,IAAI,CAACD,cAAc,IAAIT,cAAc,EAAE;IACrC,IAAMW,OAAO,GAAGX,cAAc,CAACC,aAAa,CAAC;IAC7C,IAAIU,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEC,MAAM,EAAE;MACnBH,cAAc,GAAGE,OAAO,CAAC,CAAC,CAAC;IAC7B;EACF;EACA,IAAME,UAAU,GAAGJ,cAAc,GAC7BK,uBAAW,CAACC,QAAQ,GACpBD,uBAAW,CAACE,OAAO;EACvB,OAAO;IACLH,UAAU,EAAVA,UAAU;IACVI,SAAS,EAAER,cAAc,IAAIA,cAAc,CAACS,eAAe;IAC3DC,eAAe,EAAEV,cAAc;IAC/BW,IAAI,EAAEX,cAAc,IAAIA,cAAc,CAACW,IAAI;IAC3CC,MAAM,EAAEd,aAAa;IACrBe,WAAW,EAAErB;EACf,CAAC;AACH","ignoreList":[]}