{"version":3,"file":"messageStoreHelper.js","names":["_syncTypes","require","getSyncParams","_ref","recordCount","conversationLoadLength","dateFrom","dateTo","syncToken","syncType","syncTypes","iSync","params","recordCountPerConversation","fSync","toISOString","exports"],"sources":["modules/MessageStore/messageStoreHelper.ts"],"sourcesContent":["import { syncTypes } from '../../enums/syncTypes';\n\nimport type { SyncFunctionOptions } from './MessageStore.interface';\n\ntype GetSyncParamsOptions = Pick<\n  SyncFunctionOptions,\n  Exclude<keyof SyncFunctionOptions, 'receivedRecordsLength'>\n>;\n\ninterface SyncParams {\n  syncType: string;\n  recordCountPerConversation: GetSyncParamsOptions['conversationLoadLength'];\n  recordCount?: GetSyncParamsOptions['recordCount'];\n  dateFrom?: string;\n  dateTo?: string;\n}\n\nexport const getSyncParams = ({\n  recordCount,\n  conversationLoadLength,\n  dateFrom,\n  dateTo,\n  syncToken,\n}: GetSyncParamsOptions) => {\n  if (syncToken) {\n    return {\n      syncToken,\n      syncType: syncTypes.iSync,\n    };\n  }\n  const params: SyncParams = {\n    recordCountPerConversation: conversationLoadLength,\n    syncType: syncTypes.fSync,\n  };\n  if (recordCount) {\n    params.recordCount = recordCount;\n  }\n  if (dateFrom) {\n    params.dateFrom = dateFrom.toISOString();\n  }\n  if (dateTo) {\n    params.dateTo = dateTo.toISOString();\n  }\n  return params;\n};\n"],"mappings":";;;;;;;AAAA,IAAAA,UAAA,GAAAC,OAAA;AAiBO,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAAC,IAAA,EAME;EAAA,IAL1BC,WAAW,GAAAD,IAAA,CAAXC,WAAW;IACXC,sBAAsB,GAAAF,IAAA,CAAtBE,sBAAsB;IACtBC,QAAQ,GAAAH,IAAA,CAARG,QAAQ;IACRC,MAAM,GAAAJ,IAAA,CAANI,MAAM;IACNC,SAAS,GAAAL,IAAA,CAATK,SAAS;EAET,IAAIA,SAAS,EAAE;IACb,OAAO;MACLA,SAAS,EAATA,SAAS;MACTC,QAAQ,EAAEC,oBAAS,CAACC;IACtB,CAAC;EACH;EACA,IAAMC,MAAkB,GAAG;IACzBC,0BAA0B,EAAER,sBAAsB;IAClDI,QAAQ,EAAEC,oBAAS,CAACI;EACtB,CAAC;EACD,IAAIV,WAAW,EAAE;IACfQ,MAAM,CAACR,WAAW,GAAGA,WAAW;EAClC;EACA,IAAIE,QAAQ,EAAE;IACZM,MAAM,CAACN,QAAQ,GAAGA,QAAQ,CAACS,WAAW,CAAC,CAAC;EAC1C;EACA,IAAIR,MAAM,EAAE;IACVK,MAAM,CAACL,MAAM,GAAGA,MAAM,CAACQ,WAAW,CAAC,CAAC;EACtC;EACA,OAAOH,MAAM;AACf,CAAC;AAACI,OAAA,CAAAd,aAAA,GAAAA,aAAA","ignoreList":[]}