{"version":3,"sources":["modules/MeetingV2/helper.ts"],"names":["getExtensionName","extensionInfo","enableScheduleOnBehalf","meeting","delegators","extensionName","info","name","length","currentHost","host","id","user","item","getHostId","getRcmUriRegExp","regExpText","RegExp","getRcvUriRegExp"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AAKO,SAASA,gBAAT,OAUJ;AAAA,MATDC,aASC,QATDA,aASC;AAAA,MARDC,sBAQC,QARDA,sBAQC;AAAA,MAPDC,OAOC,QAPDA,OAOC;AAAA,MANDC,UAMC,QANDA,UAMC;AACD,MAAMC,aAAa,GAAGJ,aAAa,CAACK,IAAd,CAAmBC,IAAnB,IAA2B,EAAjD;;AACA,MACE,CAACL,sBAAD,IACA,CAACC,OADD,IAEA,CAACC,UAFD,IAGAA,UAAU,CAACI,MAAX,KAAsB,CAJxB,EAKE;AACA,WAAOH,aAAP;AACD;;AACD,MAAMI,WAAW,aAAON,OAAO,CAACO,IAAR,IAAgBP,OAAO,CAACO,IAAR,CAAaC,EAA9B,IAAqC,EAA3C,CAAjB;AACA,MAAMC,IAAI,GAAG,iBAAK,UAACC,IAAD;AAAA,WAAUA,IAAI,CAACF,EAAL,KAAYF,WAAtB;AAAA,GAAL,EAAwCL,UAAxC,CAAb;AACA,SAAOQ,IAAI,IAAIA,IAAI,CAACD,EAAL,eAAeV,aAAa,CAACK,IAAd,CAAmBK,EAAlC,CAAR,GACHC,IAAI,CAACL,IADF,GAEHF,aAFJ;AAGD;;AAEM,SAASS,SAAT,QAQJ;AAAA;;AAAA,MAPDZ,sBAOC,SAPDA,sBAOC;AAAA,MANDC,OAMC,SANDA,OAMC;AAAA,MALDF,aAKC,SALDA,aAKC;;AACD,MAAIC,sBAAsB,KAAIC,OAAJ,aAAIA,OAAJ,wCAAIA,OAAO,CAAEO,IAAb,kDAAI,cAAeC,EAAnB,CAA1B,EAAiD;AAC/C,qBAAUR,OAAO,CAACO,IAAR,CAAaC,EAAvB;AACD;;AACD,SAAO,UAAGV,aAAa,CAACK,IAAd,CAAmBK,EAAtB,KAA8B,EAArC;AACD;;AAEM,IAAMI,eAAe,GAAG,SAAlBA,eAAkB,CAACC,UAAD;AAAA,SAC7B,IAAIC,MAAJ,0BACoBD,UADpB,0CAEE,GAFF,CAD6B;AAAA,CAAxB;;;;AAMA,IAAME,eAAe,GAAG,SAAlBA,eAAkB,CAACF,UAAD;AAAA,SAC7B,IAAIC,MAAJ,0BACoBD,UADpB,sDAEE,GAFF,CAD6B;AAAA,CAAxB","sourcesContent":["import { find } from 'ramda';\n\nimport { ExtensionInfo } from '../ExtensionInfoV2';\nimport { MeetingDelegator, RcMMeetingModel } from './Meeting.interface';\n\nexport function getExtensionName({\n  extensionInfo,\n  enableScheduleOnBehalf,\n  meeting,\n  delegators,\n}: {\n  extensionInfo: ExtensionInfo;\n  enableScheduleOnBehalf: boolean;\n  meeting: RcMMeetingModel;\n  delegators: MeetingDelegator[];\n}) {\n  const extensionName = extensionInfo.info.name || '';\n  if (\n    !enableScheduleOnBehalf ||\n    !meeting ||\n    !delegators ||\n    delegators.length === 0\n  ) {\n    return extensionName;\n  }\n  const currentHost = `${(meeting.host && meeting.host.id) || ''}`;\n  const user = find((item) => item.id === currentHost, delegators);\n  return user && user.id !== `${extensionInfo.info.id}`\n    ? user.name\n    : extensionName;\n}\n\nexport function getHostId({\n  enableScheduleOnBehalf,\n  meeting,\n  extensionInfo,\n}: {\n  extensionInfo: ExtensionInfo;\n  enableScheduleOnBehalf: boolean;\n  meeting: RcMMeetingModel;\n}) {\n  if (enableScheduleOnBehalf && meeting?.host?.id) {\n    return `${meeting.host.id}`;\n  }\n  return `${extensionInfo.info.id}` || '';\n}\n\nexport const getRcmUriRegExp = (regExpText: string) =>\n  new RegExp(\n    `(https?):\\\\/\\\\/${regExpText}(\\\\/\\\\w+)?(\\\\/(\\\\d+))(\\\\?pwd=\\\\w+)?`,\n    'i',\n  );\n\nexport const getRcvUriRegExp = (regExpText: string) =>\n  new RegExp(\n    `(https?):\\\\/\\\\/${regExpText}(\\\\/{1,2}\\\\w+)*(\\\\/{1,2}(\\\\d+))(\\\\?pw=\\\\w{32})?`,\n    'i',\n  );\n"],"file":"helper.js"}