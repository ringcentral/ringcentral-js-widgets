{"version":3,"file":"ActiveCallsUI.js","names":["_react","_interopRequireDefault","require","_callDirections","_callLogHelpers","_di","_formatNumber","_ActiveCallControl","_CallingSettings","_webphoneHelper","_core","_ActiveCallItemV","_dec","_class","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","length","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","configurable","writable","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","_createClass","protoProps","staticProps","prototype","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","call","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","ModalContentRendererID","ActiveCallsUI","Module","name","deps","dep","optional","_RcUIModuleV","_super","_this$_deps$modalUI","_this","_defaultOnViewContact","options","_this$_deps$contactDe","_options$contact","contact","id","type","_deps","contactDetailsUI","showContactDetails","direct","modalUI","registerRenderer","_ref","currentLocale","contactName","createElement","ModalContent","getUIProps","_ref2","_this$_deps$activeCal","_this$_deps$conferenc","_this$_deps$webphone","_this$_deps$callLogge","_ref2$showContactDisp","showContactDisplayPlaceholder","_ref2$showRingoutCall","showRingoutCallControl","_ref2$showSwitchCall","showSwitchCall","_ref2$showTransferCal","showTransferCall","_ref2$showHoldOnOther","showHoldOnOtherDevice","useV2","useCallControl","isWebRTC","callingSettings","callingMode","callingModes","webphone","controlBusy","activeCallControl","busy","locale","activeRingCalls","callMonitor","activeOnHoldCalls","activeCurrentCalls","otherDeviceCalls","areaCode","regionSettings","countryCode","outboundSmsPermission","appFeatures","hasOutboundSMSPermission","internalSmsPermission","hasInternalSMSPermission","showSpinner","conferenceCall","isMerging","brand","connected","autoLog","callLogger","conferenceCallParties","partyProfiles","disableLinks","connectivityMonitor","connectivity","rateLimiter","throttling","isWide","allCalls","calls","getUIFunctions","_ref3","_this2","_ref3$composeTextRout","composeTextRoute","_ref3$callCtrlRoute","callCtrlRoute","onCreateContact","onLogCall","isLoggedContact","onCallsEmpty","_ref3$onViewContact","onViewContact","_ref3$showViewContact","showViewContact","getAvatarUrl","useActiveCallControl","modalConfirm","_this2$_deps$modalUI","confirm","content","modalClose","_this2$_deps$modalUI2","close","formatPhone","phoneNumber","_this2$_deps$extensio","formatNumber","maxExtensionLength","accountInfo","maxExtensionNumberLength","siteCode","extensionInfo","site","code","isMultipleSiteEnabled","webphoneAnswer","_webphoneAnswer","regeneratorRuntime","mark","_callee","sessionId","telephonySessionId","isHoldAndAnswer","session","_args","wrap","_callee$","_context","prev","next","answerAndHold","answer","abrupt","sessions","find","direction","callDirections","inbound","closeMergingPair","stop","_x","_x2","webphoneToVoicemail","_this2$_deps$webphone","toVoiceMail","webphoneReject","_this2$_deps$webphone2","webphoneHangup","_this2$_deps$webphone3","allCallsClickHangupTrack","hangUp","hangup","webphoneResume","_webphoneResume","_callee2","_callee2$","_context2","unhold","resume","routerInteraction","currentPath","_x3","_x4","webphoneHold","_this2$_deps$webphone4","allCallsClickHoldTrack","hold","webphoneSwitchCall","_webphoneSwitchCall","_callee3","activeCall","_callee3$","_context3","switchCall","homeCountryId","sent","_x5","webphoneIgnore","_this2$_deps$activeCa","ignore","ringoutHangup","_ringoutHangup","_callee4","_this2$_deps$activeCa2","_len","_key","_args4","_callee4$","_context4","Array","ringoutTransfer","concat","ringoutReject","_ringoutReject","_callee5","_this2$_deps$activeCa3","_callee5$","_context5","allCallsClickRejectTrack","_x6","onClickToSms","composeText","_ref4","_callee6","isDummyContact","_ref5","_args6","_callee6$","_context6","clean","updateTypingToNumber","contactSearch","search","searchString","addToRecipients","_x7","_ref7","_callee7","_ref6","entityType","hasMatchNumber","_callee7$","_context7","contactMatcher","ignoreCache","forceMatchNumber","_x8","_ref9","_callee8","_ref8","_ref8$redirect","redirect","_callee8$","_context8","logCall","_x9","isSessionAConferenceCall","_this2$_deps$conferen","isConferenceSession","onCallItemClick","webphoneSession","isRingingInboundCall","callItemClickTrack","toggleMinimized","updateSessionMatchedContact","isOnHold","telephonySession","isHolding","clickSwitchTrack","_this2$_deps$activeCa4","_this2$_deps$activeCa5","get","RcUIModuleV2","exports"],"sources":["modules/ActiveCallsUI/ActiveCallsUI.tsx"],"sourcesContent":["import React from 'react';\n\nimport callDirections from '@ringcentral-integration/commons/enums/callDirections';\nimport { isRingingInboundCall } from '@ringcentral-integration/commons/lib/callLogHelpers';\nimport { Module } from '@ringcentral-integration/commons/lib/di';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport type { ActiveSession } from '@ringcentral-integration/commons/modules/ActiveCallControl';\nimport { isHolding } from '@ringcentral-integration/commons/modules/ActiveCallControl';\nimport { callingModes } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport type { SwitchCallActiveCallParams } from '@ringcentral-integration/commons/modules/Webphone';\nimport { isOnHold } from '@ringcentral-integration/commons/modules/Webphone/webphoneHelper';\nimport type { UIFunctions, UIProps } from '@ringcentral-integration/core';\nimport { RcUIModuleV2 } from '@ringcentral-integration/core';\n\nimport { ModalContent } from '../../components/ActiveCallItemV2';\nimport type {\n  ActiveCallsContainerProps,\n  ActiveCallsPanelProps,\n  Deps,\n} from './ActiveCallsUI.interface';\n\nconst ModalContentRendererID = 'ActiveCallsUI.ModalContentRenderer';\n@Module({\n  name: 'ActiveCallsUI',\n  deps: [\n    'Brand',\n    'Locale',\n    'CallMonitor',\n    'RateLimiter',\n    'ContactSearch',\n    'RegionSettings',\n    'ContactMatcher',\n    'CallingSettings',\n    'RouterInteraction',\n    'AppFeatures',\n    'ConnectivityMonitor',\n    'AccountInfo',\n    'ExtensionInfo',\n    { dep: 'ModalUI', optional: true },\n    { dep: 'Webphone', optional: true },\n    { dep: 'CallLogger', optional: true },\n    { dep: 'ComposeText', optional: true },\n    { dep: 'ConferenceCall', optional: true },\n    { dep: 'ContactDetailsUI', optional: true },\n    { dep: 'ActiveCallControl', optional: true },\n  ],\n})\nexport class ActiveCallsUI<T extends Deps = Deps> extends RcUIModuleV2<T> {\n  constructor(deps: T) {\n    super({\n      deps,\n    });\n    this._deps.modalUI?.registerRenderer(\n      ModalContentRendererID,\n      ({ currentLocale, contactName }) => (\n        <ModalContent currentLocale={currentLocale} contactName={contactName} />\n      ),\n    );\n  }\n\n  getUIProps({\n    showContactDisplayPlaceholder = false,\n    showRingoutCallControl = false,\n    showSwitchCall = false,\n    showTransferCall = true,\n    showHoldOnOtherDevice = false,\n    useV2,\n    useCallControl,\n  }: ActiveCallsContainerProps): UIProps<ActiveCallsPanelProps> {\n    const isWebRTC =\n      this._deps.callingSettings.callingMode === callingModes.webphone;\n    const controlBusy = this._deps.activeCallControl?.busy || false;\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      activeRingCalls: this._deps.callMonitor.activeRingCalls,\n      activeOnHoldCalls: this._deps.callMonitor.activeOnHoldCalls,\n      activeCurrentCalls: this._deps.callMonitor.activeCurrentCalls,\n      otherDeviceCalls: this._deps.callMonitor.otherDeviceCalls,\n      areaCode: this._deps.regionSettings.areaCode,\n      countryCode: this._deps.regionSettings.countryCode,\n      outboundSmsPermission: this._deps.appFeatures.hasOutboundSMSPermission,\n      internalSmsPermission: this._deps.appFeatures.hasInternalSMSPermission,\n      showSpinner: !!this._deps.conferenceCall?.isMerging,\n      brand: this._deps.brand.name,\n      showContactDisplayPlaceholder,\n      showRingoutCallControl,\n      showTransferCall,\n      showHoldOnOtherDevice,\n      showSwitchCall: !!(\n        showSwitchCall &&\n        isWebRTC &&\n        this._deps.webphone?.connected\n      ),\n      autoLog: !!this._deps.callLogger?.autoLog,\n      isWebRTC,\n      conferenceCallParties: this._deps.conferenceCall\n        ? this._deps.conferenceCall.partyProfiles\n        : null,\n      useV2,\n      disableLinks:\n        !this._deps.connectivityMonitor.connectivity ||\n        this._deps.rateLimiter.throttling ||\n        controlBusy,\n      useCallControl,\n      isWide: this.isWide,\n      allCalls: this._deps.callMonitor.calls,\n    };\n  }\n\n  private _defaultOnViewContact: ActiveCallsContainerProps['onViewContact'] = (\n    options,\n  ) => {\n    const { id, type } = options.contact;\n\n    this._deps.contactDetailsUI?.showContactDetails({\n      type,\n      id,\n      direct: true,\n    });\n  };\n\n  getUIFunctions({\n    composeTextRoute = '/composeText',\n    callCtrlRoute = '/calls/active',\n    onCreateContact,\n    onLogCall,\n    isLoggedContact,\n    onCallsEmpty,\n    onViewContact = this._defaultOnViewContact,\n    showViewContact = true,\n    getAvatarUrl,\n    useV2,\n    useCallControl,\n  }: ActiveCallsContainerProps): UIFunctions<ActiveCallsPanelProps> {\n    // Toggle to control if use new call control API, should using the ActiveCallControl module same time,\n    // when you set this toggle to true (https://developers.ringcentral.com/api-reference/Call-Control/createCallOutCallSession)\n    const useActiveCallControl = !!(\n      useCallControl && this._deps.activeCallControl\n    );\n    return {\n      modalConfirm: (props) =>\n        // @ts-expect-error TS(2322): Type 'string | undefined' is not assignable to typ... Remove this comment to see the full error message\n        this._deps.modalUI?.confirm({\n          ...props,\n          content: ModalContentRendererID,\n        }),\n      // @ts-expect-error TS(2322): Type 'boolean | undefined' is not assignable to ty... Remove this comment to see the full error message\n      modalClose: (id) => this._deps.modalUI?.close(id),\n      formatPhone: (phoneNumber) =>\n        formatNumber({\n          phoneNumber,\n          areaCode: this._deps.regionSettings.areaCode,\n          countryCode: this._deps.regionSettings.countryCode,\n          maxExtensionLength: this._deps.accountInfo.maxExtensionNumberLength,\n          siteCode: this._deps.extensionInfo.site?.code,\n          isMultipleSiteEnabled: this._deps.extensionInfo.isMultipleSiteEnabled,\n        }),\n      webphoneAnswer: async (\n        sessionId,\n        telephonySessionId,\n        isHoldAndAnswer = false,\n      ) => {\n        if (useActiveCallControl) {\n          // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          isHoldAndAnswer && this._deps.activeCallControl.answerAndHold\n            ? // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              this._deps.activeCallControl.answerAndHold(telephonySessionId)\n            : // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              this._deps.activeCallControl.answer(telephonySessionId);\n        } else {\n          if (!this._deps.webphone) {\n            return;\n          }\n\n          const session = this._deps.webphone.sessions.find(\n            (session) => session.id === sessionId,\n          );\n          if (\n            this._deps.conferenceCall &&\n            session &&\n            session.direction === callDirections.inbound\n          ) {\n            this._deps.conferenceCall.closeMergingPair();\n          }\n\n          this._deps.webphone.answer(sessionId);\n        }\n      },\n      // @ts-expect-error TS(2322): Type '(sessionId: string, telephonySessionId: stri... Remove this comment to see the full error message\n      webphoneToVoicemail: (sessionId, telephonySessionId) => {\n        if (useActiveCallControl) {\n          // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          return this._deps.activeCallControl.reject(telephonySessionId);\n        }\n        return this._deps.webphone?.toVoiceMail(sessionId);\n      },\n      // @ts-expect-error TS(2322): Type 'Promise<void> | undefined' is not assignable... Remove this comment to see the full error message\n      webphoneReject: (sessionId) => this._deps.webphone?.reject(sessionId),\n      webphoneHangup: (sessionId, telephonySessionId) => {\n        // user action track\n        this._deps.callMonitor.allCallsClickHangupTrack();\n        if (useActiveCallControl) {\n          // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          return this._deps.activeCallControl.hangUp(telephonySessionId);\n        }\n        return this._deps.webphone?.hangup(sessionId);\n      },\n      webphoneResume: async (sessionId, telephonySessionId) => {\n        if (useActiveCallControl) {\n          // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          return this._deps.activeCallControl.unhold(telephonySessionId);\n        }\n        if (!this._deps.webphone) {\n          return;\n        }\n        await this._deps.webphone.resume(sessionId);\n        if (\n          this._deps.routerInteraction.currentPath !== callCtrlRoute &&\n          !useV2\n        ) {\n          this._deps.routerInteraction.push(callCtrlRoute);\n        }\n      },\n      webphoneHold: (sessionId, telephonySessionId) => {\n        // user action track\n        this._deps.callMonitor.allCallsClickHoldTrack();\n        if (useActiveCallControl) {\n          // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          return this._deps.activeCallControl.hold(telephonySessionId);\n        }\n        return this._deps.webphone?.hold(sessionId);\n      },\n      // @ts-expect-error TS(2322): Type '(activeCall: SwitchCallActiveCallParams | Ac... Remove this comment to see the full error message\n      webphoneSwitchCall: async (activeCall) => {\n        if (useActiveCallControl) {\n          // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          return this._deps.activeCallControl.switch(\n            (activeCall as ActiveSession).telephonySessionId,\n          );\n        }\n        if (!this._deps.webphone) {\n          return;\n        }\n        const session = await this._deps.webphone.switchCall(\n          activeCall as SwitchCallActiveCallParams,\n          this._deps.regionSettings.homeCountryId,\n        );\n        return session;\n      },\n      webphoneIgnore: (telephonySessionId) =>\n        this._deps.activeCallControl?.ignore(telephonySessionId),\n      ringoutHangup: async (...args) => {\n        // user action track\n        this._deps.callMonitor.allCallsClickHangupTrack();\n        return this._deps.activeCallControl?.hangUp(...args);\n      },\n      ringoutTransfer: (sessionId) => {\n        this._deps.routerInteraction.push(`/transfer/${sessionId}/active`);\n      },\n      ringoutReject: async (sessionId) => {\n        // user action track\n        this._deps.callMonitor.allCallsClickRejectTrack();\n        return this._deps.activeCallControl?.reject(sessionId);\n      },\n      onViewContact: (options) => {\n        if (!showViewContact) return;\n\n        onViewContact(options);\n      },\n      onClickToSms: this._deps.composeText\n        ? async (contact, isDummyContact = false) => {\n            if (this._deps.routerInteraction) {\n              this._deps.routerInteraction.push(composeTextRoute);\n            }\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            this._deps.composeText.clean();\n            const { name } = contact as {\n              name: string;\n            };\n            if (name && contact.phoneNumber && isDummyContact) {\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              this._deps.composeText.updateTypingToNumber(name);\n              this._deps.contactSearch.search({ searchString: name });\n            } else {\n              // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n              this._deps.composeText.addToRecipients(contact);\n            }\n          }\n        : undefined,\n      // @ts-expect-error TS(2322): Type '(({ phoneNumber, name, entityType }: OnCreat... Remove this comment to see the full error message\n      onCreateContact: onCreateContact\n        ? async ({ phoneNumber, name, entityType }) => {\n            const hasMatchNumber =\n              await this._deps.contactMatcher.hasMatchNumber({\n                phoneNumber,\n                ignoreCache: true,\n              });\n            if (!hasMatchNumber) {\n              await onCreateContact({ phoneNumber, name, entityType });\n              await this._deps.contactMatcher.forceMatchNumber({ phoneNumber });\n            }\n          }\n        : undefined,\n      isLoggedContact,\n\n      onLogCall:\n        onLogCall ||\n        (this._deps.callLogger &&\n          (async ({ call, contact, redirect = true }) => {\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            await this._deps.callLogger.logCall({\n              call,\n              contact,\n              redirect,\n            });\n          })),\n      onCallsEmpty:\n        onCallsEmpty ||\n        (() => {\n          const isWebRTC =\n            this._deps.callingSettings.callingMode === callingModes.webphone;\n\n          // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n          if (isWebRTC && !this._deps.webphone.sessions.length) {\n            this._deps.routerInteraction.push('/dialer');\n          }\n        }),\n      isSessionAConferenceCall: (sessionId) =>\n        !!this._deps.conferenceCall?.isConferenceSession(sessionId),\n      onCallItemClick: (call) => {\n        if (!call.webphoneSession) {\n          // For ringout call\n          if (isRingingInboundCall(call)) {\n            return;\n          }\n\n          const { telephonySessionId } = call;\n          // to track the call item be clicked.\n          this._deps.callMonitor.callItemClickTrack();\n          this._deps.routerInteraction.push(\n            `/simplifycallctrl/${telephonySessionId}`,\n          );\n        } else {\n          // For webphone call\n          // show the ring call modal when click a ringing call.\n          if (isRingingInboundCall(call)) {\n            // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n            this._deps.webphone.toggleMinimized(call.webphoneSession.id);\n            return;\n          }\n          if (call.webphoneSession && call.webphoneSession.id) {\n            // to track the call item be clicked.\n            this._deps.callMonitor.callItemClickTrack();\n            this._deps.routerInteraction.push(\n              `${callCtrlRoute}/${call.webphoneSession.id}`,\n            );\n          }\n        }\n      },\n      getAvatarUrl,\n      updateSessionMatchedContact: (sessionId, contact) =>\n        // @ts-expect-error TS(2532): Object is possibly 'undefined'.\n        this._deps.webphone.updateSessionMatchedContact(sessionId, contact),\n      // function to check if a call is on hold status\n      isOnHold: (webphoneSession) => {\n        if (useActiveCallControl) {\n          const call =\n            this._deps.callMonitor.calls.find(\n              (call) => call.webphoneSession === webphoneSession,\n            ) || {};\n          // @ts-expect-error TS(2339): Property 'telephonySession' does not exist on type... Remove this comment to see the full error message\n          const { telephonySession } = call;\n          return isHolding(telephonySession);\n        }\n        return isOnHold(webphoneSession);\n      },\n      clickSwitchTrack: () => {\n        this._deps.activeCallControl?.clickSwitchTrack?.();\n      },\n    };\n  }\n\n  get isWide() {\n    return true;\n  }\n}\n"],"mappings":"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"}