{"version":3,"file":"AudioSettingsUI.js","names":["_di","require","_AudioSettings","_CallingSettings","_RingtoneConfiguration","_VolumeInspector","_core","_uuid","_dec","_class","_classCallCheck","a","n","TypeError","_defineProperties","e","r","t","length","o","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_inherits","create","constructor","value","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","arguments","apply","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","AudioSettingsUI","Module","name","deps","dep","optional","_RcUIModuleV","_super","getUIProps","_this$_deps$audioSett","_this$_deps$audioSett2","_this$_deps$ringtoneC","_this$_deps$ringtoneC2","_this$_deps$ringtoneC3","_this$_deps$ringtoneC4","_this$_deps$ringtoneC5","_this$_deps$ringtoneC6","isHavingCall","_deps","webphone","sessions","callMonitor","useTelephonySession","activeRingCalls","activeOnHoldCalls","activeCurrentCalls","currentLocale","locale","hasUserMedia","audioSettings","isAGCEnabled","showAGCEnabled","isSupportAGC","ringtoneVolume","callVolume","availableInputDevices","inputDeviceId","ringtoneDeviceId","availableOutputDevices","availableRingtoneDevices","outputDeviceId","supportDevices","userMedia","isWebRTC","callingSettings","callWith","callingOptions","browser","outputDeviceDisabled","inputDeviceDisabled","ringtoneSelectDisabled","showCallVolume","audioSettingsUIOptions","showRingToneVolume","volumeTestData","volumeInspector","volume","countDown","testState","isRecording","TEST_STATE","RECORDS_AUDIO","type","undefined","selectedRingtoneId","ringtoneConfiguration","fullRingtoneList","isUploadRingtoneDisabled","customRingtoneList","MAX_CUSTOM_RINGTONE_COUNT","enableCustomRingtone","getUIFunctions","_this","onBackButtonClick","routerInteraction","goBack","onSave","data","setData","checkUserMedia","getUserMedia","showAlert","handleTestMicroClick","_this$_deps$volumeIns","_this$_deps$volumeIns2","_this$_deps$volumeIns3","IDLE","startRecording","stopRecording","PLAYS_AUDIO","completeTest","handleTestSpeakerClick","_this$_deps$volumeIns4","_this$_deps$volumeIns5","startPlaySampleAudio","updateCurrentRingtone","id","_this$_deps$ringtoneC7","_this$_deps$ringtoneC8","setSelectedRingtoneId","updateIncomingRingtone","removeCustomRingtone","_this$_deps$ringtoneC9","_this$_deps$ringtoneC10","_this$_deps$ringtoneC11","hasCustomRingtone","find","ringtone","_this$_deps$alert","alert","danger","message","audioSettingsErrors","deleteRingtoneFailed","_this$_deps$ringtoneC12","selectToRingtone","defaultRingtoneList","uploadCustomRingtone","audioInfo","_this$_deps$ringtoneC13","concat","uuid","fileName","url","dataUrl","showDangerAlert","_this$_deps$alert2","_this$_deps$ringtoneC14","_this$_deps$ringtoneC15","RcUIModuleV2","exports"],"sources":["modules/AudioSettingsUI/AudioSettingsUI.ts"],"sourcesContent":["import { Module } from '@ringcentral-integration/commons/lib/di';\nimport { audioSettingsErrors } from '@ringcentral-integration/commons/modules/AudioSettings';\nimport { callingOptions } from '@ringcentral-integration/commons/modules/CallingSettings';\nimport {\n  AudioInfo,\n  MAX_CUSTOM_RINGTONE_COUNT,\n} from '@ringcentral-integration/commons/modules/RingtoneConfiguration';\nimport { TEST_STATE } from '@ringcentral-integration/commons/modules/VolumeInspector';\nimport type { UIFunctions, UIProps } from '@ringcentral-integration/core';\nimport { RcUIModuleV2 } from '@ringcentral-integration/core';\nimport { v4 as uuid } from 'uuid';\n\nimport { AudioSettingsPanelProps } from '../../components/AudioSettingsPanel';\nimport { AudioSettingsPanelProps as AudioSettingsPanelPropsV2 } from '../../components/AudioSettingsPanelV2';\n\nimport type { Deps } from './AudioSettingsUI.interface';\n\n@Module({\n  name: 'AudioSettingsUI',\n  deps: [\n    'AudioSettings',\n    'Locale',\n    'CallingSettings',\n    'RouterInteraction',\n    'CallMonitor',\n    { dep: 'RingtoneConfiguration', optional: true },\n    { dep: 'VolumeInspector', optional: true },\n    { dep: 'Alert', optional: true },\n    { dep: 'Webphone', optional: true },\n    { dep: 'AudioSettingsUIOptions', optional: true },\n  ],\n})\nclass AudioSettingsUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  getUIProps():\n    | UIProps<AudioSettingsPanelProps>\n    | UIProps<AudioSettingsPanelPropsV2> {\n    const isHavingCall = !!(\n      (this._deps.webphone && this._deps.webphone.sessions.length > 0) ||\n      (this._deps.callMonitor.useTelephonySession &&\n        this._deps.callMonitor.activeRingCalls.length +\n          this._deps.callMonitor.activeOnHoldCalls.length +\n          this._deps.callMonitor.activeCurrentCalls.length >\n          0)\n    );\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      hasUserMedia: this._deps.audioSettings.hasUserMedia,\n      isAGCEnabled: this._deps.audioSettings.isAGCEnabled,\n      showAGCEnabled: this._deps.audioSettings.isSupportAGC,\n      ringtoneVolume: this._deps.audioSettings.ringtoneVolume,\n      callVolume: this._deps.audioSettings.callVolume,\n      availableInputDevices: this._deps.audioSettings.availableInputDevices,\n      inputDeviceId: this._deps.audioSettings.inputDeviceId,\n      ringtoneDeviceId: this._deps.audioSettings.ringtoneDeviceId,\n      availableOutputDevices: this._deps.audioSettings.availableOutputDevices,\n      availableRingtoneDevices:\n        this._deps.audioSettings.availableRingtoneDevices,\n      outputDeviceId: this._deps.audioSettings.outputDeviceId,\n      supportDevices: this._deps.audioSettings.supportDevices,\n      userMedia: this._deps.audioSettings.userMedia,\n      isWebRTC: this._deps.callingSettings.callWith === callingOptions.browser,\n      outputDeviceDisabled:\n        !this._deps.audioSettings.availableOutputDevices.length,\n      inputDeviceDisabled: !!(\n        !this._deps.audioSettings.availableInputDevices.length || isHavingCall\n      ),\n      ringtoneSelectDisabled: isHavingCall,\n      showCallVolume: this._deps.audioSettingsUIOptions?.showCallVolume,\n      showRingToneVolume: this._deps.audioSettingsUIOptions?.showRingToneVolume,\n      volumeTestData: this._deps.volumeInspector\n        ? {\n            volume: this._deps.volumeInspector.volume,\n            countDown: this._deps.volumeInspector.countDown,\n            testState: this._deps.volumeInspector.testState,\n            isRecording:\n              this._deps.volumeInspector.testState === TEST_STATE.RECORDS_AUDIO,\n            type: this._deps.volumeInspector.type,\n          }\n        : undefined,\n      selectedRingtoneId: this._deps.ringtoneConfiguration?.selectedRingtoneId,\n      fullRingtoneList:\n        this._deps.ringtoneConfiguration?.fullRingtoneList || [],\n      isUploadRingtoneDisabled:\n        this._deps.ringtoneConfiguration?.customRingtoneList &&\n        this._deps.ringtoneConfiguration?.customRingtoneList?.length >=\n          MAX_CUSTOM_RINGTONE_COUNT,\n      enableCustomRingtone:\n        this._deps.ringtoneConfiguration?.enableCustomRingtone,\n    };\n  }\n\n  getUIFunctions():\n    | UIFunctions<AudioSettingsPanelProps>\n    | UIFunctions<AudioSettingsPanelPropsV2> {\n    return {\n      onBackButtonClick: () => this._deps.routerInteraction.goBack(),\n      onSave: (data) => this._deps.audioSettings.setData(data),\n      checkUserMedia: () => this._deps.audioSettings.getUserMedia(),\n      showAlert: () => this._deps.audioSettings.showAlert(),\n      handleTestMicroClick: (testState: TEST_STATE) => {\n        switch (testState) {\n          case TEST_STATE.IDLE:\n            this._deps.volumeInspector?.startRecording();\n            break;\n          case TEST_STATE.RECORDS_AUDIO:\n            this._deps.volumeInspector?.stopRecording();\n            break;\n          case TEST_STATE.PLAYS_AUDIO:\n            this._deps.volumeInspector?.completeTest();\n            break;\n        }\n      },\n      handleTestSpeakerClick: (testState: TEST_STATE) => {\n        switch (testState) {\n          case TEST_STATE.IDLE:\n            this._deps.volumeInspector?.startPlaySampleAudio();\n            break;\n          case TEST_STATE.PLAYS_AUDIO:\n            this._deps.volumeInspector?.completeTest();\n            break;\n        }\n      },\n      updateCurrentRingtone: (id) => {\n        this._deps.ringtoneConfiguration?.setSelectedRingtoneId(id);\n        this._deps.ringtoneConfiguration?.updateIncomingRingtone();\n      },\n      removeCustomRingtone: (id) => {\n        const hasCustomRingtone =\n          this._deps.ringtoneConfiguration?.customRingtoneList.find(\n            (ringtone) => ringtone.id === id,\n          );\n        if (!id || !hasCustomRingtone) {\n          this._deps.alert?.danger({\n            message: audioSettingsErrors.deleteRingtoneFailed,\n          });\n        }\n        this._deps.ringtoneConfiguration?.removeCustomRingtone(id);\n        // if the remove one the selected ringtone, set the first default ringtone as selected\n        if (id === this._deps.ringtoneConfiguration?.selectedRingtoneId) {\n          this.selectToRingtone(\n            this._deps.ringtoneConfiguration?.defaultRingtoneList[0].id,\n          );\n        }\n      },\n      uploadCustomRingtone: (audioInfo: AudioInfo) => {\n        const id = `custom-${uuid()}`;\n        this._deps.ringtoneConfiguration?.uploadCustomRingtone({\n          id,\n          name: audioInfo.fileName,\n          url: audioInfo.dataUrl,\n          type: 'custom',\n        });\n        this.selectToRingtone(id);\n      },\n      showDangerAlert: (message: string) => {\n        if (message) {\n          this._deps.alert?.danger({\n            message,\n          });\n        }\n      },\n    };\n  }\n\n  selectToRingtone(id: string) {\n    this._deps.ringtoneConfiguration?.setSelectedRingtoneId(id);\n    this._deps.ringtoneConfiguration?.updateIncomingRingtone();\n  }\n}\n\nexport { AudioSettingsUI };\n"],"mappings":"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","ignoreList":[]}