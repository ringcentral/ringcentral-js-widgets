{"version":3,"file":"TabManager.js","names":["_core","require","_redux","_Tabbie","_di","_proxify","_dec","_class","_class2","_descriptor","_descriptor2","_descriptor3","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","asyncGeneratorStep","n","a","c","i","u","done","Promise","resolve","then","_asyncToGenerator","_next","_throw","_initializerDefineProperty","l","initializer","call","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","TabManager","Module","name","deps","dep","optional","_RcModuleV","_super","_deps$tabManagerOptio","_deps$tabManagerOptio2","_this$_deps$tabManage","_this$_deps$tabManage2","_this","enableGlobalCache","tabManagerOptions","enableCache","tabbie","_eventReducer","state","undefined","action","_usm","usmAction","type","identifierKey","hasOwnProperty","_state","event","method","Tabbie","prefix","_deps","autoMainTab","isMainTab","_setId","id","_setActive","active","_setEvent","args","_onInitOnce","regeneratorRuntime","mark","_callee2","_this2","wrap","_callee2$","_context2","prev","next","enabled","t0","checkIsMain","t1","sent","on","events","mainTabIdChanged","_callee","_callee$","_context","stop","_len","Array","_key","onInitOnce","_send","_callee3","_this$tabbie","_len2","_key2","_args3","_callee3$","_context3","send","concat","_x","_checkIsMain","_callee4","_callee4$","_context4","abrupt","_checkTabAliveById","_callee5","_callee5$","_context5","checkTabAliveById","_x2","get","_reducers","combineReducers","spawnStorageReducersKey","spawnReducersKey","_this$tabbie$hasMulti","_this$tabbie2","hasMultipleTabs","_this$tabbie$tabs","_this$tabbie3","tabs","actualTabIds","_this$tabbie$isFirstT","_this$tabbie4","isFirstTab","_this$tabbie5","RcModuleV2","proxify","exports","_default"],"sources":["modules/TabManager/TabManager.ts"],"sourcesContent":["// @ts-nocheck\nimport {\n  action,\n  identifierKey,\n  RcModuleV2,\n  spawnReducersKey,\n  spawnStorageReducersKey,\n  state,\n  usmAction,\n} from '@ringcentral-integration/core';\nimport { combineReducers } from 'redux';\n\nimport { Tabbie } from '../../lib/Tabbie';\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\n\nimport type { Deps, TabEvent } from './TabManager.interface';\n\n@Module({\n  name: 'TabManager',\n  deps: [{ dep: 'TabManagerOptions', optional: true }, 'Prefix'],\n})\nexport class TabManager<T extends Deps = Deps> extends RcModuleV2<T> {\n  public tabbie: Tabbie;\n  constructor(deps: T) {\n    super({\n      deps,\n      enableGlobalCache: deps.tabManagerOptions?.enableCache ?? false,\n    });\n    this.tabbie = new Tabbie({\n      prefix: this._deps.prefix,\n      autoMainTab: this._deps.tabManagerOptions?.autoMainTab,\n      isMainTab: this._deps.tabManagerOptions?.isMainTab,\n    });\n  }\n\n  @state\n  id: string = null;\n\n  @action\n  protected _setId(id: string) {\n    this.id = id;\n  }\n\n  /**\n   * Default to true. If tabbie cannot be enabled due to env, the runtime\n   * should assume active.\n   */\n  @state\n  active = true;\n\n  @action\n  protected _setActive(active: boolean) {\n    this.active = active;\n  }\n\n  @state\n  event: TabEvent = null;\n\n  @action\n  protected _setEvent(event: string, args: any[]) {\n    this.event = {\n      name: event,\n      args,\n    };\n  }\n\n  _eventReducer = (state: TabEvent = null, action: any) => {\n    if (\n      action._usm === usmAction &&\n      action.type === this[identifierKey] &&\n      Object.hasOwnProperty.call(action._state, 'event')\n    ) {\n      const { event } = action._state;\n      if (\n        event &&\n        // It needs to match the exact modification event about `@action _setEvent()` in this module for Redux state.\n        // And it is a one-time state in Redux store.\n        action.method === '_setEvent' &&\n        action.type === this[identifierKey]\n      )\n        return event;\n    }\n    return null;\n  };\n\n  get reducer() {\n    if (this._reducers)\n      return combineReducers({\n        ...this._reducers,\n        event: this._eventReducer,\n      });\n    this[spawnStorageReducersKey]();\n    this[spawnReducersKey]();\n    return combineReducers({\n      ...this._reducers,\n      event: this._eventReducer,\n    });\n  }\n\n  override async onInitOnce() {\n    this._setId(this.tabbie.id);\n    if (this.tabbie.enabled) {\n      this._setActive(await this.tabbie.checkIsMain());\n      this.tabbie.on(this.tabbie.events.mainTabIdChanged, async () => {\n        this._setActive(await this.tabbie.checkIsMain());\n      });\n      this.tabbie.on(\n        this.tabbie.events.event,\n        (event: string, ...args: any[]) => {\n          this._setEvent(event, args);\n        },\n      );\n    }\n  }\n\n  @proxify\n  async send(event: string, ...args: any[]) {\n    this.tabbie.send(event, ...args);\n  }\n\n  @proxify\n  async checkIsMain() {\n    return this.tabbie.checkIsMain();\n  }\n\n  @proxify\n  async checkTabAliveById(id: string) {\n    return this.tabbie.checkTabAliveById(id);\n  }\n\n  get hasMultipleTabs() {\n    return this.tabbie?.hasMultipleTabs ?? false;\n  }\n\n  get tabs() {\n    return this.tabbie?.tabs ?? [];\n  }\n\n  get actualTabIds() {\n    return this.tabbie.actualTabIds;\n  }\n\n  get isFirstTab() {\n    return this.tabbie?.isFirstTab ?? true;\n  }\n\n  get enable() {\n    return this.tabbie?.enabled;\n  }\n}\n\n// For backward compatibility\nexport default TabManager;\n"],"mappings":"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","ignoreList":[]}