{"version":3,"sources":["modules/EvChooseAccountUI/EvChooseAccountUI.ts"],"names":["EvChooseAccountUI","name","deps","agentId","_deps","block","next","evAuth","setAgentId","openSocketWithSelectedAgentId","syncOtherTabs","retryOpenSocket","currentLocale","locale","agents","authenticateResponse","onAccountItemClick","_onAccountItemClick","RcUIModuleV2"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAYMA,iB,WAJL,gBAAO;AACNC,EAAAA,IAAI,EAAE,iBADA;AAENC,EAAAA,IAAI,EAAE,CAAC,UAAD,EAAa,QAAb,EAAuB,mBAAvB,EAA4C,QAA5C,EAAsD,OAAtD;AAFA,CAAP,C;;;;;AAKC,6BAAYA,IAAZ,EAAwB;AAAA;;AAAA,6BAChB;AACJA,MAAAA,IAAI,EAAJA;AADI,KADgB;AAIvB;;;;;2GAEyBC,O;;;;;;;;uBAClB,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,IAAjB,uEAAsB;AAAA;AAAA;AAAA;AAAA;AAC1B,0BAAA,KAAI,CAACF,KAAL,CAAWG,MAAX,CAAkBC,UAAlB,CAA6BL,OAA7B;;AAD0B;AAAA,iCAEpB,KAAI,CAACC,KAAL,CAAWG,MAAX,CAAkBE,6BAAlB,CAAgD;AACpDC,4BAAAA,aAAa,EAAE,IADqC;AAEpDC,4BAAAA,eAAe,EAAE;AAFmC,2BAAhD,CAFoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAtB,G;;;;;;;;;;;;;;;;;;iCAS6B;AACnC,aAAO;AACLC,QAAAA,aAAa,EAAE,KAAKR,KAAL,CAAWS,MAAX,CAAkBD,aAD5B;AAELE,QAAAA,MAAM,EAAE,KAAKV,KAAL,CAAWG,MAAX,CAAkBQ,oBAAlB,CAAuCD;AAF1C,OAAP;AAID;;;qCAE4C;AAAA;;AAC3C,aAAO;AACLE,QAAAA,kBAAkB,EAAE,4BAACb,OAAD;AAAA,iBAAa,MAAI,CAACc,mBAAL,CAAyBd,OAAzB,CAAb;AAAA;AADf,OAAP;AAGD;;;;EA5B6Be,kB","sourcesContent":["import { RcUIModuleV2 } from '@ringcentral-integration/core';\nimport { Module } from 'ringcentral-integration/lib/di';\n\nimport { Deps, ChooseAccountUI } from './EvChooseAccountUI.interface';\nimport {\n  EvChooseAccountUIFunctions,\n  EvChooseAccountUIProps,\n} from '../../interfaces/EvChooseAccountUI.interface';\n\n@Module({\n  name: 'ChooseAccountUI',\n  deps: ['EvClient', 'Locale', 'RouterInteraction', 'EvAuth', 'Block'],\n})\nclass EvChooseAccountUI extends RcUIModuleV2<Deps> implements ChooseAccountUI {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  async _onAccountItemClick(agentId: string) {\n    await this._deps.block.next(async () => {\n      this._deps.evAuth.setAgentId(agentId);\n      await this._deps.evAuth.openSocketWithSelectedAgentId({\n        syncOtherTabs: true,\n        retryOpenSocket: true,\n      });\n    });\n  }\n\n  getUIProps(): EvChooseAccountUIProps {\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      agents: this._deps.evAuth.authenticateResponse.agents,\n    };\n  }\n\n  getUIFunctions(): EvChooseAccountUIFunctions {\n    return {\n      onAccountItemClick: (agentId) => this._onAccountItemClick(agentId),\n    };\n  }\n}\nexport { EvChooseAccountUI };\n"],"file":"EvChooseAccountUI.js"}