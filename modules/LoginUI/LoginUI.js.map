{"version":3,"sources":["modules/LoginUI/LoginUI.ts"],"names":["LoginUI","name","deps","dep","optional","props","currentLocale","_deps","locale","disabled","oAuth","oAuthReady","rateLimiter","throttling","connectivityMonitor","connectivity","showSpinner","auth","ready","loginStatus","loggingIn","loggingOut","beforeLogout","loggedIn","onLoginButtonClick","openOAuthPage","RcUIModuleV2"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;IAuBaA,O,WAXZ,gBAAO;AACNC,EAAAA,IAAI,EAAE,SADA;AAENC,EAAAA,IAAI,EAAE,CACJ,MADI,EAEJ,qBAFI,EAGJ,QAHI,EAIJ,OAJI,EAKJ,aALI,EAMJ;AAAEC,IAAAA,GAAG,EAAE,gBAAP;AAAyBC,IAAAA,QAAQ,EAAE;AAAnC,GANI;AAFA,CAAP,C;;;;;AAYC,mBAAYF,IAAZ,EAAqB;AAAA;;AAAA,6BACb;AACJA,MAAAA,IAAI,EAAJA;AADI,KADa;AAIpB;;;;+BAEUG,K,EAAwD;AACjE,aAAO;AACLC,QAAAA,aAAa,EAAE,KAAKC,KAAL,CAAWC,MAAX,CAAkBF,aAD5B;AAELG,QAAAA,QAAQ,EACN,CAAC,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,UAAlB,IACA,KAAKJ,KAAL,CAAWK,WAAX,CAAuBC,UADvB,IAEA,CAAC,KAAKN,KAAL,CAAWO,mBAAX,CAA+BC,YAL7B;AAMLC,QAAAA,WAAW,EACT,CAAC,KAAKT,KAAL,CAAWU,IAAX,CAAgBC,KAAjB,IACA,KAAKX,KAAL,CAAWU,IAAX,CAAgBE,WAAhB,KAAgCA,wBAAYC,SAD5C,IAEA,KAAKb,KAAL,CAAWU,IAAX,CAAgBE,WAAhB,KAAgCA,wBAAYE,UAF5C,IAGA,KAAKd,KAAL,CAAWU,IAAX,CAAgBE,WAAhB,KAAgCA,wBAAYG,YAH5C,IAIA,KAAKf,KAAL,CAAWU,IAAX,CAAgBE,WAAhB,KAAgCA,wBAAYI;AAXzC,OAAP;AAaD;;;qCAEgD;AAAA;;AAC/C,aAAO;AACLC,QAAAA,kBAAkB,EAAE,8BAAM;AACxB,UAAA,KAAI,CAACjB,KAAL,CAAWG,KAAX,CAAiBe,aAAjB;AACD;AAHI,OAAP;AAKD;;;;EA7BiDC,kB","sourcesContent":["import { Module } from '@ringcentral-integration/commons/lib/di';\nimport loginStatus from '@ringcentral-integration/commons/modules/Auth/loginStatus';\nimport {\n  RcUIModuleV2,\n  UIProps,\n  UIFunctions,\n} from '@ringcentral-integration/core';\n\nimport {\n  Deps,\n  LoginContainerProps,\n  LoginUIPanelProps,\n} from './LoginUI.interface';\n\n@Module({\n  name: 'LoginUI',\n  deps: [\n    'Auth',\n    'ConnectivityMonitor',\n    'Locale',\n    'OAuth',\n    'RateLimiter',\n    { dep: 'LoginUIOptions', optional: true },\n  ],\n})\nexport class LoginUI<T extends Deps = Deps> extends RcUIModuleV2<T> {\n  constructor(deps: T) {\n    super({\n      deps,\n    });\n  }\n\n  getUIProps(props: LoginContainerProps): UIProps<LoginUIPanelProps> {\n    return {\n      currentLocale: this._deps.locale.currentLocale,\n      disabled:\n        !this._deps.oAuth.oAuthReady ||\n        this._deps.rateLimiter.throttling ||\n        !this._deps.connectivityMonitor.connectivity,\n      showSpinner:\n        !this._deps.auth.ready ||\n        this._deps.auth.loginStatus === loginStatus.loggingIn ||\n        this._deps.auth.loginStatus === loginStatus.loggingOut ||\n        this._deps.auth.loginStatus === loginStatus.beforeLogout ||\n        this._deps.auth.loginStatus === loginStatus.loggedIn,\n    };\n  }\n\n  getUIFunctions(): UIFunctions<LoginUIPanelProps> {\n    return {\n      onLoginButtonClick: () => {\n        this._deps.oAuth.openOAuthPage();\n      },\n    };\n  }\n}\n"],"file":"LoginUI.js"}