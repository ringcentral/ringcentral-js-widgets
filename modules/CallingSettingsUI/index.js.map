{"version":3,"sources":["modules/CallingSettingsUI/index.js"],"names":["CallingSettingsUI","name","deps","dep","optional","callingSettings","brand","locale","webphone","routerInteraction","locationSearchable","options","_callingSettings","_brand","_locale","_webphone","_routerInteraction","fullName","currentLocale","callWithOptions","callWith","myLocation","ringoutPrompt","defaultRingoutPrompt","availableNumbers","disabled","sessions","length","showSpinner","onBackButtonClick","goBack","onSave","setData","ready","RcUIModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAaqBA,iB,WAXpB,gBAAO;AACNC,EAAAA,IAAI,EAAE,mBADA;AAENC,EAAAA,IAAI,EAAE,CACJ,iBADI,EAEJ,OAFI,EAGJ,QAHI,EAIJ;AAAEC,IAAAA,GAAG,EAAE,UAAP;AAAmBC,IAAAA,QAAQ,EAAE;AAA7B,GAJI,EAKJ,mBALI,EAMJ;AAAED,IAAAA,GAAG,EAAE,0BAAP;AAAmCC,IAAAA,QAAQ,EAAE;AAA7C,GANI;AAFA,CAAP,C;;;;;AAYC,mCAQG;AAAA;;AAAA,QAPDC,eAOC,QAPDA,eAOC;AAAA,QANDC,KAMC,QANDA,KAMC;AAAA,QALDC,MAKC,QALDA,MAKC;AAAA,QAJDC,QAIC,QAJDA,QAIC;AAAA,QAHDC,iBAGC,QAHDA,iBAGC;AAAA,QAFDC,kBAEC,QAFDA,kBAEC;AAAA,QADEC,OACF;;AAAA;;AACD,6GAAWA,OAAX;AACA,UAAKC,gBAAL,GAAwBP,eAAxB;AACA,UAAKQ,MAAL,GAAcP,KAAd;AACA,UAAKQ,OAAL,GAAeP,MAAf;AACA,UAAKQ,SAAL,GAAiBP,QAAjB;AACA,UAAKQ,kBAAL,GAA0BP,iBAA1B;AACA,UAAKC,kBAAL,GAA0BA,kBAA1B;AAPC;AAQF;;;;iCAYY;AACX,aAAO;AACLJ,QAAAA,KAAK,EAAE,KAAKO,MAAL,CAAYI,QADd;AAELC,QAAAA,aAAa,EAAE,KAAKJ,OAAL,CAAaI,aAFvB;AAGLC,QAAAA,eAAe,EAAE,KAAKP,gBAAL,CAAsBO,eAHlC;AAILC,QAAAA,QAAQ,EAAE,KAAKR,gBAAL,CAAsBQ,QAJ3B;AAKLC,QAAAA,UAAU,EAAE,KAAKT,gBAAL,CAAsBS,UAL7B;AAMLC,QAAAA,aAAa,EAAE,KAAKV,gBAAL,CAAsBU,aANhC;AAOLC,QAAAA,oBAAoB,EAAE,KAAKX,gBAAL,CAAsBW,oBAPvC;AAQLC,QAAAA,gBAAgB,EAAE,KAAKZ,gBAAL,CAAsBY,gBARnC;AASLC,QAAAA,QAAQ,EAAE,CAAC,EAAE,KAAKV,SAAL,IAAkB,KAAKA,SAAL,CAAeW,QAAf,CAAwBC,MAAxB,GAAiC,CAArD,CATN;AAULC,QAAAA,WAAW,EAAE,KAAKA,WAVb;AAWLlB,QAAAA,kBAAkB,EAAE,KAAKA;AAXpB,OAAP;AAaD;;;qCAEgB;AAAA;;AACf,aAAO;AACLmB,QAAAA,iBAAiB,EAAE;AAAA,iBAAM,MAAI,CAACb,kBAAL,CAAwBc,MAAxB,EAAN;AAAA,SADd;AAELC,QAAAA,MAAM,EAAE;AAAA,cAAGX,QAAH,SAAGA,QAAH;AAAA,cAAaC,UAAb,SAAaA,UAAb;AAAA,cAAyBC,aAAzB,SAAyBA,aAAzB;AAAA,iBAA6C,MAAI,CAACV,gBAAL,CAAsBoB,OAAtB,CAA8B;AACjFZ,YAAAA,QAAQ,EAARA,QADiF;AAEjFC,YAAAA,UAAU,EAAVA,UAFiF;AAGjFC,YAAAA,aAAa,EAAbA;AAHiF,WAA9B,EAIlD,IAJkD,CAA7C;AAAA;AAFH,OAAP;AAQD;;;wBAnCiB;AAChB,aAAO,EACL,KAAKV,gBAAL,CAAsBqB,KAAtB,IACA,KAAKpB,MAAL,CAAYoB,KADZ,IAEA,KAAKnB,OAAL,CAAamB,KAFb,KAGC,CAAC,KAAKlB,SAAN,IAAmB,KAAKA,SAAL,CAAekB,KAHnC,KAIA,KAAKjB,kBAAL,CAAwBiB,KALnB,CAAP;AAOD;;;;EA3B4CC,uB","sourcesContent":["import { Module } from 'ringcentral-integration/lib/di';\nimport RcUIModule from '../../lib/RcUIModule';\n\n@Module({\n  name: 'CallingSettingsUI',\n  deps: [\n    'CallingSettings',\n    'Brand',\n    'Locale',\n    { dep: 'Webphone', optional: true },\n    'RouterInteraction',\n    { dep: 'CallingSettingsUIOptions', optional: true }\n  ]\n})\nexport default class CallingSettingsUI extends RcUIModule {\n  constructor({\n    callingSettings,\n    brand,\n    locale,\n    webphone,\n    routerInteraction,\n    locationSearchable,\n    ...options\n  }) {\n    super({ ...options });\n    this._callingSettings = callingSettings;\n    this._brand = brand;\n    this._locale = locale;\n    this._webphone = webphone;\n    this._routerInteraction = routerInteraction;\n    this.locationSearchable = locationSearchable;\n  }\n\n  get showSpinner() {\n    return !(\n      this._callingSettings.ready &&\n      this._brand.ready &&\n      this._locale.ready &&\n      (!this._webphone || this._webphone.ready) &&\n      this._routerInteraction.ready\n    );\n  }\n\n  getUIProps() {\n    return {\n      brand: this._brand.fullName,\n      currentLocale: this._locale.currentLocale,\n      callWithOptions: this._callingSettings.callWithOptions,\n      callWith: this._callingSettings.callWith,\n      myLocation: this._callingSettings.myLocation,\n      ringoutPrompt: this._callingSettings.ringoutPrompt,\n      defaultRingoutPrompt: this._callingSettings.defaultRingoutPrompt,\n      availableNumbers: this._callingSettings.availableNumbers,\n      disabled: !!(this._webphone && this._webphone.sessions.length > 0),\n      showSpinner: this.showSpinner,\n      locationSearchable: this.locationSearchable,\n    };\n  }\n\n  getUIFunctions() {\n    return {\n      onBackButtonClick: () => this._routerInteraction.goBack(),\n      onSave: ({ callWith, myLocation, ringoutPrompt }) => this._callingSettings.setData({\n        callWith,\n        myLocation,\n        ringoutPrompt,\n      }, true),\n    };\n  }\n}\n"],"file":"index.js"}