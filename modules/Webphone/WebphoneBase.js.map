{"version":3,"file":"WebphoneBase.js","names":["_core","require","_utils","_events","_ringcentralWebPhone","_interopRequireDefault","_trackEvents","_SipInstanceManager","_di","_proxify","_AudioHelper","_incoming","_outgoing","_connectionStatus","_events2","_webphoneErrors","_webphoneHelper","_dec","_dec2","_dec3","_dec4","_dec5","_dec6","_class","_class2","_descriptor","_descriptor2","_descriptor3","_descriptor4","_descriptor5","_descriptor6","e","__esModule","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_regenerator","Symbol","n","iterator","toStringTag","i","c","prototype","Generator","u","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","w","m","_regeneratorDefine","_invoke","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_initializerDefineProperty","initializer","_classCallCheck","_defineProperties","key","_createClass","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_superPropGet","_get","get","_superPropBase","hasOwnProperty","_inherits","_setPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","DEFAULT_AUDIO","exports","AUTO_RETRIES_DELAY","RECOVER_DEBOUNCE_THRESHOLD","INACTIVE_SLEEP_DELAY","registerErrors","webphoneErrors","sipProvisionError","webphoneCountOverLimit","webphoneForbidden","requestTimeout","internalServerError","serverTimeout","unknownError","connectFailed","provisionUpdate","serverConnecting","WebphoneBase","Module","name","deps","dep","optional","track","trackEvents","webRTCRegistration","computed","that","ready","_deps","audioSettings","ringtoneVolume","supportDevices","ringtoneDeviceId","outputDeviceId","_that$_deps$tabManage","_that$_deps$tabManage2","tabManager","active","_RcModuleV","_deps$webphoneOptions","_deps$webphoneOptions2","_this","enableCache","storageKey","_reconnectDelays","_disconnectOnInactive","_activeWebphoneKey","_webphoneInstanceKey","_webphone","_sipInstanceManager","_remoteVideo","_localVideo","_sipInstanceId","_connectTimeout","_isFirstRegister","_reconnectAfterSessionEnd","_disconnectInactiveAfterSessionEnd","_eventEmitter","EventEmitter","_stopWebphoneUserAgentPromise","_removedWebphoneAtBeforeUnload","webphoneOptions","disconnectOnInactive","concat","prefix","SipInstanceManager","_setConnectionStatus","status","connectionStatus","_setStateOnConnectError","errorCode","statusCode","connectError","device","_setStateOnConnectFailed","_setStateOnConnect","connecting","connectRetryCounts","_setStateOnReconnect","reconnecting","_setStateOnRegistered","connected","_setStateOnUnregistered","disconnected","_setStateWhenUnregisteredOnInactive","inactive","_setStoreOnDisconnect","disconnecting","_setDevice","_setRetryCounts","retryCounts","data","incomingAudioFile","incomingAudioDataUrl","outgoingAudioFile","outgoingAudioDataUrl","_setRingtoneIntoStorage","_setIncomingAudioIntoStorage","fileName","dataUrl","_resetIncomingAudio","_setOutgoingAudioIntoStorage","_resetOutgoingAudio","_prepareVideoElement","document","createElement","id","setAttribute","muted","body","appendChild","volume","callVolume","setSinkId","_destroyVideoElement","remove","_initModule2","_callee","_this2","_context","window","readyState","addEventListener","originalSessions","_disconnect","setTimeout","connect","force","skipConnectDelay","skipDLCheck","setInstanceInactive","auth","endpointId","_removeCurrentInstanceFromActiveWebphone","_createOtherWebphoneInstanceListener","_initModule","onInitOnce","_this3","addBeforeLogoutHandler","_callee2","_context2","watch","shouldUpdateRingtoneVolume","userAgent","audioHelper","setVolume","shouldSetSinkId","shouldSetRingtoneSinkId","setDeviceId","shouldTriggerOnTabActive","_this3$_deps$tabManag","_this3$_deps$tabManag2","_onTabActive","_this$_deps$tabManage","_this$_deps$tabManage2","_shouldInit","loggedIn","appFeatures","extensionFeatures","numberValidate","storage","pending","_shouldReset","_sipProvision2","_callee3","response","_context3","client","service","platform","post","sipInfo","transport","json","_sipProvision","_fetchDL2","_callee4","devices","phoneLines","_context4","account","extension","list","records","_fetchDL","_removeWebphone2","_callee5","_t","_context5","_waitUnregistered","stop","console","error","removeAllListeners","isConnected","disconnect","reconnectTimer","clearTimeout","undefined","__clearSwitchBackTimer","stopAudio","_removeWebphone","reject","timeout","once","_createWebphone2","_callee6","provisionData","_this$_deps$webphoneO","_this$_deps$webphoneO2","_this4","_context6","getInstanceId","RingCentralWebphone","appKey","appName","removeNonISO8859Chars","appVersion","uuid","logLevel","webphoneLogLevel","enabled","media","remote","local","enableQos","isChrome","enableMidLinesInSDP","isEnableMidLinesInSDP","instanceId","autoStop","webphoneSDKOptions","WebphoneAudioHelper","loadAudio","on","_onWebphoneRegistered","log","_onWebphoneUnregistered","cause","message","isSipErrorCode","status_code","_onConnectError","session","_onInvite","alert","warning","allowDuplicates","reason","ttl","_createWebphone","_x","_connect2","_callee7","sipProvision","_t2","_context7","indexOf","fetchData","_connect","_waitStillTabActive2","_callee8","_context8","sleep","_waitStillTabActive","_isAvailableToConnect","_ref2","inactiveDisconnecting","_connect3","_callee9","_this$_deps$webphoneO3","_this5","_ref3","_ref3$force","_ref3$skipTimeout","skipTimeout","_ref3$skipConnectDela","_ref3$skipDLCheck","_ref3$skipTabActiveCh","skipTabActiveCheck","connectDelay","_args9","_t3","_context9","isBrowserSupport","browserNotSupported","noOutboundCallWithoutDL","checkDLError","_getConnectTimeoutTtl","Math","min","_onConnectError2","_callee0","_ref4","_context0","danger","payload","_hideConnectingAlert","isConnecting","_hideConnectFailedAlert","_x2","_hideRegisterErrorAlert","_setCurrentInstanceAsActiveWebphone","emit","EVENTS","webphoneRegistered","webphoneUnregistered","localStorage","setItem","activeWebphoneInstance","getItem","removeItem","_this6","_onStorageChangeEvent","_this$_deps$tabManage3","hidden","newValue","_disconnectToInactive","_disconnectToInactive2","_callee1","_context1","_makeWebphoneInactiveOnSessionsEmpty","_this$_deps$tabManage4","_onTabActive2","_callee10","_context10","alertIds","messages","len","map","dismiss","_hideConnectFailedAlert2","_callee11","_context11","_disconnect2","_callee12","_context12","_disconnect3","_callee13","_context13","_showAlert","_callee14","_context14","showAlert","incoming","incomingAudio","outgoing","outgoingAudio","_this$_webphone","_this$_webphone$userA","playOutgoing","playIncoming","_setOutgoingAudio","_callee15","_ref5","_context15","setOutgoingAudio","_x3","_resetOutgoingAudio2","_callee16","_context16","resetOutgoingAudio","_setIncomingAudio","_callee17","_ref6","_context17","setIncomingAudio","_x4","_resetIncomingAudio2","_callee18","_context18","resetIncomingAudio","_setRingtone","_callee19","_ref7","isIncomingDefault","isOutgoingDefault","_context19","defaultIncomingAudio","defaultOutgoingAudio","setRingtone","_x5","_this$_webphone$userA2","_this$_webphone2","sessions","Map","entries","isWebPhoneEnabled","userMedia","RcModuleV2","state","action","proxify"],"sources":["modules/Webphone/WebphoneBase.ts"],"sourcesContent":["import type CreateSipRegistrationResponse from '@rc-ex/core/lib/definitions/CreateSipRegistrationResponse';\nimport type SipRegistrationDeviceInfo from '@rc-ex/core/lib/definitions/SipRegistrationDeviceInfo';\nimport {\n  action,\n  computed,\n  RcModuleV2,\n  state,\n  storage,\n  track,\n  watch,\n  removeNonISO8859Chars,\n} from '@ringcentral-integration/core';\nimport type { ObjectMapValue } from '@ringcentral-integration/core/lib/ObjectMap';\nimport { sleep } from '@ringcentral-integration/utils';\nimport { EventEmitter } from 'events';\nimport type PhoneLinesInfo from 'ringcentral-client/build/definitions/PhoneLinesInfo';\nimport RingCentralWebphone from 'ringcentral-web-phone';\nimport { WebPhoneUserAgent } from 'ringcentral-web-phone/lib/userAgent';\n\nimport { trackEvents } from '../../enums/trackEvents';\nimport type { WebphoneSession } from '../../interfaces/Webphone.interface';\nimport { SipInstanceManager } from '../../lib/SipInstanceManager';\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\n\nimport { WebphoneAudioHelper } from './AudioHelper';\nimport type { Deps } from './Webphone.interface';\nimport defaultIncomingAudio from './audio/incoming.mp3';\nimport defaultOutgoingAudio from './audio/outgoing.mp3';\nimport { connectionStatus } from './connectionStatus';\nimport { EVENTS } from './events';\nimport { webphoneErrors } from './webphoneErrors';\nimport {\n  isBrowserSupport,\n  isChrome,\n  isEnableMidLinesInSDP,\n} from './webphoneHelper';\n\nexport const DEFAULT_AUDIO = 'default';\n\nconst AUTO_RETRIES_DELAY = [\n  0,\n  5 * 1000,\n  10 * 1000,\n  30 * 1000,\n  2 * 60 * 1000,\n  5 * 60 * 1000,\n  15 * 60 * 1000,\n  30 * 60 * 1000,\n];\n\nconst RECOVER_DEBOUNCE_THRESHOLD = 1000;\nconst INACTIVE_SLEEP_DELAY = 1000;\n\nconst registerErrors = [\n  webphoneErrors.sipProvisionError,\n  webphoneErrors.webphoneCountOverLimit,\n  webphoneErrors.webphoneForbidden,\n  webphoneErrors.requestTimeout,\n  webphoneErrors.internalServerError,\n  webphoneErrors.serverTimeout,\n  webphoneErrors.unknownError,\n  webphoneErrors.connectFailed,\n  webphoneErrors.provisionUpdate,\n  webphoneErrors.serverConnecting,\n];\n\n/**\n * @constructor\n * @description Web phone module to handle phone interaction with WebRTC.\n */\n@Module({\n  name: 'Webphone',\n  deps: [\n    'Auth',\n    'Alert',\n    'Client',\n    'NumberValidate',\n    'AppFeatures',\n    'ExtensionFeatures',\n    'Brand',\n    'RegionSettings',\n    'AudioSettings',\n    'Storage',\n    { dep: 'AvailabilityMonitor', optional: true },\n    { dep: 'TabManager', optional: true },\n    { dep: 'ContactMatcher', optional: true },\n    { dep: 'Prefix', optional: true },\n    { dep: 'WebphoneOptions', optional: true },\n  ],\n})\nexport class WebphoneBase extends RcModuleV2<Deps> {\n  protected _reconnectDelays = AUTO_RETRIES_DELAY;\n  protected _disconnectOnInactive: boolean;\n  protected _activeWebphoneKey: string;\n  protected _webphoneInstanceKey?: string;\n\n  _webphone?: RingCentralWebphone | null = null;\n  protected _sipInstanceManager: SipInstanceManager;\n  _remoteVideo?:\n    | (HTMLVideoElement & { setSinkId?: (id: string) => void })\n    | null = null;\n  _localVideo?: HTMLVideoElement | null = null;\n  protected _sipInstanceId?: string | null;\n\n  protected _connectTimeout?: NodeJS.Timeout | null = null;\n  protected _isFirstRegister = true;\n  protected _reconnectAfterSessionEnd?: { reason?: string | null } | null =\n    null;\n  protected _disconnectInactiveAfterSessionEnd = false;\n  protected _eventEmitter = new EventEmitter();\n  protected _stopWebphoneUserAgentPromise?: Promise<unknown> | null = null;\n  protected _removedWebphoneAtBeforeUnload = false;\n\n  constructor(deps: Deps) {\n    super({\n      deps,\n      enableCache: true,\n      storageKey: 'Webphone',\n    });\n    this._disconnectOnInactive =\n      deps.webphoneOptions?.disconnectOnInactive ?? false;\n    this._activeWebphoneKey = `${deps.prefix}-active-webphone-key`;\n\n    this._sipInstanceManager = new SipInstanceManager(\n      `${deps.prefix}-webphone-inactive-sip-instance`,\n    );\n  }\n\n  @state\n  connectionStatus: ObjectMapValue<typeof connectionStatus> =\n    connectionStatus.disconnected;\n\n  @state\n  connectRetryCounts = 0;\n\n  @state\n  errorCode?: string | null = null;\n\n  @state\n  statusCode?: number | null = null;\n\n  @state\n  device?: SipRegistrationDeviceInfo | null = null;\n\n  @action\n  _setConnectionStatus(status: ObjectMapValue<typeof connectionStatus>) {\n    this.connectionStatus = status;\n  }\n\n  @action\n  _setStateOnConnectError(errorCode?: string, statusCode?: number | null) {\n    this.connectionStatus = connectionStatus.connectError;\n    this.device = null;\n    if (errorCode) {\n      this.errorCode = errorCode;\n    }\n    if (statusCode) {\n      this.statusCode = statusCode;\n    }\n  }\n\n  @action\n  _setStateOnConnectFailed(errorCode?: string, statusCode?: number) {\n    this.connectionStatus = connectionStatus.connectFailed;\n    this.device = null;\n    if (errorCode) {\n      this.errorCode = errorCode;\n    }\n    if (statusCode) {\n      this.statusCode = statusCode;\n    }\n  }\n\n  @action\n  _setStateOnConnect() {\n    this.connectionStatus = connectionStatus.connecting;\n    this.device = null;\n    this.connectRetryCounts += 1;\n  }\n\n  @action\n  _setStateOnReconnect() {\n    this.connectionStatus = connectionStatus.reconnecting;\n    this.device = null;\n    this.connectRetryCounts += 1;\n  }\n\n  @track(trackEvents.webRTCRegistration)\n  @action\n  _setStateOnRegistered(device: SipRegistrationDeviceInfo) {\n    this.connectionStatus = connectionStatus.connected;\n    this.device = device;\n    this.errorCode = null;\n    this.statusCode = null;\n    this.connectRetryCounts = 0;\n  }\n\n  @action\n  _setStateOnUnregistered() {\n    this.connectionStatus = connectionStatus.disconnected;\n    this.device = null;\n    this.connectRetryCounts = 0;\n  }\n\n  @action\n  _setStateWhenUnregisteredOnInactive() {\n    this.connectionStatus = connectionStatus.inactive;\n    this.device = null;\n    this.connectRetryCounts = 0;\n  }\n\n  @action\n  _setStoreOnDisconnect() {\n    this.connectionStatus = connectionStatus.disconnecting;\n    this.device = null;\n  }\n\n  @action\n  _setDevice(device?: { id: string } | null) {\n    this.device = device;\n  }\n\n  @action\n  _setRetryCounts(retryCounts: number) {\n    this.connectRetryCounts = retryCounts;\n  }\n\n  get incomingAudioFile() {\n    return this.data.incomingAudioFile;\n  }\n\n  get incomingAudioDataUrl() {\n    return this.data.incomingAudioDataUrl;\n  }\n\n  get outgoingAudioFile() {\n    return this.data.outgoingAudioFile;\n  }\n\n  get outgoingAudioDataUrl() {\n    return this.data.outgoingAudioDataUrl;\n  }\n\n  @storage\n  @state\n  data: {\n    incomingAudioFile?: string | null;\n    incomingAudioDataUrl?: string | null;\n    outgoingAudioFile?: string | null;\n    outgoingAudioDataUrl?: string | null;\n  } = {\n    incomingAudioFile: DEFAULT_AUDIO,\n    incomingAudioDataUrl: null,\n    outgoingAudioFile: DEFAULT_AUDIO,\n    outgoingAudioDataUrl: null,\n  };\n\n  @action\n  _setRingtoneIntoStorage(\n    incomingAudioFile?: string | null,\n    incomingAudioDataUrl?: string | null,\n    outgoingAudioFile?: string | null,\n    outgoingAudioDataUrl?: string | null,\n  ) {\n    this.data.incomingAudioFile = incomingAudioFile;\n    this.data.incomingAudioDataUrl = incomingAudioDataUrl;\n    this.data.outgoingAudioFile = outgoingAudioFile;\n    this.data.outgoingAudioDataUrl = outgoingAudioDataUrl;\n  }\n\n  @action\n  _setIncomingAudioIntoStorage(fileName: string, dataUrl: string) {\n    this.data.incomingAudioFile = fileName;\n    this.data.incomingAudioDataUrl = dataUrl;\n  }\n\n  @action\n  _resetIncomingAudio() {\n    this.data.incomingAudioFile = DEFAULT_AUDIO;\n    this.data.incomingAudioDataUrl = null;\n  }\n\n  @action\n  _setOutgoingAudioIntoStorage(fileName: string, dataUrl: string) {\n    this.data.outgoingAudioFile = fileName;\n    this.data.outgoingAudioDataUrl = dataUrl;\n  }\n\n  @action\n  _resetOutgoingAudio() {\n    this.data.outgoingAudioFile = DEFAULT_AUDIO;\n    this.data.outgoingAudioDataUrl = null;\n  }\n\n  private _prepareVideoElement() {\n    this._remoteVideo = document.createElement('video');\n    this._remoteVideo.id = 'remoteVideo';\n    this._remoteVideo.setAttribute('hidden', 'hidden');\n    this._localVideo = document.createElement('video');\n    this._localVideo.id = 'localVideo';\n    this._localVideo.setAttribute('hidden', 'hidden');\n    this._localVideo.setAttribute('muted', 'muted');\n    this._localVideo.muted = true;\n\n    document.body.appendChild(this._remoteVideo);\n    document.body.appendChild(this._localVideo);\n\n    this._remoteVideo.volume = this._deps.audioSettings.callVolume;\n    if (this._deps.audioSettings.supportDevices) {\n      if (\n        this._remoteVideo.setSinkId &&\n        this._deps.audioSettings.outputDeviceId\n      ) {\n        this._remoteVideo.setSinkId(this._deps.audioSettings.outputDeviceId);\n      }\n    }\n  }\n\n  private _destroyVideoElement() {\n    if (this._remoteVideo) {\n      this._remoteVideo.remove();\n      this._remoteVideo = null;\n    }\n    if (this._localVideo) {\n      this._localVideo.remove();\n      this._localVideo = null;\n    }\n  }\n\n  override async _initModule() {\n    if (typeof window !== 'undefined' && typeof document !== 'undefined') {\n      if (document.readyState === 'loading') {\n        window.addEventListener('load', () => {\n          this._prepareVideoElement();\n        });\n      } else {\n        this._prepareVideoElement();\n      }\n      window.addEventListener('beforeunload', () => {\n        if (!this._webphone) {\n          return;\n        }\n        if (Object.keys(this.originalSessions).length > 0) {\n          return;\n        }\n        this._removedWebphoneAtBeforeUnload = true;\n        // disconnect webphone at beforeunload if there are not active sessions\n        this._disconnect();\n        // set timeout to reconnect web phone is before unload cancel\n        setTimeout(() => {\n          this._removedWebphoneAtBeforeUnload = false;\n          this.connect({\n            force: true,\n            skipConnectDelay: true,\n            skipDLCheck: true,\n          });\n        }, 4000);\n      });\n      window.addEventListener('pagehide', () => {\n        // mark current instance id as inactive, so app can reuse it after refresh\n        if (this._sipInstanceId) {\n          this._sipInstanceManager.setInstanceInactive(\n            this._sipInstanceId,\n            this._deps.auth.endpointId!,\n          );\n          this._sipInstanceId = null;\n        }\n        // disconnect if web phone is not disconnected at beforeunload\n        if (!this._removedWebphoneAtBeforeUnload) {\n          this._disconnect();\n        }\n        this._removeCurrentInstanceFromActiveWebphone();\n        this._destroyVideoElement();\n      });\n    }\n    this._createOtherWebphoneInstanceListener();\n    await super._initModule();\n  }\n\n  override onInitOnce() {\n    this._deps.auth.addBeforeLogoutHandler(async () => {\n      this._sipInstanceId = null;\n      await this._disconnect();\n    });\n    watch(\n      this,\n      () => this.shouldUpdateRingtoneVolume,\n      () => {\n        if (this.ready && this._webphone && this._webphone.userAgent) {\n          this._webphone.userAgent.audioHelper.setVolume(\n            this._deps.audioSettings.ringtoneVolume,\n          );\n        }\n      },\n    );\n    watch(\n      this,\n      () => this._deps.audioSettings.callVolume,\n      () => {\n        if (this.ready && this._remoteVideo) {\n          this._remoteVideo.volume = this._deps.audioSettings.callVolume;\n        }\n      },\n    );\n    watch(\n      this,\n      () => this.shouldSetSinkId,\n      () => {\n        if (\n          this.ready &&\n          this._deps.audioSettings.supportDevices &&\n          this._remoteVideo &&\n          this._remoteVideo.setSinkId\n        ) {\n          this._remoteVideo.setSinkId(this._deps.audioSettings.outputDeviceId);\n        }\n      },\n    );\n    watch(\n      this,\n      () => this.shouldSetRingtoneSinkId,\n      () => {\n        if (\n          this.ready &&\n          this._deps.audioSettings.supportDevices &&\n          this._webphone &&\n          this._webphone.userAgent &&\n          this._webphone.userAgent.audioHelper &&\n          // @ts-expect-error\n          this._webphone.userAgent.audioHelper.setDeviceId\n        ) {\n          // @ts-expect-error\n          this._webphone.userAgent.audioHelper.setDeviceId(\n            this._deps.audioSettings.ringtoneDeviceId,\n          );\n        }\n      },\n    );\n    watch(\n      this,\n      () => this.shouldTriggerOnTabActive,\n      () => {\n        if (\n          this.ready &&\n          this._deps.tabManager?.ready &&\n          this._deps.tabManager?.active\n        ) {\n          this._onTabActive();\n        }\n      },\n    );\n  }\n\n  @computed((that: WebphoneBase) => [\n    that.ready,\n    that._deps.audioSettings.ringtoneVolume,\n  ])\n  get shouldUpdateRingtoneVolume(): any[] {\n    return [this.ready, this._deps.audioSettings.ringtoneVolume];\n  }\n\n  @computed((that: WebphoneBase) => [\n    that.ready,\n    that._deps.audioSettings.supportDevices,\n    that._deps.audioSettings.ringtoneDeviceId,\n  ])\n  get shouldSetRingtoneSinkId(): any[] {\n    return [\n      this.ready,\n      this._deps.audioSettings.supportDevices,\n      this._deps.audioSettings.ringtoneDeviceId,\n    ];\n  }\n\n  @computed((that: WebphoneBase) => [\n    that.ready,\n    that._deps.audioSettings.supportDevices,\n    that._deps.audioSettings.outputDeviceId,\n  ])\n  get shouldSetSinkId(): any[] {\n    return [\n      this.ready,\n      this._deps.audioSettings.supportDevices,\n      this._deps.audioSettings.outputDeviceId,\n    ];\n  }\n\n  @computed((that: WebphoneBase) => [\n    that.ready,\n    that._deps.tabManager?.ready,\n    that._deps.tabManager?.active,\n  ])\n  get shouldTriggerOnTabActive(): any[] {\n    return [\n      this.ready,\n      this._deps.tabManager?.ready,\n      this._deps.tabManager?.active,\n    ];\n  }\n\n  override _shouldInit() {\n    return (\n      this._deps.auth.loggedIn &&\n      this._deps.appFeatures.ready &&\n      this._deps.extensionFeatures.ready &&\n      this._deps.numberValidate.ready &&\n      this._deps.audioSettings.ready &&\n      this._deps.storage.ready &&\n      (!this._deps.tabManager || this._deps.tabManager.ready) &&\n      this.pending\n    );\n  }\n\n  override _shouldReset() {\n    return (\n      (!this._deps.auth.loggedIn ||\n        !this._deps.appFeatures.ready ||\n        !this._deps.extensionFeatures.ready ||\n        !this._deps.numberValidate.ready ||\n        (!!this._deps.tabManager && !this._deps.tabManager.ready) ||\n        !this._deps.audioSettings.ready) &&\n      this.ready\n    );\n  }\n\n  @proxify\n  async _sipProvision(): Promise<CreateSipRegistrationResponse> {\n    const response = await this._deps.client.service\n      .platform()\n      .post('/restapi/v1.0/client-info/sip-provision', {\n        sipInfo: [{ transport: 'WSS' }],\n      });\n    return response.json();\n  }\n\n  async _fetchDL() {\n    const response = await this._deps.client\n      .account()\n      .extension()\n      .device()\n      .list();\n    const devices = response.records;\n    let phoneLines: PhoneLinesInfo[] = [];\n    devices?.forEach((device) => {\n      if (\n        !device.phoneLines ||\n        (device.phoneLines as PhoneLinesInfo[]).length === 0\n      ) {\n        return;\n      }\n      phoneLines = phoneLines.concat(device.phoneLines);\n    });\n    return phoneLines;\n  }\n\n  async _removeWebphone() {\n    if (!this._webphone || !this._webphone.userAgent) {\n      return;\n    }\n    this._stopWebphoneUserAgentPromise = this._waitUnregistered(\n      this._webphone.userAgent,\n    );\n    this._webphone.userAgent.stop();\n    try {\n      await this._stopWebphoneUserAgentPromise;\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      console.error(e);\n    }\n    this._stopWebphoneUserAgentPromise = null;\n    try {\n      this._webphone.userAgent.removeAllListeners();\n      this._webphone.userAgent.transport.removeAllListeners();\n      if (this._webphone.userAgent.transport.isConnected()) {\n        this._webphone.userAgent.transport.disconnect();\n      }\n      if (this._webphone.userAgent.transport.reconnectTimer) {\n        clearTimeout(this._webphone.userAgent.transport.reconnectTimer);\n        this._webphone.userAgent.transport.reconnectTimer = undefined;\n      }\n      if (this._webphone.userAgent.transport.__clearSwitchBackTimer) {\n        this._webphone.userAgent.transport.__clearSwitchBackTimer();\n      }\n      this.stopAudio();\n    } catch (e: any /** TODO: confirm with instanceof */) {\n      console.error(e);\n      // ignore clean listener error\n    }\n    this._webphone = null;\n  }\n\n  _waitUnregistered(userAgent: WebPhoneUserAgent) {\n    return new Promise<void>((resolve, reject) => {\n      const timeout = setTimeout(() => {\n        reject(new Error('unregistered timeout'));\n      }, 2000);\n\n      userAgent.once('unregistered', () => {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        resolve();\n      });\n    });\n  }\n\n  async _createWebphone(provisionData: CreateSipRegistrationResponse) {\n    await this._removeWebphone();\n    if (!this._sipInstanceId) {\n      this._sipInstanceId = this._sipInstanceManager.getInstanceId(\n        this._deps.auth.endpointId!,\n      );\n    }\n    this._webphone = new RingCentralWebphone(provisionData, {\n      appKey: this._deps.webphoneOptions.appKey,\n      appName: removeNonISO8859Chars(this._deps.webphoneOptions.appName),\n      appVersion: this._deps.webphoneOptions.appVersion,\n      uuid: this._deps.auth.endpointId,\n      logLevel: this._deps.webphoneOptions.webphoneLogLevel ?? 1, // error 0, warn 1, log: 2, debug: 3\n      audioHelper: {\n        enabled: true, // enables audio feedback when web phone is ringing or making a call\n      },\n      media: {\n        remote: this._remoteVideo,\n        local: this._localVideo,\n      },\n      enableQos: isChrome(),\n      enableMidLinesInSDP: isEnableMidLinesInSDP(),\n      instanceId: this._sipInstanceId, // reuse sip instance id to avoid 603 issue at reconnection\n      autoStop: false, // handle auto stop by this module, fix memory leak issue https://github.com/ringcentral/ringcentral-web-phone/pull/332\n      ...(this._deps.webphoneOptions.webphoneSDKOptions ?? {}),\n    });\n    // @ts-expect-error TS(2322): Type 'WebphoneAudioHelper' is not assignable to ty... Remove this comment to see the full error message\n    this._webphone.userAgent.audioHelper = new WebphoneAudioHelper({\n      enabled: true,\n    });\n    this.loadAudio();\n    this._webphone.userAgent.audioHelper.setVolume(\n      this._deps.audioSettings.ringtoneVolume,\n    );\n    // Webphone userAgent registered event\n    this._webphone.userAgent.on('registered', () => {\n      if (!this.connected) {\n        this._onWebphoneRegistered(provisionData);\n      }\n    });\n    this._webphone.userAgent.on('unregistered', (e) => {\n      console.log('web phone unregistered event', e);\n      this._onWebphoneUnregistered();\n    });\n    this._webphone.userAgent.on('registrationFailed', (response, cause) => {\n      console.error('Webphone Register Error:', response, cause);\n      // For 401\n      if (!response && cause === 'Connection Error') {\n        return;\n      }\n      const message = (response && response.data) || response;\n      if (\n        message &&\n        typeof message === 'string' &&\n        this._webphone!.userAgent.transport.isSipErrorCode(message)\n      ) {\n        // error is handled in webphone sdk;\n        return;\n      }\n      // don't handled in connection is disconnecting\n      if (this.disconnected || this.disconnecting) {\n        return;\n      }\n      let errorCode;\n      // limit logic:\n      /*\n       * Specialties of this flow are next:\n       *   6th WebRTC in another browser receives 6th ‘EndpointID’ and 1st ‘InstanceID’,\n       *   which has been given previously to the 1st ‘EndpointID’.\n       *   It successfully registers on WSX by moving 1st ‘EndpointID’ to a blocklist state.\n       *   When 1st WebRTC client re-registers on expiration timeout,\n       *   WSX defines that 1st ‘EndpointID’ is blocklisted and responds with ‘SIP/2.0 403 Forbidden,\n       *   instance id is intercepted by another registration’ and remove it from block list.\n       *   So if 1st WebRTC will send re-register again with the same ‘InstanceID’,\n       *   it will be accepted and 6th ‘EndpointID’ will be blocklisted.\n       *   (But the WebRTC client must logout on receiving SIP/2.0 403 Forbidden error and in case of login -\n       *   provision again via Platform API and receive new InstanceID)\n       */\n      const statusCode = response\n        ? response.statusCode || response.status_code\n        : null;\n      switch (statusCode) {\n        // Webphone account over limit\n        case 403:\n        case 603: {\n          errorCode = webphoneErrors.webphoneCountOverLimit;\n          break;\n        }\n        // Internal server error\n        case 500: {\n          errorCode = webphoneErrors.internalServerError;\n          break;\n        }\n        // Timeout\n        case 504: {\n          errorCode = webphoneErrors.serverTimeout;\n          break;\n        }\n        default: {\n          errorCode = webphoneErrors.unknownError;\n          break;\n        }\n      }\n      this._onConnectError({ errorCode, statusCode });\n    });\n    this._webphone.userAgent.on('invite', (session) => {\n      console.log('UA invite');\n      this._onInvite(session as WebphoneSession);\n    });\n    // this._webphone.userAgent.on('inviteSent', (session) => {\n    //   console.log('UA invite');\n    //   this._addSession(session as WebphoneSession);\n    // });\n    // sip provision expired\n    // TODO: should check that type issue in ringcentral-web-phone\n    // @ts-expect-error TS(2769): No overload matches this call.\n    this._webphone.userAgent.on('provisionUpdate', () => {\n      if (Object.keys(this.originalSessions).length === 0) {\n        this._deps.alert.warning({\n          message: webphoneErrors.provisionUpdate,\n          allowDuplicates: false,\n        });\n        this.connect({\n          force: true,\n          skipDLCheck: true,\n          skipConnectDelay: true,\n        });\n        return;\n      }\n      this._reconnectAfterSessionEnd = {\n        reason: webphoneErrors.provisionUpdate,\n      };\n    });\n    // websocket transport connecting event\n    this._webphone.userAgent.transport.on('connecting', () => {\n      // reconnecting event\n      console.log('web phone connecting event');\n      if (this.connected || this.connectError) {\n        this._deps.alert.warning({\n          message: webphoneErrors.serverConnecting,\n          allowDuplicates: false,\n        });\n        this._setStateOnReconnect();\n      }\n      this.stopAudio();\n    });\n    // Server connection closed event after 10 time retry with primary server and backup server\n    this._webphone.userAgent.transport.on('closed', () => {\n      console.log('web phone closed event');\n      this._setRetryCounts(20);\n      this._onConnectError({\n        errorCode: webphoneErrors.connectFailed,\n        ttl: 0,\n      });\n      this.stopAudio();\n    });\n    this._webphone.userAgent.transport.on('transportError', () => {\n      console.log('WebSocket transportError occurred');\n      this.stopAudio();\n    });\n    this._webphone.userAgent.transport.on('wsConnectionError', () => {\n      this._setConnectionStatus(connectionStatus.connectError);\n      this.stopAudio();\n    });\n    // Timeout to switch back to primary server\n    this._webphone.userAgent.transport.on('switchBackProxy', () => {\n      if (Object.keys(this.originalSessions).length === 0) {\n        this.connect({\n          skipConnectDelay: true,\n          force: true,\n          skipDLCheck: true,\n        });\n        return;\n      }\n      this._reconnectAfterSessionEnd = {\n        reason: null,\n      };\n    });\n  }\n\n  // eslint-disable-next-line\n  _onInvite(session: WebphoneSession) {\n    // override\n  }\n\n  @proxify\n  async _connect() {\n    if (!this._deps.auth.loggedIn) {\n      return;\n    }\n    let sipProvision;\n    try {\n      sipProvision = await this._sipProvision();\n    } catch (error: any) {\n      // TODO: should use instanceof to check that error type before use that\n      console.error(error, this.connectRetryCounts);\n      if (\n        error &&\n        error.message &&\n        error.message.indexOf('Feature [WebPhone] is not available') > -1\n      ) {\n        this._deps.extensionFeatures.fetchData();\n        return;\n      }\n      this._onConnectError({\n        errorCode: webphoneErrors.sipProvisionError,\n        statusCode: null,\n        ttl: 0,\n      });\n      return;\n    }\n    await this._createWebphone(sipProvision);\n  }\n\n  async _waitStillTabActive() {\n    if (!this._deps.tabManager || this._deps.tabManager.active) {\n      return;\n    }\n    await sleep(INACTIVE_SLEEP_DELAY);\n    await this._waitStillTabActive();\n  }\n\n  _isAvailableToConnect({ force }: { force: boolean }) {\n    if (!this.enabled || !this._deps.auth.loggedIn) {\n      return false;\n    }\n    // do not connect if it is connecting\n    // do not reconnect when user disconnected\n    if (\n      this.connecting ||\n      this.disconnecting ||\n      this.inactiveDisconnecting ||\n      this.reconnecting\n    ) {\n      return false;\n    }\n    // do not connect when connected unless force\n    if (!force && this.connected) {\n      return false;\n    }\n    return true;\n  }\n\n  /**\n   * connect a web phone.\n   */\n  @proxify\n  async connect({\n    force = false,\n    skipTimeout = true,\n    skipConnectDelay = false,\n    skipDLCheck = false,\n    skipTabActiveCheck = false,\n  } = {}) {\n    if (!isBrowserSupport()) {\n      this._setStateOnConnectError(webphoneErrors.browserNotSupported, null);\n      this._deps.alert.warning({\n        message: webphoneErrors.browserNotSupported,\n        ttl: 0,\n      });\n      return;\n    }\n    if (!this._isAvailableToConnect({ force })) {\n      return;\n    }\n    if (!skipTabActiveCheck) {\n      await this._waitStillTabActive();\n    }\n    if (!this._isAvailableToConnect({ force })) {\n      return;\n    }\n    // when last connect is connect error, use reconnect (will show connecting badge)\n    if (this.connectError || force) {\n      this._setStateOnReconnect();\n    } else {\n      this._setStateOnConnect();\n    }\n    const connectDelay = this._deps.webphoneOptions.connectDelay ?? 0;\n    if (!skipConnectDelay && connectDelay > 0) {\n      await sleep(connectDelay);\n    }\n    if (!skipDLCheck) {\n      try {\n        if (!this._deps.auth.loggedIn) {\n          return;\n        }\n        const phoneLines = await this._fetchDL();\n        if (phoneLines.length === 0) {\n          this._deps.alert.warning({\n            message: webphoneErrors.noOutboundCallWithoutDL,\n          });\n        }\n      } catch (error: any /** TODO: confirm with instanceof */) {\n        console.error('fetch DL failed', error);\n        this._deps.alert.warning({\n          message: webphoneErrors.checkDLError,\n          allowDuplicates: false,\n        });\n      }\n    }\n    if (this.disconnected || this.disconnecting || !this._deps.auth.loggedIn) {\n      return;\n    }\n    if (this._connectTimeout) {\n      clearTimeout(this._connectTimeout);\n    }\n    if (force || skipTimeout) {\n      await this._connect();\n      return;\n    }\n    this._connectTimeout = setTimeout(() => {\n      this._connectTimeout = null;\n      this._connect();\n    }, this._getConnectTimeoutTtl());\n  }\n\n  _getConnectTimeoutTtl() {\n    return this._reconnectDelays[\n      Math.min(this.connectRetryCounts, this._reconnectDelays.length - 1)\n    ];\n  }\n\n  async _onConnectError({\n    errorCode,\n    statusCode,\n    ttl,\n  }: {\n    errorCode?: string;\n    statusCode?: number | null;\n    ttl?: number;\n  }) {\n    if (statusCode === 403 && this._sipInstanceId) {\n      // recreate sip instance id if server send 403\n      this._sipInstanceId = null;\n    }\n    if (\n      this.connectRetryCounts > 2 ||\n      this.reconnecting ||\n      this.connected ||\n      this.connectError\n    ) {\n      this._setStateOnConnectError(errorCode, statusCode);\n      this._deps.alert.danger({\n        message: errorCode!,\n        ttl,\n        allowDuplicates: false,\n        payload: {\n          statusCode,\n        },\n      });\n      this._hideConnectingAlert();\n      // Need to show unavailable badge and reconnect in background when third retry\n      // sleep before next reconnect for slient reconnect in background\n      await sleep(this._getConnectTimeoutTtl());\n      if (!this.connectError) {\n        return;\n      }\n      this.connect({ skipConnectDelay: true, force: true, skipDLCheck: true });\n      return;\n    }\n    this._setStateOnConnectFailed(errorCode, statusCode!);\n    if (this.connectRetryCounts === 1) {\n      this._deps.alert.warning({\n        message: errorCode!,\n        ttl,\n        allowDuplicates: false,\n        payload: {\n          statusCode,\n          isConnecting: true,\n        },\n      });\n      this._hideConnectFailedAlert();\n    }\n    this.connect({\n      skipDLCheck: true,\n      skipConnectDelay: true,\n      skipTimeout: false,\n    });\n  }\n\n  _onWebphoneRegistered(provisionData: CreateSipRegistrationResponse) {\n    this._setStateOnRegistered(provisionData.device!);\n    this._hideRegisterErrorAlert();\n    this._setCurrentInstanceAsActiveWebphone();\n    this._eventEmitter.emit(EVENTS.webphoneRegistered);\n  }\n\n  _onWebphoneUnregistered() {\n    this._removeCurrentInstanceFromActiveWebphone();\n    if (\n      this.disconnecting ||\n      this.inactiveDisconnecting ||\n      this.disconnected ||\n      this.inactive ||\n      !!this._stopWebphoneUserAgentPromise\n    ) {\n      // unregister by our app\n      return;\n    }\n    // unavailable, unregistered by some errors\n    this._setStateOnConnectError();\n    this._eventEmitter.emit(EVENTS.webphoneUnregistered);\n  }\n\n  _setCurrentInstanceAsActiveWebphone() {\n    if (this._disconnectOnInactive && this._deps.tabManager) {\n      localStorage.setItem(this._activeWebphoneKey, this._deps.tabManager.id);\n    }\n  }\n\n  _removeCurrentInstanceFromActiveWebphone() {\n    if (this._disconnectOnInactive && this._deps.tabManager) {\n      const activeWebphoneInstance = localStorage.getItem(\n        this._activeWebphoneKey,\n      );\n      if (activeWebphoneInstance === this._deps.tabManager.id) {\n        localStorage.removeItem(this._activeWebphoneKey);\n      }\n    }\n  }\n\n  _createOtherWebphoneInstanceListener() {\n    if (!this._disconnectOnInactive || !this._deps.tabManager) {\n      return;\n    }\n    window.addEventListener('storage', (e) => {\n      this._onStorageChangeEvent(e);\n    });\n  }\n\n  _onStorageChangeEvent(e: StorageEvent) {\n    // disconnect to inactive when other tabs' web phone connected\n    if (e.key === this._activeWebphoneKey) {\n      if (!this.connected || !document.hidden) {\n        return;\n      }\n      if (e.newValue === this._deps.tabManager?.id) {\n        return;\n      }\n      if (Object.keys(this.originalSessions).length === 0) {\n        this._disconnectToInactive();\n        return;\n      }\n      this._disconnectInactiveAfterSessionEnd = true;\n    }\n  }\n\n  async _disconnectToInactive() {\n    this._setConnectionStatus(connectionStatus.inactiveDisconnecting);\n    this._setDevice(null);\n    await this._removeWebphone();\n    this._setStateWhenUnregisteredOnInactive();\n  }\n\n  _makeWebphoneInactiveOnSessionsEmpty() {\n    if (\n      this._disconnectInactiveAfterSessionEnd &&\n      Object.keys(this.originalSessions).length === 0\n    ) {\n      this._disconnectInactiveAfterSessionEnd = false;\n      if (!document.hidden) {\n        // set to active\n        if (this._deps.tabManager?.active) {\n          this._setCurrentInstanceAsActiveWebphone();\n        }\n        return;\n      }\n      this._disconnectToInactive();\n    }\n  }\n\n  async _onTabActive() {\n    if (!this._disconnectOnInactive) {\n      return;\n    }\n    if (this.connected) {\n      this._setCurrentInstanceAsActiveWebphone();\n      return;\n    }\n    await sleep(RECOVER_DEBOUNCE_THRESHOLD);\n    if (!this._deps.tabManager!.active) {\n      return;\n    }\n    if (this.inactive) {\n      this.connect({\n        skipDLCheck: true,\n        force: true,\n        skipTabActiveCheck: true,\n      });\n    }\n  }\n\n  _hideConnectingAlert() {\n    const alertIds = this._deps.alert.messages\n      .filter((m) => {\n        for (let i = 0, len = registerErrors.length; i < len; i += 1) {\n          if (\n            m.message === registerErrors[i] &&\n            m.payload &&\n            m.payload.isConnecting === true\n          )\n            return true;\n        }\n        return false;\n      })\n      .map((m) => m.id);\n    if (alertIds.length) {\n      this._deps.alert.dismiss(alertIds);\n    }\n  }\n\n  async _hideConnectFailedAlert() {\n    const alertIds = this._deps.alert.messages\n      .filter((m) => {\n        for (let i = 0, len = registerErrors.length; i < len; i += 1) {\n          if (m.message === registerErrors[i] && !m.payload.isConnecting)\n            return true;\n        }\n        return false;\n      })\n      .map((m) => m.id);\n    if (alertIds.length) {\n      this._deps.alert.dismiss(alertIds);\n    }\n  }\n\n  _hideRegisterErrorAlert() {\n    const alertIds = this._deps.alert.messages\n      .filter((m) => {\n        for (let i = 0, len = registerErrors.length; i < len; i += 1) {\n          if (m.message === registerErrors[i]) return true;\n        }\n        return false;\n      })\n      .map((m) => m.id);\n    if (alertIds.length) {\n      this._deps.alert.dismiss(alertIds);\n    }\n  }\n\n  async _disconnect() {\n    if (this.disconnected || this.disconnecting) {\n      return;\n    }\n    if (this._connectTimeout) {\n      clearTimeout(this._connectTimeout);\n    }\n    this._setStoreOnDisconnect();\n    if (this._webphone) {\n      await this._removeWebphone();\n    }\n    this._setStateOnUnregistered();\n  }\n\n  @proxify\n  async disconnect() {\n    this._sipInstanceId = null;\n    await this._disconnect();\n  }\n\n  /**\n   * Inform user what is happening with webphone,\n   * this will be invoked when webphone itself run into error situation\n   */\n  @proxify\n  async showAlert() {\n    if (!this.errorCode) {\n      return;\n    }\n    this._deps.alert.danger({\n      message: this.errorCode,\n      allowDuplicates: false,\n      payload: {\n        statusCode: this.statusCode,\n      },\n    });\n  }\n\n  loadAudio() {\n    if (\n      this._webphone &&\n      this._webphone.userAgent &&\n      this._webphone.userAgent.audioHelper\n    ) {\n      this._webphone.userAgent.audioHelper.loadAudio({\n        incoming: this.incomingAudio,\n        outgoing: this.outgoingAudio,\n      });\n      // @ts-expect-error\n      this._webphone.userAgent.audioHelper.setDeviceId(\n        this._deps.audioSettings.ringtoneDeviceId,\n      );\n    }\n  }\n\n  stopAudio() {\n    if (this._webphone?.userAgent?.audioHelper) {\n      this._webphone.userAgent.audioHelper.playOutgoing(false);\n      this._webphone.userAgent.audioHelper.playIncoming(false);\n    }\n  }\n\n  @proxify\n  async setOutgoingAudio({\n    fileName,\n    dataUrl,\n  }: {\n    fileName: string;\n    dataUrl: string;\n  }) {\n    // TODO: validate filePath?\n    this._setOutgoingAudioIntoStorage(fileName, dataUrl);\n    this.loadAudio();\n  }\n\n  @proxify\n  async resetOutgoingAudio() {\n    this._resetOutgoingAudio();\n    this.loadAudio();\n  }\n\n  @proxify\n  async setIncomingAudio({\n    fileName,\n    dataUrl,\n  }: {\n    fileName: string;\n    dataUrl: string;\n  }) {\n    // TODO: validate filePath?\n    this._setIncomingAudioIntoStorage(fileName, dataUrl);\n    this.loadAudio();\n  }\n\n  @proxify\n  async resetIncomingAudio() {\n    this._resetIncomingAudio();\n    this.loadAudio();\n  }\n\n  @proxify\n  async setRingtone({\n    incomingAudio,\n    incomingAudioFile,\n    outgoingAudio,\n    outgoingAudioFile,\n  }: {\n    incomingAudio: string;\n    incomingAudioFile: string;\n    outgoingAudio: string;\n    outgoingAudioFile: string;\n  }) {\n    const isIncomingDefault =\n      incomingAudioFile === DEFAULT_AUDIO &&\n      incomingAudio === defaultIncomingAudio;\n    const isOutgoingDefault =\n      outgoingAudioFile === DEFAULT_AUDIO &&\n      outgoingAudio === defaultOutgoingAudio;\n    this._setRingtoneIntoStorage(\n      isIncomingDefault ? DEFAULT_AUDIO : incomingAudioFile,\n      isIncomingDefault ? null : incomingAudio,\n      isOutgoingDefault ? DEFAULT_AUDIO : outgoingAudioFile,\n      isOutgoingDefault ? null : outgoingAudio,\n    );\n    this.loadAudio();\n  }\n\n  get originalSessions() {\n    return (this._webphone?.userAgent.sessions ?? {}) as {\n      [key: string]: WebphoneSession;\n    };\n  }\n\n  // for backward compatibility v1\n  get _sessions() {\n    return new Map(Object.entries(this.originalSessions));\n  }\n\n  get enabled() {\n    return this._deps.appFeatures.isWebPhoneEnabled;\n  }\n\n  get disconnecting() {\n    return this.connectionStatus === connectionStatus.disconnecting;\n  }\n\n  get inactiveDisconnecting() {\n    return this.connectionStatus === connectionStatus.inactiveDisconnecting;\n  }\n\n  get inactive() {\n    return this.connectionStatus === connectionStatus.inactive;\n  }\n\n  get connecting() {\n    return this.connectionStatus === connectionStatus.connecting;\n  }\n\n  get reconnecting() {\n    return this.connectionStatus === connectionStatus.reconnecting;\n  }\n\n  get connected() {\n    return this.connectionStatus === connectionStatus.connected;\n  }\n\n  get disconnected() {\n    return this.connectionStatus === connectionStatus.disconnected;\n  }\n\n  get connectFailed() {\n    return this.connectionStatus === connectionStatus.connectFailed;\n  }\n\n  get connectError() {\n    return this.connectionStatus === connectionStatus.connectError;\n  }\n\n  /*\n   * Together with `CallingSettings` module to check if webphone is\n   * Unavailable.\n   */\n  get isUnavailable() {\n    return (\n      this.ready &&\n      this._deps.auth.loggedIn &&\n      (!this._deps.audioSettings.userMedia ||\n        this.reconnecting ||\n        this.connectError ||\n        this.inactive)\n    );\n  }\n\n  get incomingAudio() {\n    // support turn off ringtone\n    if (this.incomingAudioDataUrl === '') {\n      return '';\n    }\n    return this.incomingAudioDataUrl || this.defaultIncomingAudio;\n  }\n\n  get outgoingAudio() {\n    return this.outgoingAudioDataUrl || this.defaultOutgoingAudio;\n  }\n\n  get defaultIncomingAudio() {\n    return defaultIncomingAudio;\n  }\n\n  get defaultOutgoingAudio() {\n    return defaultOutgoingAudio;\n  }\n\n  get defaultIncomingAudioFile() {\n    return DEFAULT_AUDIO;\n  }\n\n  get defaultOutgoingAudioFile() {\n    return DEFAULT_AUDIO;\n  }\n}\n"],"mappings":"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","ignoreList":[]}