{"version":3,"file":"ComposeTextUI.js","names":["_module","_interopRequireDefault","require","_formatNumber","_core","_dec","_dec2","_class","_class2","e","__esModule","asyncGeneratorStep","n","t","r","o","a","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_classCallCheck","TypeError","_defineProperties","length","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","l","keys","forEach","initializer","slice","reverse","reduce","ComposeTextUI","Module","name","deps","track","that","eventName","contactType","location","_RcUIModuleV","_super","_triggerEventTracking","regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","stop","triggerEventTracking","_x","_x2","getUIProps","_ref","inputExpandable","supportAttachment","_ref$supportEmoji","supportEmoji","_ref$useRecipientsInp","useRecipientsInputV2","autoFocusToField","_ref$showCustomPhoneL","showCustomPhoneLabel","isContentEmpty","_deps","composeText","messageText","attachments","brand","currentLocale","locale","sendButtonDisabled","ready","messageSender","idle","toNumbers","typingToNumber","connectivityMonitor","connectivity","rateLimiter","throttling","senderNumbers","senderNumbersList","senderNumber","outboundSMS","appFeatures","hasOutboundSMSPermission","searchContactList","contactSearch","sortedResult","showSpinner","hasSendMMSPermission","autoFocus","getUIFunctions","_ref2","_this","_ref2$formatContactPh","formatContactPhone","phoneNumber","formatNumber","areaCode","regionSettings","countryCode","maxExtensionLength","accountInfo","maxExtensionNumberLength","phoneTypeRenderer","phoneSourceNameRenderer","recipientsContactInfoRenderer","recipientsContactPhoneRenderer","send","_send","_callee2","text","responses","conversationId","_callee2$","_context2","sent","abrupt","messageStore","pushMessages","conversation","id","routerInteraction","push","concat","conversations","relateCorrespondentEntity","clean","t0","console","log","_x3","_x4","formatPhone","detectPhoneNumbers","_detectPhoneNumbers","_callee4","input","promises","results","detectedNumbers","_callee4$","_context4","split","map","_ref3","_callee3","item","isValid","_callee3$","_context3","trim","validatePhoneNumber","_x6","all","filter","addToNumber","_x5","searchContact","searchString","debouncedSearch","updateSenderNumber","_ref4","updateTypingToNumber","_this$_deps$composeTe","cleanTypingToNumber","_this$_deps$composeTe2","_this$_deps$composeTe3","removeToNumber","_this$_deps$composeTe4","updateMessageText","_this$_deps$composeTe5","addAttachments","_this$_deps$composeTe6","removeAttachment","_this$_deps$composeTe7","RcUIModuleV2","getOwnPropertyDescriptor","exports"],"sources":["modules/ComposeTextUI/ComposeTextUI.ts"],"sourcesContent":["import Module from '@ringcentral-integration/commons/lib/di/decorators/module';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport type { UIFunctions, UIProps } from '@ringcentral-integration/core';\nimport { RcUIModuleV2, track } from '@ringcentral-integration/core';\n\nimport type { ComposeTextPanelProps } from '../../components/ComposeTextPanel';\n\nimport type {\n  ComposeTextUIComponentProps,\n  Deps,\n} from './ComposeTextUI.interface';\n\n/**\n * TODO: check type correctness after migrating to @rx-ex for client\n */\n\n@Module({\n  name: 'ComposeTextUI',\n  deps: [\n    'Brand',\n    'ComposeText',\n    'ConnectivityMonitor',\n    'ContactSearch',\n    'Conversations',\n    'Locale',\n    'MessageSender',\n    'MessageStore',\n    'RateLimiter',\n    'RegionSettings',\n    'AppFeatures',\n    'RouterInteraction',\n    'AccountInfo',\n  ],\n})\nexport class ComposeTextUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  @track((that: ComposeTextView, eventName: string, contactType: string) => {\n    return [eventName, { contactType, location: 'SMS compose' }];\n  })\n  async triggerEventTracking(eventName: string, contactType: string) {\n    //\n  }\n\n  getUIProps({\n    inputExpandable,\n    supportAttachment,\n    supportEmoji = false,\n    useRecipientsInputV2 = false,\n    autoFocusToField,\n    showCustomPhoneLabel = false,\n  }: ComposeTextUIComponentProps): UIProps<ComposeTextPanelProps> {\n    const isContentEmpty =\n      this._deps.composeText.messageText.length === 0 &&\n      (!this._deps.composeText.attachments ||\n        this._deps.composeText.attachments.length === 0);\n    return {\n      brand: this._deps.brand.name,\n      currentLocale: this._deps.locale.currentLocale,\n      sendButtonDisabled:\n        !(this._deps.composeText.ready && this._deps.messageSender.idle) ||\n        isContentEmpty ||\n        (this._deps.composeText.toNumbers.length === 0 &&\n          this._deps.composeText.typingToNumber.length === 0) ||\n        !this._deps.connectivityMonitor.connectivity ||\n        this._deps.rateLimiter.throttling,\n      senderNumbers: this._deps.messageSender.senderNumbersList,\n      senderNumber: this._deps.composeText.senderNumber,\n      typingToNumber: this._deps.composeText.typingToNumber,\n      toNumbers: this._deps.composeText.toNumbers,\n      messageText: this._deps.composeText.messageText,\n      outboundSMS: this._deps.appFeatures.hasOutboundSMSPermission,\n      // @ts-expect-error TS(2322): Type '{ id: string; name: string; phoneNumber: str... Remove this comment to see the full error message\n      searchContactList: this._deps.contactSearch.sortedResult,\n      showSpinner: !(\n        this._deps.composeText.ready &&\n        this._deps.locale.ready &&\n        this._deps.messageSender.ready &&\n        this._deps.appFeatures.ready &&\n        this._deps.contactSearch.ready\n      ),\n      inputExpandable,\n      attachments: this._deps.composeText.attachments,\n      supportAttachment:\n        supportAttachment && this._deps.appFeatures.hasSendMMSPermission,\n      supportEmoji,\n      useRecipientsInputV2,\n      autoFocus: autoFocusToField,\n      showCustomPhoneLabel,\n    };\n  }\n\n  getUIFunctions({\n    formatContactPhone = (phoneNumber) =>\n      // @ts-expect-error TS(2322): Type 'string | null | undefined' is not assignable... Remove this comment to see the full error message\n      formatNumber({\n        phoneNumber,\n        areaCode: this._deps.regionSettings.areaCode,\n        countryCode: this._deps.regionSettings.countryCode,\n        maxExtensionLength: this._deps.accountInfo.maxExtensionNumberLength,\n      }),\n    phoneTypeRenderer,\n    phoneSourceNameRenderer,\n    recipientsContactInfoRenderer,\n    recipientsContactPhoneRenderer,\n  }: ComposeTextUIComponentProps): UIFunctions<ComposeTextPanelProps> {\n    return {\n      triggerEventTracking: (eventName: string, contactType: string) =>\n        this.triggerEventTracking(eventName, contactType),\n      send: async (text, attachments) => {\n        try {\n          const responses = await this._deps.composeText.send(\n            text,\n            attachments,\n          );\n          if (!responses || responses.length === 0) {\n            return;\n          }\n          // @ts-expect-error TS(2345): Argument of type Remove this comment to see the full error message\n          this._deps.messageStore.pushMessages(responses);\n          if (responses.length === 1) {\n            const conversationId =\n              responses[0] &&\n              // @ts-expect-error TS(2551): Property 'conversation' does not exist on type 'Ge... Remove this comment to see the full error message\n              responses[0].conversation &&\n              // @ts-expect-error TS(2551): Property 'conversation' does not exist on type 'Ge... Remove this comment to see the full error message\n              responses[0].conversation.id;\n            if (!conversationId) {\n              return;\n            }\n            this._deps.routerInteraction.push(\n              `/conversations/${conversationId}`,\n            );\n          } else {\n            this._deps.routerInteraction.push('/messages');\n          }\n          // @ts-expect-error TS(2345): Argument of type 'GetMessageInfoResponse[]' is not... Remove this comment to see the full error message\n          this._deps.conversations.relateCorrespondentEntity(responses);\n          this._deps.composeText.clean();\n          return;\n        } catch (err) {\n          console.log(err);\n        }\n      },\n      formatPhone: formatContactPhone,\n      formatContactPhone,\n      detectPhoneNumbers: async (input: string) => {\n        const promises = input.split(/,\\s*/g).map(async (item) => {\n          item = item.trim();\n          const isValid = await this._deps.composeText.validatePhoneNumber(\n            item,\n          );\n          return isValid ? item : '';\n        });\n        const results = await Promise.all(promises);\n        const detectedNumbers = results.filter((item) => !!item);\n        detectedNumbers.forEach((phoneNumber) => {\n          this._deps.composeText.addToNumber({\n            phoneNumber,\n          });\n        });\n        return detectedNumbers.length > 0;\n      },\n      searchContact: (searchString) =>\n        this._deps.contactSearch.debouncedSearch({ searchString }),\n      updateSenderNumber: ({ phoneNumber }) =>\n        this._deps.composeText.updateSenderNumber(phoneNumber),\n      updateTypingToNumber: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.updateTypingToNumber(...args),\n      cleanTypingToNumber: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.cleanTypingToNumber(...args),\n      // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n      addToNumber: (...args) => this._deps.composeText.addToNumber(...args),\n      removeToNumber: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.removeToNumber(...args),\n      updateMessageText: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.updateMessageText(...args),\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      recipientsContactInfoRenderer,\n      recipientsContactPhoneRenderer,\n      addAttachments: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.addAttachments(...args),\n      removeAttachment: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.removeAttachment(...args),\n    };\n  }\n}\n"],"mappings":"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","ignoreList":[]}