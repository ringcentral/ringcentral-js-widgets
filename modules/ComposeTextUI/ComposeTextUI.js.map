{"version":3,"file":"ComposeTextUI.js","names":["_module","_interopRequireDefault","require","_formatNumber","_core","_dec","_class","obj","__esModule","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","_createClass","protoProps","staticProps","prototype","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","res","call","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","ComposeTextUI","Module","name","deps","_RcUIModuleV","_super","getUIProps","_ref","inputExpandable","supportAttachment","_ref$useRecipientsInp","useRecipientsInputV2","isContentEmpty","_deps","composeText","messageText","attachments","brand","currentLocale","locale","sendButtonDisabled","ready","messageSender","idle","toNumbers","typingToNumber","connectivityMonitor","connectivity","rateLimiter","throttling","senderNumbers","senderNumbersList","senderNumber","outboundSMS","appFeatures","hasOutboundSMSPermission","searchContactList","contactSearch","sortedResult","showSpinner","getUIFunctions","_ref2","_this","_ref2$formatContactPh","formatContactPhone","phoneNumber","formatNumber","areaCode","regionSettings","countryCode","maxExtensionLength","accountInfo","maxExtensionNumberLength","phoneTypeRenderer","phoneSourceNameRenderer","recipientsContactInfoRenderer","recipientsContactPhoneRenderer","send","_send","regeneratorRuntime","mark","_callee","text","responses","conversationId","wrap","_callee$","_context","prev","next","sent","abrupt","messageStore","pushMessages","conversation","id","routerInteraction","push","concat","conversations","relateCorrespondentEntity","clean","t0","console","log","stop","_x","_x2","formatPhone","detectPhoneNumbers","_detectPhoneNumbers","_callee3","promises","results","detectedNumbers","_callee3$","_context3","split","map","_ref3","_callee2","item","isValid","_callee2$","_context2","validatePhoneNumber","_x4","all","filter","forEach","addToNumber","_x3","searchContact","searchString","debouncedSearch","updateSenderNumber","_ref4","updateTypingToNumber","_this$_deps$composeTe","cleanTypingToNumber","_this$_deps$composeTe2","_this$_deps$composeTe3","removeToNumber","_this$_deps$composeTe4","updateMessageText","_this$_deps$composeTe5","addAttachment","_this$_deps$composeTe6","removeAttachment","_this$_deps$composeTe7","RcUIModuleV2","exports"],"sources":["modules/ComposeTextUI/ComposeTextUI.ts"],"sourcesContent":["import Module from '@ringcentral-integration/commons/lib/di/decorators/module';\nimport { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport type { UIFunctions, UIProps } from '@ringcentral-integration/core';\nimport { RcUIModuleV2 } from '@ringcentral-integration/core';\n\nimport type { ComposeTextPanelProps } from '../../components/ComposeTextPanel';\nimport type {\n  ComposeTextUIComponentProps,\n  Deps,\n} from './ComposeTextUI.interface';\n\n/**\n * TODO: check type correctness after migrating to @rx-ex for client\n */\n\n@Module({\n  name: 'ComposeTextUI',\n  deps: [\n    'Brand',\n    'ComposeText',\n    'ConnectivityMonitor',\n    'ContactSearch',\n    'Conversations',\n    'Locale',\n    'MessageSender',\n    'MessageStore',\n    'RateLimiter',\n    'RegionSettings',\n    'AppFeatures',\n    'RouterInteraction',\n    'AccountInfo',\n  ],\n})\nexport class ComposeTextUI extends RcUIModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps,\n    });\n  }\n\n  getUIProps({\n    inputExpandable,\n    supportAttachment,\n    useRecipientsInputV2 = false,\n  }: ComposeTextUIComponentProps): UIProps<ComposeTextPanelProps> {\n    const isContentEmpty =\n      this._deps.composeText.messageText.length === 0 &&\n      (!this._deps.composeText.attachments ||\n        this._deps.composeText.attachments.length === 0);\n    return {\n      brand: this._deps.brand.name,\n      currentLocale: this._deps.locale.currentLocale,\n      sendButtonDisabled:\n        !(this._deps.composeText.ready && this._deps.messageSender.idle) ||\n        isContentEmpty ||\n        (this._deps.composeText.toNumbers.length === 0 &&\n          this._deps.composeText.typingToNumber.length === 0) ||\n        !this._deps.connectivityMonitor.connectivity ||\n        this._deps.rateLimiter.throttling,\n      senderNumbers: this._deps.messageSender.senderNumbersList,\n      senderNumber: this._deps.composeText.senderNumber,\n      typingToNumber: this._deps.composeText.typingToNumber,\n      toNumbers: this._deps.composeText.toNumbers,\n      messageText: this._deps.composeText.messageText,\n      outboundSMS: this._deps.appFeatures.hasOutboundSMSPermission,\n      // @ts-expect-error TS(2322): Type '{ id: string; name: string; phoneNumber: str... Remove this comment to see the full error message\n      searchContactList: this._deps.contactSearch.sortedResult,\n      showSpinner: !(\n        this._deps.composeText.ready &&\n        this._deps.locale.ready &&\n        this._deps.messageSender.ready &&\n        this._deps.appFeatures.ready &&\n        this._deps.contactSearch.ready\n      ),\n      inputExpandable,\n      attachments: this._deps.composeText.attachments,\n      supportAttachment,\n      useRecipientsInputV2,\n    };\n  }\n\n  getUIFunctions({\n    formatContactPhone = (phoneNumber) =>\n      // @ts-expect-error TS(2322): Type 'string | null | undefined' is not assignable... Remove this comment to see the full error message\n      formatNumber({\n        phoneNumber,\n        areaCode: this._deps.regionSettings.areaCode,\n        countryCode: this._deps.regionSettings.countryCode,\n        maxExtensionLength: this._deps.accountInfo.maxExtensionNumberLength,\n      }),\n    phoneTypeRenderer,\n    phoneSourceNameRenderer,\n    recipientsContactInfoRenderer,\n    recipientsContactPhoneRenderer,\n  }: ComposeTextUIComponentProps): UIFunctions<ComposeTextPanelProps> {\n    return {\n      send: async (text, attachments) => {\n        try {\n          const responses = await this._deps.composeText.send(\n            text,\n            attachments,\n          );\n          if (!responses || responses.length === 0) {\n            return;\n          }\n          // @ts-expect-error TS(2345): Argument of type Remove this comment to see the full error message\n          this._deps.messageStore.pushMessages(responses);\n          if (responses.length === 1) {\n            const conversationId =\n              responses[0] &&\n              // @ts-expect-error TS(2551): Property 'conversation' does not exist on type 'Ge... Remove this comment to see the full error message\n              responses[0].conversation &&\n              // @ts-expect-error TS(2551): Property 'conversation' does not exist on type 'Ge... Remove this comment to see the full error message\n              responses[0].conversation.id;\n            if (!conversationId) {\n              return;\n            }\n            this._deps.routerInteraction.push(\n              `/conversations/${conversationId}`,\n            );\n          } else {\n            this._deps.routerInteraction.push('/messages');\n          }\n          // @ts-expect-error TS(2345): Argument of type 'GetMessageInfoResponse[]' is not... Remove this comment to see the full error message\n          this._deps.conversations.relateCorrespondentEntity(responses);\n          this._deps.composeText.clean();\n          return;\n        } catch (err) {\n          console.log(err);\n        }\n      },\n      formatPhone: formatContactPhone,\n      formatContactPhone,\n      detectPhoneNumbers: async (input) => {\n        const promises = input.split(/,\\s*/g).map(async (item: any) => {\n          const isValid = await this._deps.composeText.validatePhoneNumber(\n            item,\n          );\n          return isValid ? item : undefined;\n        });\n        const results = await Promise.all(promises);\n        const detectedNumbers = results.filter((item) => !!item);\n        detectedNumbers.forEach((phoneNumber) => {\n          this._deps.composeText.addToNumber({\n            phoneNumber,\n          });\n        });\n        return detectedNumbers.length > 0;\n      },\n      searchContact: (searchString) =>\n        this._deps.contactSearch.debouncedSearch({ searchString }),\n      updateSenderNumber: ({ phoneNumber }) =>\n        this._deps.composeText.updateSenderNumber(phoneNumber),\n      updateTypingToNumber: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.updateTypingToNumber(...args),\n      cleanTypingToNumber: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.cleanTypingToNumber(...args),\n      // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n      addToNumber: (...args) => this._deps.composeText.addToNumber(...args),\n      removeToNumber: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.removeToNumber(...args),\n      updateMessageText: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.updateMessageText(...args),\n      phoneTypeRenderer,\n      phoneSourceNameRenderer,\n      recipientsContactInfoRenderer,\n      recipientsContactPhoneRenderer,\n      // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n      addAttachment: (...args) => this._deps.composeText.addAttachment(...args),\n      removeAttachment: (...args) =>\n        // @ts-expect-error TS(2556): A spread argument must either have a tuple type or... Remove this comment to see the full error message\n        this._deps.composeText.removeAttachment(...args),\n    };\n  }\n}\n"],"mappings":"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"}