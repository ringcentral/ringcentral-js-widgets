{"version":3,"file":"helper.js","names":["_formatNumber","require","_phoneNumber","formatContactPhoneNumber","_ref","_ref$phoneNumber","phoneNumber","countryCode","isMultipleSiteEnabled","siteCode","_ref$maxExtensionNumb","maxExtensionNumberLength","cleanedNumber","parseIncompletePhoneNumber","toString","isE164Number","isE164","formattedNumber","formatNumber","maxExtensionLength","exports"],"sources":["modules/ContactDetailsUI/helper.ts"],"sourcesContent":["import { formatNumber } from '@ringcentral-integration/commons/lib/formatNumber';\nimport {\n  isE164,\n  parseIncompletePhoneNumber,\n} from '@ringcentral-integration/phone-number';\n\ninterface FormatContactPhoneNumberParam {\n  phoneNumber: string;\n  countryCode: string;\n  isMultipleSiteEnabled: boolean;\n  siteCode?: string;\n  maxExtensionNumberLength?: number;\n}\n\nexport const formatContactPhoneNumber = ({\n  phoneNumber = '',\n  countryCode,\n  isMultipleSiteEnabled,\n  siteCode,\n  maxExtensionNumberLength = 6,\n}: FormatContactPhoneNumberParam) => {\n  if (!phoneNumber) {\n    return phoneNumber;\n  }\n  // if the cleaned phone number is not a E164 format\n  // we will show it directly, doesn't format it.\n  const cleanedNumber = parseIncompletePhoneNumber(phoneNumber.toString());\n  const isE164Number = isE164(cleanedNumber);\n  if (isE164Number) {\n    const formattedNumber = formatNumber({\n      phoneNumber,\n      countryCode,\n      maxExtensionLength: maxExtensionNumberLength,\n    });\n    return formattedNumber;\n  }\n  // if multi-site is enabled then we will try to remove site code with same site\n  if (isMultipleSiteEnabled && siteCode) {\n    const formattedNumber = formatNumber({\n      phoneNumber,\n      countryCode,\n      siteCode,\n      isMultipleSiteEnabled,\n      maxExtensionLength: maxExtensionNumberLength,\n    });\n    return formattedNumber;\n  }\n  return phoneNumber;\n};\n"],"mappings":";;;;;;;;;AAAA,IAAAA,aAAA,GAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AAaO,IAAME,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAAC,IAAA,EAMA;EAAA,IAAAC,gBAAA,GAAAD,IAAA,CALnCE,WAAW;IAAXA,WAAW,GAAAD,gBAAA,cAAG,EAAE,GAAAA,gBAAA;IAChBE,WAAW,GAAAH,IAAA,CAAXG,WAAW;IACXC,qBAAqB,GAAAJ,IAAA,CAArBI,qBAAqB;IACrBC,QAAQ,GAAAL,IAAA,CAARK,QAAQ;IAAAC,qBAAA,GAAAN,IAAA,CACRO,wBAAwB;IAAxBA,wBAAwB,GAAAD,qBAAA,cAAG,CAAC,GAAAA,qBAAA;EAE5B,IAAI,CAACJ,WAAW,EAAE;IAChB,OAAOA,WAAW;EACpB;EACA;EACA;EACA,IAAMM,aAAa,GAAG,IAAAC,uCAA0B,EAACP,WAAW,CAACQ,QAAQ,CAAC,CAAC,CAAC;EACxE,IAAMC,YAAY,GAAG,IAAAC,mBAAM,EAACJ,aAAa,CAAC;EAC1C,IAAIG,YAAY,EAAE;IAChB,IAAME,eAAe,GAAG,IAAAC,0BAAY,EAAC;MACnCZ,WAAW,EAAXA,WAAW;MACXC,WAAW,EAAXA,WAAW;MACXY,kBAAkB,EAAER;IACtB,CAAC,CAAC;IACF,OAAOM,eAAe;EACxB;EACA;EACA,IAAIT,qBAAqB,IAAIC,QAAQ,EAAE;IACrC,IAAMQ,gBAAe,GAAG,IAAAC,0BAAY,EAAC;MACnCZ,WAAW,EAAXA,WAAW;MACXC,WAAW,EAAXA,WAAW;MACXE,QAAQ,EAARA,QAAQ;MACRD,qBAAqB,EAArBA,qBAAqB;MACrBW,kBAAkB,EAAER;IACtB,CAAC,CAAC;IACF,OAAOM,gBAAe;EACxB;EACA,OAAOX,WAAW;AACpB,CAAC;AAACc,OAAA,CAAAjB,wBAAA,GAAAA,wBAAA"}