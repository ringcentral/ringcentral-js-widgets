{"version":3,"sources":["modules/RecentCallsV2/RecentCallsHelper.ts"],"names":["filterPhoneNumber","call","phoneNumber","from","to","extensionNumber","flattenToRecords","items","reduce","acc","records","concat","sortByTime","a","b","Date","startTime","getTime","dedup","calls","hash","cur","id"],"mappings":";;;;;;;;;;;AAOO,IAAMA,iBAAiB,GAC5B,SADWA,iBACX,CAACC,IAAD;AAAA,SACA;AAAA,QAAGC,WAAH,QAAGA,WAAH;AAAA,WACEA,WAAW,KAAKD,IAAI,CAACE,IAAL,CAAUD,WAA1B,IACAA,WAAW,KAAKD,IAAI,CAACG,EAAL,CAAQF,WADxB,IAEAA,WAAW,KAAKD,IAAI,CAACE,IAAL,CAAUE,eAF1B,IAGAH,WAAW,KAAKD,IAAI,CAACG,EAAL,CAAQC,eAJ1B;AAAA,GADA;AAAA,CADK;;;;AAQA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,KAAD;AAAA,SAC9BA,KAAK,CAACC,MAAN,CACE,UAACC,GAAD;AAAA,QAAQC,OAAR,SAAQA,OAAR;AAAA,WAAsBD,GAAG,CAACE,MAAJ,CAAWD,OAAX,CAAtB;AAAA,GADF,EAEE,EAFF,CAD8B;AAAA,CAAzB,C,CAMP;AACA;;;;;AACO,IAAME,UAAU,GAAG,SAAbA,UAAa,CACxBC,CADwB,EAExBC,CAFwB;AAAA,SAGrB,IAAIC,IAAJ,CAASD,CAAC,CAACE,SAAX,EAAsBC,OAAtB,KAAkC,IAAIF,IAAJ,CAASF,CAAC,CAACG,SAAX,EAAsBC,OAAtB,EAHb;AAAA,CAAnB;;;;AAKA,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,KAAD,EAA0B;AAC7C,MAAMC,IAA6B,GAAG,EAAtC;AACA,SAAOD,KAAK,CAACX,MAAN,CAAa,UAACC,GAAD,EAAMY,GAAN,EAAc;AAChC,QAAID,IAAI,CAACC,GAAG,CAACC,EAAL,CAAR,EAAkB,OAAOb,GAAP;AAClBW,IAAAA,IAAI,CAACC,GAAG,CAACC,EAAL,CAAJ,GAAe,IAAf;AACA,WAAOb,GAAG,CAACE,MAAJ,CAAWU,GAAX,CAAP;AACD,GAJM,EAIJ,EAJI,CAAP;AAKD,CAPM","sourcesContent":["import {\n  UserCallLogRecord,\n  UserCallLogResponse,\n} from '@rc-ex/core/definitions';\n\nimport { HistoryCall } from '../CallHistoryV2';\n\nexport const filterPhoneNumber =\n  (call: HistoryCall) =>\n  ({ phoneNumber }: { phoneNumber: string }) =>\n    phoneNumber === call.from.phoneNumber ||\n    phoneNumber === call.to.phoneNumber ||\n    phoneNumber === call.from.extensionNumber ||\n    phoneNumber === call.to.extensionNumber;\n\nexport const flattenToRecords = (items: UserCallLogResponse[]) =>\n  items.reduce(\n    (acc, { records }) => acc.concat(records),\n    [] as UserCallLogRecord[],\n  );\n\n// Sort by time in descending order\n// TODO: fix type optional in `@rc-ex/core/definitions`\nexport const sortByTime = (\n  a: { startTime?: number },\n  b: { startTime?: number },\n) => new Date(b.startTime).getTime() - new Date(a.startTime).getTime();\n\nexport const dedup = (calls: HistoryCall[]) => {\n  const hash: Record<string, boolean> = {};\n  return calls.reduce((acc, cur) => {\n    if (hash[cur.id]) return acc;\n    hash[cur.id] = true;\n    return acc.concat(cur);\n  }, []);\n};\n"],"file":"RecentCallsHelper.js"}