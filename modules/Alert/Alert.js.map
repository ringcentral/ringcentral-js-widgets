{"version":3,"file":"Alert.js","names":["uuid","_interopRequireWildcard","require","_core","_di","_proxify","_alertLevels","_dec","_class","_class2","_descriptor","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","_typeof","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","_objectWithoutProperties","source","excluded","target","_objectWithoutPropertiesLoose","i","getOwnPropertySymbols","sourceSymbolKeys","length","indexOf","propertyIsEnumerable","sourceKeys","keys","_initializerDefineProperty","property","descriptor","context","enumerable","configurable","writable","initializer","ownKeys","object","enumerableOnly","symbols","filter","sym","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","_createClass","protoProps","staticProps","_toPrimitive","String","input","hint","prim","Symbol","toPrimitive","res","Number","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","bind","__proto__","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","_getPrototypeOf","result","NewTarget","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","sham","Proxy","Boolean","valueOf","e","getPrototypeOf","_applyDecoratedDescriptor","decorators","slice","reverse","reduce","decorator","_initializerWarningHelper","Error","Alert","Module","name","deps","dep","optional","_RcModuleV","_super","_deps$alertOptions$tt","_deps$alertOptions","_deps$alertOptions$en","_deps$alertOptions2","_this","alertOptions","ttl","enableGlobalCache","enableTabSync","storageKey","_autoDismiss","now","Date","ids","messages","item","timestamp","map","id","dismiss","_alert","_ref","allowDuplicates","find","_ref2","message","level","onInit","_this$_deps$alertOpti","_this2","_deps","_ref3","setTimeout","_alert2","regeneratorRuntime","mark","_callee","_ref4","_this$_deps$alertOpti2","payload","_ref4$level","_ref4$ttl","_ref4$allowDuplicates","_ref4$loading","loading","_ref4$backdrop","backdrop","classes","onBackdropClick","_ref4$action","action","wrap","_callee$","_context","prev","next","alertLevels","v4","abrupt","stop","alert","_x","danger","options","warning","success","update","assign","_dismiss2","_callee2","_callee2$","_context2","_dismiss","_x2","_dismissAll2","_callee3","_callee3$","_context3","_dismissAll","dismissAll","dismissAllExpectSpecified","_ref5","_this3","specifiedAlertIds","specifiedAlertId","_ids","concat","RcModuleV2","globalStorage","state","proxify","exports"],"sources":["modules/Alert/Alert.ts"],"sourcesContent":["import * as uuid from 'uuid';\n\nimport {\n  action,\n  globalStorage,\n  RcModuleV2,\n  state,\n} from '@ringcentral-integration/core';\n\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\nimport type {\n  AlertItem,\n  AllowDuplicates,\n  Deps,\n  Options,\n} from './Alert.interface';\nimport type { AlertLevelType } from './alertLevels';\nimport { alertLevels } from './alertLevels';\n\n@Module({\n  name: 'Alert',\n  deps: ['GlobalStorage', { dep: 'AlertOptions', optional: true }],\n})\nexport class Alert extends RcModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps: {\n        ...deps,\n        alertOptions: {\n          ...deps.alertOptions,\n          ttl: deps.alertOptions?.ttl ?? 5000,\n        },\n      },\n      enableGlobalCache: deps.alertOptions?.enableTabSync ?? false,\n      storageKey: 'alert',\n    });\n  }\n\n  @globalStorage\n  @state\n  messages: AlertItem[] = [];\n\n  @action\n  protected _alert({ allowDuplicates, ...item }: AlertItem & AllowDuplicates) {\n    if (\n      !allowDuplicates &&\n      this.messages.find(\n        ({ message, level }) =>\n          item.message === message && item.level === level,\n      )\n    ) {\n      return;\n    }\n    this.messages.push(item);\n  }\n\n  override onInit() {\n    if (this._deps.alertOptions?.enableTabSync) {\n      this.messages.forEach(({ ttl }) => {\n        setTimeout(this._autoDismiss, ttl + 10);\n      });\n    }\n  }\n\n  /**\n   * Scans the messages for expired ones and dismiss them.\n   */\n  _autoDismiss = () => {\n    const now = Date.now();\n    const ids = this.messages\n      .filter((item) => item.ttl > 0 && now - item.timestamp > item.ttl)\n      .map((item) => item.id);\n    if (ids.length) {\n      this.dismiss(ids);\n    }\n  };\n\n  /**\n   * Add alert message to the state.\n   */\n  @proxify\n  async alert({\n    message,\n    payload,\n    level = alertLevels.info as AlertLevelType,\n    ttl = this._deps.alertOptions!.ttl!,\n    allowDuplicates = true,\n    loading = false,\n    backdrop = false,\n    classes,\n    onBackdropClick,\n    action = this._deps.alertOptions?.action,\n  }: Options) {\n    const id = uuid.v4();\n    this._alert({\n      message,\n      payload,\n      level,\n      // when loading the ttl will be zero, make this never dismiss\n      ttl: loading ? 0 : ttl,\n      allowDuplicates,\n      backdrop,\n      classes,\n      onBackdropClick,\n      id,\n      timestamp: Date.now(),\n      loading,\n      action,\n    });\n    if (ttl > 0) {\n      setTimeout(this._autoDismiss, ttl + 10);\n    }\n    return id;\n  }\n\n  /**\n   * Add alert message of alertLevel \"danger\" to the state.\n   */\n  danger(options: Options) {\n    return this.alert({\n      ...options,\n      level: alertLevels.danger,\n    });\n  }\n\n  /**\n   * Add alert message of alertLevel \"warning\" to the state.\n   */\n  warning(options: Options) {\n    return this.alert({\n      ...options,\n      level: alertLevels.warning,\n    });\n  }\n\n  /**\n   * Add alert message of alertLevel \"info\" to the state.\n   */\n  info(options: Options) {\n    return this.alert({\n      ...options,\n      level: alertLevels.info,\n    });\n  }\n\n  /**\n   * Add alert message of alertLevel \"success\" to the state.\n   */\n  success(options: Options) {\n    return this.alert({\n      ...options,\n      level: alertLevels.success,\n    });\n  }\n\n  /**\n   * Update the message with given id.\n   */\n  @action\n  update(\n    id: string,\n    options: Partial<Pick<AlertItem, 'message' | 'loading' | 'action'>>,\n  ) {\n    const message = this.messages.find((item) => item.id === id);\n    if (message) {\n      Object.assign(message, options);\n    }\n  }\n\n  /**\n   * Dismiss the messages/message\n   */\n  @proxify\n  async dismiss(ids: string | string[]) {\n    this._dismiss(ids);\n  }\n\n  /**\n   * Dismiss all messages.\n   */\n  @proxify\n  async dismissAll() {\n    this._dismissAll();\n  }\n\n  /**\n   * Dismiss all other messages expect some specified message.\n   */\n  @action\n  dismissAllExpectSpecified({\n    specifiedAlertIds,\n  }: {\n    specifiedAlertIds: string[];\n  }) {\n    const messages: AlertItem[] = [];\n    specifiedAlertIds.forEach((specifiedAlertId) => {\n      const message = this.messages.find(\n        (item) => item.id === specifiedAlertId,\n      );\n      if (message) messages.push(message);\n    });\n    this.messages = messages;\n  }\n\n  @action\n  _dismiss(ids: string | string[]) {\n    const _ids = ([] as string[]).concat(ids);\n    this.messages = this.messages.filter(\n      (item) => _ids.indexOf(item.id) === -1,\n    );\n  }\n\n  @action\n  _dismissAll() {\n    this.messages = [];\n  }\n}\n"],"mappings":"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"}