{"version":3,"file":"Alert.js","names":["_core","require","_uuid","_di","_proxify","_alertLevels","_dec","_class","_class2","_descriptor","asyncGeneratorStep","n","t","e","r","o","a","c","i","u","value","done","Promise","resolve","then","_asyncToGenerator","arguments","apply","_next","_throw","_objectWithoutProperties","_objectWithoutPropertiesLoose","Object","getOwnPropertySymbols","length","indexOf","propertyIsEnumerable","call","hasOwnProperty","_initializerDefineProperty","l","defineProperty","enumerable","configurable","writable","initializer","ownKeys","keys","filter","getOwnPropertyDescriptor","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","_classCallCheck","TypeError","_defineProperties","key","_createClass","prototype","_toPrimitive","_typeof","Symbol","toPrimitive","String","Number","_inherits","create","constructor","_setPrototypeOf","setPrototypeOf","bind","__proto__","_createSuper","_isNativeReflectConstruct","_getPrototypeOf","s","Reflect","construct","_possibleConstructorReturn","_assertThisInitialized","ReferenceError","Boolean","valueOf","getPrototypeOf","_applyDecoratedDescriptor","slice","reverse","reduce","_initializerWarningHelper","Error","Alert","Module","name","deps","dep","optional","_RcModuleV","_super","_deps$alertOptions$tt","_deps$alertOptions","_deps$alertOptions$en","_deps$alertOptions2","_this","alertOptions","ttl","enableGlobalCache","enableTabSync","storageKey","_autoDismiss","now","Date","ids","messages","item","timestamp","map","id","dismiss","_alert","_ref","allowDuplicates","find","_ref2","message","level","onInit","_this$_deps$alertOpti","_this2","_deps","_ref3","setTimeout","_alert2","regeneratorRuntime","mark","_callee","_ref4","_this$_deps$alertOpti2","payload","_ref4$level","_ref4$ttl","_ref4$allowDuplicates","_ref4$loading","loading","_ref4$backdrop","backdrop","classes","onBackdropClick","_ref4$action","action","wrap","_callee$","_context","prev","next","alertLevels","info","v4","abrupt","stop","alert","_x","danger","options","warning","success","update","assign","_dismiss2","_callee2","_callee2$","_context2","_dismiss","_x2","_dismissAll2","_callee3","_callee3$","_context3","_dismissAll","dismissAll","dismissAllExpectSpecified","_ref5","_this3","specifiedAlertIds","specifiedAlertId","_ids","concat","RcModuleV2","globalStorage","state","proxify","exports"],"sources":["modules/Alert/Alert.ts"],"sourcesContent":["import {\n  action,\n  globalStorage,\n  RcModuleV2,\n  state,\n} from '@ringcentral-integration/core';\nimport { v4 } from 'uuid';\n\nimport { Module } from '../../lib/di';\nimport { proxify } from '../../lib/proxy/proxify';\n\nimport type {\n  AlertItem,\n  AllowDuplicates,\n  Deps,\n  Options,\n} from './Alert.interface';\nimport type { AlertLevelType } from './alertLevels';\nimport { alertLevels } from './alertLevels';\n\n@Module({\n  name: 'Alert',\n  deps: ['GlobalStorage', { dep: 'AlertOptions', optional: true }],\n})\nexport class Alert extends RcModuleV2<Deps> {\n  constructor(deps: Deps) {\n    super({\n      deps: {\n        ...deps,\n        alertOptions: {\n          ...deps.alertOptions,\n          ttl: deps.alertOptions?.ttl ?? 5000,\n        },\n      },\n      enableGlobalCache: deps.alertOptions?.enableTabSync ?? false,\n      storageKey: 'alert',\n    });\n  }\n\n  @globalStorage\n  @state\n  messages: AlertItem[] = [];\n\n  @action\n  protected _alert({ allowDuplicates, ...item }: AlertItem & AllowDuplicates) {\n    if (\n      !allowDuplicates &&\n      this.messages.find(\n        ({ message, level }) =>\n          item.message === message && item.level === level,\n      )\n    ) {\n      return;\n    }\n    this.messages.push(item);\n  }\n\n  override onInit() {\n    if (this._deps.alertOptions?.enableTabSync) {\n      this.messages.forEach(({ ttl }) => {\n        setTimeout(this._autoDismiss, ttl + 10);\n      });\n    }\n  }\n\n  /**\n   * Scans the messages for expired ones and dismiss them.\n   */\n  _autoDismiss = () => {\n    const now = Date.now();\n    const ids = this.messages\n      .filter((item) => item.ttl > 0 && now - item.timestamp > item.ttl)\n      .map((item) => item.id);\n    if (ids.length) {\n      this.dismiss(ids);\n    }\n  };\n\n  /**\n   * Add alert message to the state.\n   */\n  @proxify\n  async alert({\n    message,\n    payload,\n    level = alertLevels.info as AlertLevelType,\n    ttl = this._deps.alertOptions!.ttl!,\n    allowDuplicates = true,\n    loading = false,\n    backdrop = false,\n    classes,\n    onBackdropClick,\n    action = this._deps.alertOptions?.action,\n  }: Options) {\n    const id = v4();\n    this._alert({\n      message,\n      payload,\n      level,\n      // when loading the ttl will be zero, make this never dismiss\n      ttl: loading ? 0 : ttl,\n      allowDuplicates,\n      backdrop,\n      classes,\n      onBackdropClick,\n      id,\n      timestamp: Date.now(),\n      loading,\n      action,\n    });\n    if (ttl > 0) {\n      setTimeout(this._autoDismiss, ttl + 10);\n    }\n    return id;\n  }\n\n  /**\n   * Add alert message of alertLevel \"danger\" to the state.\n   */\n  danger(options: Options) {\n    return this.alert({\n      ...options,\n      level: alertLevels.danger,\n    });\n  }\n\n  /**\n   * Add alert message of alertLevel \"warning\" to the state.\n   */\n  warning(options: Options) {\n    return this.alert({\n      ...options,\n      level: alertLevels.warning,\n    });\n  }\n\n  /**\n   * Add alert message of alertLevel \"info\" to the state.\n   */\n  info(options: Options) {\n    return this.alert({\n      ...options,\n      level: alertLevels.info,\n    });\n  }\n\n  /**\n   * Add alert message of alertLevel \"success\" to the state.\n   */\n  success(options: Options) {\n    return this.alert({\n      ...options,\n      level: alertLevels.success,\n    });\n  }\n\n  /**\n   * Update the message with given id.\n   */\n  @action\n  update(\n    id: string,\n    options: Partial<Pick<AlertItem, 'message' | 'loading' | 'action'>>,\n  ) {\n    const message = this.messages.find((item) => item.id === id);\n    if (message) {\n      Object.assign(message, options);\n    }\n  }\n\n  /**\n   * Dismiss the messages/message\n   */\n  @proxify\n  async dismiss(ids: string | string[]) {\n    this._dismiss(ids);\n  }\n\n  /**\n   * Dismiss all messages.\n   */\n  @proxify\n  async dismissAll() {\n    this._dismissAll();\n  }\n\n  /**\n   * Dismiss all other messages expect some specified message.\n   */\n  @action\n  dismissAllExpectSpecified({\n    specifiedAlertIds,\n  }: {\n    specifiedAlertIds: string[];\n  }) {\n    const messages: AlertItem[] = [];\n    specifiedAlertIds.forEach((specifiedAlertId) => {\n      const message = this.messages.find(\n        (item) => item.id === specifiedAlertId,\n      );\n      if (message) messages.push(message);\n    });\n    this.messages = messages;\n  }\n\n  @action\n  _dismiss(ids: string | string[]) {\n    const _ids = ([] as string[]).concat(ids);\n    this.messages = this.messages.filter(\n      (item) => _ids.indexOf(item.id) === -1,\n    );\n  }\n\n  @action\n  _dismissAll() {\n    this.messages = [];\n  }\n}\n"],"mappings":"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","ignoreList":[]}