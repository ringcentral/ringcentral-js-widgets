{"version":3,"sources":["integration-test/spec-modules/dialingPlan.js"],"names":["mock","authzProfileBody","require","auth","client","dialingPlan","account","describe","timeout","mockClient","isLoginSuccess","clientHistoryRequest","afterEach","logout","it","restore","mockForLogin","console","error","skip","retries","expect","plans","length","equal"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;;;AACA;;IAAYA,I;;;;;;AAEZ,IAAMC,mBAAmBC,QAAQ,2BAAR,CAAzB;;kBAEe,UAACC,IAAD,EAAOC,MAAP,EAAeC,WAAf,EAA4BC,OAA5B,EAAwC;AACrDC,WAAS,cAAT,EAAyB,YAAY;AAAA;;AACnC,SAAKC,OAAL,CAAa,KAAb;AACAR,SAAKS,UAAL,CAAgBL,MAAhB;;AAEA,QAAIM,uBAAJ;AACA,QAAMC,uBAAuB,mCAAyB,mBAAzB,EAAoCP,MAApC,CAA7B;;AAEAQ,yEAAU;AAAA;AAAA;AAAA;AAAA;AACRT,mBAAKU,MAAL;AADQ;AAAA,qBAEF,6BAAc,CAAd,CAFE;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAV;;AAKAC,OAAG,yEAAH,6DAA8E;AAAA;AAAA;AAAA;AAAA;AAC5Ed,mBAAKe,OAAL;AACAf,mBAAKgB,YAAL;AAF4E;AAAA,qBAGrD,2BAAYb,IAAZ,EAAkBG,OAAlB,CAHqD;;AAAA;AAG5EI,4BAH4E;;AAI5E,kBAAI,CAACA,cAAL,EAAqB;AACnBO,wBAAQC,KAAR,CAAc,oDAAd,EAAoEZ,OAApE;AACA,sBAAKa,IAAL;AACD;AACD,oBAAKC,OAAL,CAAa,CAAb;AAR4E;AAAA,qBAStE,6BAAc,CAAd,CATsE;;AAAA;AAU5EC,qBAAOhB,YAAYiB,KAAZ,CAAkBC,MAAzB,EAAiCC,KAAjC,CAAuC,CAAvC;;AAV4E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA9E;AAYD,GAxBD;AAyBD,C","file":"dialingPlan.js","sourcesContent":["import { ensureLogin } from '../utils/HelpUtil';\nimport { waitInSeconds } from '../utils/WaitUtil';\nimport ClientHistoryRequest from '../utils/ClientHistoryRequest';\nimport * as mock from '../mock';\n\nconst authzProfileBody = require('../mock/data/authzProfile');\n\nexport default (auth, client, dialingPlan, account) => {\n  describe('DialingPlan:', function () {\n    this.timeout(20000);\n    mock.mockClient(client);\n\n    let isLoginSuccess;\n    const clientHistoryRequest = new ClientHistoryRequest(new Map(), client);\n\n    afterEach(async function () {\n      auth.logout();\n      await waitInSeconds(1);\n    });\n\n    it('Should load availableExtensions when there is ReadExtensions permission', async () => {\n      mock.restore();\n      mock.mockForLogin();\n      isLoginSuccess = await ensureLogin(auth, account);\n      if (!isLoginSuccess) {\n        console.error('Skip test case as failed to login with credential ', account);\n        this.skip();\n      }\n      this.retries(2);\n      await waitInSeconds(1);\n      expect(dialingPlan.plans.length).equal(3);\n    });\n  });\n};\n"]}