{"version":3,"file":"telephonySessionBuilder.js","names":["_dayjs","_interopRequireDefault","require","_Session","_uuid","_callDirections","_extensionInfo","_telephonySessions","e","__esModule","_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_classCallCheck","a","n","TypeError","_defineProperties","key","_createClass","i","_toPrimitive","toPrimitive","call","String","Number","makeTelephonySessionId","concat","uuidV4","exports","makePartyId","telephonySessionId","substring","makeWebphoneSessionId","makeVoiceCallToken","sequence","DEFAULT_DIRECTION","callDirection","outbound","DEFAULT_RECORD_STATUS","DEFAULT_PHONE_NUMBER","DEFAULT_EXTENSION_ID","extensionBody","id","toString","DEFAULT_SERVER_NAME","TelephonySessionBuilderConfig","disabledDefaultServerName","telephonySessionBuildersCache","clearTelephonySessionBuilders","TelephonySessionBuilder","initParams","undefined","_telephonySessionId","_phoneNumber","_direction","_sessionId","_partyStatus","_partyReason","_partyId","_fromNumberData","_toNumberData","_startTime","_isRecording","_muteStatus","_queueCall","_originType","_peerId","_conferenceRole","relatedWebphoneSession","_init","_ref","_ref$telephonySession","_ref$partyId","partyId","_ref$sessionId","sessionId","_ref$phoneNumber","phoneNumber","_ref$direction","direction","_ref$status","status","PartyStatusCode","proceeding","_ref$reason","reason","fromNumberData","toNumberData","startTime","_ref$isRecording","isRecording","_ref$muteStatus","muteStatus","_ref$queueCall","queueCall","_ref$originType","originType","peerId","conferenceRole","setRelatedWebphoneSession","webphoneSession","to","toNumber","from","fromNumber","setConnected","answered","setDisconnected","disconnected","setGone","gone","setReason","setHoldCall","hold","setMuteCall","setUnmuteCall","startRecord","stopRecord","setInboundCall","setOutboundCall","setNumber","setPeerId","getPeerId","setConferenceRole","role","setToNumberData","data","setFromNumberData","done","getSessionId","getPartyId","getTelephonySessionId","getStatus","get","name","extensionId","active","telephonySessionMessage","uuid","timestamp","dayjs","format","subscriptionId","body","activeCallId","serverId","eventTime","Date","accountId","parties","numberData","uiCallInfo","primary","type","code","mobilePickupData","ccMailboxes","sid","srvLvl","srvLvlExt","recordings","missedCall","standAlone","muted","origin","createTelephonySession"],"sources":["integration-test/mock/telephonySessionBuilder.ts"],"sourcesContent":["import dayjs from 'dayjs';\nimport { PartyStatusCode } from 'ringcentral-call-control/lib/Session';\nimport { v4 as uuidV4 } from 'uuid';\n\nimport { callDirection, type CallDirection } from '../../enums/callDirections';\n\nimport extensionBody from './data/extensionInfo.json';\nimport telephonySessionMessage from './data/telephonySessions.json';\n\n// \"s-a4a012b34c545z18b6f423f7fzf4d9960000\"\nexport const makeTelephonySessionId = () => `s-${uuidV4()}`;\n\n// \"p-a4a012b34c545z18b6f423f7fzf4d9960000-1\"\nexport const makePartyId = (telephonySessionId: string) =>\n  `p-${telephonySessionId.substring(2)}-1`;\n\n// \"e5c8acd0-dcc2-4767-b445-b0029bd8b85210.74.1.43-5070-b30665b0-599a-49b9-b\"\nexport const makeWebphoneSessionId = () => uuidV4();\n\n// \"conf_732d613461306438313238356331617a31376662656163336664377a3830633664303030304031302e37342e31332e3132393a35303730\"\nexport const makeVoiceCallToken = () => `conf_${uuidV4()}`;\n\n/**\n * Telephony session message boy //https://developers.ringcentral.com/api-reference/Extension-Telephony-Sessions-Event\n * supports:\n * 1. create different telephony status's session;\n * 2. update telephony status;\n * 3. custom sessionId, from, to, direction attribute;\n *\n * @class TelephonySession\n */\nexport type PhoneNumber = {\n  name: string;\n  phoneNumber: string;\n};\n\ntype PartyStatusCodeKeys = keyof typeof PartyStatusCode;\ntype recordingsProps = {\n  id?: string;\n  active?: boolean;\n};\n\ntype ConferenceRole = 'Host' | 'Participant';\n\ninterface PeerId {\n  telephonySessionId?: string;\n  partyId?: string;\n  sessionId?: string;\n}\n\nexport type Party = {\n  extensionId: string;\n  id: string;\n  direction: CallDirection;\n  to: NumberData;\n  from: NumberData;\n  uiCallInfo?: any;\n  status: {\n    code: (typeof PartyStatusCode)[PartyStatusCodeKeys];\n    reason: string;\n    mobilePickupData: {\n      ccMailboxes: string[];\n      to: string;\n      sid: string;\n      srvLvl: string;\n      srvLvlExt: string;\n    };\n    peerId?: PeerId;\n  };\n  recordings: recordingsProps[];\n  missedCall: boolean;\n  standAlone: boolean;\n  muted: boolean;\n  queueCall: boolean;\n  conferenceRole?: ConferenceRole;\n};\n\nexport type Origin = {\n  type: string;\n};\n\nexport type Body = {\n  sequence: number;\n  sessionId: string;\n  // TODO: in test env, we not mock this._presence.calls, so there not have the id data, so apply that here temporary\n  // apps/micro-phone/src/app/services/CallMonitor/CallMonitor.ts\n  activeCallId: string;\n  telephonySessionId: string;\n  serverId: string;\n  eventTime: string;\n  accountId: string;\n  parties: Party[];\n  origin: Origin;\n  extensionId: string;\n  recordings: recordingsProps[];\n};\n\nlet sequence = 10;\nconst DEFAULT_DIRECTION = callDirection.outbound;\nconst DEFAULT_RECORD_STATUS = false;\nexport const DEFAULT_PHONE_NUMBER = '+16501234567';\n\nconst DEFAULT_EXTENSION_ID = extensionBody.id.toString();\nexport const DEFAULT_SERVER_NAME = 'DEFAULT SERVER_NAME';\n\n/**\n * global config for TelephonySessionBuilder\n */\nexport const TelephonySessionBuilderConfig = {\n  disabledDefaultServerName: false,\n};\n\nexport interface TelephonySessionInterface {\n  uuid: string;\n  event: string;\n  timestamp: string;\n  subscriptionId: string;\n  ownerId: string;\n  body: Body;\n}\n\nexport interface NumberData {\n  extensionNumber?: string;\n  phoneNumber?: string;\n  name?: string;\n  extensionId?: string;\n}\n\nexport interface TelephonySessionBuilderParams {\n  telephonySessionId?: string;\n  partyId?: string;\n  sessionId?: string;\n  phoneNumber?: string;\n  direction?: CallDirection;\n  status?: PartyStatusCode;\n  fromNumberData?: NumberData;\n  toNumberData?: NumberData;\n  startTime?: string;\n  isRecording?: boolean;\n  muteStatus?: boolean;\n  queueCall?: boolean;\n  reason?: string;\n  originType?: string;\n  peerId?: PeerId;\n  conferenceRole?: ConferenceRole;\n}\n\nexport const telephonySessionBuildersCache: TelephonySessionBuilder[] = [];\nexport const clearTelephonySessionBuilders = () => {\n  telephonySessionBuildersCache.length = 0; // clear\n};\n\nclass TelephonySessionBuilder {\n  private _telephonySessionId!: string;\n  private _phoneNumber!: string;\n  private _direction!: CallDirection;\n  private _sessionId!: string;\n  private _partyStatus!: PartyStatusCode;\n  private _partyReason!: string;\n  private _partyId!: string;\n  private _fromNumberData?: NumberData;\n  private _toNumberData?: NumberData;\n  private _startTime?: string;\n  private _isRecording!: boolean;\n  private _muteStatus!: boolean;\n  private _queueCall!: boolean;\n  private _originType!: string;\n  private _peerId?: PeerId;\n  private _conferenceRole?: ConferenceRole;\n  relatedWebphoneSession: any;\n\n  constructor(initParams: TelephonySessionBuilderParams = {}) {\n    this._init(initParams);\n    telephonySessionBuildersCache.push(this);\n  }\n\n  _init({\n    telephonySessionId = makeTelephonySessionId(),\n    partyId = makePartyId(telephonySessionId),\n    sessionId = makeWebphoneSessionId(),\n    phoneNumber = DEFAULT_PHONE_NUMBER,\n    direction = DEFAULT_DIRECTION,\n    status = PartyStatusCode.proceeding,\n    reason = 'AttendedTransfer',\n    fromNumberData,\n    toNumberData,\n    startTime,\n    isRecording = DEFAULT_RECORD_STATUS,\n    muteStatus = false,\n    queueCall = false,\n    originType = 'Call',\n    peerId,\n    conferenceRole,\n  }: TelephonySessionBuilderParams) {\n    this._telephonySessionId = telephonySessionId;\n    this._partyId = partyId;\n    this._sessionId = sessionId;\n    this._phoneNumber = phoneNumber;\n    this._direction = direction;\n    this._partyStatus = status;\n    this._partyReason = reason;\n    this._fromNumberData = fromNumberData;\n    this._toNumberData = toNumberData;\n    this._startTime = startTime;\n    this._isRecording = isRecording;\n    this._muteStatus = muteStatus;\n    this._queueCall = queueCall;\n    this._originType = originType;\n    this._peerId = peerId;\n    this._conferenceRole = conferenceRole;\n  }\n\n  setRelatedWebphoneSession(webphoneSession: any) {\n    this.relatedWebphoneSession = webphoneSession;\n  }\n\n  direction(direction: CallDirection) {\n    this._direction = direction;\n    return this;\n  }\n\n  status(status: PartyStatusCode) {\n    this._partyStatus = status;\n    return this;\n  }\n  reason(reason: string) {\n    this._partyReason = reason;\n    return this;\n  }\n\n  to(toNumber: string) {\n    this._phoneNumber = toNumber;\n    return this;\n  }\n\n  from(fromNumber: string) {\n    this._phoneNumber = fromNumber;\n    return this;\n  }\n\n  sessionId(sessionId: string) {\n    this._sessionId = sessionId;\n    return this;\n  }\n\n  telephonySessionId(telephonySessionId: string) {\n    this._telephonySessionId = telephonySessionId;\n    return this;\n  }\n\n  partyId(partyId: string) {\n    this._partyId = partyId;\n    return this;\n  }\n\n  setConnected() {\n    return this.status(PartyStatusCode.answered);\n  }\n\n  setDisconnected() {\n    return this.status(PartyStatusCode.disconnected);\n  }\n\n  setGone() {\n    return this.status(PartyStatusCode.gone);\n  }\n  setReason() {\n    return this.reason('AttendedTransfer');\n  }\n\n  setHoldCall() {\n    return this.status(PartyStatusCode.hold);\n  }\n\n  setMuteCall() {\n    this._muteStatus = true;\n    return this;\n  }\n\n  setUnmuteCall() {\n    this._muteStatus = false;\n    return this;\n  }\n\n  startRecord() {\n    this._isRecording = true;\n    return this;\n  }\n\n  stopRecord() {\n    this._isRecording = false;\n    return this;\n  }\n\n  setInboundCall() {\n    return this.direction('Inbound');\n  }\n\n  setOutboundCall() {\n    return this.direction('Outbound');\n  }\n\n  setNumber(phoneNumber: string) {\n    this._phoneNumber = phoneNumber;\n    return this;\n  }\n\n  setPeerId(peerId?: PeerId) {\n    this._peerId = peerId;\n    return this;\n  }\n\n  getPeerId() {\n    return this._peerId;\n  }\n\n  setConferenceRole(role: ConferenceRole) {\n    this._conferenceRole = role;\n    return this;\n  }\n\n  setToNumberData(data: NumberData) {\n    this._toNumberData = data;\n    return this;\n  }\n\n  setFromNumberData(data: NumberData) {\n    this._fromNumberData = data;\n    return this;\n  }\n\n  done() {\n    return this.data;\n  }\n\n  getSessionId() {\n    return this._sessionId;\n  }\n\n  getPartyId() {\n    return this._partyId;\n  }\n\n  getTelephonySessionId() {\n    return this._telephonySessionId;\n  }\n\n  getStatus() {\n    return this._partyStatus;\n  }\n\n  get numberData() {\n    return {\n      phoneNumber: this._phoneNumber,\n      name: TelephonySessionBuilderConfig.disabledDefaultServerName\n        ? ''\n        : DEFAULT_SERVER_NAME,\n      extensionId: DEFAULT_EXTENSION_ID,\n    };\n  }\n\n  get recordings(): recordingsProps[] {\n    return [\n      {\n        id: DEFAULT_EXTENSION_ID,\n        active: this._isRecording,\n      },\n    ];\n  }\n\n  get data(): TelephonySessionInterface {\n    return {\n      ...telephonySessionMessage,\n      uuid: uuidV4(),\n      timestamp: dayjs().format(),\n      subscriptionId: uuidV4(),\n      body: {\n        ...telephonySessionMessage.body,\n        sequence: sequence++,\n        activeCallId: this._sessionId,\n        sessionId: this._sessionId,\n        telephonySessionId: this._telephonySessionId,\n        serverId: '10.62.25.111.TAM',\n        eventTime: this._startTime || Date(),\n        accountId: '400144452008',\n        extensionId: DEFAULT_EXTENSION_ID,\n        parties: [\n          {\n            extensionId: DEFAULT_EXTENSION_ID,\n            id: this._partyId,\n            direction: this._direction,\n            to: this._toNumberData || this.numberData,\n            from: this._fromNumberData || this.numberData,\n            uiCallInfo: this._queueCall\n              ? { primary: { type: 'QueueName', value: 'Dummy Call Queue' } }\n              : undefined,\n            status: {\n              code: this._partyStatus,\n              reason: this._partyReason,\n              mobilePickupData: {\n                ccMailboxes: ['400144455008'],\n                to: '#19008@platform.devtest.ringcentral.com:5060',\n                sid: '402936472080',\n                srvLvl: '-149699523',\n                srvLvlExt: '390',\n              },\n              peerId: this._peerId,\n            },\n            recordings: this.recordings,\n            missedCall: false,\n            standAlone: false,\n            muted: this._muteStatus,\n            queueCall: this._queueCall,\n            conferenceRole: this._conferenceRole,\n          },\n        ],\n        recordings: this.recordings,\n        origin: {\n          type: this._originType,\n        },\n      },\n    };\n  }\n}\n\nfunction createTelephonySession(initParams?: TelephonySessionBuilderParams) {\n  return new TelephonySessionBuilder(initParams);\n}\n\nexport { PartyStatusCode, TelephonySessionBuilder, createTelephonySession };\n"],"mappings":"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","ignoreList":[]}