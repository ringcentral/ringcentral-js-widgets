{"version":3,"file":"telephonySessionBuilder.js","names":["_dayjs","_interopRequireDefault","require","_Session","_uuid","_callDirections","_extensionInfo","_telephonySessions","e","__esModule","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","_classCallCheck","a","n","TypeError","_defineProperties","key","_createClass","prototype","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","String","Number","makeTelephonySessionId","exports","concat","uuidV4","makePartyId","telephonySessionId","substring","makeWebphoneSessionId","makeVoiceCallToken","sequence","DEFAULT_DIRECTION","callDirection","outbound","DEFAULT_RECORD_STATUS","DEFAULT_PHONE_NUMBER","DEFAULT_EXTENSION_ID","extensionBody","id","toString","DEFAULT_SERVER_NAME","TelephonySessionBuilderConfig","disabledDefaultServerName","telephonySessionBuildersCache","clearTelephonySessionBuilders","TelephonySessionBuilder","initParams","undefined","_telephonySessionId","_phoneNumber","_direction","_sessionId","_partyStatus","_partyReason","_partyId","_fromNumberData","_toNumberData","_startTime","_isRecording","_muteStatus","_queueCall","_originType","_peerId","_conferenceRole","relatedWebphoneSession","_init","_ref","_ref$telephonySession","_ref$partyId","partyId","_ref$sessionId","sessionId","_ref$phoneNumber","phoneNumber","_ref$direction","direction","_ref$status","status","PartyStatusCode","proceeding","_ref$reason","reason","fromNumberData","toNumberData","startTime","_ref$isRecording","isRecording","_ref$muteStatus","muteStatus","_ref$queueCall","queueCall","_ref$originType","originType","peerId","conferenceRole","setRelatedWebphoneSession","webphoneSession","to","toNumber","from","fromNumber","setConnected","answered","setDisconnected","disconnected","setGone","gone","setReason","setHoldCall","hold","setMuteCall","setUnmuteCall","startRecord","stopRecord","setInboundCall","setOutboundCall","setNumber","setPeerId","getPeerId","setConferenceRole","role","setToNumberData","data","setFromNumberData","done","getSessionId","getPartyId","getTelephonySessionId","getStatus","get","name","extensionId","active","telephonySessionMessage","uuid","timestamp","dayjs","format","subscriptionId","body","activeCallId","serverId","eventTime","Date","accountId","parties","numberData","uiCallInfo","primary","type","code","mobilePickupData","ccMailboxes","sid","srvLvl","srvLvlExt","recordings","missedCall","standAlone","muted","origin","createTelephonySession"],"sources":["integration-test/mock/telephonySessionBuilder.ts"],"sourcesContent":["import dayjs from 'dayjs';\nimport { PartyStatusCode } from 'ringcentral-call-control/lib/Session';\nimport { v4 as uuidV4 } from 'uuid';\n\nimport { callDirection, type CallDirection } from '../../enums/callDirections';\n\nimport extensionBody from './data/extensionInfo.json';\nimport telephonySessionMessage from './data/telephonySessions.json';\n\n// \"s-a4a012b34c545z18b6f423f7fzf4d9960000\"\nexport const makeTelephonySessionId = () => `s-${uuidV4()}`;\n\n// \"p-a4a012b34c545z18b6f423f7fzf4d9960000-1\"\nexport const makePartyId = (telephonySessionId: string) =>\n  `p-${telephonySessionId.substring(2)}-1`;\n\n// \"e5c8acd0-dcc2-4767-b445-b0029bd8b85210.74.1.43-5070-b30665b0-599a-49b9-b\"\nexport const makeWebphoneSessionId = () => uuidV4();\n\n// \"conf_732d613461306438313238356331617a31376662656163336664377a3830633664303030304031302e37342e31332e3132393a35303730\"\nexport const makeVoiceCallToken = () => `conf_${uuidV4()}`;\n\n/**\n * Telephony session message boy //https://developers.ringcentral.com/api-reference/Extension-Telephony-Sessions-Event\n * supports:\n * 1. create different telephony status's session;\n * 2. update telephony status;\n * 3. custom sessionId, from, to, direction attribute;\n *\n * @class TelephonySession\n */\nexport type PhoneNumber = {\n  name: string;\n  phoneNumber: string;\n};\n\ntype PartyStatusCodeKeys = keyof typeof PartyStatusCode;\ntype recordingsProps = {\n  id?: string;\n  active?: boolean;\n};\n\ntype ConferenceRole = 'Host' | 'Participant';\n\ninterface PeerId {\n  telephonySessionId?: string;\n  partyId?: string;\n  sessionId?: string;\n}\n\nexport type Party = {\n  extensionId: string;\n  id: string;\n  direction: CallDirection;\n  to: NumberData;\n  from: NumberData;\n  uiCallInfo?: any;\n  status: {\n    code: (typeof PartyStatusCode)[PartyStatusCodeKeys];\n    reason: string;\n    mobilePickupData: {\n      ccMailboxes: string[];\n      to: string;\n      sid: string;\n      srvLvl: string;\n      srvLvlExt: string;\n    };\n    peerId?: PeerId;\n  };\n  recordings: recordingsProps[];\n  missedCall: boolean;\n  standAlone: boolean;\n  muted: boolean;\n  queueCall: boolean;\n  conferenceRole?: ConferenceRole;\n};\n\nexport type Origin = {\n  type: string;\n};\n\nexport type Body = {\n  sequence: number;\n  sessionId: string;\n  // TODO: in test env, we not mock this._presence.calls, so there not have the id data, so apply that here temporary\n  // apps/micro-phone/src/app/services/CallMonitor/CallMonitor.ts\n  activeCallId: string;\n  telephonySessionId: string;\n  serverId: string;\n  eventTime: string;\n  accountId: string;\n  parties: Party[];\n  origin: Origin;\n  extensionId: string;\n  recordings: recordingsProps[];\n};\n\nlet sequence = 10;\nconst DEFAULT_DIRECTION = callDirection.outbound;\nconst DEFAULT_RECORD_STATUS = false;\nexport const DEFAULT_PHONE_NUMBER = '+16501234567';\n\nconst DEFAULT_EXTENSION_ID = extensionBody.id.toString();\nexport const DEFAULT_SERVER_NAME = 'DEFAULT SERVER_NAME';\n\n/**\n * global config for TelephonySessionBuilder\n */\nexport const TelephonySessionBuilderConfig = {\n  disabledDefaultServerName: false,\n};\n\nexport interface TelephonySessionInterface {\n  uuid: string;\n  event: string;\n  timestamp: string;\n  subscriptionId: string;\n  ownerId: string;\n  body: Body;\n}\n\nexport interface NumberData {\n  extensionNumber?: string;\n  phoneNumber?: string;\n  name?: string;\n  extensionId?: string;\n}\n\nexport interface TelephonySessionBuilderParams {\n  telephonySessionId?: string;\n  partyId?: string;\n  sessionId?: string;\n  phoneNumber?: string;\n  direction?: CallDirection;\n  status?: PartyStatusCode;\n  fromNumberData?: NumberData;\n  toNumberData?: NumberData;\n  startTime?: string;\n  isRecording?: boolean;\n  muteStatus?: boolean;\n  queueCall?: boolean;\n  reason?: string;\n  originType?: string;\n  peerId?: PeerId;\n  conferenceRole?: ConferenceRole;\n}\n\nexport const telephonySessionBuildersCache: TelephonySessionBuilder[] = [];\nexport const clearTelephonySessionBuilders = () => {\n  telephonySessionBuildersCache.length = 0; // clear\n};\n\nclass TelephonySessionBuilder {\n  private _telephonySessionId!: string;\n  private _phoneNumber!: string;\n  private _direction!: CallDirection;\n  private _sessionId!: string;\n  private _partyStatus!: PartyStatusCode;\n  private _partyReason!: string;\n  private _partyId!: string;\n  private _fromNumberData?: NumberData;\n  private _toNumberData?: NumberData;\n  private _startTime?: string;\n  private _isRecording!: boolean;\n  private _muteStatus!: boolean;\n  private _queueCall!: boolean;\n  private _originType!: string;\n  private _peerId?: PeerId;\n  private _conferenceRole?: ConferenceRole;\n  relatedWebphoneSession: any;\n\n  constructor(initParams: TelephonySessionBuilderParams = {}) {\n    this._init(initParams);\n    telephonySessionBuildersCache.push(this);\n  }\n\n  _init({\n    telephonySessionId = makeTelephonySessionId(),\n    partyId = makePartyId(telephonySessionId),\n    sessionId = makeWebphoneSessionId(),\n    phoneNumber = DEFAULT_PHONE_NUMBER,\n    direction = DEFAULT_DIRECTION,\n    status = PartyStatusCode.proceeding,\n    reason = 'AttendedTransfer',\n    fromNumberData,\n    toNumberData,\n    startTime,\n    isRecording = DEFAULT_RECORD_STATUS,\n    muteStatus = false,\n    queueCall = false,\n    originType = 'Call',\n    peerId,\n    conferenceRole,\n  }: TelephonySessionBuilderParams) {\n    this._telephonySessionId = telephonySessionId;\n    this._partyId = partyId;\n    this._sessionId = sessionId;\n    this._phoneNumber = phoneNumber;\n    this._direction = direction;\n    this._partyStatus = status;\n    this._partyReason = reason;\n    this._fromNumberData = fromNumberData;\n    this._toNumberData = toNumberData;\n    this._startTime = startTime;\n    this._isRecording = isRecording;\n    this._muteStatus = muteStatus;\n    this._queueCall = queueCall;\n    this._originType = originType;\n    this._peerId = peerId;\n    this._conferenceRole = conferenceRole;\n  }\n\n  setRelatedWebphoneSession(webphoneSession: any) {\n    this.relatedWebphoneSession = webphoneSession;\n  }\n\n  direction(direction: CallDirection) {\n    this._direction = direction;\n    return this;\n  }\n\n  status(status: PartyStatusCode) {\n    this._partyStatus = status;\n    return this;\n  }\n  reason(reason: string) {\n    this._partyReason = reason;\n    return this;\n  }\n\n  to(toNumber: string) {\n    this._phoneNumber = toNumber;\n    return this;\n  }\n\n  from(fromNumber: string) {\n    this._phoneNumber = fromNumber;\n    return this;\n  }\n\n  sessionId(sessionId: string) {\n    this._sessionId = sessionId;\n    return this;\n  }\n\n  telephonySessionId(telephonySessionId: string) {\n    this._telephonySessionId = telephonySessionId;\n    return this;\n  }\n\n  partyId(partyId: string) {\n    this._partyId = partyId;\n    return this;\n  }\n\n  setConnected() {\n    return this.status(PartyStatusCode.answered);\n  }\n\n  setDisconnected() {\n    return this.status(PartyStatusCode.disconnected);\n  }\n\n  setGone() {\n    return this.status(PartyStatusCode.gone);\n  }\n  setReason() {\n    return this.reason('AttendedTransfer');\n  }\n\n  setHoldCall() {\n    return this.status(PartyStatusCode.hold);\n  }\n\n  setMuteCall() {\n    this._muteStatus = true;\n    return this;\n  }\n\n  setUnmuteCall() {\n    this._muteStatus = false;\n    return this;\n  }\n\n  startRecord() {\n    this._isRecording = true;\n    return this;\n  }\n\n  stopRecord() {\n    this._isRecording = false;\n    return this;\n  }\n\n  setInboundCall() {\n    return this.direction('Inbound');\n  }\n\n  setOutboundCall() {\n    return this.direction('Outbound');\n  }\n\n  setNumber(phoneNumber: string) {\n    this._phoneNumber = phoneNumber;\n    return this;\n  }\n\n  setPeerId(peerId?: PeerId) {\n    this._peerId = peerId;\n    return this;\n  }\n\n  getPeerId() {\n    return this._peerId;\n  }\n\n  setConferenceRole(role: ConferenceRole) {\n    this._conferenceRole = role;\n    return this;\n  }\n\n  setToNumberData(data: NumberData) {\n    this._toNumberData = data;\n    return this;\n  }\n\n  setFromNumberData(data: NumberData) {\n    this._fromNumberData = data;\n    return this;\n  }\n\n  done() {\n    return this.data;\n  }\n\n  getSessionId() {\n    return this._sessionId;\n  }\n\n  getPartyId() {\n    return this._partyId;\n  }\n\n  getTelephonySessionId() {\n    return this._telephonySessionId;\n  }\n\n  getStatus() {\n    return this._partyStatus;\n  }\n\n  get numberData() {\n    return {\n      phoneNumber: this._phoneNumber,\n      name: TelephonySessionBuilderConfig.disabledDefaultServerName\n        ? ''\n        : DEFAULT_SERVER_NAME,\n      extensionId: DEFAULT_EXTENSION_ID,\n    };\n  }\n\n  get recordings(): recordingsProps[] {\n    return [\n      {\n        id: DEFAULT_EXTENSION_ID,\n        active: this._isRecording,\n      },\n    ];\n  }\n\n  get data(): TelephonySessionInterface {\n    return {\n      ...telephonySessionMessage,\n      uuid: uuidV4(),\n      timestamp: dayjs().format(),\n      subscriptionId: uuidV4(),\n      body: {\n        ...telephonySessionMessage.body,\n        sequence: sequence++,\n        activeCallId: this._sessionId,\n        sessionId: this._sessionId,\n        telephonySessionId: this._telephonySessionId,\n        serverId: '10.62.25.111.TAM',\n        eventTime: this._startTime || Date(),\n        accountId: '400144452008',\n        extensionId: DEFAULT_EXTENSION_ID,\n        parties: [\n          {\n            extensionId: DEFAULT_EXTENSION_ID,\n            id: this._partyId,\n            direction: this._direction,\n            to: this._toNumberData || this.numberData,\n            from: this._fromNumberData || this.numberData,\n            uiCallInfo: this._queueCall\n              ? { primary: { type: 'QueueName', value: 'Dummy Call Queue' } }\n              : undefined,\n            status: {\n              code: this._partyStatus,\n              reason: this._partyReason,\n              mobilePickupData: {\n                ccMailboxes: ['400144455008'],\n                to: '#19008@platform.devtest.ringcentral.com:5060',\n                sid: '402936472080',\n                srvLvl: '-149699523',\n                srvLvlExt: '390',\n              },\n              peerId: this._peerId,\n            },\n            recordings: this.recordings,\n            missedCall: false,\n            standAlone: false,\n            muted: this._muteStatus,\n            queueCall: this._queueCall,\n            conferenceRole: this._conferenceRole,\n          },\n        ],\n        recordings: this.recordings,\n        origin: {\n          type: this._originType,\n        },\n      },\n    };\n  }\n}\n\nfunction createTelephonySession(initParams?: TelephonySessionBuilderParams) {\n  return new TelephonySessionBuilder(initParams);\n}\n\nexport { PartyStatusCode, TelephonySessionBuilder, createTelephonySession };\n"],"mappings":"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","ignoreList":[]}