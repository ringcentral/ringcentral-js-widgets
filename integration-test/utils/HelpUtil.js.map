{"version":3,"file":"HelpUtil.js","names":["_utils","require","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","_typeof","Symbol","toPrimitive","call","TypeError","String","Number","asyncGeneratorStep","n","a","c","u","done","Promise","resolve","then","_asyncToGenerator","_next","_throw","containsErrorMessage","errorArray","errorMessageString","find","element","message","ensureLogin","_x","_x2","_ensureLogin","regeneratorRuntime","mark","_callee","auth","account","waitLoginSuccess","wrap","_callee$","_context","prev","next","waitUntilTo","expect","ready","toBeTruthy","cleanFunc","addAfterLoggedInHandler","login","stop"],"sources":["integration-test/utils/HelpUtil.ts"],"sourcesContent":["import type { Auth } from '../../modules/Auth';\nimport { waitUntilTo } from '../../utils';\n\nexport function containsErrorMessage(errorArray, errorMessageString) {\n  return errorArray.find((element) => {\n    if (element.message === errorMessageString) {\n      return element;\n    }\n    return null;\n  });\n}\n\nexport async function ensureLogin(\n  auth: Auth,\n  account: {\n    username: string;\n    password: string;\n  },\n) {\n  await waitUntilTo(() => {\n    expect(auth.ready).toBeTruthy();\n  });\n  const waitLoginSuccess = new Promise<void>((resolve) => {\n    const cleanFunc = auth.addAfterLoggedInHandler(() => {\n      cleanFunc();\n      resolve();\n    });\n  });\n  auth.login({\n    ...account,\n  });\n  await waitLoginSuccess;\n}\n"],"mappings":"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","ignoreList":[]}