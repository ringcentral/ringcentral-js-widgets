{"version":3,"sources":["integration-test/utils/HelpUtil.ts"],"names":["containsErrorMessage","errorArray","errorMessageString","find","element","message","ensureLogin","auth","account","ready","waitLoginSuccess","Promise","resolve","cleanFunc","addAfterLoggedInHandler","login"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;;;;;;;;;;;;AAEO,SAASA,oBAAT,CAA8BC,UAA9B,EAA0CC,kBAA1C,EAA8D;AACnE,SAAOD,UAAU,CAACE,IAAX,CAAgB,UAACC,OAAD,EAAa;AAClC,QAAIA,OAAO,CAACC,OAAR,KAAoBH,kBAAxB,EAA4C;AAC1C,aAAOE,OAAP;AACD;;AACD,WAAO,IAAP;AACD,GALM,CAAP;AAMD;;SAEqBE,W;;;;;yEAAf,iBACLC,IADK,EAELC,OAFK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAOC,8BAAe;AAAA,qBAAMD,IAAI,CAACE,KAAX;AAAA,aAAf,EAAiC,YAAjC,EAA+C,IAA/C,EAAqD,EAArD,CAPD;;AAAA;AAQCC,YAAAA,gBARD,GAQoB,IAAIC,OAAJ,CAAkB,UAACC,OAAD,EAAa;AACtD,kBAAMC,SAAS,GAAGN,IAAI,CAACO,uBAAL,CAA6B,YAAM;AACnDD,gBAAAA,SAAS;AACTD,gBAAAA,OAAO;AACR,eAHiB,CAAlB;AAID,aALwB,CARpB;AAcLL,YAAAA,IAAI,CAACQ,KAAL,mBACKP,OADL;AAdK;AAAA,mBAiBCE,gBAjBD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { Auth } from '../../modules/AuthV2';\nimport { waitUntilEqual } from './WaitUtil';\n\nexport function containsErrorMessage(errorArray, errorMessageString) {\n  return errorArray.find((element) => {\n    if (element.message === errorMessageString) {\n      return element;\n    }\n    return null;\n  });\n}\n\nexport async function ensureLogin(\n  auth: Auth,\n  account: {\n    username: string;\n    password: string;\n  },\n) {\n  await waitUntilEqual(() => auth.ready, 'Auth ready', true, 60);\n  const waitLoginSuccess = new Promise<void>((resolve) => {\n    const cleanFunc = auth.addAfterLoggedInHandler(() => {\n      cleanFunc();\n      resolve();\n    });\n  });\n  auth.login({\n    ...account,\n  });\n  await waitLoginSuccess;\n}\n"],"file":"HelpUtil.js"}