{"version":3,"file":"HelpUtil.js","names":["_utils","require","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","_toPropertyKey","configurable","writable","arg","_toPrimitive","_typeof","String","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","Number","asyncGeneratorStep","gen","resolve","reject","_next","_throw","info","error","done","Promise","then","_asyncToGenerator","fn","self","args","err","containsErrorMessage","errorArray","errorMessageString","find","element","message","ensureLogin","_x","_x2","_ensureLogin","regeneratorRuntime","mark","_callee","auth","account","waitLoginSuccess","wrap","_callee$","_context","prev","next","waitUntilTo","expect","ready","toBeTruthy","cleanFunc","addAfterLoggedInHandler","login","stop"],"sources":["integration-test/utils/HelpUtil.ts"],"sourcesContent":["import type { Auth } from '../../modules/Auth';\nimport { waitUntilTo } from '../../utils';\n\nexport function containsErrorMessage(errorArray, errorMessageString) {\n  return errorArray.find((element) => {\n    if (element.message === errorMessageString) {\n      return element;\n    }\n    return null;\n  });\n}\n\nexport async function ensureLogin(\n  auth: Auth,\n  account: {\n    username: string;\n    password: string;\n  },\n) {\n  await waitUntilTo(() => {\n    expect(auth.ready).toBeTruthy();\n  });\n  const waitLoginSuccess = new Promise<void>((resolve) => {\n    const cleanFunc = auth.addAfterLoggedInHandler(() => {\n      cleanFunc();\n      resolve();\n    });\n  });\n  auth.login({\n    ...account,\n  });\n  await waitLoginSuccess;\n}\n"],"mappings":"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"}